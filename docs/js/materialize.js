/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(this, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/animejs/lib/anime.es.js":
/*!**********************************************!*\
  !*** ./node_modules/animejs/lib/anime.es.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*\n * anime.js v3.2.1\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  nil: function (a) { return is.und(a) || a === null; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; },\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright Â© 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n    eases['easeOutIn' + name] = function (a, b) { return function (t) { return t < 0.5 ? (1 - easeIn(a, b)(1 - t * 2)) / 2 : \n      (easeIn(a, b)(t * 2 - 1) + 1) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (!is.nil(getAttribute(el, prop)) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width,\n    h: height,\n    vW: viewBox[2],\n    vH: viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress, isPathTargetInsideSVG) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  var scaleX = isPathTargetInsideSVG ? 1 : svg.w / svg.vW;\n  var scaleY = isPathTargetInsideSVG ? 1 : svg.h / svg.vH;\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * scaleX;\n    case 'y': return (p.y - svg.y) * scaleY;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isPathTargetInsideSVG = tween.isPath && is.svg(animatable.target);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\n\nvar engine = (function () {\n  var raf;\n\n  function play() {\n    if (!raf && (!isDocumentHidden() || !anime.suspendWhenDocumentHidden) && activeInstances.length > 0) {\n      raf = requestAnimationFrame(step);\n    }\n  }\n  function step(t) {\n    // memo on algorithm issue:\n    // dangerous iteration over mutable `activeInstances`\n    // (that collection may be updated from within callbacks of `tick`-ed animation instances)\n    var activeInstancesLength = activeInstances.length;\n    var i = 0;\n    while (i < activeInstancesLength) {\n      var activeInstance = activeInstances[i];\n      if (!activeInstance.paused) {\n        activeInstance.tick(t);\n        i++;\n      } else {\n        activeInstances.splice(i, 1);\n        activeInstancesLength--;\n      }\n    }\n    raf = i > 0 ? requestAnimationFrame(step) : undefined;\n  }\n\n  function handleVisibilityChange() {\n    if (!anime.suspendWhenDocumentHidden) { return; }\n\n    if (isDocumentHidden()) {\n      // suspend ticks\n      raf = cancelAnimationFrame(raf);\n    } else { // is back to active tab\n      // first adjust animations to consider the time that ticks were suspended\n      activeInstances.forEach(\n        function (instance) { return instance ._onDocumentVisibility(); }\n      );\n      engine();\n    }\n  }\n  if (typeof document !== 'undefined') {\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n  }\n\n  return play;\n})();\n\nfunction isDocumentHidden() {\n  return !!document && document.hidden;\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber, tween.isPathTargetInsideSVG);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // internal method (for engine) to adjust animation timings before restoring engine ticks (rAF)\n  instance._onDocumentVisibility = resetTime;\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    engine();\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.remove = function(targets) {\n    var targetsArray = parseTargets(targets);\n    removeTargetsFromInstance(targetsArray, instance);\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargetsFromInstance(targetsArray, instance) {\n  var animations = instance.animations;\n  var children = instance.children;\n  removeTargetsFromAnimations(targetsArray, animations);\n  for (var c = children.length; c--;) {\n    var child = children[c];\n    var childAnimations = child.animations;\n    removeTargetsFromAnimations(targetsArray, childAnimations);\n    if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n  }\n  if (!animations.length && !children.length) { instance.pause(); }\n}\n\nfunction removeTargetsFromActiveInstances(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    removeTargetsFromInstance(targetsArray, instance);\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.1';\nanime.speed = 1;\n// TODO:#review: naming, documentation\nanime.suspendWhenDocumentHidden = true;\nanime.running = activeInstances;\nanime.remove = removeTargetsFromActiveInstances;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (anime);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYW5pbWVqcy9saWIvYW5pbWUuZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsMEJBQTBCO0FBQ2hELHNCQUFzQixxRUFBcUU7QUFDM0Ysc0JBQXNCLHNEQUFzRDtBQUM1RSxzQkFBc0IsaUNBQWlDO0FBQ3ZELHNCQUFzQix1Q0FBdUM7QUFDN0Qsc0JBQXNCLGlDQUFpQztBQUN2RCxzQkFBc0IsK0JBQStCO0FBQ3JELHNCQUFzQixpQ0FBaUM7QUFDdkQsc0JBQXNCLGtDQUFrQztBQUN4RCxzQkFBc0IsaUNBQWlDO0FBQ3ZELHNCQUFzQixvQkFBb0IsRUFBRSxlQUFlLEVBQUUsZUFBZTtBQUM1RSxzQkFBc0Isd0JBQXdCO0FBQzlDLHNCQUFzQix3QkFBd0I7QUFDOUMsc0JBQXNCLCtDQUErQztBQUNyRSxzQkFBc0IsdUlBQXVJO0FBQzdKOztBQUVBOztBQUVBO0FBQ0E7QUFDQSx3REFBd0QsdUJBQXVCO0FBQy9FOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLFFBQVE7QUFD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QUk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixzQkFBc0I7QUFDdEIsb0JBQW9CO0FBQ3BCO0FBQ0EsMEJBQTBCLFdBQVc7QUFDckM7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5Qiw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscUNBQXFDLDJDQUEyQztBQUNwRyxxQ0FBcUMscUNBQXFDLHVFQUF1RTtBQUNqSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QixnQ0FBZ0M7QUFDaEMsb0JBQW9CLHFCQUFxQixPQUFPO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDOztBQUVyQyxpRUFBZSxLQUFLLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9ub2RlX21vZHVsZXMvYW5pbWVqcy9saWIvYW5pbWUuZXMuanM/MTIwOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogYW5pbWUuanMgdjMuMi4xXG4gKiAoYykgMjAyMCBKdWxpYW4gR2FybmllclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBhbmltZWpzLmNvbVxuICovXG5cbi8vIERlZmF1bHRzXG5cbnZhciBkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncyA9IHtcbiAgdXBkYXRlOiBudWxsLFxuICBiZWdpbjogbnVsbCxcbiAgbG9vcEJlZ2luOiBudWxsLFxuICBjaGFuZ2VCZWdpbjogbnVsbCxcbiAgY2hhbmdlOiBudWxsLFxuICBjaGFuZ2VDb21wbGV0ZTogbnVsbCxcbiAgbG9vcENvbXBsZXRlOiBudWxsLFxuICBjb21wbGV0ZTogbnVsbCxcbiAgbG9vcDogMSxcbiAgZGlyZWN0aW9uOiAnbm9ybWFsJyxcbiAgYXV0b3BsYXk6IHRydWUsXG4gIHRpbWVsaW5lT2Zmc2V0OiAwXG59O1xuXG52YXIgZGVmYXVsdFR3ZWVuU2V0dGluZ3MgPSB7XG4gIGR1cmF0aW9uOiAxMDAwLFxuICBkZWxheTogMCxcbiAgZW5kRGVsYXk6IDAsXG4gIGVhc2luZzogJ2Vhc2VPdXRFbGFzdGljKDEsIC41KScsXG4gIHJvdW5kOiAwXG59O1xuXG52YXIgdmFsaWRUcmFuc2Zvcm1zID0gWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAndHJhbnNsYXRlWicsICdyb3RhdGUnLCAncm90YXRlWCcsICdyb3RhdGVZJywgJ3JvdGF0ZVonLCAnc2NhbGUnLCAnc2NhbGVYJywgJ3NjYWxlWScsICdzY2FsZVonLCAnc2tldycsICdza2V3WCcsICdza2V3WScsICdwZXJzcGVjdGl2ZScsICdtYXRyaXgnLCAnbWF0cml4M2QnXTtcblxuLy8gQ2FjaGluZ1xuXG52YXIgY2FjaGUgPSB7XG4gIENTUzoge30sXG4gIHNwcmluZ3M6IHt9XG59O1xuXG4vLyBVdGlsc1xuXG5mdW5jdGlvbiBtaW5NYXgodmFsLCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsLCBtaW4pLCBtYXgpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdDb250YWlucyhzdHIsIHRleHQpIHtcbiAgcmV0dXJuIHN0ci5pbmRleE9mKHRleHQpID4gLTE7XG59XG5cbmZ1bmN0aW9uIGFwcGx5QXJndW1lbnRzKGZ1bmMsIGFyZ3MpIHtcbiAgcmV0dXJuIGZ1bmMuYXBwbHkobnVsbCwgYXJncyk7XG59XG5cbnZhciBpcyA9IHtcbiAgYXJyOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gQXJyYXkuaXNBcnJheShhKTsgfSxcbiAgb2JqOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gc3RyaW5nQ29udGFpbnMoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpLCAnT2JqZWN0Jyk7IH0sXG4gIHB0aDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGlzLm9iaihhKSAmJiBhLmhhc093blByb3BlcnR5KCd0b3RhbExlbmd0aCcpOyB9LFxuICBzdmc6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhIGluc3RhbmNlb2YgU1ZHRWxlbWVudDsgfSxcbiAgaW5wOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQ7IH0sXG4gIGRvbTogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEubm9kZVR5cGUgfHwgaXMuc3ZnKGEpOyB9LFxuICBzdHI6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ3N0cmluZyc7IH0sXG4gIGZuYzogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHR5cGVvZiBhID09PSAnZnVuY3Rpb24nOyB9LFxuICB1bmQ6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCc7IH0sXG4gIG5pbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGlzLnVuZChhKSB8fCBhID09PSBudWxsOyB9LFxuICBoZXg6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvKF4jWzAtOUEtRl17Nn0kKXwoXiNbMC05QS1GXXszfSQpL2kudGVzdChhKTsgfSxcbiAgcmdiOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gL15yZ2IvLnRlc3QoYSk7IH0sXG4gIGhzbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC9eaHNsLy50ZXN0KGEpOyB9LFxuICBjb2w6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAoaXMuaGV4KGEpIHx8IGlzLnJnYihhKSB8fCBpcy5oc2woYSkpOyB9LFxuICBrZXk6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAhZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MuaGFzT3duUHJvcGVydHkoYSkgJiYgIWRlZmF1bHRUd2VlblNldHRpbmdzLmhhc093blByb3BlcnR5KGEpICYmIGEgIT09ICd0YXJnZXRzJyAmJiBhICE9PSAna2V5ZnJhbWVzJzsgfSxcbn07XG5cbi8vIEVhc2luZ3NcblxuZnVuY3Rpb24gcGFyc2VFYXNpbmdQYXJhbWV0ZXJzKHN0cmluZykge1xuICB2YXIgbWF0Y2ggPSAvXFwoKFteKV0rKVxcKS8uZXhlYyhzdHJpbmcpO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAocCkgeyByZXR1cm4gcGFyc2VGbG9hdChwKTsgfSkgOiBbXTtcbn1cblxuLy8gU3ByaW5nIHNvbHZlciBpbnNwaXJlZCBieSBXZWJraXQgQ29weXJpZ2h0IMKpIDIwMTYgQXBwbGUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLiBodHRwczovL3dlYmtpdC5vcmcvZGVtb3Mvc3ByaW5nL3NwcmluZy5qc1xuXG5mdW5jdGlvbiBzcHJpbmcoc3RyaW5nLCBkdXJhdGlvbikge1xuXG4gIHZhciBwYXJhbXMgPSBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoc3RyaW5nKTtcbiAgdmFyIG1hc3MgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1swXSkgPyAxIDogcGFyYW1zWzBdLCAuMSwgMTAwKTtcbiAgdmFyIHN0aWZmbmVzcyA9IG1pbk1heChpcy51bmQocGFyYW1zWzFdKSA/IDEwMCA6IHBhcmFtc1sxXSwgLjEsIDEwMCk7XG4gIHZhciBkYW1waW5nID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMl0pID8gMTAgOiBwYXJhbXNbMl0sIC4xLCAxMDApO1xuICB2YXIgdmVsb2NpdHkgPSAgbWluTWF4KGlzLnVuZChwYXJhbXNbM10pID8gMCA6IHBhcmFtc1szXSwgLjEsIDEwMCk7XG4gIHZhciB3MCA9IE1hdGguc3FydChzdGlmZm5lc3MgLyBtYXNzKTtcbiAgdmFyIHpldGEgPSBkYW1waW5nIC8gKDIgKiBNYXRoLnNxcnQoc3RpZmZuZXNzICogbWFzcykpO1xuICB2YXIgd2QgPSB6ZXRhIDwgMSA/IHcwICogTWF0aC5zcXJ0KDEgLSB6ZXRhICogemV0YSkgOiAwO1xuICB2YXIgYSA9IDE7XG4gIHZhciBiID0gemV0YSA8IDEgPyAoemV0YSAqIHcwICsgLXZlbG9jaXR5KSAvIHdkIDogLXZlbG9jaXR5ICsgdzA7XG5cbiAgZnVuY3Rpb24gc29sdmVyKHQpIHtcbiAgICB2YXIgcHJvZ3Jlc3MgPSBkdXJhdGlvbiA/IChkdXJhdGlvbiAqIHQpIC8gMTAwMCA6IHQ7XG4gICAgaWYgKHpldGEgPCAxKSB7XG4gICAgICBwcm9ncmVzcyA9IE1hdGguZXhwKC1wcm9ncmVzcyAqIHpldGEgKiB3MCkgKiAoYSAqIE1hdGguY29zKHdkICogcHJvZ3Jlc3MpICsgYiAqIE1hdGguc2luKHdkICogcHJvZ3Jlc3MpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvZ3Jlc3MgPSAoYSArIGIgKiBwcm9ncmVzcykgKiBNYXRoLmV4cCgtcHJvZ3Jlc3MgKiB3MCk7XG4gICAgfVxuICAgIGlmICh0ID09PSAwIHx8IHQgPT09IDEpIHsgcmV0dXJuIHQ7IH1cbiAgICByZXR1cm4gMSAtIHByb2dyZXNzO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RHVyYXRpb24oKSB7XG4gICAgdmFyIGNhY2hlZCA9IGNhY2hlLnNwcmluZ3Nbc3RyaW5nXTtcbiAgICBpZiAoY2FjaGVkKSB7IHJldHVybiBjYWNoZWQ7IH1cbiAgICB2YXIgZnJhbWUgPSAxLzY7XG4gICAgdmFyIGVsYXBzZWQgPSAwO1xuICAgIHZhciByZXN0ID0gMDtcbiAgICB3aGlsZSh0cnVlKSB7XG4gICAgICBlbGFwc2VkICs9IGZyYW1lO1xuICAgICAgaWYgKHNvbHZlcihlbGFwc2VkKSA9PT0gMSkge1xuICAgICAgICByZXN0Kys7XG4gICAgICAgIGlmIChyZXN0ID49IDE2KSB7IGJyZWFrOyB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN0ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGR1cmF0aW9uID0gZWxhcHNlZCAqIGZyYW1lICogMTAwMDtcbiAgICBjYWNoZS5zcHJpbmdzW3N0cmluZ10gPSBkdXJhdGlvbjtcbiAgICByZXR1cm4gZHVyYXRpb247XG4gIH1cblxuICByZXR1cm4gZHVyYXRpb24gPyBzb2x2ZXIgOiBnZXREdXJhdGlvbjtcblxufVxuXG4vLyBCYXNpYyBzdGVwcyBlYXNpbmcgaW1wbGVtZW50YXRpb24gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZnIvZG9jcy9XZWIvQ1NTL3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXG5cbmZ1bmN0aW9uIHN0ZXBzKHN0ZXBzKSB7XG4gIGlmICggc3RlcHMgPT09IHZvaWQgMCApIHN0ZXBzID0gMTA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiBNYXRoLmNlaWwoKG1pbk1heCh0LCAwLjAwMDAwMSwgMSkpICogc3RlcHMpICogKDEgLyBzdGVwcyk7IH07XG59XG5cbi8vIEJlemllckVhc2luZyBodHRwczovL2dpdGh1Yi5jb20vZ3JlL2Jlemllci1lYXNpbmdcblxudmFyIGJlemllciA9IChmdW5jdGlvbiAoKSB7XG5cbiAgdmFyIGtTcGxpbmVUYWJsZVNpemUgPSAxMTtcbiAgdmFyIGtTYW1wbGVTdGVwU2l6ZSA9IDEuMCAvIChrU3BsaW5lVGFibGVTaXplIC0gMS4wKTtcblxuICBmdW5jdGlvbiBBKGFBMSwgYUEyKSB7IHJldHVybiAxLjAgLSAzLjAgKiBhQTIgKyAzLjAgKiBhQTEgfVxuICBmdW5jdGlvbiBCKGFBMSwgYUEyKSB7IHJldHVybiAzLjAgKiBhQTIgLSA2LjAgKiBhQTEgfVxuICBmdW5jdGlvbiBDKGFBMSkgICAgICB7IHJldHVybiAzLjAgKiBhQTEgfVxuXG4gIGZ1bmN0aW9uIGNhbGNCZXppZXIoYVQsIGFBMSwgYUEyKSB7IHJldHVybiAoKEEoYUExLCBhQTIpICogYVQgKyBCKGFBMSwgYUEyKSkgKiBhVCArIEMoYUExKSkgKiBhVCB9XG4gIGZ1bmN0aW9uIGdldFNsb3BlKGFULCBhQTEsIGFBMikgeyByZXR1cm4gMy4wICogQShhQTEsIGFBMikgKiBhVCAqIGFUICsgMi4wICogQihhQTEsIGFBMikgKiBhVCArIEMoYUExKSB9XG5cbiAgZnVuY3Rpb24gYmluYXJ5U3ViZGl2aWRlKGFYLCBhQSwgYUIsIG1YMSwgbVgyKSB7XG4gICAgdmFyIGN1cnJlbnRYLCBjdXJyZW50VCwgaSA9IDA7XG4gICAgZG8ge1xuICAgICAgY3VycmVudFQgPSBhQSArIChhQiAtIGFBKSAvIDIuMDtcbiAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihjdXJyZW50VCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICBpZiAoY3VycmVudFggPiAwLjApIHsgYUIgPSBjdXJyZW50VDsgfSBlbHNlIHsgYUEgPSBjdXJyZW50VDsgfVxuICAgIH0gd2hpbGUgKE1hdGguYWJzKGN1cnJlbnRYKSA+IDAuMDAwMDAwMSAmJiArK2kgPCAxMCk7XG4gICAgcmV0dXJuIGN1cnJlbnRUO1xuICB9XG5cbiAgZnVuY3Rpb24gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGFHdWVzc1QsIG1YMSwgbVgyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyArK2kpIHtcbiAgICAgIHZhciBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XG4gICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwLjApIHsgcmV0dXJuIGFHdWVzc1Q7IH1cbiAgICAgIHZhciBjdXJyZW50WCA9IGNhbGNCZXppZXIoYUd1ZXNzVCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICBhR3Vlc3NUIC09IGN1cnJlbnRYIC8gY3VycmVudFNsb3BlO1xuICAgIH1cbiAgICByZXR1cm4gYUd1ZXNzVDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJlemllcihtWDEsIG1ZMSwgbVgyLCBtWTIpIHtcblxuICAgIGlmICghKDAgPD0gbVgxICYmIG1YMSA8PSAxICYmIDAgPD0gbVgyICYmIG1YMiA8PSAxKSkgeyByZXR1cm47IH1cbiAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheShrU3BsaW5lVGFibGVTaXplKTtcblxuICAgIGlmIChtWDEgIT09IG1ZMSB8fCBtWDIgIT09IG1ZMikge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrU3BsaW5lVGFibGVTaXplOyArK2kpIHtcbiAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gY2FsY0JlemllcihpICoga1NhbXBsZVN0ZXBTaXplLCBtWDEsIG1YMik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VEZvclgoYVgpIHtcblxuICAgICAgdmFyIGludGVydmFsU3RhcnQgPSAwO1xuICAgICAgdmFyIGN1cnJlbnRTYW1wbGUgPSAxO1xuICAgICAgdmFyIGxhc3RTYW1wbGUgPSBrU3BsaW5lVGFibGVTaXplIC0gMTtcblxuICAgICAgZm9yICg7IGN1cnJlbnRTYW1wbGUgIT09IGxhc3RTYW1wbGUgJiYgc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdIDw9IGFYOyArK2N1cnJlbnRTYW1wbGUpIHtcbiAgICAgICAgaW50ZXJ2YWxTdGFydCArPSBrU2FtcGxlU3RlcFNpemU7XG4gICAgICB9XG5cbiAgICAgIC0tY3VycmVudFNhbXBsZTtcblxuICAgICAgdmFyIGRpc3QgPSAoYVggLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pIC8gKHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlICsgMV0gLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pO1xuICAgICAgdmFyIGd1ZXNzRm9yVCA9IGludGVydmFsU3RhcnQgKyBkaXN0ICoga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgdmFyIGluaXRpYWxTbG9wZSA9IGdldFNsb3BlKGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuXG4gICAgICBpZiAoaW5pdGlhbFNsb3BlID49IDAuMDAxKSB7XG4gICAgICAgIHJldHVybiBuZXd0b25SYXBoc29uSXRlcmF0ZShhWCwgZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG4gICAgICB9IGVsc2UgaWYgKGluaXRpYWxTbG9wZSA9PT0gMC4wKSB7XG4gICAgICAgIHJldHVybiBndWVzc0ZvclQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYmluYXJ5U3ViZGl2aWRlKGFYLCBpbnRlcnZhbFN0YXJ0LCBpbnRlcnZhbFN0YXJ0ICsga1NhbXBsZVN0ZXBTaXplLCBtWDEsIG1YMik7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHgpIHtcbiAgICAgIGlmIChtWDEgPT09IG1ZMSAmJiBtWDIgPT09IG1ZMikgeyByZXR1cm4geDsgfVxuICAgICAgaWYgKHggPT09IDAgfHwgeCA9PT0gMSkgeyByZXR1cm4geDsgfVxuICAgICAgcmV0dXJuIGNhbGNCZXppZXIoZ2V0VEZvclgoeCksIG1ZMSwgbVkyKTtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBiZXppZXI7XG5cbn0pKCk7XG5cbnZhciBwZW5uZXIgPSAoZnVuY3Rpb24gKCkge1xuXG4gIC8vIEJhc2VkIG9uIGpRdWVyeSBVSSdzIGltcGxlbWVuYXRpb24gb2YgZWFzaW5nIGVxdWF0aW9ucyBmcm9tIFJvYmVydCBQZW5uZXIgKGh0dHA6Ly93d3cucm9iZXJ0cGVubmVyLmNvbS9lYXNpbmcpXG5cbiAgdmFyIGVhc2VzID0geyBsaW5lYXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9OyB9IH07XG5cbiAgdmFyIGZ1bmN0aW9uRWFzaW5ncyA9IHtcbiAgICBTaW5lOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gMSAtIE1hdGguY29zKHQgKiBNYXRoLlBJIC8gMik7IH07IH0sXG4gICAgQ2lyYzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBNYXRoLnNxcnQoMSAtIHQgKiB0KTsgfTsgfSxcbiAgICBCYWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCAqIHQgKiAoMyAqIHQgLSAyKTsgfTsgfSxcbiAgICBCb3VuY2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG4gICAgICB2YXIgcG93MiwgYiA9IDQ7XG4gICAgICB3aGlsZSAodCA8ICgoIHBvdzIgPSBNYXRoLnBvdygyLCAtLWIpKSAtIDEpIC8gMTEpIHt9XG4gICAgICByZXR1cm4gMSAvIE1hdGgucG93KDQsIDMgLSBiKSAtIDcuNTYyNSAqIE1hdGgucG93KCggcG93MiAqIDMgLSAyICkgLyAyMiAtIHQsIDIpXG4gICAgfTsgfSxcbiAgICBFbGFzdGljOiBmdW5jdGlvbiAoYW1wbGl0dWRlLCBwZXJpb2QpIHtcbiAgICAgIGlmICggYW1wbGl0dWRlID09PSB2b2lkIDAgKSBhbXBsaXR1ZGUgPSAxO1xuICAgICAgaWYgKCBwZXJpb2QgPT09IHZvaWQgMCApIHBlcmlvZCA9IC41O1xuXG4gICAgICB2YXIgYSA9IG1pbk1heChhbXBsaXR1ZGUsIDEsIDEwKTtcbiAgICAgIHZhciBwID0gbWluTWF4KHBlcmlvZCwgLjEsIDIpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiAodCA9PT0gMCB8fCB0ID09PSAxKSA/IHQgOiBcbiAgICAgICAgICAtYSAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKiBNYXRoLnNpbigoKCh0IC0gMSkgLSAocCAvIChNYXRoLlBJICogMikgKiBNYXRoLmFzaW4oMSAvIGEpKSkgKiAoTWF0aC5QSSAqIDIpKSAvIHApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgYmFzZUVhc2luZ3MgPSBbJ1F1YWQnLCAnQ3ViaWMnLCAnUXVhcnQnLCAnUXVpbnQnLCAnRXhwbyddO1xuXG4gIGJhc2VFYXNpbmdzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUsIGkpIHtcbiAgICBmdW5jdGlvbkVhc2luZ3NbbmFtZV0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gTWF0aC5wb3codCwgaSArIDIpOyB9OyB9O1xuICB9KTtcblxuICBPYmplY3Qua2V5cyhmdW5jdGlvbkVhc2luZ3MpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZWFzZUluID0gZnVuY3Rpb25FYXNpbmdzW25hbWVdO1xuICAgIGVhc2VzWydlYXNlSW4nICsgbmFtZV0gPSBlYXNlSW47XG4gICAgZWFzZXNbJ2Vhc2VPdXQnICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBlYXNlSW4oYSwgYikoMSAtIHQpOyB9OyB9O1xuICAgIGVhc2VzWydlYXNlSW5PdXQnICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgPCAwLjUgPyBlYXNlSW4oYSwgYikodCAqIDIpIC8gMiA6IFxuICAgICAgMSAtIGVhc2VJbihhLCBiKSh0ICogLTIgKyAyKSAvIDI7IH07IH07XG4gICAgZWFzZXNbJ2Vhc2VPdXRJbicgKyBuYW1lXSA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCA8IDAuNSA/ICgxIC0gZWFzZUluKGEsIGIpKDEgLSB0ICogMikpIC8gMiA6IFxuICAgICAgKGVhc2VJbihhLCBiKSh0ICogMiAtIDEpICsgMSkgLyAyOyB9OyB9O1xuICB9KTtcblxuICByZXR1cm4gZWFzZXM7XG5cbn0pKCk7XG5cbmZ1bmN0aW9uIHBhcnNlRWFzaW5ncyhlYXNpbmcsIGR1cmF0aW9uKSB7XG4gIGlmIChpcy5mbmMoZWFzaW5nKSkgeyByZXR1cm4gZWFzaW5nOyB9XG4gIHZhciBuYW1lID0gZWFzaW5nLnNwbGl0KCcoJylbMF07XG4gIHZhciBlYXNlID0gcGVubmVyW25hbWVdO1xuICB2YXIgYXJncyA9IHBhcnNlRWFzaW5nUGFyYW1ldGVycyhlYXNpbmcpO1xuICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlICdzcHJpbmcnIDogcmV0dXJuIHNwcmluZyhlYXNpbmcsIGR1cmF0aW9uKTtcbiAgICBjYXNlICdjdWJpY0JlemllcicgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoYmV6aWVyLCBhcmdzKTtcbiAgICBjYXNlICdzdGVwcycgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoc3RlcHMsIGFyZ3MpO1xuICAgIGRlZmF1bHQgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoZWFzZSwgYXJncyk7XG4gIH1cbn1cblxuLy8gU3RyaW5nc1xuXG5mdW5jdGlvbiBzZWxlY3RTdHJpbmcoc3RyKSB7XG4gIHRyeSB7XG4gICAgdmFyIG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzdHIpO1xuICAgIHJldHVybiBub2RlcztcbiAgfSBjYXRjaChlKSB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbi8vIEFycmF5c1xuXG5mdW5jdGlvbiBmaWx0ZXJBcnJheShhcnIsIGNhbGxiYWNrKSB7XG4gIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMiA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGkgaW4gYXJyKSB7XG4gICAgICB2YXIgdmFsID0gYXJyW2ldO1xuICAgICAgaWYgKGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsLCBpLCBhcnIpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5BcnJheShhcnIpIHtcbiAgcmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuY29uY2F0KGlzLmFycihiKSA/IGZsYXR0ZW5BcnJheShiKSA6IGIpOyB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkobykge1xuICBpZiAoaXMuYXJyKG8pKSB7IHJldHVybiBvOyB9XG4gIGlmIChpcy5zdHIobykpIHsgbyA9IHNlbGVjdFN0cmluZyhvKSB8fCBvOyB9XG4gIGlmIChvIGluc3RhbmNlb2YgTm9kZUxpc3QgfHwgbyBpbnN0YW5jZW9mIEhUTUxDb2xsZWN0aW9uKSB7IHJldHVybiBbXS5zbGljZS5jYWxsKG8pOyB9XG4gIHJldHVybiBbb107XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnMoYXJyLCB2YWwpIHtcbiAgcmV0dXJuIGFyci5zb21lKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhID09PSB2YWw7IH0pO1xufVxuXG4vLyBPYmplY3RzXG5cbmZ1bmN0aW9uIGNsb25lT2JqZWN0KG8pIHtcbiAgdmFyIGNsb25lID0ge307XG4gIGZvciAodmFyIHAgaW4gbykgeyBjbG9uZVtwXSA9IG9bcF07IH1cbiAgcmV0dXJuIGNsb25lO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlT2JqZWN0UHJvcHMobzEsIG8yKSB7XG4gIHZhciBvID0gY2xvbmVPYmplY3QobzEpO1xuICBmb3IgKHZhciBwIGluIG8xKSB7IG9bcF0gPSBvMi5oYXNPd25Qcm9wZXJ0eShwKSA/IG8yW3BdIDogbzFbcF07IH1cbiAgcmV0dXJuIG87XG59XG5cbmZ1bmN0aW9uIG1lcmdlT2JqZWN0cyhvMSwgbzIpIHtcbiAgdmFyIG8gPSBjbG9uZU9iamVjdChvMSk7XG4gIGZvciAodmFyIHAgaW4gbzIpIHsgb1twXSA9IGlzLnVuZChvMVtwXSkgPyBvMltwXSA6IG8xW3BdOyB9XG4gIHJldHVybiBvO1xufVxuXG4vLyBDb2xvcnNcblxuZnVuY3Rpb24gcmdiVG9SZ2JhKHJnYlZhbHVlKSB7XG4gIHZhciByZ2IgPSAvcmdiXFwoKFxcZCssXFxzKltcXGRdKyxcXHMqW1xcZF0rKVxcKS9nLmV4ZWMocmdiVmFsdWUpO1xuICByZXR1cm4gcmdiID8gKFwicmdiYShcIiArIChyZ2JbMV0pICsgXCIsMSlcIikgOiByZ2JWYWx1ZTtcbn1cblxuZnVuY3Rpb24gaGV4VG9SZ2JhKGhleFZhbHVlKSB7XG4gIHZhciByZ3ggPSAvXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pO1xuICB2YXIgaGV4ID0gaGV4VmFsdWUucmVwbGFjZShyZ3gsIGZ1bmN0aW9uIChtLCByLCBnLCBiKSB7IHJldHVybiByICsgciArIGcgKyBnICsgYiArIGI7IH0gKTtcbiAgdmFyIHJnYiA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICB2YXIgciA9IHBhcnNlSW50KHJnYlsxXSwgMTYpO1xuICB2YXIgZyA9IHBhcnNlSW50KHJnYlsyXSwgMTYpO1xuICB2YXIgYiA9IHBhcnNlSW50KHJnYlszXSwgMTYpO1xuICByZXR1cm4gKFwicmdiYShcIiArIHIgKyBcIixcIiArIGcgKyBcIixcIiArIGIgKyBcIiwxKVwiKTtcbn1cblxuZnVuY3Rpb24gaHNsVG9SZ2JhKGhzbFZhbHVlKSB7XG4gIHZhciBoc2wgPSAvaHNsXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklXFwpL2cuZXhlYyhoc2xWYWx1ZSkgfHwgL2hzbGFcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKVxcKS9nLmV4ZWMoaHNsVmFsdWUpO1xuICB2YXIgaCA9IHBhcnNlSW50KGhzbFsxXSwgMTApIC8gMzYwO1xuICB2YXIgcyA9IHBhcnNlSW50KGhzbFsyXSwgMTApIC8gMTAwO1xuICB2YXIgbCA9IHBhcnNlSW50KGhzbFszXSwgMTApIC8gMTAwO1xuICB2YXIgYSA9IGhzbFs0XSB8fCAxO1xuICBmdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcbiAgICBpZiAodCA8IDApIHsgdCArPSAxOyB9XG4gICAgaWYgKHQgPiAxKSB7IHQgLT0gMTsgfVxuICAgIGlmICh0IDwgMS82KSB7IHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0OyB9XG4gICAgaWYgKHQgPCAxLzIpIHsgcmV0dXJuIHE7IH1cbiAgICBpZiAodCA8IDIvMykgeyByZXR1cm4gcCArIChxIC0gcCkgKiAoMi8zIC0gdCkgKiA2OyB9XG4gICAgcmV0dXJuIHA7XG4gIH1cbiAgdmFyIHIsIGcsIGI7XG4gIGlmIChzID09IDApIHtcbiAgICByID0gZyA9IGIgPSBsO1xuICB9IGVsc2Uge1xuICAgIHZhciBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgICB2YXIgcCA9IDIgKiBsIC0gcTtcbiAgICByID0gaHVlMnJnYihwLCBxLCBoICsgMS8zKTtcbiAgICBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgICBiID0gaHVlMnJnYihwLCBxLCBoIC0gMS8zKTtcbiAgfVxuICByZXR1cm4gKFwicmdiYShcIiArIChyICogMjU1KSArIFwiLFwiICsgKGcgKiAyNTUpICsgXCIsXCIgKyAoYiAqIDI1NSkgKyBcIixcIiArIGEgKyBcIilcIik7XG59XG5cbmZ1bmN0aW9uIGNvbG9yVG9SZ2IodmFsKSB7XG4gIGlmIChpcy5yZ2IodmFsKSkgeyByZXR1cm4gcmdiVG9SZ2JhKHZhbCk7IH1cbiAgaWYgKGlzLmhleCh2YWwpKSB7IHJldHVybiBoZXhUb1JnYmEodmFsKTsgfVxuICBpZiAoaXMuaHNsKHZhbCkpIHsgcmV0dXJuIGhzbFRvUmdiYSh2YWwpOyB9XG59XG5cbi8vIFVuaXRzXG5cbmZ1bmN0aW9uIGdldFVuaXQodmFsKSB7XG4gIHZhciBzcGxpdCA9IC9bKy1dP1xcZCpcXC4/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPyglfHB4fHB0fGVtfHJlbXxpbnxjbXxtbXxleHxjaHxwY3x2d3x2aHx2bWlufHZtYXh8ZGVnfHJhZHx0dXJuKT8kLy5leGVjKHZhbCk7XG4gIGlmIChzcGxpdCkgeyByZXR1cm4gc3BsaXRbMV07IH1cbn1cblxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtVW5pdChwcm9wTmFtZSkge1xuICBpZiAoc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICd0cmFuc2xhdGUnKSB8fCBwcm9wTmFtZSA9PT0gJ3BlcnNwZWN0aXZlJykgeyByZXR1cm4gJ3B4JzsgfVxuICBpZiAoc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdyb3RhdGUnKSB8fCBzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3NrZXcnKSkgeyByZXR1cm4gJ2RlZyc7IH1cbn1cblxuLy8gVmFsdWVzXG5cbmZ1bmN0aW9uIGdldEZ1bmN0aW9uVmFsdWUodmFsLCBhbmltYXRhYmxlKSB7XG4gIGlmICghaXMuZm5jKHZhbCkpIHsgcmV0dXJuIHZhbDsgfVxuICByZXR1cm4gdmFsKGFuaW1hdGFibGUudGFyZ2V0LCBhbmltYXRhYmxlLmlkLCBhbmltYXRhYmxlLnRvdGFsKTtcbn1cblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKGVsLCBwcm9wKSB7XG4gIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUocHJvcCk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIHtcbiAgdmFyIHZhbHVlVW5pdCA9IGdldFVuaXQodmFsdWUpO1xuICBpZiAoYXJyYXlDb250YWlucyhbdW5pdCwgJ2RlZycsICdyYWQnLCAndHVybiddLCB2YWx1ZVVuaXQpKSB7IHJldHVybiB2YWx1ZTsgfVxuICB2YXIgY2FjaGVkID0gY2FjaGUuQ1NTW3ZhbHVlICsgdW5pdF07XG4gIGlmICghaXMudW5kKGNhY2hlZCkpIHsgcmV0dXJuIGNhY2hlZDsgfVxuICB2YXIgYmFzZWxpbmUgPSAxMDA7XG4gIHZhciB0ZW1wRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsLnRhZ05hbWUpO1xuICB2YXIgcGFyZW50RWwgPSAoZWwucGFyZW50Tm9kZSAmJiAoZWwucGFyZW50Tm9kZSAhPT0gZG9jdW1lbnQpKSA/IGVsLnBhcmVudE5vZGUgOiBkb2N1bWVudC5ib2R5O1xuICBwYXJlbnRFbC5hcHBlbmRDaGlsZCh0ZW1wRWwpO1xuICB0ZW1wRWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICB0ZW1wRWwuc3R5bGUud2lkdGggPSBiYXNlbGluZSArIHVuaXQ7XG4gIHZhciBmYWN0b3IgPSBiYXNlbGluZSAvIHRlbXBFbC5vZmZzZXRXaWR0aDtcbiAgcGFyZW50RWwucmVtb3ZlQ2hpbGQodGVtcEVsKTtcbiAgdmFyIGNvbnZlcnRlZFVuaXQgPSBmYWN0b3IgKiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgY2FjaGUuQ1NTW3ZhbHVlICsgdW5pdF0gPSBjb252ZXJ0ZWRVbml0O1xuICByZXR1cm4gY29udmVydGVkVW5pdDtcbn1cblxuZnVuY3Rpb24gZ2V0Q1NTVmFsdWUoZWwsIHByb3AsIHVuaXQpIHtcbiAgaWYgKHByb3AgaW4gZWwuc3R5bGUpIHtcbiAgICB2YXIgdXBwZXJjYXNlUHJvcE5hbWUgPSBwcm9wLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHZhbHVlID0gZWwuc3R5bGVbcHJvcF0gfHwgZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSh1cHBlcmNhc2VQcm9wTmFtZSkgfHwgJzAnO1xuICAgIHJldHVybiB1bml0ID8gY29udmVydFB4VG9Vbml0KGVsLCB2YWx1ZSwgdW5pdCkgOiB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRpb25UeXBlKGVsLCBwcm9wKSB7XG4gIGlmIChpcy5kb20oZWwpICYmICFpcy5pbnAoZWwpICYmICghaXMubmlsKGdldEF0dHJpYnV0ZShlbCwgcHJvcCkpIHx8IChpcy5zdmcoZWwpICYmIGVsW3Byb3BdKSkpIHsgcmV0dXJuICdhdHRyaWJ1dGUnOyB9XG4gIGlmIChpcy5kb20oZWwpICYmIGFycmF5Q29udGFpbnModmFsaWRUcmFuc2Zvcm1zLCBwcm9wKSkgeyByZXR1cm4gJ3RyYW5zZm9ybSc7IH1cbiAgaWYgKGlzLmRvbShlbCkgJiYgKHByb3AgIT09ICd0cmFuc2Zvcm0nICYmIGdldENTU1ZhbHVlKGVsLCBwcm9wKSkpIHsgcmV0dXJuICdjc3MnOyB9XG4gIGlmIChlbFtwcm9wXSAhPSBudWxsKSB7IHJldHVybiAnb2JqZWN0JzsgfVxufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50VHJhbnNmb3JtcyhlbCkge1xuICBpZiAoIWlzLmRvbShlbCkpIHsgcmV0dXJuOyB9XG4gIHZhciBzdHIgPSBlbC5zdHlsZS50cmFuc2Zvcm0gfHwgJyc7XG4gIHZhciByZWcgID0gLyhcXHcrKVxcKChbXildKilcXCkvZztcbiAgdmFyIHRyYW5zZm9ybXMgPSBuZXcgTWFwKCk7XG4gIHZhciBtOyB3aGlsZSAobSA9IHJlZy5leGVjKHN0cikpIHsgdHJhbnNmb3Jtcy5zZXQobVsxXSwgbVsyXSk7IH1cbiAgcmV0dXJuIHRyYW5zZm9ybXM7XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVZhbHVlKGVsLCBwcm9wTmFtZSwgYW5pbWF0YWJsZSwgdW5pdCkge1xuICB2YXIgZGVmYXVsdFZhbCA9IHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAnc2NhbGUnKSA/IDEgOiAwICsgZ2V0VHJhbnNmb3JtVW5pdChwcm9wTmFtZSk7XG4gIHZhciB2YWx1ZSA9IGdldEVsZW1lbnRUcmFuc2Zvcm1zKGVsKS5nZXQocHJvcE5hbWUpIHx8IGRlZmF1bHRWYWw7XG4gIGlmIChhbmltYXRhYmxlKSB7XG4gICAgYW5pbWF0YWJsZS50cmFuc2Zvcm1zLmxpc3Quc2V0KHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgYW5pbWF0YWJsZS50cmFuc2Zvcm1zWydsYXN0J10gPSBwcm9wTmFtZTtcbiAgfVxuICByZXR1cm4gdW5pdCA/IGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIDogdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgdW5pdCwgYW5pbWF0YWJsZSkge1xuICBzd2l0Y2ggKGdldEFuaW1hdGlvblR5cGUodGFyZ2V0LCBwcm9wTmFtZSkpIHtcbiAgICBjYXNlICd0cmFuc2Zvcm0nOiByZXR1cm4gZ2V0VHJhbnNmb3JtVmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgYW5pbWF0YWJsZSwgdW5pdCk7XG4gICAgY2FzZSAnY3NzJzogcmV0dXJuIGdldENTU1ZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHVuaXQpO1xuICAgIGNhc2UgJ2F0dHJpYnV0ZSc6IHJldHVybiBnZXRBdHRyaWJ1dGUodGFyZ2V0LCBwcm9wTmFtZSk7XG4gICAgZGVmYXVsdDogcmV0dXJuIHRhcmdldFtwcm9wTmFtZV0gfHwgMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRSZWxhdGl2ZVZhbHVlKHRvLCBmcm9tKSB7XG4gIHZhciBvcGVyYXRvciA9IC9eKFxcKj18XFwrPXwtPSkvLmV4ZWModG8pO1xuICBpZiAoIW9wZXJhdG9yKSB7IHJldHVybiB0bzsgfVxuICB2YXIgdSA9IGdldFVuaXQodG8pIHx8IDA7XG4gIHZhciB4ID0gcGFyc2VGbG9hdChmcm9tKTtcbiAgdmFyIHkgPSBwYXJzZUZsb2F0KHRvLnJlcGxhY2Uob3BlcmF0b3JbMF0sICcnKSk7XG4gIHN3aXRjaCAob3BlcmF0b3JbMF1bMF0pIHtcbiAgICBjYXNlICcrJzogcmV0dXJuIHggKyB5ICsgdTtcbiAgICBjYXNlICctJzogcmV0dXJuIHggLSB5ICsgdTtcbiAgICBjYXNlICcqJzogcmV0dXJuIHggKiB5ICsgdTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVZhbHVlKHZhbCwgdW5pdCkge1xuICBpZiAoaXMuY29sKHZhbCkpIHsgcmV0dXJuIGNvbG9yVG9SZ2IodmFsKTsgfVxuICBpZiAoL1xccy9nLnRlc3QodmFsKSkgeyByZXR1cm4gdmFsOyB9XG4gIHZhciBvcmlnaW5hbFVuaXQgPSBnZXRVbml0KHZhbCk7XG4gIHZhciB1bml0TGVzcyA9IG9yaWdpbmFsVW5pdCA/IHZhbC5zdWJzdHIoMCwgdmFsLmxlbmd0aCAtIG9yaWdpbmFsVW5pdC5sZW5ndGgpIDogdmFsO1xuICBpZiAodW5pdCkgeyByZXR1cm4gdW5pdExlc3MgKyB1bml0OyB9XG4gIHJldHVybiB1bml0TGVzcztcbn1cblxuLy8gZ2V0VG90YWxMZW5ndGgoKSBlcXVpdmFsZW50IGZvciBjaXJjbGUsIHJlY3QsIHBvbHlsaW5lLCBwb2x5Z29uIGFuZCBsaW5lIHNoYXBlc1xuLy8gYWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL1NlYkxhbWJsYS8zZTA1NTBjNDk2YzIzNjcwOTc0NFxuXG5mdW5jdGlvbiBnZXREaXN0YW5jZShwMSwgcDIpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMikpO1xufVxuXG5mdW5jdGlvbiBnZXRDaXJjbGVMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIE1hdGguUEkgKiAyICogZ2V0QXR0cmlidXRlKGVsLCAncicpO1xufVxuXG5mdW5jdGlvbiBnZXRSZWN0TGVuZ3RoKGVsKSB7XG4gIHJldHVybiAoZ2V0QXR0cmlidXRlKGVsLCAnd2lkdGgnKSAqIDIpICsgKGdldEF0dHJpYnV0ZShlbCwgJ2hlaWdodCcpICogMik7XG59XG5cbmZ1bmN0aW9uIGdldExpbmVMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIGdldERpc3RhbmNlKFxuICAgIHt4OiBnZXRBdHRyaWJ1dGUoZWwsICd4MScpLCB5OiBnZXRBdHRyaWJ1dGUoZWwsICd5MScpfSwgXG4gICAge3g6IGdldEF0dHJpYnV0ZShlbCwgJ3gyJyksIHk6IGdldEF0dHJpYnV0ZShlbCwgJ3kyJyl9XG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldFBvbHlsaW5lTGVuZ3RoKGVsKSB7XG4gIHZhciBwb2ludHMgPSBlbC5wb2ludHM7XG4gIHZhciB0b3RhbExlbmd0aCA9IDA7XG4gIHZhciBwcmV2aW91c1BvcztcbiAgZm9yICh2YXIgaSA9IDAgOyBpIDwgcG9pbnRzLm51bWJlck9mSXRlbXM7IGkrKykge1xuICAgIHZhciBjdXJyZW50UG9zID0gcG9pbnRzLmdldEl0ZW0oaSk7XG4gICAgaWYgKGkgPiAwKSB7IHRvdGFsTGVuZ3RoICs9IGdldERpc3RhbmNlKHByZXZpb3VzUG9zLCBjdXJyZW50UG9zKTsgfVxuICAgIHByZXZpb3VzUG9zID0gY3VycmVudFBvcztcbiAgfVxuICByZXR1cm4gdG90YWxMZW5ndGg7XG59XG5cbmZ1bmN0aW9uIGdldFBvbHlnb25MZW5ndGgoZWwpIHtcbiAgdmFyIHBvaW50cyA9IGVsLnBvaW50cztcbiAgcmV0dXJuIGdldFBvbHlsaW5lTGVuZ3RoKGVsKSArIGdldERpc3RhbmNlKHBvaW50cy5nZXRJdGVtKHBvaW50cy5udW1iZXJPZkl0ZW1zIC0gMSksIHBvaW50cy5nZXRJdGVtKDApKTtcbn1cblxuLy8gUGF0aCBhbmltYXRpb25cblxuZnVuY3Rpb24gZ2V0VG90YWxMZW5ndGgoZWwpIHtcbiAgaWYgKGVsLmdldFRvdGFsTGVuZ3RoKSB7IHJldHVybiBlbC5nZXRUb3RhbExlbmd0aCgpOyB9XG4gIHN3aXRjaChlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdjaXJjbGUnOiByZXR1cm4gZ2V0Q2lyY2xlTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdyZWN0JzogcmV0dXJuIGdldFJlY3RMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ2xpbmUnOiByZXR1cm4gZ2V0TGluZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncG9seWxpbmUnOiByZXR1cm4gZ2V0UG9seWxpbmVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3BvbHlnb24nOiByZXR1cm4gZ2V0UG9seWdvbkxlbmd0aChlbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0RGFzaG9mZnNldChlbCkge1xuICB2YXIgcGF0aExlbmd0aCA9IGdldFRvdGFsTGVuZ3RoKGVsKTtcbiAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaGFycmF5JywgcGF0aExlbmd0aCk7XG4gIHJldHVybiBwYXRoTGVuZ3RoO1xufVxuXG4vLyBNb3Rpb24gcGF0aFxuXG5mdW5jdGlvbiBnZXRQYXJlbnRTdmdFbChlbCkge1xuICB2YXIgcGFyZW50RWwgPSBlbC5wYXJlbnROb2RlO1xuICB3aGlsZSAoaXMuc3ZnKHBhcmVudEVsKSkge1xuICAgIGlmICghaXMuc3ZnKHBhcmVudEVsLnBhcmVudE5vZGUpKSB7IGJyZWFrOyB9XG4gICAgcGFyZW50RWwgPSBwYXJlbnRFbC5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBwYXJlbnRFbDtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50U3ZnKHBhdGhFbCwgc3ZnRGF0YSkge1xuICB2YXIgc3ZnID0gc3ZnRGF0YSB8fCB7fTtcbiAgdmFyIHBhcmVudFN2Z0VsID0gc3ZnLmVsIHx8IGdldFBhcmVudFN2Z0VsKHBhdGhFbCk7XG4gIHZhciByZWN0ID0gcGFyZW50U3ZnRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciB2aWV3Qm94QXR0ciA9IGdldEF0dHJpYnV0ZShwYXJlbnRTdmdFbCwgJ3ZpZXdCb3gnKTtcbiAgdmFyIHdpZHRoID0gcmVjdC53aWR0aDtcbiAgdmFyIGhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuICB2YXIgdmlld0JveCA9IHN2Zy52aWV3Qm94IHx8ICh2aWV3Qm94QXR0ciA/IHZpZXdCb3hBdHRyLnNwbGl0KCcgJykgOiBbMCwgMCwgd2lkdGgsIGhlaWdodF0pO1xuICByZXR1cm4ge1xuICAgIGVsOiBwYXJlbnRTdmdFbCxcbiAgICB2aWV3Qm94OiB2aWV3Qm94LFxuICAgIHg6IHZpZXdCb3hbMF0gLyAxLFxuICAgIHk6IHZpZXdCb3hbMV0gLyAxLFxuICAgIHc6IHdpZHRoLFxuICAgIGg6IGhlaWdodCxcbiAgICB2Vzogdmlld0JveFsyXSxcbiAgICB2SDogdmlld0JveFszXVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhdGgocGF0aCwgcGVyY2VudCkge1xuICB2YXIgcGF0aEVsID0gaXMuc3RyKHBhdGgpID8gc2VsZWN0U3RyaW5nKHBhdGgpWzBdIDogcGF0aDtcbiAgdmFyIHAgPSBwZXJjZW50IHx8IDEwMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcbiAgICAgIGVsOiBwYXRoRWwsXG4gICAgICBzdmc6IGdldFBhcmVudFN2ZyhwYXRoRWwpLFxuICAgICAgdG90YWxMZW5ndGg6IGdldFRvdGFsTGVuZ3RoKHBhdGhFbCkgKiAocCAvIDEwMClcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UGF0aFByb2dyZXNzKHBhdGgsIHByb2dyZXNzLCBpc1BhdGhUYXJnZXRJbnNpZGVTVkcpIHtcbiAgZnVuY3Rpb24gcG9pbnQob2Zmc2V0KSB7XG4gICAgaWYgKCBvZmZzZXQgPT09IHZvaWQgMCApIG9mZnNldCA9IDA7XG5cbiAgICB2YXIgbCA9IHByb2dyZXNzICsgb2Zmc2V0ID49IDEgPyBwcm9ncmVzcyArIG9mZnNldCA6IDA7XG4gICAgcmV0dXJuIHBhdGguZWwuZ2V0UG9pbnRBdExlbmd0aChsKTtcbiAgfVxuICB2YXIgc3ZnID0gZ2V0UGFyZW50U3ZnKHBhdGguZWwsIHBhdGguc3ZnKTtcbiAgdmFyIHAgPSBwb2ludCgpO1xuICB2YXIgcDAgPSBwb2ludCgtMSk7XG4gIHZhciBwMSA9IHBvaW50KCsxKTtcbiAgdmFyIHNjYWxlWCA9IGlzUGF0aFRhcmdldEluc2lkZVNWRyA/IDEgOiBzdmcudyAvIHN2Zy52VztcbiAgdmFyIHNjYWxlWSA9IGlzUGF0aFRhcmdldEluc2lkZVNWRyA/IDEgOiBzdmcuaCAvIHN2Zy52SDtcbiAgc3dpdGNoIChwYXRoLnByb3BlcnR5KSB7XG4gICAgY2FzZSAneCc6IHJldHVybiAocC54IC0gc3ZnLngpICogc2NhbGVYO1xuICAgIGNhc2UgJ3knOiByZXR1cm4gKHAueSAtIHN2Zy55KSAqIHNjYWxlWTtcbiAgICBjYXNlICdhbmdsZSc6IHJldHVybiBNYXRoLmF0YW4yKHAxLnkgLSBwMC55LCBwMS54IC0gcDAueCkgKiAxODAgLyBNYXRoLlBJO1xuICB9XG59XG5cbi8vIERlY29tcG9zZSB2YWx1ZVxuXG5mdW5jdGlvbiBkZWNvbXBvc2VWYWx1ZSh2YWwsIHVuaXQpIHtcbiAgLy8gY29uc3Qgcmd4ID0gLy0/XFxkKlxcLj9cXGQrL2c7IC8vIGhhbmRsZXMgYmFzaWMgbnVtYmVyc1xuICAvLyBjb25zdCByZ3ggPSAvWystXT9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/L2c7IC8vIGhhbmRsZXMgZXhwb25lbnRzIG5vdGF0aW9uXG4gIHZhciByZ3ggPSAvWystXT9cXGQqXFwuP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8vZzsgLy8gaGFuZGxlcyBleHBvbmVudHMgbm90YXRpb25cbiAgdmFyIHZhbHVlID0gdmFsaWRhdGVWYWx1ZSgoaXMucHRoKHZhbCkgPyB2YWwudG90YWxMZW5ndGggOiB2YWwpLCB1bml0KSArICcnO1xuICByZXR1cm4ge1xuICAgIG9yaWdpbmFsOiB2YWx1ZSxcbiAgICBudW1iZXJzOiB2YWx1ZS5tYXRjaChyZ3gpID8gdmFsdWUubWF0Y2gocmd4KS5tYXAoTnVtYmVyKSA6IFswXSxcbiAgICBzdHJpbmdzOiAoaXMuc3RyKHZhbCkgfHwgdW5pdCkgPyB2YWx1ZS5zcGxpdChyZ3gpIDogW11cbiAgfVxufVxuXG4vLyBBbmltYXRhYmxlc1xuXG5mdW5jdGlvbiBwYXJzZVRhcmdldHModGFyZ2V0cykge1xuICB2YXIgdGFyZ2V0c0FycmF5ID0gdGFyZ2V0cyA/IChmbGF0dGVuQXJyYXkoaXMuYXJyKHRhcmdldHMpID8gdGFyZ2V0cy5tYXAodG9BcnJheSkgOiB0b0FycmF5KHRhcmdldHMpKSkgOiBbXTtcbiAgcmV0dXJuIGZpbHRlckFycmF5KHRhcmdldHNBcnJheSwgZnVuY3Rpb24gKGl0ZW0sIHBvcywgc2VsZikgeyByZXR1cm4gc2VsZi5pbmRleE9mKGl0ZW0pID09PSBwb3M7IH0pO1xufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRhYmxlcyh0YXJnZXRzKSB7XG4gIHZhciBwYXJzZWQgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gIHJldHVybiBwYXJzZWQubWFwKGZ1bmN0aW9uICh0LCBpKSB7XG4gICAgcmV0dXJuIHt0YXJnZXQ6IHQsIGlkOiBpLCB0b3RhbDogcGFyc2VkLmxlbmd0aCwgdHJhbnNmb3JtczogeyBsaXN0OiBnZXRFbGVtZW50VHJhbnNmb3Jtcyh0KSB9IH07XG4gIH0pO1xufVxuXG4vLyBQcm9wZXJ0aWVzXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BlcnR5VHdlZW5zKHByb3AsIHR3ZWVuU2V0dGluZ3MpIHtcbiAgdmFyIHNldHRpbmdzID0gY2xvbmVPYmplY3QodHdlZW5TZXR0aW5ncyk7XG4gIC8vIE92ZXJyaWRlIGR1cmF0aW9uIGlmIGVhc2luZyBpcyBhIHNwcmluZ1xuICBpZiAoL15zcHJpbmcvLnRlc3Qoc2V0dGluZ3MuZWFzaW5nKSkgeyBzZXR0aW5ncy5kdXJhdGlvbiA9IHNwcmluZyhzZXR0aW5ncy5lYXNpbmcpOyB9XG4gIGlmIChpcy5hcnIocHJvcCkpIHtcbiAgICB2YXIgbCA9IHByb3AubGVuZ3RoO1xuICAgIHZhciBpc0Zyb21UbyA9IChsID09PSAyICYmICFpcy5vYmoocHJvcFswXSkpO1xuICAgIGlmICghaXNGcm9tVG8pIHtcbiAgICAgIC8vIER1cmF0aW9uIGRpdmlkZWQgYnkgdGhlIG51bWJlciBvZiB0d2VlbnNcbiAgICAgIGlmICghaXMuZm5jKHR3ZWVuU2V0dGluZ3MuZHVyYXRpb24pKSB7IHNldHRpbmdzLmR1cmF0aW9uID0gdHdlZW5TZXR0aW5ncy5kdXJhdGlvbiAvIGw7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVHJhbnNmb3JtIFtmcm9tLCB0b10gdmFsdWVzIHNob3J0aGFuZCB0byBhIHZhbGlkIHR3ZWVuIHZhbHVlXG4gICAgICBwcm9wID0ge3ZhbHVlOiBwcm9wfTtcbiAgICB9XG4gIH1cbiAgdmFyIHByb3BBcnJheSA9IGlzLmFycihwcm9wKSA/IHByb3AgOiBbcHJvcF07XG4gIHJldHVybiBwcm9wQXJyYXkubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgdmFyIG9iaiA9IChpcy5vYmoodikgJiYgIWlzLnB0aCh2KSkgPyB2IDoge3ZhbHVlOiB2fTtcbiAgICAvLyBEZWZhdWx0IGRlbGF5IHZhbHVlIHNob3VsZCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGZpcnN0IHR3ZWVuXG4gICAgaWYgKGlzLnVuZChvYmouZGVsYXkpKSB7IG9iai5kZWxheSA9ICFpID8gdHdlZW5TZXR0aW5ncy5kZWxheSA6IDA7IH1cbiAgICAvLyBEZWZhdWx0IGVuZERlbGF5IHZhbHVlIHNob3VsZCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGxhc3QgdHdlZW5cbiAgICBpZiAoaXMudW5kKG9iai5lbmREZWxheSkpIHsgb2JqLmVuZERlbGF5ID0gaSA9PT0gcHJvcEFycmF5Lmxlbmd0aCAtIDEgPyB0d2VlblNldHRpbmdzLmVuZERlbGF5IDogMDsgfVxuICAgIHJldHVybiBvYmo7XG4gIH0pLm1hcChmdW5jdGlvbiAoaykgeyByZXR1cm4gbWVyZ2VPYmplY3RzKGssIHNldHRpbmdzKTsgfSk7XG59XG5cblxuZnVuY3Rpb24gZmxhdHRlbktleWZyYW1lcyhrZXlmcmFtZXMpIHtcbiAgdmFyIHByb3BlcnR5TmFtZXMgPSBmaWx0ZXJBcnJheShmbGF0dGVuQXJyYXkoa2V5ZnJhbWVzLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBPYmplY3Qua2V5cyhrZXkpOyB9KSksIGZ1bmN0aW9uIChwKSB7IHJldHVybiBpcy5rZXkocCk7IH0pXG4gIC5yZWR1Y2UoZnVuY3Rpb24gKGEsYikgeyBpZiAoYS5pbmRleE9mKGIpIDwgMCkgeyBhLnB1c2goYik7IH0gcmV0dXJuIGE7IH0sIFtdKTtcbiAgdmFyIHByb3BlcnRpZXMgPSB7fTtcbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGkgKSB7XG4gICAgdmFyIHByb3BOYW1lID0gcHJvcGVydHlOYW1lc1tpXTtcbiAgICBwcm9wZXJ0aWVzW3Byb3BOYW1lXSA9IGtleWZyYW1lcy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIG5ld0tleSA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBrZXkpIHtcbiAgICAgICAgaWYgKGlzLmtleShwKSkge1xuICAgICAgICAgIGlmIChwID09IHByb3BOYW1lKSB7IG5ld0tleS52YWx1ZSA9IGtleVtwXTsgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0tleVtwXSA9IGtleVtwXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9KTtcbiAgfTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnR5TmFtZXMubGVuZ3RoOyBpKyspIGxvb3AoIGkgKTtcbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5cbmZ1bmN0aW9uIGdldFByb3BlcnRpZXModHdlZW5TZXR0aW5ncywgcGFyYW1zKSB7XG4gIHZhciBwcm9wZXJ0aWVzID0gW107XG4gIHZhciBrZXlmcmFtZXMgPSBwYXJhbXMua2V5ZnJhbWVzO1xuICBpZiAoa2V5ZnJhbWVzKSB7IHBhcmFtcyA9IG1lcmdlT2JqZWN0cyhmbGF0dGVuS2V5ZnJhbWVzKGtleWZyYW1lcyksIHBhcmFtcyk7IH1cbiAgZm9yICh2YXIgcCBpbiBwYXJhbXMpIHtcbiAgICBpZiAoaXMua2V5KHApKSB7XG4gICAgICBwcm9wZXJ0aWVzLnB1c2goe1xuICAgICAgICBuYW1lOiBwLFxuICAgICAgICB0d2VlbnM6IG5vcm1hbGl6ZVByb3BlcnR5VHdlZW5zKHBhcmFtc1twXSwgdHdlZW5TZXR0aW5ncylcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcGVydGllcztcbn1cblxuLy8gVHdlZW5zXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVR3ZWVuVmFsdWVzKHR3ZWVuLCBhbmltYXRhYmxlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gdHdlZW4pIHtcbiAgICB2YXIgdmFsdWUgPSBnZXRGdW5jdGlvblZhbHVlKHR3ZWVuW3BdLCBhbmltYXRhYmxlKTtcbiAgICBpZiAoaXMuYXJyKHZhbHVlKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGdldEZ1bmN0aW9uVmFsdWUodiwgYW5pbWF0YWJsZSk7IH0pO1xuICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMSkgeyB2YWx1ZSA9IHZhbHVlWzBdOyB9XG4gICAgfVxuICAgIHRbcF0gPSB2YWx1ZTtcbiAgfVxuICB0LmR1cmF0aW9uID0gcGFyc2VGbG9hdCh0LmR1cmF0aW9uKTtcbiAgdC5kZWxheSA9IHBhcnNlRmxvYXQodC5kZWxheSk7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVUd2VlbnMocHJvcCwgYW5pbWF0YWJsZSkge1xuICB2YXIgcHJldmlvdXNUd2VlbjtcbiAgcmV0dXJuIHByb3AudHdlZW5zLm1hcChmdW5jdGlvbiAodCkge1xuICAgIHZhciB0d2VlbiA9IG5vcm1hbGl6ZVR3ZWVuVmFsdWVzKHQsIGFuaW1hdGFibGUpO1xuICAgIHZhciB0d2VlblZhbHVlID0gdHdlZW4udmFsdWU7XG4gICAgdmFyIHRvID0gaXMuYXJyKHR3ZWVuVmFsdWUpID8gdHdlZW5WYWx1ZVsxXSA6IHR3ZWVuVmFsdWU7XG4gICAgdmFyIHRvVW5pdCA9IGdldFVuaXQodG8pO1xuICAgIHZhciBvcmlnaW5hbFZhbHVlID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZShhbmltYXRhYmxlLnRhcmdldCwgcHJvcC5uYW1lLCB0b1VuaXQsIGFuaW1hdGFibGUpO1xuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJldmlvdXNUd2VlbiA/IHByZXZpb3VzVHdlZW4udG8ub3JpZ2luYWwgOiBvcmlnaW5hbFZhbHVlO1xuICAgIHZhciBmcm9tID0gaXMuYXJyKHR3ZWVuVmFsdWUpID8gdHdlZW5WYWx1ZVswXSA6IHByZXZpb3VzVmFsdWU7XG4gICAgdmFyIGZyb21Vbml0ID0gZ2V0VW5pdChmcm9tKSB8fCBnZXRVbml0KG9yaWdpbmFsVmFsdWUpO1xuICAgIHZhciB1bml0ID0gdG9Vbml0IHx8IGZyb21Vbml0O1xuICAgIGlmIChpcy51bmQodG8pKSB7IHRvID0gcHJldmlvdXNWYWx1ZTsgfVxuICAgIHR3ZWVuLmZyb20gPSBkZWNvbXBvc2VWYWx1ZShmcm9tLCB1bml0KTtcbiAgICB0d2Vlbi50byA9IGRlY29tcG9zZVZhbHVlKGdldFJlbGF0aXZlVmFsdWUodG8sIGZyb20pLCB1bml0KTtcbiAgICB0d2Vlbi5zdGFydCA9IHByZXZpb3VzVHdlZW4gPyBwcmV2aW91c1R3ZWVuLmVuZCA6IDA7XG4gICAgdHdlZW4uZW5kID0gdHdlZW4uc3RhcnQgKyB0d2Vlbi5kZWxheSArIHR3ZWVuLmR1cmF0aW9uICsgdHdlZW4uZW5kRGVsYXk7XG4gICAgdHdlZW4uZWFzaW5nID0gcGFyc2VFYXNpbmdzKHR3ZWVuLmVhc2luZywgdHdlZW4uZHVyYXRpb24pO1xuICAgIHR3ZWVuLmlzUGF0aCA9IGlzLnB0aCh0d2VlblZhbHVlKTtcbiAgICB0d2Vlbi5pc1BhdGhUYXJnZXRJbnNpZGVTVkcgPSB0d2Vlbi5pc1BhdGggJiYgaXMuc3ZnKGFuaW1hdGFibGUudGFyZ2V0KTtcbiAgICB0d2Vlbi5pc0NvbG9yID0gaXMuY29sKHR3ZWVuLmZyb20ub3JpZ2luYWwpO1xuICAgIGlmICh0d2Vlbi5pc0NvbG9yKSB7IHR3ZWVuLnJvdW5kID0gMTsgfVxuICAgIHByZXZpb3VzVHdlZW4gPSB0d2VlbjtcbiAgICByZXR1cm4gdHdlZW47XG4gIH0pO1xufVxuXG4vLyBUd2VlbiBwcm9ncmVzc1xuXG52YXIgc2V0UHJvZ3Jlc3NWYWx1ZSA9IHtcbiAgY3NzOiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdC5zdHlsZVtwXSA9IHY7IH0sXG4gIGF0dHJpYnV0ZTogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHQuc2V0QXR0cmlidXRlKHAsIHYpOyB9LFxuICBvYmplY3Q6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0W3BdID0gdjsgfSxcbiAgdHJhbnNmb3JtOiBmdW5jdGlvbiAodCwgcCwgdiwgdHJhbnNmb3JtcywgbWFudWFsKSB7XG4gICAgdHJhbnNmb3Jtcy5saXN0LnNldChwLCB2KTtcbiAgICBpZiAocCA9PT0gdHJhbnNmb3Jtcy5sYXN0IHx8IG1hbnVhbCkge1xuICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgdHJhbnNmb3Jtcy5saXN0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBwcm9wKSB7IHN0ciArPSBwcm9wICsgXCIoXCIgKyB2YWx1ZSArIFwiKSBcIjsgfSk7XG4gICAgICB0LnN0eWxlLnRyYW5zZm9ybSA9IHN0cjtcbiAgICB9XG4gIH1cbn07XG5cbi8vIFNldCBWYWx1ZSBoZWxwZXJcblxuZnVuY3Rpb24gc2V0VGFyZ2V0c1ZhbHVlKHRhcmdldHMsIHByb3BlcnRpZXMpIHtcbiAgdmFyIGFuaW1hdGFibGVzID0gZ2V0QW5pbWF0YWJsZXModGFyZ2V0cyk7XG4gIGFuaW1hdGFibGVzLmZvckVhY2goZnVuY3Rpb24gKGFuaW1hdGFibGUpIHtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRGdW5jdGlvblZhbHVlKHByb3BlcnRpZXNbcHJvcGVydHldLCBhbmltYXRhYmxlKTtcbiAgICAgIHZhciB0YXJnZXQgPSBhbmltYXRhYmxlLnRhcmdldDtcbiAgICAgIHZhciB2YWx1ZVVuaXQgPSBnZXRVbml0KHZhbHVlKTtcbiAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZVVuaXQsIGFuaW1hdGFibGUpO1xuICAgICAgdmFyIHVuaXQgPSB2YWx1ZVVuaXQgfHwgZ2V0VW5pdChvcmlnaW5hbFZhbHVlKTtcbiAgICAgIHZhciB0byA9IGdldFJlbGF0aXZlVmFsdWUodmFsaWRhdGVWYWx1ZSh2YWx1ZSwgdW5pdCksIG9yaWdpbmFsVmFsdWUpO1xuICAgICAgdmFyIGFuaW1UeXBlID0gZ2V0QW5pbWF0aW9uVHlwZSh0YXJnZXQsIHByb3BlcnR5KTtcbiAgICAgIHNldFByb2dyZXNzVmFsdWVbYW5pbVR5cGVdKHRhcmdldCwgcHJvcGVydHksIHRvLCBhbmltYXRhYmxlLnRyYW5zZm9ybXMsIHRydWUpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIEFuaW1hdGlvbnNcblxuZnVuY3Rpb24gY3JlYXRlQW5pbWF0aW9uKGFuaW1hdGFibGUsIHByb3ApIHtcbiAgdmFyIGFuaW1UeXBlID0gZ2V0QW5pbWF0aW9uVHlwZShhbmltYXRhYmxlLnRhcmdldCwgcHJvcC5uYW1lKTtcbiAgaWYgKGFuaW1UeXBlKSB7XG4gICAgdmFyIHR3ZWVucyA9IG5vcm1hbGl6ZVR3ZWVucyhwcm9wLCBhbmltYXRhYmxlKTtcbiAgICB2YXIgbGFzdFR3ZWVuID0gdHdlZW5zW3R3ZWVucy5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogYW5pbVR5cGUsXG4gICAgICBwcm9wZXJ0eTogcHJvcC5uYW1lLFxuICAgICAgYW5pbWF0YWJsZTogYW5pbWF0YWJsZSxcbiAgICAgIHR3ZWVuczogdHdlZW5zLFxuICAgICAgZHVyYXRpb246IGxhc3RUd2Vlbi5lbmQsXG4gICAgICBkZWxheTogdHdlZW5zWzBdLmRlbGF5LFxuICAgICAgZW5kRGVsYXk6IGxhc3RUd2Vlbi5lbmREZWxheVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRpb25zKGFuaW1hdGFibGVzLCBwcm9wZXJ0aWVzKSB7XG4gIHJldHVybiBmaWx0ZXJBcnJheShmbGF0dGVuQXJyYXkoYW5pbWF0YWJsZXMubWFwKGZ1bmN0aW9uIChhbmltYXRhYmxlKSB7XG4gICAgcmV0dXJuIHByb3BlcnRpZXMubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQW5pbWF0aW9uKGFuaW1hdGFibGUsIHByb3ApO1xuICAgIH0pO1xuICB9KSksIGZ1bmN0aW9uIChhKSB7IHJldHVybiAhaXMudW5kKGEpOyB9KTtcbn1cblxuLy8gQ3JlYXRlIEluc3RhbmNlXG5cbmZ1bmN0aW9uIGdldEluc3RhbmNlVGltaW5ncyhhbmltYXRpb25zLCB0d2VlblNldHRpbmdzKSB7XG4gIHZhciBhbmltTGVuZ3RoID0gYW5pbWF0aW9ucy5sZW5ndGg7XG4gIHZhciBnZXRUbE9mZnNldCA9IGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBhbmltLnRpbWVsaW5lT2Zmc2V0ID8gYW5pbS50aW1lbGluZU9mZnNldCA6IDA7IH07XG4gIHZhciB0aW1pbmdzID0ge307XG4gIHRpbWluZ3MuZHVyYXRpb24gPSBhbmltTGVuZ3RoID8gTWF0aC5tYXguYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kdXJhdGlvbjsgfSkpIDogdHdlZW5TZXR0aW5ncy5kdXJhdGlvbjtcbiAgdGltaW5ncy5kZWxheSA9IGFuaW1MZW5ndGggPyBNYXRoLm1pbi5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmRlbGF5OyB9KSkgOiB0d2VlblNldHRpbmdzLmRlbGF5O1xuICB0aW1pbmdzLmVuZERlbGF5ID0gYW5pbUxlbmd0aCA/IHRpbWluZ3MuZHVyYXRpb24gLSBNYXRoLm1heC5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmR1cmF0aW9uIC0gYW5pbS5lbmREZWxheTsgfSkpIDogdHdlZW5TZXR0aW5ncy5lbmREZWxheTtcbiAgcmV0dXJuIHRpbWluZ3M7XG59XG5cbnZhciBpbnN0YW5jZUlEID0gMDtcblxuZnVuY3Rpb24gY3JlYXRlTmV3SW5zdGFuY2UocGFyYW1zKSB7XG4gIHZhciBpbnN0YW5jZVNldHRpbmdzID0gcmVwbGFjZU9iamVjdFByb3BzKGRlZmF1bHRJbnN0YW5jZVNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgdHdlZW5TZXR0aW5ncyA9IHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0VHdlZW5TZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIHByb3BlcnRpZXMgPSBnZXRQcm9wZXJ0aWVzKHR3ZWVuU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciBhbmltYXRhYmxlcyA9IGdldEFuaW1hdGFibGVzKHBhcmFtcy50YXJnZXRzKTtcbiAgdmFyIGFuaW1hdGlvbnMgPSBnZXRBbmltYXRpb25zKGFuaW1hdGFibGVzLCBwcm9wZXJ0aWVzKTtcbiAgdmFyIHRpbWluZ3MgPSBnZXRJbnN0YW5jZVRpbWluZ3MoYW5pbWF0aW9ucywgdHdlZW5TZXR0aW5ncyk7XG4gIHZhciBpZCA9IGluc3RhbmNlSUQ7XG4gIGluc3RhbmNlSUQrKztcbiAgcmV0dXJuIG1lcmdlT2JqZWN0cyhpbnN0YW5jZVNldHRpbmdzLCB7XG4gICAgaWQ6IGlkLFxuICAgIGNoaWxkcmVuOiBbXSxcbiAgICBhbmltYXRhYmxlczogYW5pbWF0YWJsZXMsXG4gICAgYW5pbWF0aW9uczogYW5pbWF0aW9ucyxcbiAgICBkdXJhdGlvbjogdGltaW5ncy5kdXJhdGlvbixcbiAgICBkZWxheTogdGltaW5ncy5kZWxheSxcbiAgICBlbmREZWxheTogdGltaW5ncy5lbmREZWxheVxuICB9KTtcbn1cblxuLy8gQ29yZVxuXG52YXIgYWN0aXZlSW5zdGFuY2VzID0gW107XG5cbnZhciBlbmdpbmUgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgcmFmO1xuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgaWYgKCFyYWYgJiYgKCFpc0RvY3VtZW50SGlkZGVuKCkgfHwgIWFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4pICYmIGFjdGl2ZUluc3RhbmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHN0ZXAodCkge1xuICAgIC8vIG1lbW8gb24gYWxnb3JpdGhtIGlzc3VlOlxuICAgIC8vIGRhbmdlcm91cyBpdGVyYXRpb24gb3ZlciBtdXRhYmxlIGBhY3RpdmVJbnN0YW5jZXNgXG4gICAgLy8gKHRoYXQgY29sbGVjdGlvbiBtYXkgYmUgdXBkYXRlZCBmcm9tIHdpdGhpbiBjYWxsYmFja3Mgb2YgYHRpY2tgLWVkIGFuaW1hdGlvbiBpbnN0YW5jZXMpXG4gICAgdmFyIGFjdGl2ZUluc3RhbmNlc0xlbmd0aCA9IGFjdGl2ZUluc3RhbmNlcy5sZW5ndGg7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoKSB7XG4gICAgICB2YXIgYWN0aXZlSW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZXNbaV07XG4gICAgICBpZiAoIWFjdGl2ZUluc3RhbmNlLnBhdXNlZCkge1xuICAgICAgICBhY3RpdmVJbnN0YW5jZS50aWNrKHQpO1xuICAgICAgICBpKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVJbnN0YW5jZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICBhY3RpdmVJbnN0YW5jZXNMZW5ndGgtLTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmFmID0gaSA+IDAgPyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCkgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKCkge1xuICAgIGlmICghYW5pbWUuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbikgeyByZXR1cm47IH1cblxuICAgIGlmIChpc0RvY3VtZW50SGlkZGVuKCkpIHtcbiAgICAgIC8vIHN1c3BlbmQgdGlja3NcbiAgICAgIHJhZiA9IGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgfSBlbHNlIHsgLy8gaXMgYmFjayB0byBhY3RpdmUgdGFiXG4gICAgICAvLyBmaXJzdCBhZGp1c3QgYW5pbWF0aW9ucyB0byBjb25zaWRlciB0aGUgdGltZSB0aGF0IHRpY2tzIHdlcmUgc3VzcGVuZGVkXG4gICAgICBhY3RpdmVJbnN0YW5jZXMuZm9yRWFjaChcbiAgICAgICAgZnVuY3Rpb24gKGluc3RhbmNlKSB7IHJldHVybiBpbnN0YW5jZSAuX29uRG9jdW1lbnRWaXNpYmlsaXR5KCk7IH1cbiAgICAgICk7XG4gICAgICBlbmdpbmUoKTtcbiAgICB9XG4gIH1cbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gIH1cblxuICByZXR1cm4gcGxheTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGlzRG9jdW1lbnRIaWRkZW4oKSB7XG4gIHJldHVybiAhIWRvY3VtZW50ICYmIGRvY3VtZW50LmhpZGRlbjtcbn1cblxuLy8gUHVibGljIEluc3RhbmNlXG5cbmZ1bmN0aW9uIGFuaW1lKHBhcmFtcykge1xuICBpZiAoIHBhcmFtcyA9PT0gdm9pZCAwICkgcGFyYW1zID0ge307XG5cblxuICB2YXIgc3RhcnRUaW1lID0gMCwgbGFzdFRpbWUgPSAwLCBub3cgPSAwO1xuICB2YXIgY2hpbGRyZW4sIGNoaWxkcmVuTGVuZ3RoID0gMDtcbiAgdmFyIHJlc29sdmUgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIG1ha2VQcm9taXNlKGluc3RhbmNlKSB7XG4gICAgdmFyIHByb21pc2UgPSB3aW5kb3cuUHJvbWlzZSAmJiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoX3Jlc29sdmUpIHsgcmV0dXJuIHJlc29sdmUgPSBfcmVzb2x2ZTsgfSk7XG4gICAgaW5zdGFuY2UuZmluaXNoZWQgPSBwcm9taXNlO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdmFyIGluc3RhbmNlID0gY3JlYXRlTmV3SW5zdGFuY2UocGFyYW1zKTtcbiAgdmFyIHByb21pc2UgPSBtYWtlUHJvbWlzZShpbnN0YW5jZSk7XG5cbiAgZnVuY3Rpb24gdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IGluc3RhbmNlLmRpcmVjdGlvbjtcbiAgICBpZiAoZGlyZWN0aW9uICE9PSAnYWx0ZXJuYXRlJykge1xuICAgICAgaW5zdGFuY2UuZGlyZWN0aW9uID0gZGlyZWN0aW9uICE9PSAnbm9ybWFsJyA/ICdub3JtYWwnIDogJ3JldmVyc2UnO1xuICAgIH1cbiAgICBpbnN0YW5jZS5yZXZlcnNlZCA9ICFpbnN0YW5jZS5yZXZlcnNlZDtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gY2hpbGQucmV2ZXJzZWQgPSBpbnN0YW5jZS5yZXZlcnNlZDsgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGp1c3RUaW1lKHRpbWUpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UucmV2ZXJzZWQgPyBpbnN0YW5jZS5kdXJhdGlvbiAtIHRpbWUgOiB0aW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUaW1lKCkge1xuICAgIHN0YXJ0VGltZSA9IDA7XG4gICAgbGFzdFRpbWUgPSBhZGp1c3RUaW1lKGluc3RhbmNlLmN1cnJlbnRUaW1lKSAqICgxIC8gYW5pbWUuc3BlZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2Vla0NoaWxkKHRpbWUsIGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkKSB7IGNoaWxkLnNlZWsodGltZSAtIGNoaWxkLnRpbWVsaW5lT2Zmc2V0KTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3luY0luc3RhbmNlQ2hpbGRyZW4odGltZSkge1xuICAgIGlmICghaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHsgc2Vla0NoaWxkKHRpbWUsIGNoaWxkcmVuW2ldKTsgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpJDEgPSBjaGlsZHJlbkxlbmd0aDsgaSQxLS07KSB7IHNlZWtDaGlsZCh0aW1lLCBjaGlsZHJlbltpJDFdKTsgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNUaW1lKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBhbmltYXRpb25zID0gaW5zdGFuY2UuYW5pbWF0aW9ucztcbiAgICB2YXIgYW5pbWF0aW9uc0xlbmd0aCA9IGFuaW1hdGlvbnMubGVuZ3RoO1xuICAgIHdoaWxlIChpIDwgYW5pbWF0aW9uc0xlbmd0aCkge1xuICAgICAgdmFyIGFuaW0gPSBhbmltYXRpb25zW2ldO1xuICAgICAgdmFyIGFuaW1hdGFibGUgPSBhbmltLmFuaW1hdGFibGU7XG4gICAgICB2YXIgdHdlZW5zID0gYW5pbS50d2VlbnM7XG4gICAgICB2YXIgdHdlZW5MZW5ndGggPSB0d2VlbnMubGVuZ3RoIC0gMTtcbiAgICAgIHZhciB0d2VlbiA9IHR3ZWVuc1t0d2Vlbkxlbmd0aF07XG4gICAgICAvLyBPbmx5IGNoZWNrIGZvciBrZXlmcmFtZXMgaWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSB0d2VlblxuICAgICAgaWYgKHR3ZWVuTGVuZ3RoKSB7IHR3ZWVuID0gZmlsdGVyQXJyYXkodHdlZW5zLCBmdW5jdGlvbiAodCkgeyByZXR1cm4gKGluc1RpbWUgPCB0LmVuZCk7IH0pWzBdIHx8IHR3ZWVuOyB9XG4gICAgICB2YXIgZWxhcHNlZCA9IG1pbk1heChpbnNUaW1lIC0gdHdlZW4uc3RhcnQgLSB0d2Vlbi5kZWxheSwgMCwgdHdlZW4uZHVyYXRpb24pIC8gdHdlZW4uZHVyYXRpb247XG4gICAgICB2YXIgZWFzZWQgPSBpc05hTihlbGFwc2VkKSA/IDEgOiB0d2Vlbi5lYXNpbmcoZWxhcHNlZCk7XG4gICAgICB2YXIgc3RyaW5ncyA9IHR3ZWVuLnRvLnN0cmluZ3M7XG4gICAgICB2YXIgcm91bmQgPSB0d2Vlbi5yb3VuZDtcbiAgICAgIHZhciBudW1iZXJzID0gW107XG4gICAgICB2YXIgdG9OdW1iZXJzTGVuZ3RoID0gdHdlZW4udG8ubnVtYmVycy5sZW5ndGg7XG4gICAgICB2YXIgcHJvZ3Jlc3MgPSAodm9pZCAwKTtcbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdG9OdW1iZXJzTGVuZ3RoOyBuKyspIHtcbiAgICAgICAgdmFyIHZhbHVlID0gKHZvaWQgMCk7XG4gICAgICAgIHZhciB0b051bWJlciA9IHR3ZWVuLnRvLm51bWJlcnNbbl07XG4gICAgICAgIHZhciBmcm9tTnVtYmVyID0gdHdlZW4uZnJvbS5udW1iZXJzW25dIHx8IDA7XG4gICAgICAgIGlmICghdHdlZW4uaXNQYXRoKSB7XG4gICAgICAgICAgdmFsdWUgPSBmcm9tTnVtYmVyICsgKGVhc2VkICogKHRvTnVtYmVyIC0gZnJvbU51bWJlcikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gZ2V0UGF0aFByb2dyZXNzKHR3ZWVuLnZhbHVlLCBlYXNlZCAqIHRvTnVtYmVyLCB0d2Vlbi5pc1BhdGhUYXJnZXRJbnNpZGVTVkcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb3VuZCkge1xuICAgICAgICAgIGlmICghKHR3ZWVuLmlzQ29sb3IgJiYgbiA+IDIpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUgKiByb3VuZCkgLyByb3VuZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbnVtYmVycy5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1hbnVhbCBBcnJheS5yZWR1Y2UgZm9yIGJldHRlciBwZXJmb3JtYW5jZXNcbiAgICAgIHZhciBzdHJpbmdzTGVuZ3RoID0gc3RyaW5ncy5sZW5ndGg7XG4gICAgICBpZiAoIXN0cmluZ3NMZW5ndGgpIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBudW1iZXJzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBzdHJpbmdzWzBdO1xuICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IHN0cmluZ3NMZW5ndGg7IHMrKykge1xuICAgICAgICAgIHZhciBhID0gc3RyaW5nc1tzXTtcbiAgICAgICAgICB2YXIgYiA9IHN0cmluZ3NbcyArIDFdO1xuICAgICAgICAgIHZhciBuJDEgPSBudW1iZXJzW3NdO1xuICAgICAgICAgIGlmICghaXNOYU4obiQxKSkge1xuICAgICAgICAgICAgaWYgKCFiKSB7XG4gICAgICAgICAgICAgIHByb2dyZXNzICs9IG4kMSArICcgJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb2dyZXNzICs9IG4kMSArIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRQcm9ncmVzc1ZhbHVlW2FuaW0udHlwZV0oYW5pbWF0YWJsZS50YXJnZXQsIGFuaW0ucHJvcGVydHksIHByb2dyZXNzLCBhbmltYXRhYmxlLnRyYW5zZm9ybXMpO1xuICAgICAgYW5pbS5jdXJyZW50VmFsdWUgPSBwcm9ncmVzcztcbiAgICAgIGkrKztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRDYWxsYmFjayhjYikge1xuICAgIGlmIChpbnN0YW5jZVtjYl0gJiYgIWluc3RhbmNlLnBhc3NUaHJvdWdoKSB7IGluc3RhbmNlW2NiXShpbnN0YW5jZSk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvdW50SXRlcmF0aW9uKCkge1xuICAgIGlmIChpbnN0YW5jZS5yZW1haW5pbmcgJiYgaW5zdGFuY2UucmVtYWluaW5nICE9PSB0cnVlKSB7XG4gICAgICBpbnN0YW5jZS5yZW1haW5pbmctLTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRJbnN0YW5jZVByb2dyZXNzKGVuZ2luZVRpbWUpIHtcbiAgICB2YXIgaW5zRHVyYXRpb24gPSBpbnN0YW5jZS5kdXJhdGlvbjtcbiAgICB2YXIgaW5zRGVsYXkgPSBpbnN0YW5jZS5kZWxheTtcbiAgICB2YXIgaW5zRW5kRGVsYXkgPSBpbnNEdXJhdGlvbiAtIGluc3RhbmNlLmVuZERlbGF5O1xuICAgIHZhciBpbnNUaW1lID0gYWRqdXN0VGltZShlbmdpbmVUaW1lKTtcbiAgICBpbnN0YW5jZS5wcm9ncmVzcyA9IG1pbk1heCgoaW5zVGltZSAvIGluc0R1cmF0aW9uKSAqIDEwMCwgMCwgMTAwKTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlUGxheWJhY2sgPSBpbnNUaW1lIDwgaW5zdGFuY2UuY3VycmVudFRpbWU7XG4gICAgaWYgKGNoaWxkcmVuKSB7IHN5bmNJbnN0YW5jZUNoaWxkcmVuKGluc1RpbWUpOyB9XG4gICAgaWYgKCFpbnN0YW5jZS5iZWdhbiAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgIGluc3RhbmNlLmJlZ2FuID0gdHJ1ZTtcbiAgICAgIHNldENhbGxiYWNrKCdiZWdpbicpO1xuICAgIH1cbiAgICBpZiAoIWluc3RhbmNlLmxvb3BCZWdhbiAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgIGluc3RhbmNlLmxvb3BCZWdhbiA9IHRydWU7XG4gICAgICBzZXRDYWxsYmFjaygnbG9vcEJlZ2luJyk7XG4gICAgfVxuICAgIGlmIChpbnNUaW1lIDw9IGluc0RlbGF5ICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lICE9PSAwKSB7XG4gICAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoMCk7XG4gICAgfVxuICAgIGlmICgoaW5zVGltZSA+PSBpbnNFbmREZWxheSAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSAhPT0gaW5zRHVyYXRpb24pIHx8ICFpbnNEdXJhdGlvbikge1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc0R1cmF0aW9uKTtcbiAgICB9XG4gICAgaWYgKGluc1RpbWUgPiBpbnNEZWxheSAmJiBpbnNUaW1lIDwgaW5zRW5kRGVsYXkpIHtcbiAgICAgIGlmICghaW5zdGFuY2UuY2hhbmdlQmVnYW4pIHtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZUJlZ2luJyk7XG4gICAgICB9XG4gICAgICBzZXRDYWxsYmFjaygnY2hhbmdlJyk7XG4gICAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zVGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbnN0YW5jZS5jaGFuZ2VCZWdhbikge1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VCZWdhbiA9IGZhbHNlO1xuICAgICAgICBzZXRDYWxsYmFjaygnY2hhbmdlQ29tcGxldGUnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UuY3VycmVudFRpbWUgPSBtaW5NYXgoaW5zVGltZSwgMCwgaW5zRHVyYXRpb24pO1xuICAgIGlmIChpbnN0YW5jZS5iZWdhbikgeyBzZXRDYWxsYmFjaygndXBkYXRlJyk7IH1cbiAgICBpZiAoZW5naW5lVGltZSA+PSBpbnNEdXJhdGlvbikge1xuICAgICAgbGFzdFRpbWUgPSAwO1xuICAgICAgY291bnRJdGVyYXRpb24oKTtcbiAgICAgIGlmICghaW5zdGFuY2UucmVtYWluaW5nKSB7XG4gICAgICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIGlmICghaW5zdGFuY2UuY29tcGxldGVkKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICBzZXRDYWxsYmFjaygnbG9vcENvbXBsZXRlJyk7XG4gICAgICAgICAgc2V0Q2FsbGJhY2soJ2NvbXBsZXRlJyk7XG4gICAgICAgICAgaWYgKCFpbnN0YW5jZS5wYXNzVGhyb3VnaCAmJiAnUHJvbWlzZScgaW4gd2luZG93KSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICBwcm9taXNlID0gbWFrZVByb21pc2UoaW5zdGFuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnRUaW1lID0gbm93O1xuICAgICAgICBzZXRDYWxsYmFjaygnbG9vcENvbXBsZXRlJyk7XG4gICAgICAgIGluc3RhbmNlLmxvb3BCZWdhbiA9IGZhbHNlO1xuICAgICAgICBpZiAoaW5zdGFuY2UuZGlyZWN0aW9uID09PSAnYWx0ZXJuYXRlJykge1xuICAgICAgICAgIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbnN0YW5jZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkaXJlY3Rpb24gPSBpbnN0YW5jZS5kaXJlY3Rpb247XG4gICAgaW5zdGFuY2UucGFzc1Rocm91Z2ggPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jdXJyZW50VGltZSA9IDA7XG4gICAgaW5zdGFuY2UucHJvZ3Jlc3MgPSAwO1xuICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgaW5zdGFuY2UuYmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jaGFuZ2VCZWdhbiA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNoYW5nZUNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLnJldmVyc2VQbGF5YmFjayA9IGZhbHNlO1xuICAgIGluc3RhbmNlLnJldmVyc2VkID0gZGlyZWN0aW9uID09PSAncmV2ZXJzZSc7XG4gICAgaW5zdGFuY2UucmVtYWluaW5nID0gaW5zdGFuY2UubG9vcDtcbiAgICBjaGlsZHJlbiA9IGluc3RhbmNlLmNoaWxkcmVuO1xuICAgIGNoaWxkcmVuTGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbkxlbmd0aDsgaS0tOykgeyBpbnN0YW5jZS5jaGlsZHJlbltpXS5yZXNldCgpOyB9XG4gICAgaWYgKGluc3RhbmNlLnJldmVyc2VkICYmIGluc3RhbmNlLmxvb3AgIT09IHRydWUgfHwgKGRpcmVjdGlvbiA9PT0gJ2FsdGVybmF0ZScgJiYgaW5zdGFuY2UubG9vcCA9PT0gMSkpIHsgaW5zdGFuY2UucmVtYWluaW5nKys7IH1cbiAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zdGFuY2UucmV2ZXJzZWQgPyBpbnN0YW5jZS5kdXJhdGlvbiA6IDApO1xuICB9O1xuXG4gIC8vIGludGVybmFsIG1ldGhvZCAoZm9yIGVuZ2luZSkgdG8gYWRqdXN0IGFuaW1hdGlvbiB0aW1pbmdzIGJlZm9yZSByZXN0b3JpbmcgZW5naW5lIHRpY2tzIChyQUYpXG4gIGluc3RhbmNlLl9vbkRvY3VtZW50VmlzaWJpbGl0eSA9IHJlc2V0VGltZTtcblxuICAvLyBTZXQgVmFsdWUgaGVscGVyXG5cbiAgaW5zdGFuY2Uuc2V0ID0gZnVuY3Rpb24odGFyZ2V0cywgcHJvcGVydGllcykge1xuICAgIHNldFRhcmdldHNWYWx1ZSh0YXJnZXRzLCBwcm9wZXJ0aWVzKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG5cbiAgaW5zdGFuY2UudGljayA9IGZ1bmN0aW9uKHQpIHtcbiAgICBub3cgPSB0O1xuICAgIGlmICghc3RhcnRUaW1lKSB7IHN0YXJ0VGltZSA9IG5vdzsgfVxuICAgIHNldEluc3RhbmNlUHJvZ3Jlc3MoKG5vdyArIChsYXN0VGltZSAtIHN0YXJ0VGltZSkpICogYW5pbWUuc3BlZWQpO1xuICB9O1xuXG4gIGluc3RhbmNlLnNlZWsgPSBmdW5jdGlvbih0aW1lKSB7XG4gICAgc2V0SW5zdGFuY2VQcm9ncmVzcyhhZGp1c3RUaW1lKHRpbWUpKTtcbiAgfTtcblxuICBpbnN0YW5jZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgcmVzZXRUaW1lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucGxheSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghaW5zdGFuY2UucGF1c2VkKSB7IHJldHVybjsgfVxuICAgIGlmIChpbnN0YW5jZS5jb21wbGV0ZWQpIHsgaW5zdGFuY2UucmVzZXQoKTsgfVxuICAgIGluc3RhbmNlLnBhdXNlZCA9IGZhbHNlO1xuICAgIGFjdGl2ZUluc3RhbmNlcy5wdXNoKGluc3RhbmNlKTtcbiAgICByZXNldFRpbWUoKTtcbiAgICBlbmdpbmUoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXZlcnNlID0gZnVuY3Rpb24oKSB7XG4gICAgdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKTtcbiAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSBpbnN0YW5jZS5yZXZlcnNlZCA/IGZhbHNlIDogdHJ1ZTtcbiAgICByZXNldFRpbWUoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgaW5zdGFuY2UucmVzZXQoKTtcbiAgICBpbnN0YW5jZS5wbGF5KCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVtb3ZlID0gZnVuY3Rpb24odGFyZ2V0cykge1xuICAgIHZhciB0YXJnZXRzQXJyYXkgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gICAgcmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSh0YXJnZXRzQXJyYXksIGluc3RhbmNlKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXNldCgpO1xuXG4gIGlmIChpbnN0YW5jZS5hdXRvcGxheSkgeyBpbnN0YW5jZS5wbGF5KCk7IH1cblxuICByZXR1cm4gaW5zdGFuY2U7XG5cbn1cblxuLy8gUmVtb3ZlIHRhcmdldHMgZnJvbSBhbmltYXRpb25cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgYW5pbWF0aW9ucykge1xuICBmb3IgKHZhciBhID0gYW5pbWF0aW9ucy5sZW5ndGg7IGEtLTspIHtcbiAgICBpZiAoYXJyYXlDb250YWlucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnNbYV0uYW5pbWF0YWJsZS50YXJnZXQpKSB7XG4gICAgICBhbmltYXRpb25zLnNwbGljZShhLCAxKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSh0YXJnZXRzQXJyYXksIGluc3RhbmNlKSB7XG4gIHZhciBhbmltYXRpb25zID0gaW5zdGFuY2UuYW5pbWF0aW9ucztcbiAgdmFyIGNoaWxkcmVuID0gaW5zdGFuY2UuY2hpbGRyZW47XG4gIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnMpO1xuICBmb3IgKHZhciBjID0gY2hpbGRyZW4ubGVuZ3RoOyBjLS07KSB7XG4gICAgdmFyIGNoaWxkID0gY2hpbGRyZW5bY107XG4gICAgdmFyIGNoaWxkQW5pbWF0aW9ucyA9IGNoaWxkLmFuaW1hdGlvbnM7XG4gICAgcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgY2hpbGRBbmltYXRpb25zKTtcbiAgICBpZiAoIWNoaWxkQW5pbWF0aW9ucy5sZW5ndGggJiYgIWNoaWxkLmNoaWxkcmVuLmxlbmd0aCkgeyBjaGlsZHJlbi5zcGxpY2UoYywgMSk7IH1cbiAgfVxuICBpZiAoIWFuaW1hdGlvbnMubGVuZ3RoICYmICFjaGlsZHJlbi5sZW5ndGgpIHsgaW5zdGFuY2UucGF1c2UoKTsgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVUYXJnZXRzRnJvbUFjdGl2ZUluc3RhbmNlcyh0YXJnZXRzKSB7XG4gIHZhciB0YXJnZXRzQXJyYXkgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gIGZvciAodmFyIGkgPSBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgdmFyIGluc3RhbmNlID0gYWN0aXZlSW5zdGFuY2VzW2ldO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSk7XG4gIH1cbn1cblxuLy8gU3RhZ2dlciBoZWxwZXJzXG5cbmZ1bmN0aW9uIHN0YWdnZXIodmFsLCBwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG4gIHZhciBkaXJlY3Rpb24gPSBwYXJhbXMuZGlyZWN0aW9uIHx8ICdub3JtYWwnO1xuICB2YXIgZWFzaW5nID0gcGFyYW1zLmVhc2luZyA/IHBhcnNlRWFzaW5ncyhwYXJhbXMuZWFzaW5nKSA6IG51bGw7XG4gIHZhciBncmlkID0gcGFyYW1zLmdyaWQ7XG4gIHZhciBheGlzID0gcGFyYW1zLmF4aXM7XG4gIHZhciBmcm9tSW5kZXggPSBwYXJhbXMuZnJvbSB8fCAwO1xuICB2YXIgZnJvbUZpcnN0ID0gZnJvbUluZGV4ID09PSAnZmlyc3QnO1xuICB2YXIgZnJvbUNlbnRlciA9IGZyb21JbmRleCA9PT0gJ2NlbnRlcic7XG4gIHZhciBmcm9tTGFzdCA9IGZyb21JbmRleCA9PT0gJ2xhc3QnO1xuICB2YXIgaXNSYW5nZSA9IGlzLmFycih2YWwpO1xuICB2YXIgdmFsMSA9IGlzUmFuZ2UgPyBwYXJzZUZsb2F0KHZhbFswXSkgOiBwYXJzZUZsb2F0KHZhbCk7XG4gIHZhciB2YWwyID0gaXNSYW5nZSA/IHBhcnNlRmxvYXQodmFsWzFdKSA6IDA7XG4gIHZhciB1bml0ID0gZ2V0VW5pdChpc1JhbmdlID8gdmFsWzFdIDogdmFsKSB8fCAwO1xuICB2YXIgc3RhcnQgPSBwYXJhbXMuc3RhcnQgfHwgMCArIChpc1JhbmdlID8gdmFsMSA6IDApO1xuICB2YXIgdmFsdWVzID0gW107XG4gIHZhciBtYXhWYWx1ZSA9IDA7XG4gIHJldHVybiBmdW5jdGlvbiAoZWwsIGksIHQpIHtcbiAgICBpZiAoZnJvbUZpcnN0KSB7IGZyb21JbmRleCA9IDA7IH1cbiAgICBpZiAoZnJvbUNlbnRlcikgeyBmcm9tSW5kZXggPSAodCAtIDEpIC8gMjsgfVxuICAgIGlmIChmcm9tTGFzdCkgeyBmcm9tSW5kZXggPSB0IC0gMTsgfVxuICAgIGlmICghdmFsdWVzLmxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHQ7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKCFncmlkKSB7XG4gICAgICAgICAgdmFsdWVzLnB1c2goTWF0aC5hYnMoZnJvbUluZGV4IC0gaW5kZXgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZnJvbVggPSAhZnJvbUNlbnRlciA/IGZyb21JbmRleCVncmlkWzBdIDogKGdyaWRbMF0tMSkvMjtcbiAgICAgICAgICB2YXIgZnJvbVkgPSAhZnJvbUNlbnRlciA/IE1hdGguZmxvb3IoZnJvbUluZGV4L2dyaWRbMF0pIDogKGdyaWRbMV0tMSkvMjtcbiAgICAgICAgICB2YXIgdG9YID0gaW5kZXglZ3JpZFswXTtcbiAgICAgICAgICB2YXIgdG9ZID0gTWF0aC5mbG9vcihpbmRleC9ncmlkWzBdKTtcbiAgICAgICAgICB2YXIgZGlzdGFuY2VYID0gZnJvbVggLSB0b1g7XG4gICAgICAgICAgdmFyIGRpc3RhbmNlWSA9IGZyb21ZIC0gdG9ZO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IE1hdGguc3FydChkaXN0YW5jZVggKiBkaXN0YW5jZVggKyBkaXN0YW5jZVkgKiBkaXN0YW5jZVkpO1xuICAgICAgICAgIGlmIChheGlzID09PSAneCcpIHsgdmFsdWUgPSAtZGlzdGFuY2VYOyB9XG4gICAgICAgICAgaWYgKGF4aXMgPT09ICd5JykgeyB2YWx1ZSA9IC1kaXN0YW5jZVk7IH1cbiAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4VmFsdWUgPSBNYXRoLm1heC5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGVhc2luZykgeyB2YWx1ZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIGVhc2luZyh2YWwgLyBtYXhWYWx1ZSkgKiBtYXhWYWx1ZTsgfSk7IH1cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdyZXZlcnNlJykgeyB2YWx1ZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIGF4aXMgPyAodmFsIDwgMCkgPyB2YWwgKiAtMSA6IC12YWwgOiBNYXRoLmFicyhtYXhWYWx1ZSAtIHZhbCk7IH0pOyB9XG4gICAgfVxuICAgIHZhciBzcGFjaW5nID0gaXNSYW5nZSA/ICh2YWwyIC0gdmFsMSkgLyBtYXhWYWx1ZSA6IHZhbDE7XG4gICAgcmV0dXJuIHN0YXJ0ICsgKHNwYWNpbmcgKiAoTWF0aC5yb3VuZCh2YWx1ZXNbaV0gKiAxMDApIC8gMTAwKSkgKyB1bml0O1xuICB9XG59XG5cbi8vIFRpbWVsaW5lXG5cbmZ1bmN0aW9uIHRpbWVsaW5lKHBhcmFtcykge1xuICBpZiAoIHBhcmFtcyA9PT0gdm9pZCAwICkgcGFyYW1zID0ge307XG5cbiAgdmFyIHRsID0gYW5pbWUocGFyYW1zKTtcbiAgdGwuZHVyYXRpb24gPSAwO1xuICB0bC5hZGQgPSBmdW5jdGlvbihpbnN0YW5jZVBhcmFtcywgdGltZWxpbmVPZmZzZXQpIHtcbiAgICB2YXIgdGxJbmRleCA9IGFjdGl2ZUluc3RhbmNlcy5pbmRleE9mKHRsKTtcbiAgICB2YXIgY2hpbGRyZW4gPSB0bC5jaGlsZHJlbjtcbiAgICBpZiAodGxJbmRleCA+IC0xKSB7IGFjdGl2ZUluc3RhbmNlcy5zcGxpY2UodGxJbmRleCwgMSk7IH1cbiAgICBmdW5jdGlvbiBwYXNzVGhyb3VnaChpbnMpIHsgaW5zLnBhc3NUaHJvdWdoID0gdHJ1ZTsgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsgcGFzc1Rocm91Z2goY2hpbGRyZW5baV0pOyB9XG4gICAgdmFyIGluc1BhcmFtcyA9IG1lcmdlT2JqZWN0cyhpbnN0YW5jZVBhcmFtcywgcmVwbGFjZU9iamVjdFByb3BzKGRlZmF1bHRUd2VlblNldHRpbmdzLCBwYXJhbXMpKTtcbiAgICBpbnNQYXJhbXMudGFyZ2V0cyA9IGluc1BhcmFtcy50YXJnZXRzIHx8IHBhcmFtcy50YXJnZXRzO1xuICAgIHZhciB0bER1cmF0aW9uID0gdGwuZHVyYXRpb247XG4gICAgaW5zUGFyYW1zLmF1dG9wbGF5ID0gZmFsc2U7XG4gICAgaW5zUGFyYW1zLmRpcmVjdGlvbiA9IHRsLmRpcmVjdGlvbjtcbiAgICBpbnNQYXJhbXMudGltZWxpbmVPZmZzZXQgPSBpcy51bmQodGltZWxpbmVPZmZzZXQpID8gdGxEdXJhdGlvbiA6IGdldFJlbGF0aXZlVmFsdWUodGltZWxpbmVPZmZzZXQsIHRsRHVyYXRpb24pO1xuICAgIHBhc3NUaHJvdWdoKHRsKTtcbiAgICB0bC5zZWVrKGluc1BhcmFtcy50aW1lbGluZU9mZnNldCk7XG4gICAgdmFyIGlucyA9IGFuaW1lKGluc1BhcmFtcyk7XG4gICAgcGFzc1Rocm91Z2goaW5zKTtcbiAgICBjaGlsZHJlbi5wdXNoKGlucyk7XG4gICAgdmFyIHRpbWluZ3MgPSBnZXRJbnN0YW5jZVRpbWluZ3MoY2hpbGRyZW4sIHBhcmFtcyk7XG4gICAgdGwuZGVsYXkgPSB0aW1pbmdzLmRlbGF5O1xuICAgIHRsLmVuZERlbGF5ID0gdGltaW5ncy5lbmREZWxheTtcbiAgICB0bC5kdXJhdGlvbiA9IHRpbWluZ3MuZHVyYXRpb247XG4gICAgdGwuc2VlaygwKTtcbiAgICB0bC5yZXNldCgpO1xuICAgIGlmICh0bC5hdXRvcGxheSkgeyB0bC5wbGF5KCk7IH1cbiAgICByZXR1cm4gdGw7XG4gIH07XG4gIHJldHVybiB0bDtcbn1cblxuYW5pbWUudmVyc2lvbiA9ICczLjIuMSc7XG5hbmltZS5zcGVlZCA9IDE7XG4vLyBUT0RPOiNyZXZpZXc6IG5hbWluZywgZG9jdW1lbnRhdGlvblxuYW5pbWUuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbiA9IHRydWU7XG5hbmltZS5ydW5uaW5nID0gYWN0aXZlSW5zdGFuY2VzO1xuYW5pbWUucmVtb3ZlID0gcmVtb3ZlVGFyZ2V0c0Zyb21BY3RpdmVJbnN0YW5jZXM7XG5hbmltZS5nZXQgPSBnZXRPcmlnaW5hbFRhcmdldFZhbHVlO1xuYW5pbWUuc2V0ID0gc2V0VGFyZ2V0c1ZhbHVlO1xuYW5pbWUuY29udmVydFB4ID0gY29udmVydFB4VG9Vbml0O1xuYW5pbWUucGF0aCA9IGdldFBhdGg7XG5hbmltZS5zZXREYXNob2Zmc2V0ID0gc2V0RGFzaG9mZnNldDtcbmFuaW1lLnN0YWdnZXIgPSBzdGFnZ2VyO1xuYW5pbWUudGltZWxpbmUgPSB0aW1lbGluZTtcbmFuaW1lLmVhc2luZyA9IHBhcnNlRWFzaW5ncztcbmFuaW1lLnBlbm5lciA9IHBlbm5lcjtcbmFuaW1lLnJhbmRvbSA9IGZ1bmN0aW9uIChtaW4sIG1heCkgeyByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsgfTtcblxuZXhwb3J0IGRlZmF1bHQgYW5pbWU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/animejs/lib/anime.es.js\n");

/***/ }),

/***/ "./src/autocomplete.ts":
/*!*****************************!*\
  !*** ./src/autocomplete.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Autocomplete = void 0;\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst dropdown_1 = __webpack_require__(/*! ./dropdown */ \"./src/dropdown.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\n;\r\nlet _defaults = {\r\n    data: [],\r\n    onAutocomplete: null,\r\n    dropdownOptions: {\r\n        // Default dropdown options\r\n        autoFocus: false,\r\n        closeOnClick: false,\r\n        coverTrigger: false\r\n    },\r\n    minLength: 1,\r\n    isMultiSelect: false,\r\n    onSearch: (text, autocomplete) => {\r\n        const normSearch = text.toLocaleLowerCase();\r\n        autocomplete.setMenuItems(autocomplete.options.data.filter((option) => {\r\n            var _a;\r\n            return option.id.toString().toLocaleLowerCase().includes(normSearch)\r\n                || ((_a = option.text) === null || _a === void 0 ? void 0 : _a.toLocaleLowerCase().includes(normSearch));\r\n        }));\r\n    },\r\n    maxDropDownHeight: '300px',\r\n    allowUnsafeHTML: false\r\n};\r\nclass Autocomplete extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Autocomplete);\r\n        this._handleInputBlur = () => {\r\n            if (!this._mousedown) {\r\n                this.close();\r\n                this._resetAutocomplete();\r\n            }\r\n        };\r\n        this._handleInputKeyupAndFocus = (e) => {\r\n            if (e.type === 'keyup')\r\n                Autocomplete._keydown = false;\r\n            this.count = 0;\r\n            const actualValue = this.el.value.toLocaleLowerCase();\r\n            // Don't capture enter or arrow key usage.\r\n            if (utils_1.Utils.keys.ENTER.includes(e.key) || utils_1.Utils.keys.ARROW_UP.includes(e.key) || utils_1.Utils.keys.ARROW_DOWN.includes(e.key))\r\n                return;\r\n            // Check if the input isn't empty\r\n            // Check if focus triggered by tab\r\n            if (this.oldVal !== actualValue && (utils_1.Utils.tabPressed || e.type !== 'focus')) {\r\n                this.open();\r\n            }\r\n            // Value has changed!\r\n            if (this.oldVal !== actualValue) {\r\n                this._setStatusLoading();\r\n                this.options.onSearch(this.el.value, this);\r\n            }\r\n            // Reset Single-Select when Input cleared\r\n            if (!this.options.isMultiSelect && this.el.value.length === 0) {\r\n                this.selectedValues = [];\r\n                this._triggerChanged();\r\n            }\r\n            this.oldVal = actualValue;\r\n        };\r\n        this._handleInputKeydown = (e) => {\r\n            var _a, _b;\r\n            Autocomplete._keydown = true;\r\n            // Arrow keys and enter key usage\r\n            const numItems = this.container.querySelectorAll('li').length;\r\n            // select element on Enter\r\n            if (utils_1.Utils.keys.ENTER.includes(e.key) && this.activeIndex >= 0) {\r\n                const liElement = this.container.querySelectorAll('li')[this.activeIndex];\r\n                if (liElement) {\r\n                    this.selectOption(liElement.getAttribute('data-id'));\r\n                    e.preventDefault();\r\n                }\r\n                return;\r\n            }\r\n            // Capture up and down key\r\n            if (utils_1.Utils.keys.ARROW_UP.includes(e.key) || utils_1.Utils.keys.ARROW_DOWN.includes(e.key)) {\r\n                e.preventDefault();\r\n                if (utils_1.Utils.keys.ARROW_UP.includes(e.key) && this.activeIndex > 0)\r\n                    this.activeIndex--;\r\n                if (utils_1.Utils.keys.ARROW_DOWN.includes(e.key) && this.activeIndex < numItems - 1)\r\n                    this.activeIndex++;\r\n                (_a = this.$active) === null || _a === void 0 ? void 0 : _a.classList.remove('active');\r\n                if (this.activeIndex >= 0) {\r\n                    this.$active = this.container.querySelectorAll('li')[this.activeIndex];\r\n                    (_b = this.$active) === null || _b === void 0 ? void 0 : _b.classList.add('active');\r\n                    // Focus selected\r\n                    this.container.children[this.activeIndex].scrollIntoView({\r\n                        behavior: 'smooth',\r\n                        block: 'nearest',\r\n                        inline: 'nearest'\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        this._handleInputClick = () => {\r\n            this.open();\r\n        };\r\n        this._handleContainerMousedownAndTouchstart = () => {\r\n            this._mousedown = true;\r\n        };\r\n        this._handleContainerMouseupAndTouchend = () => {\r\n            this._mousedown = false;\r\n        };\r\n        /**\r\n         * Show autocomplete.\r\n         */\r\n        this.open = () => {\r\n            const inputText = this.el.value.toLocaleLowerCase();\r\n            this._resetAutocomplete();\r\n            if (inputText.length >= this.options.minLength) {\r\n                this.isOpen = true;\r\n                this._renderDropdown();\r\n            }\r\n            // Open dropdown\r\n            if (!this.dropdown.isOpen) {\r\n                setTimeout(() => {\r\n                    this.dropdown.open();\r\n                }, 100);\r\n            }\r\n            else\r\n                this.dropdown.recalculateDimensions(); // Recalculate dropdown when its already open\r\n        };\r\n        /**\r\n         * Hide autocomplete.\r\n         */\r\n        this.close = () => {\r\n            this.dropdown.close();\r\n        };\r\n        this.el.M_Autocomplete = this;\r\n        this.options = Object.assign(Object.assign({}, Autocomplete.defaults), options);\r\n        this.isOpen = false;\r\n        this.count = 0;\r\n        this.activeIndex = -1;\r\n        this.oldVal = \"\";\r\n        this.selectedValues = [];\r\n        this.menuItems = [];\r\n        this.$active = null;\r\n        this._mousedown = false;\r\n        this._setupDropdown();\r\n        this._setupEventHandlers();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Autocomplete.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Autocomplete);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Autocomplete;\r\n    }\r\n    destroy() {\r\n        this._removeEventHandlers();\r\n        this._removeDropdown();\r\n        this.el.M_Autocomplete = undefined;\r\n    }\r\n    _setupEventHandlers() {\r\n        this.el.addEventListener('blur', this._handleInputBlur);\r\n        this.el.addEventListener('keyup', this._handleInputKeyupAndFocus);\r\n        this.el.addEventListener('focus', this._handleInputKeyupAndFocus);\r\n        this.el.addEventListener('keydown', this._handleInputKeydown);\r\n        this.el.addEventListener('click', this._handleInputClick);\r\n        this.container.addEventListener('mousedown', this._handleContainerMousedownAndTouchstart);\r\n        this.container.addEventListener('mouseup', this._handleContainerMouseupAndTouchend);\r\n        if (typeof window.ontouchstart !== 'undefined') {\r\n            this.container.addEventListener('touchstart', this._handleContainerMousedownAndTouchstart);\r\n            this.container.addEventListener('touchend', this._handleContainerMouseupAndTouchend);\r\n        }\r\n    }\r\n    _removeEventHandlers() {\r\n        this.el.removeEventListener('blur', this._handleInputBlur);\r\n        this.el.removeEventListener('keyup', this._handleInputKeyupAndFocus);\r\n        this.el.removeEventListener('focus', this._handleInputKeyupAndFocus);\r\n        this.el.removeEventListener('keydown', this._handleInputKeydown);\r\n        this.el.removeEventListener('click', this._handleInputClick);\r\n        this.container.removeEventListener('mousedown', this._handleContainerMousedownAndTouchstart);\r\n        this.container.removeEventListener('mouseup', this._handleContainerMouseupAndTouchend);\r\n        if (typeof window.ontouchstart !== 'undefined') {\r\n            this.container.removeEventListener('touchstart', this._handleContainerMousedownAndTouchstart);\r\n            this.container.removeEventListener('touchend', this._handleContainerMouseupAndTouchend);\r\n        }\r\n    }\r\n    _setupDropdown() {\r\n        this.container = document.createElement('ul');\r\n        this.container.style.maxHeight = this.options.maxDropDownHeight;\r\n        this.container.id = `autocomplete-options-${utils_1.Utils.guid()}`;\r\n        this.container.classList.add('autocomplete-content', 'dropdown-content');\r\n        this.el.setAttribute('data-target', this.container.id);\r\n        // ! Issue in Component Dropdown: _placeDropdown moves dom-position\r\n        this.el.parentElement.appendChild(this.container);\r\n        // Initialize dropdown\r\n        let dropdownOptions = Object.assign(Object.assign({}, Autocomplete.defaults.dropdownOptions), this.options.dropdownOptions);\r\n        let userOnItemClick = dropdownOptions.onItemClick;\r\n        // Ensuring the select Option call when user passes custom onItemClick function to dropdown\r\n        dropdownOptions.onItemClick = (li) => {\r\n            if (!li)\r\n                return;\r\n            const entryID = li.getAttribute('data-id');\r\n            this.selectOption(entryID);\r\n            // Handle user declared onItemClick if needed\r\n            if (userOnItemClick && typeof userOnItemClick === 'function')\r\n                userOnItemClick.call(this.dropdown, this.el);\r\n        };\r\n        this.dropdown = dropdown_1.Dropdown.init(this.el, dropdownOptions);\r\n        // ! Workaround for Label: move label up again\r\n        // TODO: Just use PopperJS in future!\r\n        const label = this.el.parentElement.querySelector('label');\r\n        if (label)\r\n            this.el.after(label);\r\n        // Sketchy removal of dropdown click handler\r\n        this.el.removeEventListener('click', this.dropdown._handleClick);\r\n        // Set Value if already set in HTML\r\n        if (this.el.value)\r\n            this.selectOption(this.el.value);\r\n        // Add StatusInfo\r\n        const div = document.createElement('div');\r\n        div.classList.add('status-info');\r\n        div.setAttribute('style', 'position: absolute;right:0;top:0;');\r\n        this.el.parentElement.appendChild(div);\r\n        this._updateSelectedInfo();\r\n    }\r\n    _removeDropdown() {\r\n        this.container.parentNode.removeChild(this.container);\r\n    }\r\n    _resetCurrentElementPosition() {\r\n        var _a;\r\n        this.activeIndex = -1;\r\n        (_a = this.$active) === null || _a === void 0 ? void 0 : _a.classList.remove('active');\r\n    }\r\n    _resetAutocomplete() {\r\n        this.container.replaceChildren();\r\n        this._resetCurrentElementPosition();\r\n        this.oldVal = null;\r\n        this.isOpen = false;\r\n        this._mousedown = false;\r\n    }\r\n    _highlightPartialText(input, label) {\r\n        const start = label.toLocaleLowerCase().indexOf('' + input.toLocaleLowerCase() + '');\r\n        const end = start + input.length - 1;\r\n        //custom filters may return results where the string does not match any part\r\n        if (start == -1 || end == -1) {\r\n            return [label, '', ''];\r\n        }\r\n        return [label.slice(0, start), label.slice(start, end + 1), label.slice(end + 1)];\r\n    }\r\n    _createDropdownItem(entry) {\r\n        const item = document.createElement('li');\r\n        item.setAttribute('data-id', entry.id);\r\n        item.setAttribute('style', 'display:grid; grid-auto-flow: column; user-select: none; align-items: center;');\r\n        // Checkbox\r\n        if (this.options.isMultiSelect) {\r\n            item.innerHTML = `\r\n        <div class=\"item-selection\" style=\"text-align:center;\">\r\n        <input type=\"checkbox\"${this.selectedValues.some((sel) => sel.id === entry.id) ? ' checked=\"checked\"' : ''}><span style=\"padding-left:21px;\"></span>\r\n      </div>`;\r\n        }\r\n        // Image\r\n        if (entry.image) {\r\n            const img = document.createElement('img');\r\n            img.classList.add('circle');\r\n            img.src = entry.image;\r\n            item.appendChild(img);\r\n        }\r\n        // Text\r\n        const inputText = this.el.value.toLocaleLowerCase();\r\n        const parts = this._highlightPartialText(inputText, (entry.text || entry.id).toString());\r\n        const div = document.createElement('div');\r\n        div.setAttribute('style', 'line-height:1.2;font-weight:500;');\r\n        if (this.options.allowUnsafeHTML) {\r\n            div.innerHTML = parts[0] + '<span class=\"highlight\">' + parts[1] + '</span>' + parts[2];\r\n        }\r\n        else {\r\n            div.appendChild(document.createTextNode(parts[0]));\r\n            if (parts[1]) {\r\n                const highlight = document.createElement('span');\r\n                highlight.textContent = parts[1];\r\n                highlight.classList.add('highlight');\r\n                div.appendChild(highlight);\r\n                div.appendChild(document.createTextNode(parts[2]));\r\n            }\r\n        }\r\n        const itemText = document.createElement('div');\r\n        itemText.classList.add('item-text');\r\n        itemText.setAttribute('style', 'padding:5px;overflow:hidden;');\r\n        item.appendChild(itemText);\r\n        item.querySelector('.item-text').appendChild(div);\r\n        // Description\r\n        if (typeof entry.description === 'string' || (typeof entry.description === 'number' && !isNaN(entry.description))) {\r\n            const description = document.createElement('small');\r\n            description.setAttribute('style', 'line-height:1.3;color:grey;white-space:nowrap;text-overflow:ellipsis;display:block;width:90%;overflow:hidden;');\r\n            description.innerText = entry.description;\r\n            item.querySelector('.item-text').appendChild(description);\r\n        }\r\n        // Set Grid\r\n        const getGridConfig = () => {\r\n            if (this.options.isMultiSelect) {\r\n                if (entry.image)\r\n                    return '40px min-content auto'; // cb-img-txt\r\n                return '40px auto'; // cb-txt\r\n            }\r\n            if (entry.image)\r\n                return 'min-content auto'; // img-txt\r\n            return 'auto'; // txt\r\n        };\r\n        item.style.gridTemplateColumns = getGridConfig();\r\n        return item;\r\n    }\r\n    _renderDropdown() {\r\n        this._resetAutocomplete();\r\n        // Check if Data is empty\r\n        if (this.menuItems.length === 0) {\r\n            this.menuItems = this.selectedValues; // Show selected Items\r\n        }\r\n        for (let i = 0; i < this.menuItems.length; i++) {\r\n            const item = this._createDropdownItem(this.menuItems[i]);\r\n            this.container.append(item);\r\n        }\r\n    }\r\n    _setStatusLoading() {\r\n        this.el.parentElement.querySelector('.status-info').innerHTML = `<div style=\"height:100%;width:50px;\"><svg version=\"1.1\" id=\"L4\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\">\r\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"6\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\" begin=\"0.1\"/></circle>\r\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"26\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\" begin=\"0.2\"/></circle>\r\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"46\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\"  begin=\"0.3\"/></circle>\r\n  </svg></div>`;\r\n    }\r\n    _updateSelectedInfo() {\r\n        const statusElement = this.el.parentElement.querySelector('.status-info');\r\n        if (statusElement) {\r\n            if (this.options.isMultiSelect)\r\n                statusElement.innerHTML = this.selectedValues.length.toString();\r\n            else\r\n                statusElement.innerHTML = '';\r\n        }\r\n    }\r\n    _refreshInputText() {\r\n        if (this.selectedValues.length === 1) {\r\n            const entry = this.selectedValues[0];\r\n            this.el.value = entry.text || entry.id; // Write Text to Input\r\n        }\r\n    }\r\n    _triggerChanged() {\r\n        this.el.dispatchEvent(new Event('change'));\r\n        // Trigger Autocomplete Event\r\n        if (typeof this.options.onAutocomplete === 'function')\r\n            this.options.onAutocomplete.call(this, this.selectedValues);\r\n    }\r\n    /**\r\n     * Updates the visible or selectable items shown in the menu.\r\n     * @param menuItems Items to be available.\r\n     */\r\n    setMenuItems(menuItems) {\r\n        this.menuItems = menuItems;\r\n        this.open();\r\n        this._updateSelectedInfo();\r\n    }\r\n    /**\r\n     * Sets selected values.\r\n     * @param entries\r\n     */\r\n    setValues(entries) {\r\n        this.selectedValues = entries;\r\n        this._updateSelectedInfo();\r\n        if (!this.options.isMultiSelect) {\r\n            this._refreshInputText();\r\n        }\r\n        this._triggerChanged();\r\n    }\r\n    /**\r\n     * Select a specific autocomplete option via id-property.\r\n     * @param id The id of a data-entry.\r\n     */\r\n    selectOption(id) {\r\n        const entry = this.menuItems.find((item) => item.id == id);\r\n        if (!entry)\r\n            return;\r\n        // Toggle Checkbox\r\n        const li = this.container.querySelector('li[data-id=\"' + id + '\"]');\r\n        if (!li)\r\n            return;\r\n        if (this.options.isMultiSelect) {\r\n            const checkbox = li.querySelector('input[type=\"checkbox\"]');\r\n            checkbox.checked = !checkbox.checked;\r\n            if (checkbox.checked)\r\n                this.selectedValues.push(entry);\r\n            else\r\n                this.selectedValues = this.selectedValues.filter((selectedEntry) => selectedEntry.id !== entry.id);\r\n            this.el.focus();\r\n        }\r\n        else {\r\n            // Single-Select\r\n            this.selectedValues = [entry];\r\n            this._refreshInputText();\r\n            this._resetAutocomplete();\r\n            this.close();\r\n        }\r\n        this._updateSelectedInfo();\r\n        this._triggerChanged();\r\n    }\r\n}\r\nexports.Autocomplete = Autocomplete;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b21wbGV0ZS50cz9kZWZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgRHJvcGRvd24sIERyb3Bkb3duT3B0aW9ucyB9IGZyb20gXCIuL2Ryb3Bkb3duXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgQmFzZU9wdGlvbnMsIEluaXRFbGVtZW50cywgTUVsZW1lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXV0b2NvbXBsZXRlRGF0YSB7XHJcbiAgLyoqIFxyXG4gICAqIEEgcHJpbWl0aXZlIHZhbHVlIHRoYXQgY2FuIGJlIGNvbnZlcnRlZCB0byBzdHJpbmcuXHJcbiAgICogSWYgXCJ0ZXh0XCIgaXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIGFsc28gYmUgdXNlZCBhcyBcIm9wdGlvbiB0ZXh0XCIgYXMgd2VsbFxyXG4gICAqL1xyXG4gIGlkOiBzdHJpbmcgfCBudW1iZXI7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBvcHRpb25hbCBhdHRyaWJ1dGUgaXMgdXNlZCBhcyBcImRpc3BsYXkgdmFsdWVcIiBmb3IgdGhlIGN1cnJlbnQgZW50cnkuXHJcbiAgICogV2hlbiBwcm92aWRlZCwgaXQgd2lsbCBhbHNvIGJlIHRha2VuIGludG8gY29uc2lkZXJhdGlvbiBieSB0aGUgc3RhbmRhcmQgc2VhcmNoIGZ1bmN0aW9uLlxyXG4gICAqL1xyXG4gIHRleHQ/OiBzdHJpbmc7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBvcHRpb25hbCBhdHRyaWJ1dGUgaXMgdXNlZCB0byBwcm92aWRlIGEgdmFsaWQgaW1hZ2UgVVJMIHRvIHRoZSBjdXJyZW50IG9wdGlvbi5cclxuICAgKi9cclxuICBpbWFnZT86IHN0cmluZztcclxuICAvKipcclxuICAgKiBPcHRpb25hbCBhdHRyaWJ1dGVzIHdoaWNoIGRlc2NyaWJlcyB0aGUgb3B0aW9uLlxyXG4gICAqL1xyXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEF1dG9jb21wbGV0ZU9wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogRGF0YSBvYmplY3QgZGVmaW5pbmcgYXV0b2NvbXBsZXRlIG9wdGlvbnMgd2l0aFxyXG4gICAqIG9wdGlvbmFsIGljb24gc3RyaW5ncy5cclxuICAgKi9cclxuICBkYXRhOiBBdXRvY29tcGxldGVEYXRhW107XHJcbiAgLyoqXHJcbiAgICogRmxhZyB3aGljaCBjYW4gYmUgc2V0IGlmIG11bHRpcGxlIHZhbHVlcyBjYW4gYmUgc2VsZWN0ZWQuIFRoZSBSZXN1bHQgd2lsbCBiZSBhbiBBcnJheS5cclxuICAgKiBAZGVmYXVsdCBmYWxzZVxyXG4gICAqL1xyXG4gIGlzTXVsdGlTZWxlY3Q6IGJvb2xlYW47XHJcbiAgLyoqXHJcbiAgICogQ2FsbGJhY2sgZm9yIHdoZW4gYXV0b2NvbXBsZXRlZC5cclxuICAgKi9cclxuICBvbkF1dG9jb21wbGV0ZTogKGVudHJpZXM6IEF1dG9jb21wbGV0ZURhdGFbXSkgPT4gdm9pZDtcclxuICAvKipcclxuICAgKiBNaW5pbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIGJlZm9yZSBhdXRvY29tcGxldGUgc3RhcnRzLlxyXG4gICAqIEBkZWZhdWx0IDFcclxuICAgKi9cclxuICBtaW5MZW5ndGg6IG51bWJlcjtcclxuICAvKipcclxuICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBNZW51IHdoaWNoIGNhbiBiZSBzZXQgdmlhIGNzcy1wcm9wZXJ0eS5cclxuICAgKiBAZGVmYXVsdCAnMzAwcHgnXHJcbiAgICovXHJcbiAgbWF4RHJvcERvd25IZWlnaHQ6IHN0cmluZztcclxuICAvKipcclxuICAgKiBGdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiB0aGUgaW5wdXQgdGV4dCBpcyBhbHRlcmVkIGFuZCBkYXRhIGNhbiBhbHNvIGJlIGxvYWRlZCBhc3luY2hyb25vdXNseS5cclxuICAgKiBJZiB0aGUgcmVzdWx0cyBhcmUgY29sbGVjdGVkIHRoZSBpdGVtcyBpbiB0aGUgbGlzdCBjYW4gYmUgdXBkYXRlZCB2aWEgdGhlIGZ1bmN0aW9uIHNldE1lbnVJdGVtcyhjb2xsZWN0ZWRJdGVtcykuXHJcbiAgICogQHBhcmFtIHRleHQgU2VhcmNoZWQgdGV4dC5cclxuICAgKiBAcGFyYW0gYXV0b2NvbXBsZXRlIEN1cnJlbnQgYXV0b2NvbXBsZXRlIGluc3RhbmNlLlxyXG4gICAqL1xyXG4gIG9uU2VhcmNoOiAodGV4dDogc3RyaW5nLCBhdXRvY29tcGxldGU6IEF1dG9jb21wbGV0ZSkgPT4gdm9pZDtcclxuICAvKipcclxuICAgKiBJZiB0cnVlIHdpbGwgcmVuZGVyIHRoZSBrZXkgZnJvbSBlYWNoIGl0ZW0gZGlyZWN0bHkgYXMgSFRNTC5cclxuICAgKiBVc2VyIGlucHV0IE1VU1QgYmUgcHJvcGVybHkgc2FuaXRpemVkIGZpcnN0LlxyXG4gICAqIEBkZWZhdWx0IGZhbHNlXHJcbiAgICovXHJcbiAgYWxsb3dVbnNhZmVIVE1MOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIFBhc3Mgb3B0aW9ucyBvYmplY3QgdG8gc2VsZWN0IGRyb3Bkb3duIGluaXRpYWxpemF0aW9uLlxyXG4gICAqIEBkZWZhdWx0IHt9XHJcbiAgICovXHJcbiAgZHJvcGRvd25PcHRpb25zOiBQYXJ0aWFsPERyb3Bkb3duT3B0aW9ucz47XHJcbn07XHJcblxyXG5sZXQgX2RlZmF1bHRzOiBBdXRvY29tcGxldGVPcHRpb25zID0ge1xyXG4gIGRhdGE6IFtdLCAvLyBBdXRvY29tcGxldGUgZGF0YSBzZXRcclxuICBvbkF1dG9jb21wbGV0ZTogbnVsbCwgLy8gQ2FsbGJhY2sgZm9yIHdoZW4gYXV0b2NvbXBsZXRlZFxyXG4gIGRyb3Bkb3duT3B0aW9uczoge1xyXG4gICAgLy8gRGVmYXVsdCBkcm9wZG93biBvcHRpb25zXHJcbiAgICBhdXRvRm9jdXM6IGZhbHNlLFxyXG4gICAgY2xvc2VPbkNsaWNrOiBmYWxzZSxcclxuICAgIGNvdmVyVHJpZ2dlcjogZmFsc2VcclxuICB9LFxyXG4gIG1pbkxlbmd0aDogMSwgLy8gTWluIGNoYXJhY3RlcnMgYmVmb3JlIGF1dG9jb21wbGV0ZSBzdGFydHNcclxuICBpc011bHRpU2VsZWN0OiBmYWxzZSxcclxuICBvblNlYXJjaDogKHRleHQ6IHN0cmluZywgYXV0b2NvbXBsZXRlOiBBdXRvY29tcGxldGUpID0+IHtcclxuICAgIGNvbnN0IG5vcm1TZWFyY2ggPSB0ZXh0LnRvTG9jYWxlTG93ZXJDYXNlKCk7XHJcbiAgICBhdXRvY29tcGxldGUuc2V0TWVudUl0ZW1zKFxyXG4gICAgICBhdXRvY29tcGxldGUub3B0aW9ucy5kYXRhLmZpbHRlcigob3B0aW9uKSA9PiBcclxuICAgICAgICBvcHRpb24uaWQudG9TdHJpbmcoKS50b0xvY2FsZUxvd2VyQ2FzZSgpLmluY2x1ZGVzKG5vcm1TZWFyY2gpXHJcbiAgICAgICAgICB8fCBvcHRpb24udGV4dD8udG9Mb2NhbGVMb3dlckNhc2UoKS5pbmNsdWRlcyhub3JtU2VhcmNoKVxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH0sXHJcbiAgbWF4RHJvcERvd25IZWlnaHQ6ICczMDBweCcsXHJcbiAgYWxsb3dVbnNhZmVIVE1MOiBmYWxzZVxyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBBdXRvY29tcGxldGUgZXh0ZW5kcyBDb21wb25lbnQ8QXV0b2NvbXBsZXRlT3B0aW9ucz4ge1xyXG4gIGRlY2xhcmUgZWw6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgLyoqIElmIHRoZSBhdXRvY29tcGxldGUgaXMgb3Blbi4gKi9cclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgLyoqIE51bWJlciBvZiBtYXRjaGluZyBhdXRvY29tcGxldGUgb3B0aW9ucy4gKi9cclxuICBjb3VudDogbnVtYmVyO1xyXG4gIC8qKiBJbmRleCBvZiB0aGUgY3VycmVudCBzZWxlY3RlZCBvcHRpb24uICovXHJcbiAgYWN0aXZlSW5kZXg6IG51bWJlcjtcclxuICBwcml2YXRlIG9sZFZhbDogc3RyaW5nO1xyXG4gIHByaXZhdGUgJGFjdGl2ZTogSFRNTEVsZW1lbnR8bnVsbDtcclxuICBwcml2YXRlIF9tb3VzZWRvd246IGJvb2xlYW47XHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICAvKiogSW5zdGFuY2Ugb2YgdGhlIGRyb3Bkb3duIHBsdWdpbiBmb3IgdGhpcyBhdXRvY29tcGxldGUuICovXHJcbiAgZHJvcGRvd246IERyb3Bkb3duO1xyXG4gIHN0YXRpYyBfa2V5ZG93bjogYm9vbGVhbjtcclxuICBzZWxlY3RlZFZhbHVlczogQXV0b2NvbXBsZXRlRGF0YVtdO1xyXG4gIG1lbnVJdGVtczogQXV0b2NvbXBsZXRlRGF0YVtdO1xyXG5cclxuXHJcbiAgY29uc3RydWN0b3IoZWw6IEhUTUxJbnB1dEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8QXV0b2NvbXBsZXRlT3B0aW9ucz4pIHtcclxuICAgIHN1cGVyKGVsLCBvcHRpb25zLCBBdXRvY29tcGxldGUpO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0F1dG9jb21wbGV0ZSA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICAuLi5BdXRvY29tcGxldGUuZGVmYXVsdHMsXHJcbiAgICAgIC4uLm9wdGlvbnNcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcbiAgICB0aGlzLmNvdW50ID0gMDtcclxuICAgIHRoaXMuYWN0aXZlSW5kZXggPSAtMTtcclxuICAgIHRoaXMub2xkVmFsID0gXCJcIjtcclxuICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcclxuICAgIHRoaXMubWVudUl0ZW1zID0gW107XHJcbiAgICB0aGlzLiRhY3RpdmUgPSBudWxsO1xyXG4gICAgdGhpcy5fbW91c2Vkb3duID0gZmFsc2U7XHJcbiAgICB0aGlzLl9zZXR1cERyb3Bkb3duKCk7XHJcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKTogQXV0b2NvbXBsZXRlT3B0aW9ucyB7XHJcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgQXV0b2NvbXBsZXRlLlxyXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWw6IEhUTUxJbnB1dEVsZW1lbnQsIG9wdGlvbnM/OiBQYXJ0aWFsPEF1dG9jb21wbGV0ZU9wdGlvbnM+KTogQXV0b2NvbXBsZXRlO1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBBdXRvY29tcGxldGUuXHJcbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPEhUTUxJbnB1dEVsZW1lbnQgfCBNRWxlbWVudD4sIG9wdGlvbnM/OiBQYXJ0aWFsPEF1dG9jb21wbGV0ZU9wdGlvbnM+KTogQXV0b2NvbXBsZXRlW107XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIEF1dG9jb21wbGV0ZS5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWxzOiBIVE1MSW5wdXRFbGVtZW50IHwgSW5pdEVsZW1lbnRzPEhUTUxJbnB1dEVsZW1lbnQgfCBNRWxlbWVudD4sIG9wdGlvbnM6IFBhcnRpYWw8QXV0b2NvbXBsZXRlT3B0aW9ucz4gPSB7fSk6IEF1dG9jb21wbGV0ZSB8IEF1dG9jb21wbGV0ZVtdIHtcclxuICAgIHJldHVybiBzdXBlci5pbml0KGVscywgb3B0aW9ucywgQXV0b2NvbXBsZXRlKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBBdXRvY29tcGxldGUge1xyXG4gICAgcmV0dXJuIChlbCBhcyBhbnkpLk1fQXV0b2NvbXBsZXRlO1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcclxuICAgIHRoaXMuX3JlbW92ZURyb3Bkb3duKCk7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQXV0b2NvbXBsZXRlID0gdW5kZWZpbmVkO1xyXG4gIH1cclxuXHJcbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1cik7XHJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlSW5wdXRLZXl1cEFuZEZvY3VzKTtcclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXMpO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duKTtcclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrKTtcclxuICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICdtb3VzZWRvd24nLFxyXG4gICAgICB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZWRvd25BbmRUb3VjaHN0YXJ0XHJcbiAgICApO1xyXG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNldXBBbmRUb3VjaGVuZCk7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgJ3RvdWNoc3RhcnQnLFxyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnRcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XHJcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVJbnB1dEJsdXIpO1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1cyk7XHJcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlSW5wdXRLZXl1cEFuZEZvY3VzKTtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bik7XHJcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGljayk7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG4gICAgICAnbW91c2Vkb3duJyxcclxuICAgICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydFxyXG4gICAgKTtcclxuICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmQpO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygd2luZG93Lm9udG91Y2hzdGFydCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAndG91Y2hzdGFydCcsXHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydFxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICd0b3VjaGVuZCcsXHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2V1cEFuZFRvdWNoZW5kXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0dXBEcm9wZG93bigpIHtcclxuICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcclxuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLm1heEhlaWdodCA9IHRoaXMub3B0aW9ucy5tYXhEcm9wRG93bkhlaWdodDtcclxuICAgIHRoaXMuY29udGFpbmVyLmlkID0gYGF1dG9jb21wbGV0ZS1vcHRpb25zLSR7VXRpbHMuZ3VpZCgpfWA7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdhdXRvY29tcGxldGUtY29udGVudCcsICdkcm9wZG93bi1jb250ZW50Jyk7XHJcbiAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnLCB0aGlzLmNvbnRhaW5lci5pZCk7XHJcblxyXG4gICAgLy8gISBJc3N1ZSBpbiBDb21wb25lbnQgRHJvcGRvd246IF9wbGFjZURyb3Bkb3duIG1vdmVzIGRvbS1wb3NpdGlvblxyXG4gICAgdGhpcy5lbC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKTtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIGRyb3Bkb3duXHJcbiAgICBsZXQgZHJvcGRvd25PcHRpb25zID0ge1xyXG4gICAgICAuLi5BdXRvY29tcGxldGUuZGVmYXVsdHMuZHJvcGRvd25PcHRpb25zLFxyXG4gICAgICAuLi50aGlzLm9wdGlvbnMuZHJvcGRvd25PcHRpb25zXHJcbiAgICB9O1xyXG4gICAgbGV0IHVzZXJPbkl0ZW1DbGljayA9IGRyb3Bkb3duT3B0aW9ucy5vbkl0ZW1DbGljaztcclxuICAgIC8vIEVuc3VyaW5nIHRoZSBzZWxlY3QgT3B0aW9uIGNhbGwgd2hlbiB1c2VyIHBhc3NlcyBjdXN0b20gb25JdGVtQ2xpY2sgZnVuY3Rpb24gdG8gZHJvcGRvd25cclxuICAgIGRyb3Bkb3duT3B0aW9ucy5vbkl0ZW1DbGljayA9IChsaSkgPT4ge1xyXG4gICAgICBpZiAoIWxpKSByZXR1cm47XHJcbiAgICAgIGNvbnN0IGVudHJ5SUQgPSBsaS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKTtcclxuICAgICAgdGhpcy5zZWxlY3RPcHRpb24oZW50cnlJRCk7XHJcbiAgICAgIC8vIEhhbmRsZSB1c2VyIGRlY2xhcmVkIG9uSXRlbUNsaWNrIGlmIG5lZWRlZFxyXG4gICAgICBpZiAodXNlck9uSXRlbUNsaWNrICYmIHR5cGVvZiB1c2VyT25JdGVtQ2xpY2sgPT09ICdmdW5jdGlvbicpXHJcbiAgICAgICAgdXNlck9uSXRlbUNsaWNrLmNhbGwodGhpcy5kcm9wZG93biwgdGhpcy5lbCk7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5kcm9wZG93biA9IERyb3Bkb3duLmluaXQodGhpcy5lbCwgZHJvcGRvd25PcHRpb25zKTtcclxuXHJcbiAgICAvLyAhIFdvcmthcm91bmQgZm9yIExhYmVsOiBtb3ZlIGxhYmVsIHVwIGFnYWluXHJcbiAgICAvLyBUT0RPOiBKdXN0IHVzZSBQb3BwZXJKUyBpbiBmdXR1cmUhXHJcbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuZWwucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpO1xyXG4gICAgaWYgKGxhYmVsKSB0aGlzLmVsLmFmdGVyKGxhYmVsKTtcclxuXHJcbiAgICAvLyBTa2V0Y2h5IHJlbW92YWwgb2YgZHJvcGRvd24gY2xpY2sgaGFuZGxlclxyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZHJvcGRvd24uX2hhbmRsZUNsaWNrKTtcclxuICAgIC8vIFNldCBWYWx1ZSBpZiBhbHJlYWR5IHNldCBpbiBIVE1MXHJcbiAgICBpZiAodGhpcy5lbC52YWx1ZSkgdGhpcy5zZWxlY3RPcHRpb24odGhpcy5lbC52YWx1ZSk7XHJcbiAgICAvLyBBZGQgU3RhdHVzSW5mb1xyXG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgnc3RhdHVzLWluZm8nKTtcclxuICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3Bvc2l0aW9uOiBhYnNvbHV0ZTtyaWdodDowO3RvcDowOycpO1xyXG4gICAgdGhpcy5lbC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICB0aGlzLl91cGRhdGVTZWxlY3RlZEluZm8oKTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVEcm9wZG93bigpIHtcclxuICAgIHRoaXMuY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUlucHV0Qmx1ciA9ICgpID0+IHtcclxuICAgIGlmICghdGhpcy5fbW91c2Vkb3duKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgdGhpcy5fcmVzZXRBdXRvY29tcGxldGUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVJbnB1dEtleXVwQW5kRm9jdXMgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgaWYgKGUudHlwZSA9PT0gJ2tleXVwJykgQXV0b2NvbXBsZXRlLl9rZXlkb3duID0gZmFsc2U7XHJcbiAgICB0aGlzLmNvdW50ID0gMDtcclxuICAgIGNvbnN0IGFjdHVhbFZhbHVlID0gdGhpcy5lbC52YWx1ZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xyXG4gICAgLy8gRG9uJ3QgY2FwdHVyZSBlbnRlciBvciBhcnJvdyBrZXkgdXNhZ2UuXHJcbiAgICBpZiAoVXRpbHMua2V5cy5FTlRFUi5pbmNsdWRlcyhlLmtleSkgfHwgVXRpbHMua2V5cy5BUlJPV19VUC5pbmNsdWRlcyhlLmtleSkgfHwgVXRpbHMua2V5cy5BUlJPV19ET1dOLmluY2x1ZGVzKGUua2V5KSkgcmV0dXJuO1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGlucHV0IGlzbid0IGVtcHR5XHJcbiAgICAvLyBDaGVjayBpZiBmb2N1cyB0cmlnZ2VyZWQgYnkgdGFiXHJcbiAgICBpZiAodGhpcy5vbGRWYWwgIT09IGFjdHVhbFZhbHVlICYmIChVdGlscy50YWJQcmVzc2VkIHx8IGUudHlwZSAhPT0gJ2ZvY3VzJykpIHtcclxuICAgICAgdGhpcy5vcGVuKCk7XHJcbiAgICB9XHJcbiAgICAvLyBWYWx1ZSBoYXMgY2hhbmdlZCFcclxuICAgIGlmICh0aGlzLm9sZFZhbCAhPT0gYWN0dWFsVmFsdWUpIHtcclxuICAgICAgdGhpcy5fc2V0U3RhdHVzTG9hZGluZygpO1xyXG4gICAgICB0aGlzLm9wdGlvbnMub25TZWFyY2godGhpcy5lbC52YWx1ZSwgdGhpcyk7XHJcbiAgICB9XHJcbiAgICAvLyBSZXNldCBTaW5nbGUtU2VsZWN0IHdoZW4gSW5wdXQgY2xlYXJlZFxyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuaXNNdWx0aVNlbGVjdCAmJiB0aGlzLmVsLnZhbHVlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gW107XHJcbiAgICAgIHRoaXMuX3RyaWdnZXJDaGFuZ2VkKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm9sZFZhbCA9IGFjdHVhbFZhbHVlO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUlucHV0S2V5ZG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICBBdXRvY29tcGxldGUuX2tleWRvd24gPSB0cnVlO1xyXG4gICAgLy8gQXJyb3cga2V5cyBhbmQgZW50ZXIga2V5IHVzYWdlXHJcbiAgICBjb25zdCBudW1JdGVtcyA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJykubGVuZ3RoO1xyXG4gICAgLy8gc2VsZWN0IGVsZW1lbnQgb24gRW50ZXJcclxuICAgIGlmIChVdGlscy5rZXlzLkVOVEVSLmluY2x1ZGVzKGUua2V5KSAmJiB0aGlzLmFjdGl2ZUluZGV4ID49IDApIHtcclxuICAgICAgY29uc3QgbGlFbGVtZW50ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnbGknKVt0aGlzLmFjdGl2ZUluZGV4XTtcclxuICAgICAgaWYgKGxpRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uKGxpRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSk7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIENhcHR1cmUgdXAgYW5kIGRvd24ga2V5XHJcbiAgICBpZiAoVXRpbHMua2V5cy5BUlJPV19VUC5pbmNsdWRlcyhlLmtleSkgfHwgVXRpbHMua2V5cy5BUlJPV19ET1dOLmluY2x1ZGVzKGUua2V5KSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGlmIChVdGlscy5rZXlzLkFSUk9XX1VQLmluY2x1ZGVzKGUua2V5KSAmJiB0aGlzLmFjdGl2ZUluZGV4ID4gMCkgdGhpcy5hY3RpdmVJbmRleC0tO1xyXG4gICAgICBpZiAoVXRpbHMua2V5cy5BUlJPV19ET1dOLmluY2x1ZGVzKGUua2V5KSAmJiB0aGlzLmFjdGl2ZUluZGV4IDwgbnVtSXRlbXMgLSAxKSB0aGlzLmFjdGl2ZUluZGV4Kys7XHJcbiAgICAgIHRoaXMuJGFjdGl2ZT8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgIGlmICh0aGlzLmFjdGl2ZUluZGV4ID49IDApIHtcclxuICAgICAgICB0aGlzLiRhY3RpdmUgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdsaScpW3RoaXMuYWN0aXZlSW5kZXhdO1xyXG4gICAgICAgIHRoaXMuJGFjdGl2ZT8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgLy8gRm9jdXMgc2VsZWN0ZWRcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5jaGlsZHJlblt0aGlzLmFjdGl2ZUluZGV4XS5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXHJcbiAgICAgICAgICBibG9jazogJ25lYXJlc3QnLFxyXG4gICAgICAgICAgaW5saW5lOiAnbmVhcmVzdCdcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUlucHV0Q2xpY2sgPSAoKSA9PiB7XHJcbiAgICB0aGlzLm9wZW4oKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVDb250YWluZXJNb3VzZWRvd25BbmRUb3VjaHN0YXJ0ID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fbW91c2Vkb3duID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9tb3VzZWRvd24gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIF9yZXNldEN1cnJlbnRFbGVtZW50UG9zaXRpb24oKSB7XHJcbiAgICB0aGlzLmFjdGl2ZUluZGV4ID0gLTE7XHJcbiAgICB0aGlzLiRhY3RpdmU/LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgX3Jlc2V0QXV0b2NvbXBsZXRlKCkge1xyXG4gICAgdGhpcy5jb250YWluZXIucmVwbGFjZUNoaWxkcmVuKCk7XHJcbiAgICB0aGlzLl9yZXNldEN1cnJlbnRFbGVtZW50UG9zaXRpb24oKTtcclxuICAgIHRoaXMub2xkVmFsID0gbnVsbDtcclxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcbiAgICB0aGlzLl9tb3VzZWRvd24gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIF9oaWdobGlnaHRQYXJ0aWFsVGV4dChpbnB1dDogc3RyaW5nLCBsYWJlbDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBzdGFydCA9IGxhYmVsLnRvTG9jYWxlTG93ZXJDYXNlKCkuaW5kZXhPZignJyArIGlucHV0LnRvTG9jYWxlTG93ZXJDYXNlKCkgKyAnJyk7XHJcbiAgICBjb25zdCBlbmQgPSBzdGFydCArIGlucHV0Lmxlbmd0aCAtIDE7XHJcbiAgICAvL2N1c3RvbSBmaWx0ZXJzIG1heSByZXR1cm4gcmVzdWx0cyB3aGVyZSB0aGUgc3RyaW5nIGRvZXMgbm90IG1hdGNoIGFueSBwYXJ0XHJcbiAgICBpZiAoc3RhcnQgPT0gLTEgfHwgZW5kID09IC0xKSB7XHJcbiAgICAgIHJldHVybiBbbGFiZWwsICcnLCAnJ107XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW2xhYmVsLnNsaWNlKDAsIHN0YXJ0KSwgbGFiZWwuc2xpY2Uoc3RhcnQsIGVuZCArIDEpLCBsYWJlbC5zbGljZShlbmQgKyAxKV07XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlRHJvcGRvd25JdGVtKGVudHJ5OiBBdXRvY29tcGxldGVEYXRhKSB7XHJcbiAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgPHN0cmluZz5lbnRyeS5pZCk7XHJcbiAgICBpdGVtLnNldEF0dHJpYnV0ZShcclxuICAgICAgJ3N0eWxlJyxcclxuICAgICAgJ2Rpc3BsYXk6Z3JpZDsgZ3JpZC1hdXRvLWZsb3c6IGNvbHVtbjsgdXNlci1zZWxlY3Q6IG5vbmU7IGFsaWduLWl0ZW1zOiBjZW50ZXI7J1xyXG4gICAgKTtcclxuICAgIC8vIENoZWNrYm94XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmlzTXVsdGlTZWxlY3QpIHtcclxuICAgICAgaXRlbS5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIml0ZW0tc2VsZWN0aW9uXCIgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlcjtcIj5cclxuICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIke1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZFZhbHVlcy5zb21lKChzZWwpID0+IHNlbC5pZCA9PT0gZW50cnkuaWQpID8gJyBjaGVja2VkPVwiY2hlY2tlZFwiJyA6ICcnXHJcbiAgICAgICAgfT48c3BhbiBzdHlsZT1cInBhZGRpbmctbGVmdDoyMXB4O1wiPjwvc3Bhbj5cclxuICAgICAgPC9kaXY+YDtcclxuICAgIH1cclxuICAgIC8vIEltYWdlXHJcbiAgICBpZiAoZW50cnkuaW1hZ2UpIHtcclxuICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgIGltZy5jbGFzc0xpc3QuYWRkKCdjaXJjbGUnKTtcclxuICAgICAgaW1nLnNyYyA9IGVudHJ5LmltYWdlO1xyXG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGltZyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGV4dFxyXG4gICAgY29uc3QgaW5wdXRUZXh0ID0gdGhpcy5lbC52YWx1ZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xyXG4gICAgY29uc3QgcGFydHMgPSB0aGlzLl9oaWdobGlnaHRQYXJ0aWFsVGV4dChpbnB1dFRleHQsIChlbnRyeS50ZXh0IHx8IGVudHJ5LmlkKS50b1N0cmluZygpKTtcclxuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgZGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnbGluZS1oZWlnaHQ6MS4yO2ZvbnQtd2VpZ2h0OjUwMDsnKTtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dVbnNhZmVIVE1MKSB7XHJcbiAgICAgIGRpdi5pbm5lckhUTUwgPSBwYXJ0c1swXSArICc8c3BhbiBjbGFzcz1cImhpZ2hsaWdodFwiPicgKyBwYXJ0c1sxXSArICc8L3NwYW4+JyArIHBhcnRzWzJdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHBhcnRzWzBdKSk7XHJcbiAgICAgIGlmIChwYXJ0c1sxXSkge1xyXG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICBoaWdobGlnaHQudGV4dENvbnRlbnQgPSBwYXJ0c1sxXTtcclxuICAgICAgICBoaWdobGlnaHQuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0Jyk7XHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGhpZ2hsaWdodCk7XHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHBhcnRzWzJdKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgaXRlbVRleHQuY2xhc3NMaXN0LmFkZCgnaXRlbS10ZXh0Jyk7XHJcbiAgICBpdGVtVGV4dC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3BhZGRpbmc6NXB4O292ZXJmbG93OmhpZGRlbjsnKTtcclxuICAgIGl0ZW0uYXBwZW5kQ2hpbGQoaXRlbVRleHQpO1xyXG4gICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcuaXRlbS10ZXh0JykuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgIC8vIERlc2NyaXB0aW9uXHJcbiAgICBpZiAodHlwZW9mIGVudHJ5LmRlc2NyaXB0aW9uID09PSAnc3RyaW5nJyB8fCAodHlwZW9mIGVudHJ5LmRlc2NyaXB0aW9uID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oZW50cnkuZGVzY3JpcHRpb24pKSkge1xyXG4gICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NtYWxsJyk7XHJcbiAgICAgIGRlc2NyaXB0aW9uLnNldEF0dHJpYnV0ZShcclxuICAgICAgICAnc3R5bGUnLFxyXG4gICAgICAgICdsaW5lLWhlaWdodDoxLjM7Y29sb3I6Z3JleTt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1vdmVyZmxvdzplbGxpcHNpcztkaXNwbGF5OmJsb2NrO3dpZHRoOjkwJTtvdmVyZmxvdzpoaWRkZW47J1xyXG4gICAgICApO1xyXG4gICAgICBkZXNjcmlwdGlvbi5pbm5lclRleHQgPSBlbnRyeS5kZXNjcmlwdGlvbjtcclxuICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcuaXRlbS10ZXh0JykuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xyXG4gICAgfVxyXG4gICAgLy8gU2V0IEdyaWRcclxuICAgIGNvbnN0IGdldEdyaWRDb25maWcgPSAoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNNdWx0aVNlbGVjdCkge1xyXG4gICAgICAgIGlmIChlbnRyeS5pbWFnZSkgcmV0dXJuICc0MHB4IG1pbi1jb250ZW50IGF1dG8nOyAvLyBjYi1pbWctdHh0XHJcbiAgICAgICAgcmV0dXJuICc0MHB4IGF1dG8nOyAvLyBjYi10eHRcclxuICAgICAgfVxyXG4gICAgICBpZiAoZW50cnkuaW1hZ2UpIHJldHVybiAnbWluLWNvbnRlbnQgYXV0byc7IC8vIGltZy10eHRcclxuICAgICAgcmV0dXJuICdhdXRvJzsgLy8gdHh0XHJcbiAgICB9O1xyXG4gICAgaXRlbS5zdHlsZS5ncmlkVGVtcGxhdGVDb2x1bW5zID0gZ2V0R3JpZENvbmZpZygpO1xyXG4gICAgcmV0dXJuIGl0ZW07XHJcbiAgfVxyXG5cclxuICBfcmVuZGVyRHJvcGRvd24oKSB7XHJcbiAgICB0aGlzLl9yZXNldEF1dG9jb21wbGV0ZSgpO1xyXG4gICAgLy8gQ2hlY2sgaWYgRGF0YSBpcyBlbXB0eVxyXG4gICAgaWYgKHRoaXMubWVudUl0ZW1zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICB0aGlzLm1lbnVJdGVtcyA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXM7IC8vIFNob3cgc2VsZWN0ZWQgSXRlbXNcclxuICAgIH1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZW51SXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX2NyZWF0ZURyb3Bkb3duSXRlbSh0aGlzLm1lbnVJdGVtc1tpXSk7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZChpdGVtKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRTdGF0dXNMb2FkaW5nKCkge1xyXG4gICAgdGhpcy5lbC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICcuc3RhdHVzLWluZm8nXHJcbiAgICApLmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPVwiaGVpZ2h0OjEwMCU7d2lkdGg6NTBweDtcIj48c3ZnIHZlcnNpb249XCIxLjFcIiBpZD1cIkw0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCIgdmlld0JveD1cIjAgMCAxMDAgMTAwXCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDAgMFwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XHJcbiAgICA8Y2lyY2xlIGZpbGw9XCIjODg4Y1wiIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjZcIiBjeT1cIjUwXCIgcj1cIjZcIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwib3BhY2l0eVwiIGR1cj1cIjFzXCIgdmFsdWVzPVwiMDsxOzBcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiBiZWdpbj1cIjAuMVwiLz48L2NpcmNsZT5cclxuICAgIDxjaXJjbGUgZmlsbD1cIiM4ODhjXCIgc3Ryb2tlPVwibm9uZVwiIGN4PVwiMjZcIiBjeT1cIjUwXCIgcj1cIjZcIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwib3BhY2l0eVwiIGR1cj1cIjFzXCIgdmFsdWVzPVwiMDsxOzBcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiBiZWdpbj1cIjAuMlwiLz48L2NpcmNsZT5cclxuICAgIDxjaXJjbGUgZmlsbD1cIiM4ODhjXCIgc3Ryb2tlPVwibm9uZVwiIGN4PVwiNDZcIiBjeT1cIjUwXCIgcj1cIjZcIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwib3BhY2l0eVwiIGR1cj1cIjFzXCIgdmFsdWVzPVwiMDsxOzBcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiAgYmVnaW49XCIwLjNcIi8+PC9jaXJjbGU+XHJcbiAgPC9zdmc+PC9kaXY+YDtcclxuICB9XHJcblxyXG4gIF91cGRhdGVTZWxlY3RlZEluZm8oKSB7XHJcbiAgICBjb25zdCBzdGF0dXNFbGVtZW50ID0gdGhpcy5lbC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGF0dXMtaW5mbycpO1xyXG4gICAgaWYgKHN0YXR1c0VsZW1lbnQpIHtcclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc011bHRpU2VsZWN0KSBzdGF0dXNFbGVtZW50LmlubmVySFRNTCA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoLnRvU3RyaW5nKCk7XHJcbiAgICAgIGVsc2Ugc3RhdHVzRWxlbWVudC5pbm5lckhUTUwgPSAnJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9yZWZyZXNoSW5wdXRUZXh0KCkge1xyXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5zZWxlY3RlZFZhbHVlc1swXTtcclxuICAgICAgdGhpcy5lbC52YWx1ZSA9IGVudHJ5LnRleHQgfHwgPHN0cmluZz5lbnRyeS5pZDsgLy8gV3JpdGUgVGV4dCB0byBJbnB1dFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3RyaWdnZXJDaGFuZ2VkKCkge1xyXG4gICAgdGhpcy5lbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJykpO1xyXG4gICAgLy8gVHJpZ2dlciBBdXRvY29tcGxldGUgRXZlbnRcclxuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQXV0b2NvbXBsZXRlID09PSAnZnVuY3Rpb24nKVxyXG4gICAgICB0aGlzLm9wdGlvbnMub25BdXRvY29tcGxldGUuY2FsbCh0aGlzLCB0aGlzLnNlbGVjdGVkVmFsdWVzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNob3cgYXV0b2NvbXBsZXRlLlxyXG4gICAqL1xyXG4gIG9wZW4gPSAoKSA9PiB7XHJcbiAgICBjb25zdCBpbnB1dFRleHQgPSB0aGlzLmVsLnZhbHVlLnRvTG9jYWxlTG93ZXJDYXNlKCk7XHJcbiAgICB0aGlzLl9yZXNldEF1dG9jb21wbGV0ZSgpO1xyXG4gICAgaWYgKGlucHV0VGV4dC5sZW5ndGggPj0gdGhpcy5vcHRpb25zLm1pbkxlbmd0aCkge1xyXG4gICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XHJcbiAgICAgIHRoaXMuX3JlbmRlckRyb3Bkb3duKCk7XHJcbiAgICB9XHJcbiAgICAvLyBPcGVuIGRyb3Bkb3duXHJcbiAgICBpZiAoIXRoaXMuZHJvcGRvd24uaXNPcGVuKSB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZHJvcGRvd24ub3BlbigpO1xyXG4gICAgICB9LCAxMDApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB0aGlzLmRyb3Bkb3duLnJlY2FsY3VsYXRlRGltZW5zaW9ucygpOyAvLyBSZWNhbGN1bGF0ZSBkcm9wZG93biB3aGVuIGl0cyBhbHJlYWR5IG9wZW5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhpZGUgYXV0b2NvbXBsZXRlLlxyXG4gICAqL1xyXG4gIGNsb3NlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5kcm9wZG93bi5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgdmlzaWJsZSBvciBzZWxlY3RhYmxlIGl0ZW1zIHNob3duIGluIHRoZSBtZW51LlxyXG4gICAqIEBwYXJhbSBtZW51SXRlbXMgSXRlbXMgdG8gYmUgYXZhaWxhYmxlLlxyXG4gICAqL1xyXG4gIHNldE1lbnVJdGVtcyhtZW51SXRlbXM6IEF1dG9jb21wbGV0ZURhdGFbXSkge1xyXG4gICAgdGhpcy5tZW51SXRlbXMgPSBtZW51SXRlbXM7XHJcbiAgICB0aGlzLm9wZW4oKTtcclxuICAgIHRoaXMuX3VwZGF0ZVNlbGVjdGVkSW5mbygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyBzZWxlY3RlZCB2YWx1ZXMuXHJcbiAgICogQHBhcmFtIGVudHJpZXNcclxuICAgKi9cclxuICBzZXRWYWx1ZXMoZW50cmllczogQXV0b2NvbXBsZXRlRGF0YVtdKSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gZW50cmllcztcclxuICAgIHRoaXMuX3VwZGF0ZVNlbGVjdGVkSW5mbygpO1xyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuaXNNdWx0aVNlbGVjdCkge1xyXG4gICAgICB0aGlzLl9yZWZyZXNoSW5wdXRUZXh0KCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl90cmlnZ2VyQ2hhbmdlZCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VsZWN0IGEgc3BlY2lmaWMgYXV0b2NvbXBsZXRlIG9wdGlvbiB2aWEgaWQtcHJvcGVydHkuXHJcbiAgICogQHBhcmFtIGlkIFRoZSBpZCBvZiBhIGRhdGEtZW50cnkuXHJcbiAgICovXHJcbiAgc2VsZWN0T3B0aW9uKGlkOiBudW1iZXIgfCBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5tZW51SXRlbXMuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PSBpZCk7XHJcbiAgICBpZiAoIWVudHJ5KSByZXR1cm47XHJcbiAgICAvLyBUb2dnbGUgQ2hlY2tib3hcclxuICAgIGNvbnN0IGxpID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignbGlbZGF0YS1pZD1cIicraWQrJ1wiXScpO1xyXG4gICAgaWYgKCFsaSkgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5pc011bHRpU2VsZWN0KSB7XHJcbiAgICAgIGNvbnN0IGNoZWNrYm94ID0gPEhUTUxJbnB1dEVsZW1lbnR8bnVsbD5saS5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcclxuICAgICAgY2hlY2tib3guY2hlY2tlZCA9ICFjaGVja2JveC5jaGVja2VkO1xyXG4gICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkgdGhpcy5zZWxlY3RlZFZhbHVlcy5wdXNoKGVudHJ5KTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSB0aGlzLnNlbGVjdGVkVmFsdWVzLmZpbHRlcihcclxuICAgICAgICAgIChzZWxlY3RlZEVudHJ5KSA9PiBzZWxlY3RlZEVudHJ5LmlkICE9PSBlbnRyeS5pZFxyXG4gICAgICAgICk7XHJcbiAgICAgIHRoaXMuZWwuZm9jdXMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFNpbmdsZS1TZWxlY3RcclxuICAgICAgdGhpcy5zZWxlY3RlZFZhbHVlcyA9IFtlbnRyeV07XHJcbiAgICAgIHRoaXMuX3JlZnJlc2hJbnB1dFRleHQoKTtcclxuICAgICAgdGhpcy5fcmVzZXRBdXRvY29tcGxldGUoKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fdXBkYXRlU2VsZWN0ZWRJbmZvKCk7XHJcbiAgICB0aGlzLl90cmlnZ2VyQ2hhbmdlZCgpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/autocomplete.ts\n");

/***/ }),

/***/ "./src/buttons.ts":
/*!************************!*\
  !*** ./src/buttons.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.FloatingActionButton = void 0;\r\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\n;\r\nlet _defaults = {\r\n    direction: 'top',\r\n    hoverEnabled: true,\r\n    toolbarEnabled: false\r\n};\r\nclass FloatingActionButton extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, FloatingActionButton);\r\n        this._handleFABClick = () => {\r\n            if (this.isOpen) {\r\n                this.close();\r\n            }\r\n            else {\r\n                this.open();\r\n            }\r\n        };\r\n        this._handleDocumentClick = (e) => {\r\n            const elem = e.target;\r\n            if (elem !== this._menu)\r\n                this.close;\r\n        };\r\n        /**\r\n         * Open FAB.\r\n         */\r\n        this.open = () => {\r\n            if (this.isOpen)\r\n                return;\r\n            if (this.options.toolbarEnabled)\r\n                this._animateInToolbar();\r\n            else\r\n                this._animateInFAB();\r\n            this.isOpen = true;\r\n        };\r\n        /**\r\n         * Close FAB.\r\n         */\r\n        this.close = () => {\r\n            if (!this.isOpen)\r\n                return;\r\n            if (this.options.toolbarEnabled) {\r\n                window.removeEventListener('scroll', this.close, true);\r\n                document.body.removeEventListener('click', this._handleDocumentClick, true);\r\n            }\r\n            else {\r\n                this._animateOutFAB();\r\n            }\r\n            this.isOpen = false;\r\n        };\r\n        this.el.M_FloatingActionButton = this;\r\n        this.options = Object.assign(Object.assign({}, FloatingActionButton.defaults), options);\r\n        this.isOpen = false;\r\n        this._anchor = this.el.querySelector('a');\r\n        this._menu = this.el.querySelector('ul');\r\n        this._floatingBtns = Array.from(this.el.querySelectorAll('ul .btn-floating'));\r\n        this._floatingBtnsReverse = this._floatingBtns.reverse();\r\n        this.offsetY = 0;\r\n        this.offsetX = 0;\r\n        this.el.classList.add(`direction-${this.options.direction}`);\r\n        if (this.options.direction === 'top')\r\n            this.offsetY = 40;\r\n        else if (this.options.direction === 'right')\r\n            this.offsetX = -40;\r\n        else if (this.options.direction === 'bottom')\r\n            this.offsetY = -40;\r\n        else\r\n            this.offsetX = 40;\r\n        this._setupEventHandlers();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of FloatingActionButton.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, FloatingActionButton);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_FloatingActionButton;\r\n    }\r\n    destroy() {\r\n        this._removeEventHandlers();\r\n        this.el.M_FloatingActionButton = undefined;\r\n    }\r\n    _setupEventHandlers() {\r\n        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {\r\n            this.el.addEventListener('mouseenter', this.open);\r\n            this.el.addEventListener('mouseleave', this.close);\r\n        }\r\n        else {\r\n            this.el.addEventListener('click', this._handleFABClick);\r\n        }\r\n    }\r\n    _removeEventHandlers() {\r\n        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {\r\n            this.el.removeEventListener('mouseenter', this.open);\r\n            this.el.removeEventListener('mouseleave', this.close);\r\n        }\r\n        else {\r\n            this.el.removeEventListener('click', this._handleFABClick);\r\n        }\r\n    }\r\n    _animateInFAB() {\r\n        this.el.classList.add('active');\r\n        let time = 0;\r\n        this._floatingBtnsReverse.forEach((el) => {\r\n            (0, animejs_1.default)({\r\n                targets: el,\r\n                opacity: 1,\r\n                scale: [0.4, 1],\r\n                translateY: [this.offsetY, 0],\r\n                translateX: [this.offsetX, 0],\r\n                duration: 275,\r\n                delay: time,\r\n                easing: 'easeInOutQuad'\r\n            });\r\n            time += 40;\r\n        });\r\n    }\r\n    _animateOutFAB() {\r\n        this._floatingBtnsReverse.forEach((el) => {\r\n            animejs_1.default.remove(el);\r\n            (0, animejs_1.default)({\r\n                targets: el,\r\n                opacity: 0,\r\n                scale: 0.4,\r\n                translateY: this.offsetY,\r\n                translateX: this.offsetX,\r\n                duration: 175,\r\n                easing: 'easeOutQuad',\r\n                complete: () => {\r\n                    this.el.classList.remove('active');\r\n                }\r\n            });\r\n        });\r\n    }\r\n    _animateInToolbar() {\r\n        let scaleFactor;\r\n        let windowWidth = window.innerWidth;\r\n        let windowHeight = window.innerHeight;\r\n        let btnRect = this.el.getBoundingClientRect();\r\n        const backdrop = document.createElement('div');\r\n        backdrop.classList.add('fab-backdrop'); //  $('<div class=\"fab-backdrop\"></div>');\r\n        const fabColor = getComputedStyle(this._anchor).backgroundColor; // css('background-color');\r\n        this._anchor.append(backdrop);\r\n        this.offsetX = btnRect.left - windowWidth / 2 + btnRect.width / 2;\r\n        this.offsetY = windowHeight - btnRect.bottom;\r\n        scaleFactor = windowWidth / backdrop[0].clientWidth;\r\n        this.btnBottom = btnRect.bottom;\r\n        this.btnLeft = btnRect.left;\r\n        this.btnWidth = btnRect.width;\r\n        // Set initial state\r\n        this.el.classList.add('active');\r\n        this.el.style.textAlign = 'center';\r\n        this.el.style.width = '100%';\r\n        this.el.style.bottom = '0';\r\n        this.el.style.left = '0';\r\n        this.el.style.transform = 'translateX(' + this.offsetX + 'px)';\r\n        this.el.style.transition = 'none';\r\n        this._anchor.style.transform = `translateY(${this.offsetY}px`;\r\n        this._anchor.style.transition = 'none';\r\n        backdrop.style.backgroundColor = fabColor;\r\n        setTimeout(() => {\r\n            this.el.style.transform = '';\r\n            this.el.style.transition = 'transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s';\r\n            this._anchor.style.overflow = 'visible';\r\n            this._anchor.style.transform = '';\r\n            this._anchor.style.transition = 'transform .2s';\r\n            setTimeout(() => {\r\n                this.el.style.overflow = 'hidden';\r\n                this.el.style.backgroundColor = fabColor;\r\n                backdrop.style.transform = 'scale(' + scaleFactor + ')';\r\n                backdrop.style.transition = 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)';\r\n                this._menu.querySelectorAll('li > a').forEach((a) => a.style.opacity = '1');\r\n                // Scroll to close.\r\n                window.addEventListener('scroll', this.close, true);\r\n                document.body.addEventListener('click', this._handleDocumentClick, true);\r\n            }, 100);\r\n        }, 0);\r\n    }\r\n}\r\nexports.FloatingActionButton = FloatingActionButton;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUMzRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDVixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDO0NBQ0Y7QUF2T0Qsb0RBdU9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL2J1dHRvbnMudHM/M2ZjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xyXG5cclxuaW1wb3J0IHsgQ29tcG9uZW50LCBCYXNlT3B0aW9ucywgSW5pdEVsZW1lbnRzLCBNRWxlbWVudCwgT3BlbmFibGUgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRmxvYXRpbmdBY3Rpb25CdXR0b25PcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge1xyXG4gIC8qKlxyXG4gICAqIERpcmVjdGlvbiBGQUIgbWVudSBvcGVucy5cclxuICAgKiBAZGVmYXVsdCBcInRvcFwiXHJcbiAgICovXHJcbiAgZGlyZWN0aW9uOiBcInRvcFwiIHwgXCJyaWdodFwiIHwgXCJib3R0b21cIiB8IFwibGVmdFwiO1xyXG4gIC8qKlxyXG4gICAqIHRydWU6IEZBQiBtZW51IGFwcGVhcnMgb24gaG92ZXIsIGZhbHNlOiBGQUIgbWVudSBhcHBlYXJzIG9uIGNsaWNrLlxyXG4gICAqIEBkZWZhdWx0IHRydWVcclxuICAgKi9cclxuICBob3ZlckVuYWJsZWQ6IGJvb2xlYW47XHJcbiAgLyoqXHJcbiAgICogRW5hYmxlIHRyYW5zaXQgdGhlIEZBQiBpbnRvIGEgdG9vbGJhciBvbiBjbGljay5cclxuICAgKiBAZGVmYXVsdCBmYWxzZVxyXG4gICAqL1xyXG4gIHRvb2xiYXJFbmFibGVkOiBib29sZWFuO1xyXG59O1xyXG5cclxubGV0IF9kZWZhdWx0czogRmxvYXRpbmdBY3Rpb25CdXR0b25PcHRpb25zID0ge1xyXG4gIGRpcmVjdGlvbjogJ3RvcCcsXHJcbiAgaG92ZXJFbmFibGVkOiB0cnVlLFxyXG4gIHRvb2xiYXJFbmFibGVkOiBmYWxzZVxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEZsb2F0aW5nQWN0aW9uQnV0dG9uIGV4dGVuZHMgQ29tcG9uZW50PEZsb2F0aW5nQWN0aW9uQnV0dG9uT3B0aW9ucz4gaW1wbGVtZW50cyBPcGVuYWJsZSB7XHJcbiAgLyoqXHJcbiAgICogRGVzY3JpYmVzIG9wZW4vY2xvc2Ugc3RhdGUgb2YgRkFCLlxyXG4gICAqL1xyXG4gIGlzT3BlbjogYm9vbGVhbjtcclxuXHJcbiAgcHJpdmF0ZSBfYW5jaG9yOiBIVE1MQW5jaG9yRWxlbWVudDtcclxuICBwcml2YXRlIF9tZW51OiBIVE1MRWxlbWVudHxudWxsO1xyXG4gIHByaXZhdGUgX2Zsb2F0aW5nQnRuczogSFRNTEVsZW1lbnRbXTtcclxuICBwcml2YXRlIF9mbG9hdGluZ0J0bnNSZXZlcnNlOiBIVE1MRWxlbWVudFtdO1xyXG5cclxuICBvZmZzZXRZOiBudW1iZXI7XHJcbiAgb2Zmc2V0WDogbnVtYmVyO1xyXG4gIGJ0bkJvdHRvbTogbnVtYmVyO1xyXG4gIGJ0bkxlZnQ6IG51bWJlcjtcclxuICBidG5XaWR0aDogbnVtYmVyO1xyXG5cclxuICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8RmxvYXRpbmdBY3Rpb25CdXR0b25PcHRpb25zPikge1xyXG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIEZsb2F0aW5nQWN0aW9uQnV0dG9uKTtcclxuICAgICh0aGlzLmVsIGFzIGFueSkuTV9GbG9hdGluZ0FjdGlvbkJ1dHRvbiA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICAuLi5GbG9hdGluZ0FjdGlvbkJ1dHRvbi5kZWZhdWx0cyxcclxuICAgICAgLi4ub3B0aW9uc1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgdGhpcy5fYW5jaG9yID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdhJyk7XHJcbiAgICB0aGlzLl9tZW51ID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCd1bCcpO1xyXG4gICAgdGhpcy5fZmxvYXRpbmdCdG5zID0gQXJyYXkuZnJvbSh0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ3VsIC5idG4tZmxvYXRpbmcnKSk7XHJcbiAgICB0aGlzLl9mbG9hdGluZ0J0bnNSZXZlcnNlID0gdGhpcy5fZmxvYXRpbmdCdG5zLnJldmVyc2UoKTtcclxuICAgIHRoaXMub2Zmc2V0WSA9IDA7XHJcbiAgICB0aGlzLm9mZnNldFggPSAwO1xyXG5cclxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZChgZGlyZWN0aW9uLSR7dGhpcy5vcHRpb25zLmRpcmVjdGlvbn1gKTtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAndG9wJylcclxuICAgICAgdGhpcy5vZmZzZXRZID0gNDA7XHJcbiAgICBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAncmlnaHQnKVxyXG4gICAgICB0aGlzLm9mZnNldFggPSAtNDA7XHJcbiAgICBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAnYm90dG9tJylcclxuICAgICAgdGhpcy5vZmZzZXRZID0gLTQwO1xyXG4gICAgZWxzZVxyXG4gICAgICB0aGlzLm9mZnNldFggPSA0MDtcclxuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcclxuICAgIHJldHVybiBfZGVmYXVsdHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZSBvZiBGbG9hdGluZ0FjdGlvbkJ1dHRvbi5cclxuICAgKiBAcGFyYW0gZWwgSFRNTCBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsOiBIVE1MRWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8RmxvYXRpbmdBY3Rpb25CdXR0b25PcHRpb25zPik6IEZsb2F0aW5nQWN0aW9uQnV0dG9uXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIEZsb2F0aW5nQWN0aW9uQnV0dG9uLlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbHM6IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM/OiBQYXJ0aWFsPEZsb2F0aW5nQWN0aW9uQnV0dG9uT3B0aW9ucz4pOiBGbG9hdGluZ0FjdGlvbkJ1dHRvbltdO1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBGbG9hdGluZ0FjdGlvbkJ1dHRvbi5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWxzOiBIVE1MRWxlbWVudCB8IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM6IFBhcnRpYWw8RmxvYXRpbmdBY3Rpb25CdXR0b25PcHRpb25zPiA9IHt9KTogRmxvYXRpbmdBY3Rpb25CdXR0b24gfCBGbG9hdGluZ0FjdGlvbkJ1dHRvbltdIHtcclxuICAgIHJldHVybiBzdXBlci5pbml0KGVscywgb3B0aW9ucywgRmxvYXRpbmdBY3Rpb25CdXR0b24pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEluc3RhbmNlKGVsOiBIVE1MRWxlbWVudCk6IEZsb2F0aW5nQWN0aW9uQnV0dG9uIHtcclxuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX0Zsb2F0aW5nQWN0aW9uQnV0dG9uO1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcclxuICAgICh0aGlzLmVsIGFzIGFueSkuTV9GbG9hdGluZ0FjdGlvbkJ1dHRvbiA9IHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmhvdmVyRW5hYmxlZCAmJiAhdGhpcy5vcHRpb25zLnRvb2xiYXJFbmFibGVkKSB7XHJcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMub3Blbik7XHJcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuY2xvc2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUZBQkNsaWNrKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5ob3ZlckVuYWJsZWQgJiYgIXRoaXMub3B0aW9ucy50b29sYmFyRW5hYmxlZCkge1xyXG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLm9wZW4pO1xyXG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmNsb3NlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVGQUJDbGljayk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRkFCQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5pc09wZW4pIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vcGVuKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRG9jdW1lbnRDbGljayA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBjb25zdCBlbGVtID0gZS50YXJnZXQ7XHJcbiAgICBpZiAoZWxlbSAhPT0gdGhpcy5fbWVudSkgdGhpcy5jbG9zZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9wZW4gRkFCLlxyXG4gICAqL1xyXG4gIG9wZW4gPSAoKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy5pc09wZW4pIHJldHVybjtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbGJhckVuYWJsZWQpXHJcbiAgICAgIHRoaXMuX2FuaW1hdGVJblRvb2xiYXIoKTtcclxuICAgIGVsc2VcclxuICAgICAgdGhpcy5fYW5pbWF0ZUluRkFCKCk7XHJcbiAgICB0aGlzLmlzT3BlbiA9IHRydWU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbG9zZSBGQUIuXHJcbiAgICovXHJcbiAgY2xvc2UgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBpZiAoIXRoaXMuaXNPcGVuKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLnRvb2xiYXJFbmFibGVkKSB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmNsb3NlLCB0cnVlKTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2ssIHRydWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuX2FuaW1hdGVPdXRGQUIoKTtcclxuICAgIH1cclxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBfYW5pbWF0ZUluRkFCKCkge1xyXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgIGxldCB0aW1lID0gMDtcclxuICAgIHRoaXMuX2Zsb2F0aW5nQnRuc1JldmVyc2UuZm9yRWFjaCgoZWwpID0+IHtcclxuICAgICAgYW5pbSh7XHJcbiAgICAgICAgdGFyZ2V0czogZWwsXHJcbiAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICBzY2FsZTogWzAuNCwgMV0sXHJcbiAgICAgICAgdHJhbnNsYXRlWTogW3RoaXMub2Zmc2V0WSwgMF0sXHJcbiAgICAgICAgdHJhbnNsYXRlWDogW3RoaXMub2Zmc2V0WCwgMF0sXHJcbiAgICAgICAgZHVyYXRpb246IDI3NSxcclxuICAgICAgICBkZWxheTogdGltZSxcclxuICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRRdWFkJ1xyXG4gICAgICB9KTtcclxuICAgICAgdGltZSArPSA0MDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2FuaW1hdGVPdXRGQUIoKSB7XHJcbiAgICB0aGlzLl9mbG9hdGluZ0J0bnNSZXZlcnNlLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICAgIGFuaW0ucmVtb3ZlKGVsKTtcclxuICAgICAgYW5pbSh7XHJcbiAgICAgICAgdGFyZ2V0czogZWwsXHJcbiAgICAgICAgb3BhY2l0eTogMCxcclxuICAgICAgICBzY2FsZTogMC40LFxyXG4gICAgICAgIHRyYW5zbGF0ZVk6IHRoaXMub2Zmc2V0WSxcclxuICAgICAgICB0cmFuc2xhdGVYOiB0aGlzLm9mZnNldFgsXHJcbiAgICAgICAgZHVyYXRpb246IDE3NSxcclxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXHJcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2FuaW1hdGVJblRvb2xiYXIoKSB7XHJcbiAgICBsZXQgc2NhbGVGYWN0b3I7XHJcbiAgICBsZXQgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIGxldCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICBsZXQgYnRuUmVjdCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgY29uc3QgYmFja2Ryb3AgPSAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBiYWNrZHJvcC5jbGFzc0xpc3QuYWRkKCdmYWItYmFja2Ryb3AnKTsgLy8gICQoJzxkaXYgY2xhc3M9XCJmYWItYmFja2Ryb3BcIj48L2Rpdj4nKTtcclxuXHJcbiAgICBjb25zdCBmYWJDb2xvciA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5fYW5jaG9yKS5iYWNrZ3JvdW5kQ29sb3I7IC8vIGNzcygnYmFja2dyb3VuZC1jb2xvcicpO1xyXG5cclxuICAgIHRoaXMuX2FuY2hvci5hcHBlbmQoYmFja2Ryb3ApO1xyXG5cclxuICAgIHRoaXMub2Zmc2V0WCA9IGJ0blJlY3QubGVmdCAtIHdpbmRvd1dpZHRoIC8gMiArIGJ0blJlY3Qud2lkdGggLyAyO1xyXG4gICAgdGhpcy5vZmZzZXRZID0gd2luZG93SGVpZ2h0IC0gYnRuUmVjdC5ib3R0b207XHJcbiAgICBzY2FsZUZhY3RvciA9IHdpbmRvd1dpZHRoIC8gYmFja2Ryb3BbMF0uY2xpZW50V2lkdGg7XHJcbiAgICB0aGlzLmJ0bkJvdHRvbSA9IGJ0blJlY3QuYm90dG9tO1xyXG4gICAgdGhpcy5idG5MZWZ0ID0gYnRuUmVjdC5sZWZ0O1xyXG4gICAgdGhpcy5idG5XaWR0aCA9IGJ0blJlY3Qud2lkdGg7XHJcblxyXG4gICAgLy8gU2V0IGluaXRpYWwgc3RhdGVcclxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICB0aGlzLmVsLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgdGhpcy5lbC5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuICAgIHRoaXMuZWwuc3R5bGUuYm90dG9tID0gJzAnO1xyXG4gICAgdGhpcy5lbC5zdHlsZS5sZWZ0ID0gJzAnO1xyXG4gICAgdGhpcy5lbC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgnICsgdGhpcy5vZmZzZXRYICsgJ3B4KSc7XHJcbiAgICB0aGlzLmVsLnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7XHJcblxyXG4gICAgdGhpcy5fYW5jaG9yLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7dGhpcy5vZmZzZXRZfXB4YDtcclxuICAgIHRoaXMuX2FuY2hvci5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xyXG5cclxuICAgIGJhY2tkcm9wLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGZhYkNvbG9yO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLmVsLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xyXG4gICAgICB0aGlzLmVsLnN0eWxlLnRyYW5zaXRpb24gID0gJ3RyYW5zZm9ybSAuMnMgY3ViaWMtYmV6aWVyKDAuNTUwLCAwLjA4NSwgMC42ODAsIDAuNTMwKSwgYmFja2dyb3VuZC1jb2xvciAwcyBsaW5lYXIgLjJzJztcclxuXHJcbiAgICAgIHRoaXMuX2FuY2hvci5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcclxuICAgICAgdGhpcy5fYW5jaG9yLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xyXG4gICAgICB0aGlzLl9hbmNob3Iuc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gLjJzJztcclxuXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZWwuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuICAgICAgICB0aGlzLmVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGZhYkNvbG9yO1xyXG5cclxuICAgICAgICBiYWNrZHJvcC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoJyArIHNjYWxlRmFjdG9yICsgJyknO1xyXG4gICAgICAgIGJhY2tkcm9wLnN0eWxlLnRyYW5zaXRpb24gPSAndHJhbnNmb3JtIC4ycyBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTApJztcclxuXHJcbiAgICAgICAgdGhpcy5fbWVudS5xdWVyeVNlbGVjdG9yQWxsKCdsaSA+IGEnKS5mb3JFYWNoKChhOiBIVE1MQW5jaG9yRWxlbWVudCkgPT4gYS5zdHlsZS5vcGFjaXR5ID0gJzEnKTtcclxuXHJcbiAgICAgICAgLy8gU2Nyb2xsIHRvIGNsb3NlLlxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmNsb3NlLCB0cnVlKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGljaywgdHJ1ZSk7XHJcbiAgICAgIH0sIDEwMCk7XHJcbiAgICB9LCAwKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/buttons.ts\n");

/***/ }),

/***/ "./src/cards.ts":
/*!**********************!*\
  !*** ./src/cards.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Cards = void 0;\r\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\r\nclass Cards {\r\n    static Init() {\r\n        document.addEventListener(\"DOMContentLoaded\", () => {\r\n            document.body.addEventListener('click', e => {\r\n                const trigger = e.target;\r\n                const card = trigger.closest('.card');\r\n                if (!card)\r\n                    return;\r\n                const cardReveal = Array.from(card.children).find(elem => elem.classList.contains('card-reveal'));\r\n                if (!cardReveal)\r\n                    return;\r\n                const initialOverflow = getComputedStyle(card).overflow;\r\n                // Close Card\r\n                const closeArea = cardReveal.querySelector('.card-reveal .card-title');\r\n                if (trigger === closeArea || closeArea.contains(trigger)) {\r\n                    (0, animejs_1.default)({\r\n                        targets: cardReveal,\r\n                        translateY: 0,\r\n                        duration: 225,\r\n                        easing: 'easeInOutQuad',\r\n                        complete: (anim) => {\r\n                            cardReveal.style.display = 'none';\r\n                            card.style.overflow = initialOverflow;\r\n                        }\r\n                    });\r\n                }\r\n                ;\r\n                // Reveal Card\r\n                const activators = card.querySelectorAll('.activator');\r\n                activators.forEach(activator => {\r\n                    if (trigger === activator || activator.contains(trigger)) {\r\n                        card.style.overflow = 'hidden';\r\n                        cardReveal.style.display = 'block';\r\n                        (0, animejs_1.default)({\r\n                            targets: cardReveal,\r\n                            translateY: '-100%',\r\n                            duration: 300,\r\n                            easing: 'easeInOutQuad'\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.Cards = Cards;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2FyZHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsZ0hBQTJCO0FBRTNCLE1BQWEsS0FBSztJQUVoQixNQUFNLENBQUMsSUFBSTtRQUVULFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7WUFDakQsUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUU7Z0JBQzFDLE1BQU0sT0FBTyxHQUFnQixDQUFDLENBQUMsTUFBTSxDQUFDO2dCQUV0QyxNQUFNLElBQUksR0FBZ0IsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDbkQsSUFBSSxDQUFDLElBQUk7b0JBQUUsT0FBTztnQkFFbEIsTUFBTSxVQUFVLEdBQXFCLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BILElBQUksQ0FBQyxVQUFVO29CQUFFLE9BQU87Z0JBQ3hCLE1BQU0sZUFBZSxHQUFHLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQztnQkFFeEQsYUFBYTtnQkFDYixNQUFNLFNBQVMsR0FBRyxVQUFVLENBQUMsYUFBYSxDQUFDLDBCQUEwQixDQUFDLENBQUM7Z0JBQ3ZFLElBQUksT0FBTyxLQUFLLFNBQVMsSUFBSSxTQUFTLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFO29CQUN4RCxxQkFBSSxFQUFDO3dCQUNILE9BQU8sRUFBRSxVQUFVO3dCQUNuQixVQUFVLEVBQUUsQ0FBQzt3QkFDYixRQUFRLEVBQUUsR0FBRzt3QkFDYixNQUFNLEVBQUUsZUFBZTt3QkFDdkIsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUU7NEJBQ2pCLFVBQVUsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQzs0QkFDbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsZUFBZSxDQUFDO3dCQUN4QyxDQUFDO3FCQUNGLENBQUMsQ0FBQztpQkFDSjtnQkFBQSxDQUFDO2dCQUVGLGNBQWM7Z0JBQ2QsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUN2RCxVQUFVLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFO29CQUM3QixJQUFJLE9BQU8sS0FBSyxTQUFTLElBQUksU0FBUyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsRUFBRTt3QkFDeEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO3dCQUMvQixVQUFVLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7d0JBQ25DLHFCQUFJLEVBQUM7NEJBQ0gsT0FBTyxFQUFFLFVBQVU7NEJBQ25CLFVBQVUsRUFBRSxPQUFPOzRCQUNuQixRQUFRLEVBQUUsR0FBRzs0QkFDYixNQUFNLEVBQUUsZUFBZTt5QkFDeEIsQ0FBQyxDQUFDO3FCQUNKO2dCQUNILENBQUMsQ0FBQyxDQUFDO1lBR0wsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUVMLENBQUM7Q0FDRjtBQWxERCxzQkFrREMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvY2FyZHMudHM/MTM2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhcmRzIHtcclxuXHJcbiAgc3RhdGljIEluaXQoKSB7XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IDxIVE1MRWxlbWVudD5lLnRhcmdldDtcclxuXHJcbiAgICAgICAgY29uc3QgY2FyZDogSFRNTEVsZW1lbnQgPSB0cmlnZ2VyLmNsb3Nlc3QoJy5jYXJkJyk7XHJcbiAgICAgICAgaWYgKCFjYXJkKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGNhcmRSZXZlYWwgPSA8SFRNTEVsZW1lbnR8bnVsbD5BcnJheS5mcm9tKGNhcmQuY2hpbGRyZW4pLmZpbmQoZWxlbSA9PiBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnY2FyZC1yZXZlYWwnKSk7XHJcbiAgICAgICAgaWYgKCFjYXJkUmV2ZWFsKSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbE92ZXJmbG93ID0gZ2V0Q29tcHV0ZWRTdHlsZShjYXJkKS5vdmVyZmxvdztcclxuXHJcbiAgICAgICAgLy8gQ2xvc2UgQ2FyZFxyXG4gICAgICAgIGNvbnN0IGNsb3NlQXJlYSA9IGNhcmRSZXZlYWwucXVlcnlTZWxlY3RvcignLmNhcmQtcmV2ZWFsIC5jYXJkLXRpdGxlJyk7XHJcbiAgICAgICAgaWYgKHRyaWdnZXIgPT09IGNsb3NlQXJlYSB8fCBjbG9zZUFyZWEuY29udGFpbnModHJpZ2dlcikpIHtcclxuICAgICAgICAgIGFuaW0oe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiBjYXJkUmV2ZWFsLFxyXG4gICAgICAgICAgICB0cmFuc2xhdGVZOiAwLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogMjI1LFxyXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRRdWFkJyxcclxuICAgICAgICAgICAgY29tcGxldGU6IChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgICAgY2FyZFJldmVhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgIGNhcmQuc3R5bGUub3ZlcmZsb3cgPSBpbml0aWFsT3ZlcmZsb3c7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIFJldmVhbCBDYXJkXHJcbiAgICAgICAgY29uc3QgYWN0aXZhdG9ycyA9IGNhcmQucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2YXRvcicpO1xyXG4gICAgICAgIGFjdGl2YXRvcnMuZm9yRWFjaChhY3RpdmF0b3IgPT4ge1xyXG4gICAgICAgICAgaWYgKHRyaWdnZXIgPT09IGFjdGl2YXRvciB8fCBhY3RpdmF0b3IuY29udGFpbnModHJpZ2dlcikpIHtcclxuICAgICAgICAgICAgY2FyZC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICBjYXJkUmV2ZWFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICBhbmltKHtcclxuICAgICAgICAgICAgICB0YXJnZXRzOiBjYXJkUmV2ZWFsLFxyXG4gICAgICAgICAgICAgIHRyYW5zbGF0ZVk6ICctMTAwJScsXHJcbiAgICAgICAgICAgICAgZHVyYXRpb246IDMwMCxcclxuICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRRdWFkJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/cards.ts\n");

/***/ }),

/***/ "./src/carousel.ts":
/*!*************************!*\
  !*** ./src/carousel.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Carousel = void 0;\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\nlet _defaults = {\r\n    duration: 200,\r\n    dist: -100,\r\n    shift: 0,\r\n    padding: 0,\r\n    numVisible: 5,\r\n    fullWidth: false,\r\n    indicators: false,\r\n    noWrap: false,\r\n    onCycleTo: null // Callback for when a new slide is cycled to.\r\n};\r\nclass Carousel extends component_1.Component {\r\n    constructor(el, options) {\r\n        var _a;\r\n        super(el, options, Carousel);\r\n        /** The index of the center carousel item. */\r\n        this.center = 0;\r\n        this._handleThrottledResize = utils_1.Utils.throttle(function () { this._handleResize(); }, 200, null).bind(this);\r\n        this._handleCarouselTap = (e) => {\r\n            // Fixes firefox draggable image bug\r\n            if (e.type === 'mousedown' && e.target.tagName === 'IMG') {\r\n                e.preventDefault();\r\n            }\r\n            this.pressed = true;\r\n            this.dragged = false;\r\n            this.verticalDragged = false;\r\n            this.reference = this._xpos(e);\r\n            this.referenceY = this._ypos(e);\r\n            this.velocity = this.amplitude = 0;\r\n            this.frame = this.offset;\r\n            this.timestamp = Date.now();\r\n            clearInterval(this.ticker);\r\n            this.ticker = setInterval(this._track, 100);\r\n        };\r\n        this._handleCarouselDrag = (e) => {\r\n            let x, y, delta, deltaY;\r\n            if (this.pressed) {\r\n                x = this._xpos(e);\r\n                y = this._ypos(e);\r\n                delta = this.reference - x;\r\n                deltaY = Math.abs(this.referenceY - y);\r\n                if (deltaY < 30 && !this.verticalDragged) {\r\n                    // If vertical scrolling don't allow dragging.\r\n                    if (delta > 2 || delta < -2) {\r\n                        this.dragged = true;\r\n                        this.reference = x;\r\n                        this._scroll(this.offset + delta);\r\n                    }\r\n                }\r\n                else if (this.dragged) {\r\n                    // If dragging don't allow vertical scroll.\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    return false;\r\n                }\r\n                else {\r\n                    // Vertical scrolling.\r\n                    this.verticalDragged = true;\r\n                }\r\n            }\r\n            if (this.dragged) {\r\n                // If dragging don't allow vertical scroll.\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n        };\r\n        this._handleCarouselRelease = (e) => {\r\n            if (this.pressed) {\r\n                this.pressed = false;\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n            clearInterval(this.ticker);\r\n            this.target = this.offset;\r\n            if (this.velocity > 10 || this.velocity < -10) {\r\n                this.amplitude = 0.9 * this.velocity;\r\n                this.target = this.offset + this.amplitude;\r\n            }\r\n            this.target = Math.round(this.target / this.dim) * this.dim;\r\n            // No wrap of items.\r\n            if (this.noWrap) {\r\n                if (this.target >= this.dim * (this.count - 1)) {\r\n                    this.target = this.dim * (this.count - 1);\r\n                }\r\n                else if (this.target < 0) {\r\n                    this.target = 0;\r\n                }\r\n            }\r\n            this.amplitude = this.target - this.offset;\r\n            this.timestamp = Date.now();\r\n            requestAnimationFrame(this._autoScroll);\r\n            if (this.dragged) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n            return false;\r\n        };\r\n        this._handleCarouselClick = (e) => {\r\n            // Disable clicks if carousel was dragged.\r\n            if (this.dragged) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n            else if (!this.options.fullWidth) {\r\n                const clickedElem = e.target.closest('.carousel-item');\r\n                if (!clickedElem)\r\n                    return;\r\n                const clickedIndex = [...clickedElem.parentNode.children].indexOf(clickedElem);\r\n                const diff = this._wrap(this.center) - clickedIndex;\r\n                // Disable clicks if carousel was shifted by click\r\n                if (diff !== 0) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                }\r\n                // fixes https://github.com/materializecss/materialize/issues/180\r\n                if (clickedIndex < 0) {\r\n                    // relative X position > center of carousel = clicked at the right part of the carousel\r\n                    if (e.clientX - e.target.getBoundingClientRect().left > this.el.clientWidth / 2) {\r\n                        this.next();\r\n                    }\r\n                    else {\r\n                        this.prev();\r\n                    }\r\n                }\r\n                else {\r\n                    this._cycleTo(clickedIndex);\r\n                }\r\n            }\r\n        };\r\n        this._handleIndicatorClick = (e) => {\r\n            e.stopPropagation();\r\n            const indicator = e.target.closest('.indicator-item');\r\n            if (indicator) {\r\n                const index = [...indicator.parentNode.children].indexOf(indicator);\r\n                this._cycleTo(index);\r\n            }\r\n        };\r\n        this._handleResize = () => {\r\n            if (this.options.fullWidth) {\r\n                this.itemWidth = this.el.querySelector('.carousel-item').clientWidth;\r\n                this.imageHeight = this.el.querySelector('.carousel-item.active').clientHeight;\r\n                this.dim = this.itemWidth * 2 + this.options.padding;\r\n                this.offset = this.center * 2 * this.itemWidth;\r\n                this.target = this.offset;\r\n                this._setCarouselHeight(true);\r\n            }\r\n            else {\r\n                this._scroll();\r\n            }\r\n        };\r\n        this._track = () => {\r\n            let now, elapsed, delta, v;\r\n            now = Date.now();\r\n            elapsed = now - this.timestamp;\r\n            this.timestamp = now;\r\n            delta = this.offset - this.frame;\r\n            this.frame = this.offset;\r\n            v = (1000 * delta) / (1 + elapsed);\r\n            this.velocity = 0.8 * v + 0.2 * this.velocity;\r\n        };\r\n        this._autoScroll = () => {\r\n            let elapsed, delta;\r\n            if (this.amplitude) {\r\n                elapsed = Date.now() - this.timestamp;\r\n                delta = this.amplitude * Math.exp(-elapsed / this.options.duration);\r\n                if (delta > 2 || delta < -2) {\r\n                    this._scroll(this.target - delta);\r\n                    requestAnimationFrame(this._autoScroll);\r\n                }\r\n                else {\r\n                    this._scroll(this.target);\r\n                }\r\n            }\r\n        };\r\n        this.el.M_Carousel = this;\r\n        this.options = Object.assign(Object.assign({}, Carousel.defaults), options);\r\n        // Setup\r\n        this.hasMultipleSlides = this.el.querySelectorAll('.carousel-item').length > 1;\r\n        this.showIndicators = this.options.indicators && this.hasMultipleSlides;\r\n        this.noWrap = this.options.noWrap || !this.hasMultipleSlides;\r\n        this.pressed = false;\r\n        this.dragged = false;\r\n        this.offset = this.target = 0;\r\n        this.images = [];\r\n        this.itemWidth = this.el.querySelector('.carousel-item').clientWidth;\r\n        this.itemHeight = this.el.querySelector('.carousel-item').clientHeight;\r\n        this.dim = this.itemWidth * 2 + this.options.padding || 1; // Make sure dim is non zero for divisions.\r\n        // Full Width carousel setup\r\n        if (this.options.fullWidth) {\r\n            this.options.dist = 0;\r\n            this._setCarouselHeight();\r\n            // Offset fixed items when indicators.\r\n            if (this.showIndicators) {\r\n                (_a = this.el.querySelector('.carousel-fixed-item')) === null || _a === void 0 ? void 0 : _a.classList.add('with-indicators');\r\n            }\r\n        }\r\n        // Iterate through slides\r\n        this._indicators = document.createElement('ul');\r\n        this._indicators.classList.add('indicators');\r\n        this.el.querySelectorAll('.carousel-item').forEach((item, i) => {\r\n            this.images.push(item);\r\n            if (this.showIndicators) {\r\n                const indicator = document.createElement('li');\r\n                indicator.classList.add('indicator-item');\r\n                if (i === 0) {\r\n                    indicator.classList.add('active');\r\n                }\r\n                this._indicators.appendChild(indicator);\r\n            }\r\n        });\r\n        if (this.showIndicators)\r\n            this.el.appendChild(this._indicators);\r\n        this.count = this.images.length;\r\n        // Cap numVisible at count\r\n        this.options.numVisible = Math.min(this.count, this.options.numVisible);\r\n        // Setup cross browser string\r\n        this.xform = 'transform';\r\n        ['webkit', 'Moz', 'O', 'ms'].every((prefix) => {\r\n            var e = prefix + 'Transform';\r\n            if (typeof document.body.style[e] !== 'undefined') {\r\n                this.xform = e;\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        this._setupEventHandlers();\r\n        this._scroll(this.offset);\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Carousel.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Carousel);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Carousel;\r\n    }\r\n    destroy() {\r\n        this._removeEventHandlers();\r\n        this.el.M_Carousel = undefined;\r\n    }\r\n    _setupEventHandlers() {\r\n        if (typeof window.ontouchstart !== 'undefined') {\r\n            this.el.addEventListener('touchstart', this._handleCarouselTap);\r\n            this.el.addEventListener('touchmove', this._handleCarouselDrag);\r\n            this.el.addEventListener('touchend', this._handleCarouselRelease);\r\n        }\r\n        this.el.addEventListener('mousedown', this._handleCarouselTap);\r\n        this.el.addEventListener('mousemove', this._handleCarouselDrag);\r\n        this.el.addEventListener('mouseup', this._handleCarouselRelease);\r\n        this.el.addEventListener('mouseleave', this._handleCarouselRelease);\r\n        this.el.addEventListener('click', this._handleCarouselClick);\r\n        if (this.showIndicators && this._indicators) {\r\n            this._indicators.querySelectorAll('.indicator-item').forEach((el) => {\r\n                el.addEventListener('click', this._handleIndicatorClick);\r\n            });\r\n        }\r\n        // Resize\r\n        window.addEventListener('resize', this._handleThrottledResize);\r\n    }\r\n    _removeEventHandlers() {\r\n        if (typeof window.ontouchstart !== 'undefined') {\r\n            this.el.removeEventListener('touchstart', this._handleCarouselTap);\r\n            this.el.removeEventListener('touchmove', this._handleCarouselDrag);\r\n            this.el.removeEventListener('touchend', this._handleCarouselRelease);\r\n        }\r\n        this.el.removeEventListener('mousedown', this._handleCarouselTap);\r\n        this.el.removeEventListener('mousemove', this._handleCarouselDrag);\r\n        this.el.removeEventListener('mouseup', this._handleCarouselRelease);\r\n        this.el.removeEventListener('mouseleave', this._handleCarouselRelease);\r\n        this.el.removeEventListener('click', this._handleCarouselClick);\r\n        if (this.showIndicators && this._indicators) {\r\n            this._indicators.querySelectorAll('.indicator-item').forEach((el) => {\r\n                el.removeEventListener('click', this._handleIndicatorClick);\r\n            });\r\n        }\r\n        window.removeEventListener('resize', this._handleThrottledResize);\r\n    }\r\n    _setCarouselHeight(imageOnly = false) {\r\n        const firstSlide = this.el.querySelector('.carousel-item.active')\r\n            ? this.el.querySelector('.carousel-item.active')\r\n            : this.el.querySelector('.carousel-item');\r\n        const firstImage = firstSlide.querySelector('img');\r\n        if (firstImage) {\r\n            if (firstImage.complete) {\r\n                // If image won't trigger the load event\r\n                const imageHeight = firstImage.clientHeight;\r\n                if (imageHeight > 0) {\r\n                    this.el.style.height = imageHeight + 'px';\r\n                }\r\n                else {\r\n                    // If image still has no height, use the natural dimensions to calculate\r\n                    const naturalWidth = firstImage.naturalWidth;\r\n                    const naturalHeight = firstImage.naturalHeight;\r\n                    const adjustedHeight = (this.el.clientWidth / naturalWidth) * naturalHeight;\r\n                    this.el.style.height = adjustedHeight + 'px';\r\n                }\r\n            }\r\n            else {\r\n                // Get height when image is loaded normally\r\n                firstImage.addEventListener('load', () => {\r\n                    this.el.style.height = firstImage.offsetHeight + 'px';\r\n                });\r\n            }\r\n        }\r\n        else if (!imageOnly) {\r\n            const slideHeight = firstSlide.clientHeight;\r\n            this.el.style.height = slideHeight + 'px';\r\n        }\r\n    }\r\n    _xpos(e) {\r\n        // touch event\r\n        if (e.type.startsWith(\"touch\") && e.targetTouches.length >= 1) {\r\n            return e.targetTouches[0].clientX;\r\n        }\r\n        // mouse event\r\n        return e.clientX;\r\n    }\r\n    _ypos(e) {\r\n        // touch event\r\n        if (e.type.startsWith(\"touch\") && e.targetTouches.length >= 1) {\r\n            return e.targetTouches[0].clientY;\r\n        }\r\n        // mouse event\r\n        return e.clientY;\r\n    }\r\n    _wrap(x) {\r\n        return x >= this.count\r\n            ? x % this.count\r\n            : x < 0\r\n                ? this._wrap(this.count + (x % this.count))\r\n                : x;\r\n    }\r\n    _scroll(x = 0) {\r\n        // Track scrolling state\r\n        if (!this.el.classList.contains('scrolling')) {\r\n            this.el.classList.add('scrolling');\r\n        }\r\n        if (this.scrollingTimeout != null) {\r\n            window.clearTimeout(this.scrollingTimeout);\r\n        }\r\n        this.scrollingTimeout = window.setTimeout(() => {\r\n            this.el.classList.remove('scrolling');\r\n        }, this.options.duration);\r\n        // Start actual scroll\r\n        let i, half, delta, dir, tween, el, alignment, zTranslation, tweenedOpacity, centerTweenedOpacity;\r\n        let lastCenter = this.center;\r\n        let numVisibleOffset = 1 / this.options.numVisible;\r\n        this.offset = typeof x === 'number' ? x : this.offset;\r\n        this.center = Math.floor((this.offset + this.dim / 2) / this.dim);\r\n        delta = this.offset - this.center * this.dim;\r\n        dir = delta < 0 ? 1 : -1;\r\n        tween = (-dir * delta * 2) / this.dim;\r\n        half = this.count >> 1;\r\n        if (this.options.fullWidth) {\r\n            alignment = 'translateX(0)';\r\n            centerTweenedOpacity = 1;\r\n        }\r\n        else {\r\n            alignment = 'translateX(' + (this.el.clientWidth - this.itemWidth) / 2 + 'px) ';\r\n            alignment += 'translateY(' + (this.el.clientHeight - this.itemHeight) / 2 + 'px)';\r\n            centerTweenedOpacity = 1 - numVisibleOffset * tween;\r\n        }\r\n        // Set indicator active\r\n        if (this.showIndicators) {\r\n            const diff = this.center % this.count;\r\n            const activeIndicator = this._indicators.querySelector('.indicator-item.active');\r\n            const activeIndicatorIndex = [...activeIndicator.parentNode.children].indexOf(activeIndicator);\r\n            if (activeIndicatorIndex !== diff) {\r\n                activeIndicator.classList.remove('active');\r\n                const pos = diff < 0 ? this.count + diff : diff;\r\n                this._indicators.querySelectorAll('.indicator-item')[pos].classList.add('active');\r\n            }\r\n        }\r\n        // center\r\n        // Don't show wrapped items.\r\n        if (!this.noWrap || (this.center >= 0 && this.center < this.count)) {\r\n            el = this.images[this._wrap(this.center)];\r\n            // Add active class to center item.\r\n            if (!el.classList.contains('active')) {\r\n                this.el.querySelector('.carousel-item').classList.remove('active');\r\n                el.classList.add('active');\r\n            }\r\n            let transformString = `${alignment} translateX(${-delta / 2}px) translateX(${dir *\r\n                this.options.shift *\r\n                tween *\r\n                i}px) translateZ(${this.options.dist * tween}px)`;\r\n            this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);\r\n        }\r\n        for (i = 1; i <= half; ++i) {\r\n            // right side\r\n            if (this.options.fullWidth) {\r\n                zTranslation = this.options.dist;\r\n                tweenedOpacity = i === half && delta < 0 ? 1 - tween : 1;\r\n            }\r\n            else {\r\n                zTranslation = this.options.dist * (i * 2 + tween * dir);\r\n                tweenedOpacity = 1 - numVisibleOffset * (i * 2 + tween * dir);\r\n            }\r\n            // Don't show wrapped items.\r\n            if (!this.noWrap || this.center + i < this.count) {\r\n                el = this.images[this._wrap(this.center + i)];\r\n                let transformString = `${alignment} translateX(${this.options.shift +\r\n                    (this.dim * i - delta) / 2}px) translateZ(${zTranslation}px)`;\r\n                this._updateItemStyle(el, tweenedOpacity, -i, transformString);\r\n            }\r\n            // left side\r\n            if (this.options.fullWidth) {\r\n                zTranslation = this.options.dist;\r\n                tweenedOpacity = i === half && delta > 0 ? 1 - tween : 1;\r\n            }\r\n            else {\r\n                zTranslation = this.options.dist * (i * 2 - tween * dir);\r\n                tweenedOpacity = 1 - numVisibleOffset * (i * 2 - tween * dir);\r\n            }\r\n            // Don't show wrapped items.\r\n            if (!this.noWrap || this.center - i >= 0) {\r\n                el = this.images[this._wrap(this.center - i)];\r\n                let transformString = `${alignment} translateX(${-this.options.shift +\r\n                    (-this.dim * i - delta) / 2}px) translateZ(${zTranslation}px)`;\r\n                this._updateItemStyle(el, tweenedOpacity, -i, transformString);\r\n            }\r\n        }\r\n        // center\r\n        // Don't show wrapped items.\r\n        if (!this.noWrap || (this.center >= 0 && this.center < this.count)) {\r\n            el = this.images[this._wrap(this.center)];\r\n            let transformString = `${alignment} translateX(${-delta / 2}px) translateX(${dir *\r\n                this.options.shift *\r\n                tween}px) translateZ(${this.options.dist * tween}px)`;\r\n            this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);\r\n        }\r\n        // onCycleTo callback\r\n        const _currItem = this.el.querySelectorAll('.carousel-item')[this._wrap(this.center)];\r\n        if (lastCenter !== this.center && typeof this.options.onCycleTo === 'function') {\r\n            this.options.onCycleTo.call(this, _currItem, this.dragged);\r\n        }\r\n        // One time callback\r\n        if (typeof this.oneTimeCallback === 'function') {\r\n            this.oneTimeCallback.call(this, _currItem, this.dragged);\r\n            this.oneTimeCallback = null;\r\n        }\r\n    }\r\n    _updateItemStyle(el, opacity, zIndex, transform) {\r\n        el.style[this.xform] = transform;\r\n        el.style.zIndex = zIndex.toString();\r\n        el.style.opacity = opacity.toString();\r\n        el.style.visibility = 'visible';\r\n    }\r\n    _cycleTo(n, callback = null) {\r\n        let diff = (this.center % this.count) - n;\r\n        // Account for wraparound.\r\n        if (!this.noWrap) {\r\n            if (diff < 0) {\r\n                if (Math.abs(diff + this.count) < Math.abs(diff)) {\r\n                    diff += this.count;\r\n                }\r\n            }\r\n            else if (diff > 0) {\r\n                if (Math.abs(diff - this.count) < diff) {\r\n                    diff -= this.count;\r\n                }\r\n            }\r\n        }\r\n        this.target = this.dim * Math.round(this.offset / this.dim);\r\n        // Next\r\n        if (diff < 0) {\r\n            this.target += this.dim * Math.abs(diff);\r\n        } // Prev\r\n        else if (diff > 0) {\r\n            this.target -= this.dim * diff;\r\n        }\r\n        // Set one time callback\r\n        if (typeof callback === 'function') {\r\n            this.oneTimeCallback = callback;\r\n        }\r\n        // Scroll\r\n        if (this.offset !== this.target) {\r\n            this.amplitude = this.target - this.offset;\r\n            this.timestamp = Date.now();\r\n            requestAnimationFrame(this._autoScroll);\r\n        }\r\n    }\r\n    /**\r\n     * Move carousel to next slide or go forward a given amount of slides.\r\n     * @param n How many times the carousel slides.\r\n     */\r\n    next(n = 1) {\r\n        if (n === undefined || isNaN(n)) {\r\n            n = 1;\r\n        }\r\n        let index = this.center + n;\r\n        if (index >= this.count || index < 0) {\r\n            if (this.noWrap)\r\n                return;\r\n            index = this._wrap(index);\r\n        }\r\n        this._cycleTo(index);\r\n    }\r\n    /**\r\n     * Move carousel to previous slide or go back a given amount of slides.\r\n     * @param n How many times the carousel slides.\r\n     */\r\n    prev(n = 1) {\r\n        if (n === undefined || isNaN(n)) {\r\n            n = 1;\r\n        }\r\n        let index = this.center - n;\r\n        if (index >= this.count || index < 0) {\r\n            if (this.noWrap)\r\n                return;\r\n            index = this._wrap(index);\r\n        }\r\n        this._cycleTo(index);\r\n    }\r\n    /**\r\n     * Move carousel to nth slide.\r\n     * @param n Index of slide.\r\n     * @param callback \"onCycleTo\" optional callback.\r\n     */\r\n    set(n, callback) {\r\n        if (n === undefined || isNaN(n)) {\r\n            n = 0;\r\n        }\r\n        if (n > this.count || n < 0) {\r\n            if (this.noWrap)\r\n                return;\r\n            n = this._wrap(n);\r\n        }\r\n        this._cycleTo(n, callback);\r\n    }\r\n}\r\nexports.Carousel = Carousel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbkI7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUM3QixDQUFDO0NBQ0Y7QUFwbUJELDRCQW9tQkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvY2Fyb3VzZWwudHM/ZTRjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgQmFzZU9wdGlvbnMsIEluaXRFbGVtZW50cywgTUVsZW1lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2Fyb3VzZWxPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnN7XHJcbiAgLyoqXHJcbiAgICogVHJhbnNpdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICogQGRlZmF1bHQgMjAwXHJcbiAgICovXHJcbiAgZHVyYXRpb246IG51bWJlcjtcclxuICAvKipcclxuICAgKiBQZXJzcGVjdGl2ZSB6b29tLiBJZiAwLCBhbGwgaXRlbXMgYXJlIHRoZSBzYW1lIHNpemUuXHJcbiAgICogQGRlZmF1bHQgLTEwMFxyXG4gICAqL1xyXG4gIGRpc3Q6IG51bWJlcjtcclxuICAvKipcclxuICAgKiBTZXQgdGhlIHNwYWNpbmcgb2YgdGhlIGNlbnRlciBpdGVtLlxyXG4gICAqIEBkZWZhdWx0IDBcclxuICAgKi9cclxuICBzaGlmdDogbnVtYmVyO1xyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUgcGFkZGluZyBiZXR3ZWVuIG5vbiBjZW50ZXIgaXRlbXMuXHJcbiAgICogQGRlZmF1bHQgMFxyXG4gICAqL1xyXG4gIHBhZGRpbmc6IG51bWJlcjtcclxuICAvKipcclxuICAgKiBTZXQgdGhlIG51bWJlciBvZiB2aXNpYmxlIGl0ZW1zLlxyXG4gICAqIEBkZWZhdWx0IDVcclxuICAgKi9cclxuICBudW1WaXNpYmxlOiBudW1iZXI7XHJcbiAgLyoqXHJcbiAgICogTWFrZSB0aGUgY2Fyb3VzZWwgYSBmdWxsIHdpZHRoIHNsaWRlciBsaWtlIHRoZSBzZWNvbmQgZXhhbXBsZS5cclxuICAgKiBAZGVmYXVsdCBmYWxzZVxyXG4gICAqL1xyXG4gIGZ1bGxXaWR0aDogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBTZXQgdG8gdHJ1ZSB0byBzaG93IGluZGljYXRvcnMuXHJcbiAgICogQGRlZmF1bHQgZmFsc2VcclxuICAgKi9cclxuICBpbmRpY2F0b3JzOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIERvbid0IHdyYXAgYXJvdW5kIGFuZCBjeWNsZSB0aHJvdWdoIGl0ZW1zLlxyXG4gICAqIEBkZWZhdWx0IGZhbHNlXHJcbiAgICovXHJcbiAgbm9XcmFwOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIGZvciB3aGVuIGEgbmV3IHNsaWRlIGlzIGN5Y2xlZCB0by5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgb25DeWNsZVRvOiAoY3VycmVudDogRWxlbWVudCwgZHJhZ2dlZDogYm9vbGVhbikgPT4gdm9pZDtcclxufVxyXG5cclxubGV0IF9kZWZhdWx0czogQ2Fyb3VzZWxPcHRpb25zID0ge1xyXG4gIGR1cmF0aW9uOiAyMDAsIC8vIG1zXHJcbiAgZGlzdDogLTEwMCwgLy8gem9vbSBzY2FsZSBUT0RPOiBtYWtlIHRoaXMgbW9yZSBpbnR1aXRpdmUgYXMgYW4gb3B0aW9uXHJcbiAgc2hpZnQ6IDAsIC8vIHNwYWNpbmcgZm9yIGNlbnRlciBpbWFnZVxyXG4gIHBhZGRpbmc6IDAsIC8vIFBhZGRpbmcgYmV0d2VlbiBub24gY2VudGVyIGl0ZW1zXHJcbiAgbnVtVmlzaWJsZTogNSwgLy8gTnVtYmVyIG9mIHZpc2libGUgaXRlbXMgaW4gY2Fyb3VzZWxcclxuICBmdWxsV2lkdGg6IGZhbHNlLCAvLyBDaGFuZ2UgdG8gZnVsbCB3aWR0aCBzdHlsZXNcclxuICBpbmRpY2F0b3JzOiBmYWxzZSwgLy8gVG9nZ2xlIGluZGljYXRvcnNcclxuICBub1dyYXA6IGZhbHNlLCAvLyBEb24ndCB3cmFwIGFyb3VuZCBhbmQgY3ljbGUgdGhyb3VnaCBpdGVtcy5cclxuICBvbkN5Y2xlVG86IG51bGwgLy8gQ2FsbGJhY2sgZm9yIHdoZW4gYSBuZXcgc2xpZGUgaXMgY3ljbGVkIHRvLlxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIENhcm91c2VsIGV4dGVuZHMgQ29tcG9uZW50PENhcm91c2VsT3B0aW9ucz4ge1xyXG4gIGhhc011bHRpcGxlU2xpZGVzOiBib29sZWFuO1xyXG4gIHNob3dJbmRpY2F0b3JzOiBib29sZWFuO1xyXG4gIG5vV3JhcDogYm9vbGVhbjtcclxuICAvKiogSWYgdGhlIGNhcm91c2VsIGlzIGJlaW5nIGNsaWNrZWQgb3IgdGFwcGVkLiAqL1xyXG4gIHByZXNzZWQ6IGJvb2xlYW47XHJcbiAgLyoqIElmIHRoZSBjYXJvdXNlbCBpcyBjdXJyZW50bHkgYmVpbmcgZHJhZ2dlZC4gKi9cclxuICBkcmFnZ2VkOiBib29sZWFuO1xyXG4gIG9mZnNldDogbnVtYmVyO1xyXG4gIHRhcmdldDogbnVtYmVyO1xyXG4gIGltYWdlczogSFRNTEVsZW1lbnRbXTtcclxuICBpdGVtV2lkdGg6IGFueTtcclxuICBpdGVtSGVpZ2h0OiBhbnk7XHJcbiAgZGltOiBudW1iZXI7XHJcbiAgX2luZGljYXRvcnM6IGFueTtcclxuICBjb3VudDogbnVtYmVyO1xyXG4gIHhmb3JtOiBzdHJpbmc7XHJcbiAgdmVydGljYWxEcmFnZ2VkOiBib29sZWFuO1xyXG4gIHJlZmVyZW5jZTogYW55O1xyXG4gIHJlZmVyZW5jZVk6IGFueTtcclxuICB2ZWxvY2l0eTogbnVtYmVyO1xyXG4gIGZyYW1lOiBudW1iZXI7XHJcbiAgdGltZXN0YW1wOiBudW1iZXI7XHJcbiAgdGlja2VyOiBOb2RlSlMuVGltZXI7XHJcbiAgYW1wbGl0dWRlOiBudW1iZXI7XHJcbiAgLyoqIFRoZSBpbmRleCBvZiB0aGUgY2VudGVyIGNhcm91c2VsIGl0ZW0uICovXHJcbiAgY2VudGVyOiBudW1iZXIgPSAwO1xyXG4gIGltYWdlSGVpZ2h0OiBhbnk7XHJcbiAgc2Nyb2xsaW5nVGltZW91dDogYW55O1xyXG4gIG9uZVRpbWVDYWxsYmFjazogYW55O1xyXG5cclxuICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8Q2Fyb3VzZWxPcHRpb25zPikge1xyXG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIENhcm91c2VsKTtcclxuICAgICh0aGlzLmVsIGFzIGFueSkuTV9DYXJvdXNlbCA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICAuLi5DYXJvdXNlbC5kZWZhdWx0cyxcclxuICAgICAgLi4ub3B0aW9uc1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBTZXR1cFxyXG4gICAgdGhpcy5oYXNNdWx0aXBsZVNsaWRlcyA9IHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCgnLmNhcm91c2VsLWl0ZW0nKS5sZW5ndGggPiAxO1xyXG4gICAgdGhpcy5zaG93SW5kaWNhdG9ycyA9IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzICYmIHRoaXMuaGFzTXVsdGlwbGVTbGlkZXM7XHJcbiAgICB0aGlzLm5vV3JhcCA9IHRoaXMub3B0aW9ucy5ub1dyYXAgfHwgIXRoaXMuaGFzTXVsdGlwbGVTbGlkZXM7XHJcbiAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuZHJhZ2dlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5vZmZzZXQgPSB0aGlzLnRhcmdldCA9IDA7XHJcbiAgICB0aGlzLmltYWdlcyA9IFtdO1xyXG4gICAgdGhpcy5pdGVtV2lkdGggPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtJykuY2xpZW50V2lkdGg7XHJcbiAgICB0aGlzLml0ZW1IZWlnaHQgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtJykuY2xpZW50SGVpZ2h0O1xyXG4gICAgdGhpcy5kaW0gPSB0aGlzLml0ZW1XaWR0aCAqIDIgKyB0aGlzLm9wdGlvbnMucGFkZGluZyB8fCAxOyAvLyBNYWtlIHN1cmUgZGltIGlzIG5vbiB6ZXJvIGZvciBkaXZpc2lvbnMuXHJcblxyXG4gICAgLy8gRnVsbCBXaWR0aCBjYXJvdXNlbCBzZXR1cFxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsV2lkdGgpIHtcclxuICAgICAgdGhpcy5vcHRpb25zLmRpc3QgPSAwO1xyXG4gICAgICB0aGlzLl9zZXRDYXJvdXNlbEhlaWdodCgpO1xyXG5cclxuICAgICAgLy8gT2Zmc2V0IGZpeGVkIGl0ZW1zIHdoZW4gaW5kaWNhdG9ycy5cclxuICAgICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMpIHtcclxuICAgICAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1maXhlZC1pdGVtJyk/LmNsYXNzTGlzdC5hZGQoJ3dpdGgtaW5kaWNhdG9ycycpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHNsaWRlc1xyXG4gICAgdGhpcy5faW5kaWNhdG9ycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcbiAgICB0aGlzLl9pbmRpY2F0b3JzLmNsYXNzTGlzdC5hZGQoJ2luZGljYXRvcnMnKTtcclxuXHJcbiAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbC1pdGVtJykuZm9yRWFjaCgoaXRlbTogSFRNTEVsZW1lbnQsIGkpID0+IHtcclxuICAgICAgdGhpcy5pbWFnZXMucHVzaChpdGVtKTtcclxuICAgICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMpIHtcclxuICAgICAgICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgICAgIGluZGljYXRvci5jbGFzc0xpc3QuYWRkKCdpbmRpY2F0b3ItaXRlbScpO1xyXG4gICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICBpbmRpY2F0b3IuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2luZGljYXRvcnMuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMpXHJcbiAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5faW5kaWNhdG9ycyk7XHJcblxyXG4gICAgdGhpcy5jb3VudCA9IHRoaXMuaW1hZ2VzLmxlbmd0aDtcclxuXHJcbiAgICAvLyBDYXAgbnVtVmlzaWJsZSBhdCBjb3VudFxyXG4gICAgdGhpcy5vcHRpb25zLm51bVZpc2libGUgPSBNYXRoLm1pbih0aGlzLmNvdW50LCB0aGlzLm9wdGlvbnMubnVtVmlzaWJsZSk7XHJcblxyXG4gICAgLy8gU2V0dXAgY3Jvc3MgYnJvd3NlciBzdHJpbmdcclxuICAgIHRoaXMueGZvcm0gPSAndHJhbnNmb3JtJztcclxuICAgIFsnd2Via2l0JywgJ01veicsICdPJywgJ21zJ10uZXZlcnkoKHByZWZpeCkgPT4ge1xyXG4gICAgICB2YXIgZSA9IHByZWZpeCArICdUcmFuc2Zvcm0nO1xyXG4gICAgICBpZiAodHlwZW9mIGRvY3VtZW50LmJvZHkuc3R5bGVbZV0gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgdGhpcy54Zm9ybSA9IGU7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB0aGlzLl9zY3JvbGwodGhpcy5vZmZzZXQpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBkZWZhdWx0cygpOiBDYXJvdXNlbE9wdGlvbnMge1xyXG4gICAgcmV0dXJuIF9kZWZhdWx0cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlIG9mIENhcm91c2VsLlxyXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zPzogUGFydGlhbDxDYXJvdXNlbE9wdGlvbnM+KTogQ2Fyb3VzZWw7XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIENhcm91c2VsLlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbHM6IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM/OiBQYXJ0aWFsPENhcm91c2VsT3B0aW9ucz4pOiBDYXJvdXNlbFtdO1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBDYXJvdXNlbC5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWxzOiBIVE1MRWxlbWVudCB8IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM6IFBhcnRpYWw8Q2Fyb3VzZWxPcHRpb25zPiA9IHt9KTogQ2Fyb3VzZWwgfCBDYXJvdXNlbFtdIHtcclxuICAgIHJldHVybiBzdXBlci5pbml0KGVscywgb3B0aW9ucywgQ2Fyb3VzZWwpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEluc3RhbmNlKGVsOiBIVE1MRWxlbWVudCk6IENhcm91c2VsIHtcclxuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX0Nhcm91c2VsO1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcclxuICAgICh0aGlzLmVsIGFzIGFueSkuTV9DYXJvdXNlbCA9IHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwKTtcclxuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbERyYWcpO1xyXG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlKTtcclxuICAgIH1cclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxUYXApO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbERyYWcpO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlKTtcclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZSk7XHJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxDbGljayk7XHJcbiAgICBpZiAodGhpcy5zaG93SW5kaWNhdG9ycyAmJiB0aGlzLl9pbmRpY2F0b3JzKSB7XHJcbiAgICAgIHRoaXMuX2luZGljYXRvcnMucXVlcnlTZWxlY3RvckFsbCgnLmluZGljYXRvci1pdGVtJykuZm9yRWFjaCgoZWwpID0+IHtcclxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUluZGljYXRvckNsaWNrKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBSZXNpemVcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemUpO1xyXG4gIH1cclxuXHJcbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwKTtcclxuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbERyYWcpO1xyXG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlKTtcclxuICAgIH1cclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxUYXApO1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbERyYWcpO1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlKTtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZSk7XHJcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxDbGljayk7XHJcbiAgICBpZiAodGhpcy5zaG93SW5kaWNhdG9ycyAmJiB0aGlzLl9pbmRpY2F0b3JzKSB7XHJcbiAgICAgIHRoaXMuX2luZGljYXRvcnMucXVlcnlTZWxlY3RvckFsbCgnLmluZGljYXRvci1pdGVtJykuZm9yRWFjaCgoZWwpID0+IHtcclxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUluZGljYXRvckNsaWNrKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVUaHJvdHRsZWRSZXNpemU6ICgpID0+IHZvaWQgPSBVdGlscy50aHJvdHRsZShmdW5jdGlvbigpeyB0aGlzLl9oYW5kbGVSZXNpemUoKTsgfSwgMjAwLCBudWxsKS5iaW5kKHRoaXMpO1xyXG5cclxuICBfaGFuZGxlQ2Fyb3VzZWxUYXAgPSAoZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcclxuICAgIC8vIEZpeGVzIGZpcmVmb3ggZHJhZ2dhYmxlIGltYWdlIGJ1Z1xyXG4gICAgaWYgKGUudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgKDxIVE1MRWxlbWVudD5lLnRhcmdldCkudGFnTmFtZSA9PT0gJ0lNRycpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcclxuICAgIHRoaXMuZHJhZ2dlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy52ZXJ0aWNhbERyYWdnZWQgPSBmYWxzZTtcclxuICAgIHRoaXMucmVmZXJlbmNlID0gdGhpcy5feHBvcyhlKTtcclxuICAgIHRoaXMucmVmZXJlbmNlWSA9IHRoaXMuX3lwb3MoZSk7XHJcblxyXG4gICAgdGhpcy52ZWxvY2l0eSA9IHRoaXMuYW1wbGl0dWRlID0gMDtcclxuICAgIHRoaXMuZnJhbWUgPSB0aGlzLm9mZnNldDtcclxuICAgIHRoaXMudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcclxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aWNrZXIpO1xyXG4gICAgdGhpcy50aWNrZXIgPSBzZXRJbnRlcnZhbCh0aGlzLl90cmFjaywgMTAwKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVDYXJvdXNlbERyYWcgPSAoZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcclxuICAgIGxldCB4OiBudW1iZXIsIHk6IG51bWJlciwgZGVsdGE6IG51bWJlciwgZGVsdGFZOiBudW1iZXI7XHJcbiAgICBpZiAodGhpcy5wcmVzc2VkKSB7XHJcbiAgICAgIHggPSB0aGlzLl94cG9zKGUpO1xyXG4gICAgICB5ID0gdGhpcy5feXBvcyhlKTtcclxuICAgICAgZGVsdGEgPSB0aGlzLnJlZmVyZW5jZSAtIHg7XHJcbiAgICAgIGRlbHRhWSA9IE1hdGguYWJzKHRoaXMucmVmZXJlbmNlWSAtIHkpO1xyXG4gICAgICBpZiAoZGVsdGFZIDwgMzAgJiYgIXRoaXMudmVydGljYWxEcmFnZ2VkKSB7XHJcbiAgICAgICAgLy8gSWYgdmVydGljYWwgc2Nyb2xsaW5nIGRvbid0IGFsbG93IGRyYWdnaW5nLlxyXG4gICAgICAgIGlmIChkZWx0YSA+IDIgfHwgZGVsdGEgPCAtMikge1xyXG4gICAgICAgICAgdGhpcy5kcmFnZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMucmVmZXJlbmNlID0geDtcclxuICAgICAgICAgIHRoaXMuX3Njcm9sbCh0aGlzLm9mZnNldCArIGRlbHRhKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kcmFnZ2VkKSB7XHJcbiAgICAgICAgLy8gSWYgZHJhZ2dpbmcgZG9uJ3QgYWxsb3cgdmVydGljYWwgc2Nyb2xsLlxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBWZXJ0aWNhbCBzY3JvbGxpbmcuXHJcbiAgICAgICAgdGhpcy52ZXJ0aWNhbERyYWdnZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5kcmFnZ2VkKSB7XHJcbiAgICAgIC8vIElmIGRyYWdnaW5nIGRvbid0IGFsbG93IHZlcnRpY2FsIHNjcm9sbC5cclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQ2Fyb3VzZWxSZWxlYXNlID0gKGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcmVzc2VkKSB7XHJcbiAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpY2tlcik7XHJcbiAgICB0aGlzLnRhcmdldCA9IHRoaXMub2Zmc2V0O1xyXG4gICAgaWYgKHRoaXMudmVsb2NpdHkgPiAxMCB8fCB0aGlzLnZlbG9jaXR5IDwgLTEwKSB7XHJcbiAgICAgIHRoaXMuYW1wbGl0dWRlID0gMC45ICogdGhpcy52ZWxvY2l0eTtcclxuICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm9mZnNldCArIHRoaXMuYW1wbGl0dWRlO1xyXG4gICAgfVxyXG4gICAgdGhpcy50YXJnZXQgPSBNYXRoLnJvdW5kKHRoaXMudGFyZ2V0IC8gdGhpcy5kaW0pICogdGhpcy5kaW07XHJcbiAgICAvLyBObyB3cmFwIG9mIGl0ZW1zLlxyXG4gICAgaWYgKHRoaXMubm9XcmFwKSB7XHJcbiAgICAgIGlmICh0aGlzLnRhcmdldCA+PSB0aGlzLmRpbSAqICh0aGlzLmNvdW50IC0gMSkpIHtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuZGltICogKHRoaXMuY291bnQgLSAxKTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCA8IDApIHtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuYW1wbGl0dWRlID0gdGhpcy50YXJnZXQgLSB0aGlzLm9mZnNldDtcclxuICAgIHRoaXMudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9hdXRvU2Nyb2xsKTtcclxuICAgIGlmICh0aGlzLmRyYWdnZWQpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUNhcm91c2VsQ2xpY2sgPSAoZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcclxuICAgIC8vIERpc2FibGUgY2xpY2tzIGlmIGNhcm91c2VsIHdhcyBkcmFnZ2VkLlxyXG4gICAgaWYgKHRoaXMuZHJhZ2dlZCkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMuZnVsbFdpZHRoKSB7XHJcbiAgICAgIGNvbnN0IGNsaWNrZWRFbGVtID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xvc2VzdCgnLmNhcm91c2VsLWl0ZW0nKTtcclxuICAgICAgaWYgKCFjbGlja2VkRWxlbSkgcmV0dXJuO1xyXG4gICAgICBjb25zdCBjbGlja2VkSW5kZXggPSBbLi4uY2xpY2tlZEVsZW0ucGFyZW50Tm9kZS5jaGlsZHJlbl0uaW5kZXhPZihjbGlja2VkRWxlbSk7XHJcbiAgICAgIGNvbnN0IGRpZmYgPSB0aGlzLl93cmFwKHRoaXMuY2VudGVyKSAtIGNsaWNrZWRJbmRleDtcclxuICAgICAgLy8gRGlzYWJsZSBjbGlja3MgaWYgY2Fyb3VzZWwgd2FzIHNoaWZ0ZWQgYnkgY2xpY2tcclxuICAgICAgaWYgKGRpZmYgIT09IDApIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgfVxyXG4gICAgICAvLyBmaXhlcyBodHRwczovL2dpdGh1Yi5jb20vbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvaXNzdWVzLzE4MFxyXG4gICAgICBpZiAoY2xpY2tlZEluZGV4IDwgMCkge1xyXG4gICAgICAgIC8vIHJlbGF0aXZlIFggcG9zaXRpb24gPiBjZW50ZXIgb2YgY2Fyb3VzZWwgPSBjbGlja2VkIGF0IHRoZSByaWdodCBwYXJ0IG9mIHRoZSBjYXJvdXNlbFxyXG4gICAgICAgIGlmICgoZSBhcyBNb3VzZUV2ZW50KS5jbGllbnRYIC0gKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ID4gdGhpcy5lbC5jbGllbnRXaWR0aCAvIDIpIHtcclxuICAgICAgICAgIHRoaXMubmV4dCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnByZXYoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fY3ljbGVUbyhjbGlja2VkSW5kZXgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlSW5kaWNhdG9yQ2xpY2sgPSAoZTogRXZlbnQpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBjb25zdCBpbmRpY2F0b3IgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcuaW5kaWNhdG9yLWl0ZW0nKTtcclxuICAgIGlmIChpbmRpY2F0b3IpIHtcclxuICAgICAgY29uc3QgaW5kZXggPSBbLi4uaW5kaWNhdG9yLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YoaW5kaWNhdG9yKTtcclxuICAgICAgdGhpcy5fY3ljbGVUbyhpbmRleCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlUmVzaXplID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsV2lkdGgpIHtcclxuICAgICAgdGhpcy5pdGVtV2lkdGggPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtJykuY2xpZW50V2lkdGg7XHJcbiAgICAgIHRoaXMuaW1hZ2VIZWlnaHQgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtLmFjdGl2ZScpLmNsaWVudEhlaWdodDtcclxuICAgICAgdGhpcy5kaW0gPSB0aGlzLml0ZW1XaWR0aCAqIDIgKyB0aGlzLm9wdGlvbnMucGFkZGluZztcclxuICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLmNlbnRlciAqIDIgKiB0aGlzLml0ZW1XaWR0aDtcclxuICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm9mZnNldDtcclxuICAgICAgdGhpcy5fc2V0Q2Fyb3VzZWxIZWlnaHQodHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5fc2Nyb2xsKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0Q2Fyb3VzZWxIZWlnaHQoaW1hZ2VPbmx5OiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGZpcnN0U2xpZGUgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtLmFjdGl2ZScpXHJcbiAgICAgID8gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtaXRlbS5hY3RpdmUnKVxyXG4gICAgICA6IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWl0ZW0nKTtcclxuXHJcbiAgICBjb25zdCBmaXJzdEltYWdlID0gZmlyc3RTbGlkZS5xdWVyeVNlbGVjdG9yKCdpbWcnKTtcclxuICAgIGlmIChmaXJzdEltYWdlKSB7XHJcbiAgICAgIGlmIChmaXJzdEltYWdlLmNvbXBsZXRlKSB7XHJcbiAgICAgICAgLy8gSWYgaW1hZ2Ugd29uJ3QgdHJpZ2dlciB0aGUgbG9hZCBldmVudFxyXG4gICAgICAgIGNvbnN0IGltYWdlSGVpZ2h0ID0gZmlyc3RJbWFnZS5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgaWYgKGltYWdlSGVpZ2h0ID4gMCkge1xyXG4gICAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBpbWFnZUhlaWdodCsncHgnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIC8vIElmIGltYWdlIHN0aWxsIGhhcyBubyBoZWlnaHQsIHVzZSB0aGUgbmF0dXJhbCBkaW1lbnNpb25zIHRvIGNhbGN1bGF0ZVxyXG4gICAgICAgICAgY29uc3QgbmF0dXJhbFdpZHRoID0gZmlyc3RJbWFnZS5uYXR1cmFsV2lkdGg7XHJcbiAgICAgICAgICBjb25zdCBuYXR1cmFsSGVpZ2h0ID0gZmlyc3RJbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG4gICAgICAgICAgY29uc3QgYWRqdXN0ZWRIZWlnaHQgPSAodGhpcy5lbC5jbGllbnRXaWR0aCAvIG5hdHVyYWxXaWR0aCkgKiBuYXR1cmFsSGVpZ2h0O1xyXG4gICAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBhZGp1c3RlZEhlaWdodCsncHgnO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBHZXQgaGVpZ2h0IHdoZW4gaW1hZ2UgaXMgbG9hZGVkIG5vcm1hbGx5XHJcbiAgICAgICAgZmlyc3RJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBmaXJzdEltYWdlLm9mZnNldEhlaWdodCsncHgnO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghaW1hZ2VPbmx5KSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlSGVpZ2h0ID0gZmlyc3RTbGlkZS5jbGllbnRIZWlnaHQ7XHJcbiAgICAgIHRoaXMuZWwuc3R5bGUuaGVpZ2h0ID0gc2xpZGVIZWlnaHQrJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF94cG9zKGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSB7XHJcbiAgICAvLyB0b3VjaCBldmVudFxyXG4gICAgaWYgKGUudHlwZS5zdGFydHNXaXRoKFwidG91Y2hcIikgJiYgKGUgYXMgVG91Y2hFdmVudCkudGFyZ2V0VG91Y2hlcy5sZW5ndGggPj0gMSkge1xyXG4gICAgICByZXR1cm4gKGUgYXMgVG91Y2hFdmVudCkudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgfVxyXG4gICAgLy8gbW91c2UgZXZlbnRcclxuICAgIHJldHVybiAoZSBhcyBNb3VzZUV2ZW50KS5jbGllbnRYO1xyXG4gIH1cclxuXHJcbiAgX3lwb3MoZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpIHtcclxuICAgIC8vIHRvdWNoIGV2ZW50XHJcbiAgICBpZiAoZS50eXBlLnN0YXJ0c1dpdGgoXCJ0b3VjaFwiKSAmJiAoZSBhcyBUb3VjaEV2ZW50KS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+PSAxKSB7XHJcbiAgICAgIHJldHVybiAoZSBhcyBUb3VjaEV2ZW50KS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFk7XHJcbiAgICB9XHJcbiAgICAvLyBtb3VzZSBldmVudFxyXG4gICAgcmV0dXJuIChlIGFzIE1vdXNlRXZlbnQpLmNsaWVudFk7XHJcbiAgfVxyXG5cclxuICBfd3JhcCh4OiBudW1iZXIpIHtcclxuICAgIHJldHVybiB4ID49IHRoaXMuY291bnRcclxuICAgICAgPyB4ICUgdGhpcy5jb3VudFxyXG4gICAgICA6IHggPCAwXHJcbiAgICAgID8gdGhpcy5fd3JhcCh0aGlzLmNvdW50ICsgKHggJSB0aGlzLmNvdW50KSlcclxuICAgICAgOiB4O1xyXG4gIH1cclxuXHJcbiAgX3RyYWNrID0gKCkgPT4ge1xyXG4gICAgbGV0IG5vdzogbnVtYmVyLCBlbGFwc2VkOiBudW1iZXIsIGRlbHRhOiBudW1iZXIsIHY6IG51bWJlcjtcclxuICAgIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICBlbGFwc2VkID0gbm93IC0gdGhpcy50aW1lc3RhbXA7XHJcbiAgICB0aGlzLnRpbWVzdGFtcCA9IG5vdztcclxuICAgIGRlbHRhID0gdGhpcy5vZmZzZXQgLSB0aGlzLmZyYW1lO1xyXG4gICAgdGhpcy5mcmFtZSA9IHRoaXMub2Zmc2V0O1xyXG4gICAgdiA9ICgxMDAwICogZGVsdGEpIC8gKDEgKyBlbGFwc2VkKTtcclxuICAgIHRoaXMudmVsb2NpdHkgPSAwLjggKiB2ICsgMC4yICogdGhpcy52ZWxvY2l0eTtcclxuICB9XHJcblxyXG4gIF9hdXRvU2Nyb2xsID0gKCkgPT4ge1xyXG4gICAgbGV0IGVsYXBzZWQ6IG51bWJlciwgZGVsdGE6IG51bWJlcjtcclxuICAgIGlmICh0aGlzLmFtcGxpdHVkZSkge1xyXG4gICAgICBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIHRoaXMudGltZXN0YW1wO1xyXG4gICAgICBkZWx0YSA9IHRoaXMuYW1wbGl0dWRlICogTWF0aC5leHAoLWVsYXBzZWQgLyB0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xyXG4gICAgICBpZiAoZGVsdGEgPiAyIHx8IGRlbHRhIDwgLTIpIHtcclxuICAgICAgICB0aGlzLl9zY3JvbGwodGhpcy50YXJnZXQgLSBkZWx0YSk7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2F1dG9TY3JvbGwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX3Njcm9sbCh0aGlzLnRhcmdldCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zY3JvbGwoeDogbnVtYmVyID0gMCkge1xyXG4gICAgLy8gVHJhY2sgc2Nyb2xsaW5nIHN0YXRlXHJcbiAgICBpZiAoIXRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzY3JvbGxpbmcnKSkge1xyXG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3Njcm9sbGluZycpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuc2Nyb2xsaW5nVGltZW91dCAhPSBudWxsKSB7XHJcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5zY3JvbGxpbmdUaW1lb3V0KTtcclxuICAgIH1cclxuICAgIHRoaXMuc2Nyb2xsaW5nVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGxpbmcnKTtcclxuICAgIH0sIHRoaXMub3B0aW9ucy5kdXJhdGlvbik7XHJcblxyXG4gICAgLy8gU3RhcnQgYWN0dWFsIHNjcm9sbFxyXG4gICAgbGV0IGk6IG51bWJlcixcclxuICAgICAgaGFsZjogbnVtYmVyLFxyXG4gICAgICBkZWx0YTogbnVtYmVyLFxyXG4gICAgICBkaXI6IG51bWJlcixcclxuICAgICAgdHdlZW46IG51bWJlcixcclxuICAgICAgZWw6IEhUTUxFbGVtZW50LFxyXG4gICAgICBhbGlnbm1lbnQ6IHN0cmluZyxcclxuICAgICAgelRyYW5zbGF0aW9uOiBudW1iZXIsXHJcbiAgICAgIHR3ZWVuZWRPcGFjaXR5OiBudW1iZXIsXHJcbiAgICAgIGNlbnRlclR3ZWVuZWRPcGFjaXR5OiBudW1iZXI7XHJcbiAgICBsZXQgbGFzdENlbnRlciA9IHRoaXMuY2VudGVyO1xyXG4gICAgbGV0IG51bVZpc2libGVPZmZzZXQgPSAxIC8gdGhpcy5vcHRpb25zLm51bVZpc2libGU7XHJcblxyXG4gICAgdGhpcy5vZmZzZXQgPSB0eXBlb2YgeCA9PT0gJ251bWJlcicgPyB4IDogdGhpcy5vZmZzZXQ7XHJcbiAgICB0aGlzLmNlbnRlciA9IE1hdGguZmxvb3IoKHRoaXMub2Zmc2V0ICsgdGhpcy5kaW0gLyAyKSAvIHRoaXMuZGltKTtcclxuXHJcbiAgICBkZWx0YSA9IHRoaXMub2Zmc2V0IC0gdGhpcy5jZW50ZXIgKiB0aGlzLmRpbTtcclxuICAgIGRpciA9IGRlbHRhIDwgMCA/IDEgOiAtMTtcclxuICAgIHR3ZWVuID0gKC1kaXIgKiBkZWx0YSAqIDIpIC8gdGhpcy5kaW07XHJcbiAgICBoYWxmID0gdGhpcy5jb3VudCA+PiAxO1xyXG5cclxuICAgIGlmICh0aGlzLm9wdGlvbnMuZnVsbFdpZHRoKSB7XHJcbiAgICAgIGFsaWdubWVudCA9ICd0cmFuc2xhdGVYKDApJztcclxuICAgICAgY2VudGVyVHdlZW5lZE9wYWNpdHkgPSAxO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGFsaWdubWVudCA9ICd0cmFuc2xhdGVYKCcgKyAodGhpcy5lbC5jbGllbnRXaWR0aCAtIHRoaXMuaXRlbVdpZHRoKSAvIDIgKyAncHgpICc7XHJcbiAgICAgIGFsaWdubWVudCArPSAndHJhbnNsYXRlWSgnICsgKHRoaXMuZWwuY2xpZW50SGVpZ2h0IC0gdGhpcy5pdGVtSGVpZ2h0KSAvIDIgKyAncHgpJztcclxuICAgICAgY2VudGVyVHdlZW5lZE9wYWNpdHkgPSAxIC0gbnVtVmlzaWJsZU9mZnNldCAqIHR3ZWVuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCBpbmRpY2F0b3IgYWN0aXZlXHJcbiAgICBpZiAodGhpcy5zaG93SW5kaWNhdG9ycykge1xyXG4gICAgICBjb25zdCBkaWZmID0gdGhpcy5jZW50ZXIgJSB0aGlzLmNvdW50O1xyXG4gICAgICBjb25zdCBhY3RpdmVJbmRpY2F0b3IgPSB0aGlzLl9pbmRpY2F0b3JzLnF1ZXJ5U2VsZWN0b3IoJy5pbmRpY2F0b3ItaXRlbS5hY3RpdmUnKTtcclxuICAgICAgY29uc3QgYWN0aXZlSW5kaWNhdG9ySW5kZXggPSBbLi4uYWN0aXZlSW5kaWNhdG9yLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YoYWN0aXZlSW5kaWNhdG9yKTtcclxuICAgICAgaWYgKGFjdGl2ZUluZGljYXRvckluZGV4ICE9PSBkaWZmKSB7XHJcbiAgICAgICAgYWN0aXZlSW5kaWNhdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IGRpZmYgPCAwID8gdGhpcy5jb3VudCArIGRpZmYgOiBkaWZmO1xyXG4gICAgICAgIHRoaXMuX2luZGljYXRvcnMucXVlcnlTZWxlY3RvckFsbCgnLmluZGljYXRvci1pdGVtJylbcG9zXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNlbnRlclxyXG4gICAgLy8gRG9uJ3Qgc2hvdyB3cmFwcGVkIGl0ZW1zLlxyXG4gICAgaWYgKCF0aGlzLm5vV3JhcCB8fCAodGhpcy5jZW50ZXIgPj0gMCAmJiB0aGlzLmNlbnRlciA8IHRoaXMuY291bnQpKSB7XHJcbiAgICAgIGVsID0gdGhpcy5pbWFnZXNbdGhpcy5fd3JhcCh0aGlzLmNlbnRlcildO1xyXG5cclxuICAgICAgLy8gQWRkIGFjdGl2ZSBjbGFzcyB0byBjZW50ZXIgaXRlbS5cclxuICAgICAgaWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtaXRlbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgdHJhbnNmb3JtU3RyaW5nID0gYCR7YWxpZ25tZW50fSB0cmFuc2xhdGVYKCR7LWRlbHRhIC8gMn1weCkgdHJhbnNsYXRlWCgke2RpciAqXHJcbiAgICAgICAgdGhpcy5vcHRpb25zLnNoaWZ0ICpcclxuICAgICAgICB0d2VlbiAqXHJcbiAgICAgICAgaX1weCkgdHJhbnNsYXRlWigke3RoaXMub3B0aW9ucy5kaXN0ICogdHdlZW59cHgpYDtcclxuICAgICAgdGhpcy5fdXBkYXRlSXRlbVN0eWxlKGVsLCBjZW50ZXJUd2VlbmVkT3BhY2l0eSwgMCwgdHJhbnNmb3JtU3RyaW5nKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGkgPSAxOyBpIDw9IGhhbGY7ICsraSkge1xyXG4gICAgICAvLyByaWdodCBzaWRlXHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZnVsbFdpZHRoKSB7XHJcbiAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3Q7XHJcbiAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSBpID09PSBoYWxmICYmIGRlbHRhIDwgMCA/IDEgLSB0d2VlbiA6IDE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3QgKiAoaSAqIDIgKyB0d2VlbiAqIGRpcik7XHJcbiAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSAxIC0gbnVtVmlzaWJsZU9mZnNldCAqIChpICogMiArIHR3ZWVuICogZGlyKTtcclxuICAgICAgfVxyXG4gICAgICAvLyBEb24ndCBzaG93IHdyYXBwZWQgaXRlbXMuXHJcbiAgICAgIGlmICghdGhpcy5ub1dyYXAgfHwgdGhpcy5jZW50ZXIgKyBpIDwgdGhpcy5jb3VudCkge1xyXG4gICAgICAgIGVsID0gdGhpcy5pbWFnZXNbdGhpcy5fd3JhcCh0aGlzLmNlbnRlciArIGkpXTtcclxuICAgICAgICBsZXQgdHJhbnNmb3JtU3RyaW5nID0gYCR7YWxpZ25tZW50fSB0cmFuc2xhdGVYKCR7dGhpcy5vcHRpb25zLnNoaWZ0ICtcclxuICAgICAgICAgICh0aGlzLmRpbSAqIGkgLSBkZWx0YSkgLyAyfXB4KSB0cmFuc2xhdGVaKCR7elRyYW5zbGF0aW9ufXB4KWA7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlSXRlbVN0eWxlKGVsLCB0d2VlbmVkT3BhY2l0eSwgLWksIHRyYW5zZm9ybVN0cmluZyk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gbGVmdCBzaWRlXHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZnVsbFdpZHRoKSB7XHJcbiAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3Q7XHJcbiAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSBpID09PSBoYWxmICYmIGRlbHRhID4gMCA/IDEgLSB0d2VlbiA6IDE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgelRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLmRpc3QgKiAoaSAqIDIgLSB0d2VlbiAqIGRpcik7XHJcbiAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSAxIC0gbnVtVmlzaWJsZU9mZnNldCAqIChpICogMiAtIHR3ZWVuICogZGlyKTtcclxuICAgICAgfVxyXG4gICAgICAvLyBEb24ndCBzaG93IHdyYXBwZWQgaXRlbXMuXHJcbiAgICAgIGlmICghdGhpcy5ub1dyYXAgfHwgdGhpcy5jZW50ZXIgLSBpID49IDApIHtcclxuICAgICAgICBlbCA9IHRoaXMuaW1hZ2VzW3RoaXMuX3dyYXAodGhpcy5jZW50ZXIgLSBpKV07XHJcbiAgICAgICAgbGV0IHRyYW5zZm9ybVN0cmluZyA9IGAke2FsaWdubWVudH0gdHJhbnNsYXRlWCgkey10aGlzLm9wdGlvbnMuc2hpZnQgK1xyXG4gICAgICAgICAgKC10aGlzLmRpbSAqIGkgLSBkZWx0YSkgLyAyfXB4KSB0cmFuc2xhdGVaKCR7elRyYW5zbGF0aW9ufXB4KWA7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlSXRlbVN0eWxlKGVsLCB0d2VlbmVkT3BhY2l0eSwgLWksIHRyYW5zZm9ybVN0cmluZyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGNlbnRlclxyXG4gICAgLy8gRG9uJ3Qgc2hvdyB3cmFwcGVkIGl0ZW1zLlxyXG4gICAgaWYgKCF0aGlzLm5vV3JhcCB8fCAodGhpcy5jZW50ZXIgPj0gMCAmJiB0aGlzLmNlbnRlciA8IHRoaXMuY291bnQpKSB7XHJcbiAgICAgIGVsID0gdGhpcy5pbWFnZXNbdGhpcy5fd3JhcCh0aGlzLmNlbnRlcildO1xyXG4gICAgICBsZXQgdHJhbnNmb3JtU3RyaW5nID0gYCR7YWxpZ25tZW50fSB0cmFuc2xhdGVYKCR7LWRlbHRhIC8gMn1weCkgdHJhbnNsYXRlWCgke2RpciAqXHJcbiAgICAgICAgdGhpcy5vcHRpb25zLnNoaWZ0ICpcclxuICAgICAgICB0d2Vlbn1weCkgdHJhbnNsYXRlWigke3RoaXMub3B0aW9ucy5kaXN0ICogdHdlZW59cHgpYDtcclxuICAgICAgdGhpcy5fdXBkYXRlSXRlbVN0eWxlKGVsLCBjZW50ZXJUd2VlbmVkT3BhY2l0eSwgMCwgdHJhbnNmb3JtU3RyaW5nKTtcclxuICAgIH1cclxuICAgIC8vIG9uQ3ljbGVUbyBjYWxsYmFja1xyXG4gICAgY29uc3QgX2N1cnJJdGVtID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwtaXRlbScpW3RoaXMuX3dyYXAodGhpcy5jZW50ZXIpXTtcclxuXHJcbiAgICBpZiAobGFzdENlbnRlciAhPT0gdGhpcy5jZW50ZXIgJiYgdHlwZW9mIHRoaXMub3B0aW9ucy5vbkN5Y2xlVG8gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhpcy5vcHRpb25zLm9uQ3ljbGVUby5jYWxsKHRoaXMsIF9jdXJySXRlbSwgdGhpcy5kcmFnZ2VkKTtcclxuICAgIH1cclxuICAgIC8vIE9uZSB0aW1lIGNhbGxiYWNrXHJcbiAgICBpZiAodHlwZW9mIHRoaXMub25lVGltZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRoaXMub25lVGltZUNhbGxiYWNrLmNhbGwodGhpcywgX2N1cnJJdGVtLCB0aGlzLmRyYWdnZWQpO1xyXG4gICAgICB0aGlzLm9uZVRpbWVDYWxsYmFjayA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlSXRlbVN0eWxlKGVsOiBIVE1MRWxlbWVudCwgb3BhY2l0eTogbnVtYmVyLCB6SW5kZXg6IG51bWJlciwgdHJhbnNmb3JtOiBzdHJpbmcpIHtcclxuICAgIGVsLnN0eWxlW3RoaXMueGZvcm1dID0gdHJhbnNmb3JtO1xyXG4gICAgZWwuc3R5bGUuekluZGV4ID0gekluZGV4LnRvU3RyaW5nKCk7XHJcbiAgICBlbC5zdHlsZS5vcGFjaXR5ID0gb3BhY2l0eS50b1N0cmluZygpO1xyXG4gICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcclxuICB9XHJcblxyXG4gIF9jeWNsZVRvKG46IG51bWJlciwgY2FsbGJhY2s6IENhcm91c2VsT3B0aW9uc1tcIm9uQ3ljbGVUb1wiXSA9IG51bGwpIHtcclxuICAgIGxldCBkaWZmID0gKHRoaXMuY2VudGVyICUgdGhpcy5jb3VudCkgLSBuO1xyXG4gICAgLy8gQWNjb3VudCBmb3Igd3JhcGFyb3VuZC5cclxuICAgIGlmICghdGhpcy5ub1dyYXApIHtcclxuICAgICAgaWYgKGRpZmYgPCAwKSB7XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKGRpZmYgKyB0aGlzLmNvdW50KSA8IE1hdGguYWJzKGRpZmYpKSB7XHJcbiAgICAgICAgICBkaWZmICs9IHRoaXMuY291bnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGRpZmYgPiAwKSB7XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKGRpZmYgLSB0aGlzLmNvdW50KSA8IGRpZmYpIHtcclxuICAgICAgICAgIGRpZmYgLT0gdGhpcy5jb3VudDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5kaW0gKiBNYXRoLnJvdW5kKHRoaXMub2Zmc2V0IC8gdGhpcy5kaW0pO1xyXG4gICAgLy8gTmV4dFxyXG4gICAgaWYgKGRpZmYgPCAwKSB7XHJcbiAgICAgIHRoaXMudGFyZ2V0ICs9IHRoaXMuZGltICogTWF0aC5hYnMoZGlmZik7XHJcbiAgICB9IC8vIFByZXZcclxuICAgIGVsc2UgaWYgKGRpZmYgPiAwKSB7XHJcbiAgICAgIHRoaXMudGFyZ2V0IC09IHRoaXMuZGltICogZGlmZjtcclxuICAgIH1cclxuICAgIC8vIFNldCBvbmUgdGltZSBjYWxsYmFja1xyXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLm9uZVRpbWVDYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgfVxyXG4gICAgLy8gU2Nyb2xsXHJcbiAgICBpZiAodGhpcy5vZmZzZXQgIT09IHRoaXMudGFyZ2V0KSB7XHJcbiAgICAgIHRoaXMuYW1wbGl0dWRlID0gdGhpcy50YXJnZXQgLSB0aGlzLm9mZnNldDtcclxuICAgICAgdGhpcy50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xyXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fYXV0b1Njcm9sbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNb3ZlIGNhcm91c2VsIHRvIG5leHQgc2xpZGUgb3IgZ28gZm9yd2FyZCBhIGdpdmVuIGFtb3VudCBvZiBzbGlkZXMuXHJcbiAgICogQHBhcmFtIG4gSG93IG1hbnkgdGltZXMgdGhlIGNhcm91c2VsIHNsaWRlcy5cclxuICAgKi9cclxuICBuZXh0KG46IG51bWJlciA9IDEpIHtcclxuICAgIGlmIChuID09PSB1bmRlZmluZWQgfHwgaXNOYU4obikpIHtcclxuICAgICAgbiA9IDE7XHJcbiAgICB9XHJcbiAgICBsZXQgaW5kZXggPSB0aGlzLmNlbnRlciArIG47XHJcbiAgICBpZiAoaW5kZXggPj0gdGhpcy5jb3VudCB8fCBpbmRleCA8IDApIHtcclxuICAgICAgaWYgKHRoaXMubm9XcmFwKSByZXR1cm47XHJcbiAgICAgIGluZGV4ID0gdGhpcy5fd3JhcChpbmRleCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9jeWNsZVRvKGluZGV4KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1vdmUgY2Fyb3VzZWwgdG8gcHJldmlvdXMgc2xpZGUgb3IgZ28gYmFjayBhIGdpdmVuIGFtb3VudCBvZiBzbGlkZXMuXHJcbiAgICogQHBhcmFtIG4gSG93IG1hbnkgdGltZXMgdGhlIGNhcm91c2VsIHNsaWRlcy5cclxuICAgKi9cclxuICBwcmV2KG46IG51bWJlciA9IDEpIHtcclxuICAgIGlmIChuID09PSB1bmRlZmluZWQgfHwgaXNOYU4obikpIHtcclxuICAgICAgbiA9IDE7XHJcbiAgICB9XHJcbiAgICBsZXQgaW5kZXggPSB0aGlzLmNlbnRlciAtIG47XHJcbiAgICBpZiAoaW5kZXggPj0gdGhpcy5jb3VudCB8fCBpbmRleCA8IDApIHtcclxuICAgICAgaWYgKHRoaXMubm9XcmFwKSByZXR1cm47XHJcbiAgICAgIGluZGV4ID0gdGhpcy5fd3JhcChpbmRleCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9jeWNsZVRvKGluZGV4KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1vdmUgY2Fyb3VzZWwgdG8gbnRoIHNsaWRlLlxyXG4gICAqIEBwYXJhbSBuIEluZGV4IG9mIHNsaWRlLlxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayBcIm9uQ3ljbGVUb1wiIG9wdGlvbmFsIGNhbGxiYWNrLlxyXG4gICAqL1xyXG4gIHNldChuOiBudW1iZXIsIGNhbGxiYWNrPzogQ2Fyb3VzZWxPcHRpb25zW1wib25DeWNsZVRvXCJdKSB7XHJcbiAgICBpZiAobiA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKG4pKSB7XHJcbiAgICAgIG4gPSAwO1xyXG4gICAgfVxyXG4gICAgaWYgKG4gPiB0aGlzLmNvdW50IHx8IG4gPCAwKSB7XHJcbiAgICAgIGlmICh0aGlzLm5vV3JhcCkgcmV0dXJuO1xyXG4gICAgICBuID0gdGhpcy5fd3JhcChuKTtcclxuICAgIH1cclxuICAgIHRoaXMuX2N5Y2xlVG8obiwgY2FsbGJhY2spO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/carousel.ts\n");

/***/ }),

/***/ "./src/characterCounter.ts":
/*!*********************************!*\
  !*** ./src/characterCounter.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.CharacterCounter = void 0;\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\n;\r\nconst _defaults = Object.freeze({});\r\nclass CharacterCounter extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, {}, CharacterCounter);\r\n        this.updateCounter = () => {\r\n            let maxLength = parseInt(this.el.getAttribute('maxlength')), actualLength = this.el.value.length;\r\n            this.isValidLength = actualLength <= maxLength;\r\n            let counterString = actualLength.toString();\r\n            if (maxLength) {\r\n                counterString += '/' + maxLength;\r\n                this._validateInput();\r\n            }\r\n            this.counterEl.innerHTML = counterString;\r\n        };\r\n        this.el.M_CharacterCounter = this;\r\n        this.options = Object.assign(Object.assign({}, CharacterCounter.defaults), options);\r\n        this.isInvalid = false;\r\n        this.isValidLength = false;\r\n        this._setupCounter();\r\n        this._setupEventHandlers();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of CharacterCounter.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, CharacterCounter);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_CharacterCounter;\r\n    }\r\n    destroy() {\r\n        this._removeEventHandlers();\r\n        this.el.CharacterCounter = undefined;\r\n        this._removeCounter();\r\n    }\r\n    _setupEventHandlers() {\r\n        this.el.addEventListener('focus', this.updateCounter, true);\r\n        this.el.addEventListener('input', this.updateCounter, true);\r\n    }\r\n    _removeEventHandlers() {\r\n        this.el.removeEventListener('focus', this.updateCounter, true);\r\n        this.el.removeEventListener('input', this.updateCounter, true);\r\n    }\r\n    _setupCounter() {\r\n        this.counterEl = document.createElement('span');\r\n        this.counterEl.classList.add('character-counter');\r\n        this.counterEl.style.float = 'right';\r\n        this.counterEl.style.fontSize = '12px';\r\n        this.counterEl.style.height = '1';\r\n        this.el.parentElement.appendChild(this.counterEl);\r\n    }\r\n    _removeCounter() {\r\n        this.counterEl.remove();\r\n    }\r\n    _validateInput() {\r\n        if (this.isValidLength && this.isInvalid) {\r\n            this.isInvalid = false;\r\n            this.el.classList.remove('invalid');\r\n        }\r\n        else if (!this.isValidLength && !this.isInvalid) {\r\n            this.isInvalid = true;\r\n            this.el.classList.remove('valid');\r\n            this.el.classList.add('invalid');\r\n        }\r\n    }\r\n}\r\nexports.CharacterCounter = CharacterCounter;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUM7UUFDdkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztRQUNsQyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRCxjQUFjO1FBQ1osSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUMxQixDQUFDO0lBZUQsY0FBYztRQUNaLElBQUksSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ3hDLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUNyQzthQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUMvQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztZQUN0QixJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDbEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ2xDO0lBQ0gsQ0FBQztDQUNGO0FBNUdELDRDQTRHQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9jaGFyYWN0ZXJDb3VudGVyLnRzPzNiMmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBCYXNlT3B0aW9ucywgSW5pdEVsZW1lbnRzLCBNRWxlbWVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDaGFyYWN0ZXJDb3VudGVyT3B0aW9ucyBleHRlbmRzIEJhc2VPcHRpb25zIHt9O1xyXG5cclxuY29uc3QgX2RlZmF1bHRzID0gT2JqZWN0LmZyZWV6ZSh7fSk7XHJcblxyXG50eXBlIElucHV0RWxlbWVudCA9IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG5cclxuZXhwb3J0IGNsYXNzIENoYXJhY3RlckNvdW50ZXIgZXh0ZW5kcyBDb21wb25lbnQ8e30+IHtcclxuICBcclxuICBkZWNsYXJlIGVsOiBJbnB1dEVsZW1lbnQ7XHJcbiAgLyoqIFN0b3JlcyB0aGUgcmVmZXJlbmNlIHRvIHRoZSBjb3VudGVyIEhUTUwgZWxlbWVudC4gKi9cclxuICBjb3VudGVyRWw6IEhUTUxTcGFuRWxlbWVudDtcclxuICAvKiogU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGlucHV0IGlzIHZhbGlkIG9yIG5vdC4gKi9cclxuICBpc0ludmFsaWQ6IGJvb2xlYW47XHJcbiAgLyoqIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBpbnB1dCB0ZXh0IGhhcyB2YWxpZCBsZW5ndGggb3Igbm90LiAqL1xyXG4gIGlzVmFsaWRMZW5ndGg6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKGVsOiBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFRleHRBcmVhRWxlbWVudCwgb3B0aW9uczogUGFydGlhbDxDaGFyYWN0ZXJDb3VudGVyT3B0aW9ucz4pIHtcclxuICAgIHN1cGVyKGVsLCB7fSwgQ2hhcmFjdGVyQ291bnRlcik7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQ2hhcmFjdGVyQ291bnRlciA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICAuLi5DaGFyYWN0ZXJDb3VudGVyLmRlZmF1bHRzLFxyXG4gICAgICAuLi5vcHRpb25zXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaXNJbnZhbGlkID0gZmFsc2U7XHJcbiAgICB0aGlzLmlzVmFsaWRMZW5ndGggPSBmYWxzZTtcclxuICAgIFxyXG4gICAgdGhpcy5fc2V0dXBDb3VudGVyKCk7XHJcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKTogQ2hhcmFjdGVyQ291bnRlck9wdGlvbnMge1xyXG4gICAgcmV0dXJuIF9kZWZhdWx0cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlIG9mIENoYXJhY3RlckNvdW50ZXIuXHJcbiAgICogQHBhcmFtIGVsIEhUTUwgZWxlbWVudC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbDogSW5wdXRFbGVtZW50LCBvcHRpb25zPzogUGFydGlhbDxDaGFyYWN0ZXJDb3VudGVyT3B0aW9ucz4pOiBDaGFyYWN0ZXJDb3VudGVyO1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBDaGFyYWN0ZXJDb3VudGVyLlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbHM6IEluaXRFbGVtZW50czxJbnB1dEVsZW1lbnQgfCBNRWxlbWVudD4sIG9wdGlvbnM/OiBQYXJ0aWFsPENoYXJhY3RlckNvdW50ZXJPcHRpb25zPik6IENoYXJhY3RlckNvdW50ZXJbXTtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgQ2hhcmFjdGVyQ291bnRlci5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWxzOiBJbnB1dEVsZW1lbnQgfCBJbml0RWxlbWVudHM8SW5wdXRFbGVtZW50IHwgTUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPENoYXJhY3RlckNvdW50ZXJPcHRpb25zPiA9IHt9KTogQ2hhcmFjdGVyQ291bnRlciB8IENoYXJhY3RlckNvdW50ZXJbXSB7XHJcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIENoYXJhY3RlckNvdW50ZXIpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEluc3RhbmNlKGVsOiBJbnB1dEVsZW1lbnQpOiBDaGFyYWN0ZXJDb3VudGVyIHtcclxuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX0NoYXJhY3RlckNvdW50ZXI7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5DaGFyYWN0ZXJDb3VudGVyID0gdW5kZWZpbmVkO1xyXG4gICAgdGhpcy5fcmVtb3ZlQ291bnRlcigpO1xyXG4gIH1cclxuXHJcbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLnVwZGF0ZUNvdW50ZXIsIHRydWUpO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMudXBkYXRlQ291bnRlciwgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLnVwZGF0ZUNvdW50ZXIsIHRydWUpO1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMudXBkYXRlQ291bnRlciwgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBfc2V0dXBDb3VudGVyKCkge1xyXG4gICAgdGhpcy5jb3VudGVyRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICB0aGlzLmNvdW50ZXJFbC5jbGFzc0xpc3QuYWRkKCdjaGFyYWN0ZXItY291bnRlcicpO1xyXG4gICAgdGhpcy5jb3VudGVyRWwuc3R5bGUuZmxvYXQgPSAncmlnaHQnO1xyXG4gICAgdGhpcy5jb3VudGVyRWwuc3R5bGUuZm9udFNpemUgPSAnMTJweCc7XHJcbiAgICB0aGlzLmNvdW50ZXJFbC5zdHlsZS5oZWlnaHQgPSAnMSc7XHJcbiAgICB0aGlzLmVsLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5jb3VudGVyRWwpO1xyXG4gIH1cclxuXHJcbiAgX3JlbW92ZUNvdW50ZXIoKSB7XHJcbiAgICB0aGlzLmNvdW50ZXJFbC5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUNvdW50ZXIgPSAoKSA9PiB7XHJcbiAgICBsZXQgbWF4TGVuZ3RoID0gcGFyc2VJbnQodGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ21heGxlbmd0aCcpKSxcclxuICAgICAgYWN0dWFsTGVuZ3RoID0gKHRoaXMuZWwgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUubGVuZ3RoO1xyXG5cclxuICAgIHRoaXMuaXNWYWxpZExlbmd0aCA9IGFjdHVhbExlbmd0aCA8PSBtYXhMZW5ndGg7XHJcbiAgICBsZXQgY291bnRlclN0cmluZyA9IGFjdHVhbExlbmd0aC50b1N0cmluZygpO1xyXG4gICAgaWYgKG1heExlbmd0aCkge1xyXG4gICAgICBjb3VudGVyU3RyaW5nICs9ICcvJyArIG1heExlbmd0aDtcclxuICAgICAgdGhpcy5fdmFsaWRhdGVJbnB1dCgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jb3VudGVyRWwuaW5uZXJIVE1MID0gY291bnRlclN0cmluZztcclxuICB9XHJcblxyXG4gIF92YWxpZGF0ZUlucHV0KCkge1xyXG4gICAgaWYgKHRoaXMuaXNWYWxpZExlbmd0aCAmJiB0aGlzLmlzSW52YWxpZCkge1xyXG4gICAgICB0aGlzLmlzSW52YWxpZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2ludmFsaWQnKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCF0aGlzLmlzVmFsaWRMZW5ndGggJiYgIXRoaXMuaXNJbnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuaXNJbnZhbGlkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCd2YWxpZCcpO1xyXG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2ludmFsaWQnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/characterCounter.ts\n");

/***/ }),

/***/ "./src/chips.ts":
/*!**********************!*\
  !*** ./src/chips.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Chips = void 0;\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst autocomplete_1 = __webpack_require__(/*! ./autocomplete */ \"./src/autocomplete.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\nlet _defaults = {\r\n    data: [],\r\n    placeholder: '',\r\n    secondaryPlaceholder: '',\r\n    closeIconClass: 'material-icons',\r\n    autocompleteOptions: {},\r\n    autocompleteOnly: false,\r\n    limit: Infinity,\r\n    onChipAdd: null,\r\n    onChipSelect: null,\r\n    onChipDelete: null\r\n};\r\nfunction gGetIndex(el) {\r\n    return [...el.parentNode.children].indexOf(el);\r\n}\r\nclass Chips extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Chips);\r\n        this._handleChipClick = (e) => {\r\n            const _chip = e.target.closest('.chip');\r\n            const clickedClose = e.target.classList.contains('close');\r\n            if (_chip) {\r\n                const index = [..._chip.parentNode.children].indexOf(_chip);\r\n                if (clickedClose) {\r\n                    this.deleteChip(index);\r\n                    this._input.focus();\r\n                }\r\n                else {\r\n                    this.selectChip(index);\r\n                }\r\n                // Default handle click to focus on input\r\n            }\r\n            else {\r\n                this._input.focus();\r\n            }\r\n        };\r\n        this._handleInputFocus = () => {\r\n            this.el.classList.add('focus');\r\n        };\r\n        this._handleInputBlur = () => {\r\n            this.el.classList.remove('focus');\r\n        };\r\n        this._handleInputKeydown = (e) => {\r\n            Chips._keydown = true;\r\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\r\n                // Override enter if autocompleting.\r\n                if (this.hasAutocomplete && this.autocomplete && this.autocomplete.isOpen) {\r\n                    return;\r\n                }\r\n                e.preventDefault();\r\n                if (!this.hasAutocomplete || (this.hasAutocomplete && !this.options.autocompleteOnly)) {\r\n                    this.addChip({ id: this._input.value });\r\n                }\r\n                this._input.value = '';\r\n            }\r\n            else if ((utils_1.Utils.keys.BACKSPACE.includes(e.key) || utils_1.Utils.keys.ARROW_LEFT.includes(e.key)) &&\r\n                this._input.value === '' &&\r\n                this.chipsData.length) {\r\n                e.preventDefault();\r\n                this.selectChip(this.chipsData.length - 1);\r\n            }\r\n        };\r\n        this.el.M_Chips = this;\r\n        this.options = Object.assign(Object.assign({}, Chips.defaults), options);\r\n        this.el.classList.add('chips', 'input-field');\r\n        this.chipsData = [];\r\n        this._chips = [];\r\n        this._setupInput();\r\n        this.hasAutocomplete = Object.keys(this.options.autocompleteOptions).length > 0;\r\n        // Set input id\r\n        if (!this._input.getAttribute('id'))\r\n            this._input.setAttribute('id', utils_1.Utils.guid());\r\n        // Render initial chips\r\n        if (this.options.data.length) {\r\n            this.chipsData = this.options.data;\r\n            this._renderChips();\r\n        }\r\n        // Setup autocomplete if needed\r\n        if (this.hasAutocomplete)\r\n            this._setupAutocomplete();\r\n        this._setPlaceholder();\r\n        this._setupLabel();\r\n        this._setupEventHandlers();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Chips.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Chips);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Chips;\r\n    }\r\n    getData() {\r\n        return this.chipsData;\r\n    }\r\n    destroy() {\r\n        this._removeEventHandlers();\r\n        this._chips.forEach(c => c.remove());\r\n        this._chips = [];\r\n        this.el.M_Chips = undefined;\r\n    }\r\n    _setupEventHandlers() {\r\n        this.el.addEventListener('click', this._handleChipClick);\r\n        document.addEventListener('keydown', Chips._handleChipsKeydown);\r\n        document.addEventListener('keyup', Chips._handleChipsKeyup);\r\n        this.el.addEventListener('blur', Chips._handleChipsBlur, true);\r\n        this._input.addEventListener('focus', this._handleInputFocus);\r\n        this._input.addEventListener('blur', this._handleInputBlur);\r\n        this._input.addEventListener('keydown', this._handleInputKeydown);\r\n    }\r\n    _removeEventHandlers() {\r\n        this.el.removeEventListener('click', this._handleChipClick);\r\n        document.removeEventListener('keydown', Chips._handleChipsKeydown);\r\n        document.removeEventListener('keyup', Chips._handleChipsKeyup);\r\n        this.el.removeEventListener('blur', Chips._handleChipsBlur, true);\r\n        this._input.removeEventListener('focus', this._handleInputFocus);\r\n        this._input.removeEventListener('blur', this._handleInputBlur);\r\n        this._input.removeEventListener('keydown', this._handleInputKeydown);\r\n    }\r\n    static _handleChipsKeydown(e) {\r\n        Chips._keydown = true;\r\n        const chips = e.target.closest('.chips');\r\n        const chipsKeydown = e.target && chips;\r\n        // Don't handle keydown inputs on input and textarea\r\n        const tag = e.target.tagName;\r\n        if (tag === 'INPUT' || tag === 'TEXTAREA' || !chipsKeydown)\r\n            return;\r\n        const currChips = chips.M_Chips;\r\n        if (utils_1.Utils.keys.BACKSPACE.includes(e.key) || utils_1.Utils.keys.DELETE.includes(e.key)) {\r\n            e.preventDefault();\r\n            let selectIndex = currChips.chipsData.length;\r\n            if (currChips._selectedChip) {\r\n                const index = gGetIndex(currChips._selectedChip);\r\n                currChips.deleteChip(index);\r\n                currChips._selectedChip = null;\r\n                // Make sure selectIndex doesn't go negative\r\n                selectIndex = Math.max(index - 1, 0);\r\n            }\r\n            if (currChips.chipsData.length)\r\n                currChips.selectChip(selectIndex);\r\n            else\r\n                currChips._input.focus();\r\n        }\r\n        else if (utils_1.Utils.keys.ARROW_LEFT.includes(e.key)) {\r\n            if (currChips._selectedChip) {\r\n                const selectIndex = gGetIndex(currChips._selectedChip) - 1;\r\n                if (selectIndex < 0)\r\n                    return;\r\n                currChips.selectChip(selectIndex);\r\n            }\r\n        }\r\n        else if (utils_1.Utils.keys.ARROW_RIGHT.includes(e.key)) {\r\n            if (currChips._selectedChip) {\r\n                const selectIndex = gGetIndex(currChips._selectedChip) + 1;\r\n                if (selectIndex >= currChips.chipsData.length)\r\n                    currChips._input.focus();\r\n                else\r\n                    currChips.selectChip(selectIndex);\r\n            }\r\n        }\r\n    }\r\n    static _handleChipsKeyup(e) {\r\n        Chips._keydown = false;\r\n    }\r\n    static _handleChipsBlur(e) {\r\n        if (!Chips._keydown && document.hidden) {\r\n            const chips = e.target.closest('.chips');\r\n            const currChips = chips.M_Chips;\r\n            currChips._selectedChip = null;\r\n        }\r\n    }\r\n    _renderChip(chip) {\r\n        if (!chip.id)\r\n            return;\r\n        const renderedChip = document.createElement('div');\r\n        renderedChip.classList.add('chip');\r\n        renderedChip.innerText = chip.text || chip.id;\r\n        renderedChip.setAttribute('tabindex', \"0\");\r\n        const closeIcon = document.createElement('i');\r\n        closeIcon.classList.add(this.options.closeIconClass, 'close');\r\n        closeIcon.innerText = 'close';\r\n        // attach image if needed\r\n        if (chip.image) {\r\n            const img = document.createElement('img');\r\n            img.setAttribute('src', chip.image);\r\n            renderedChip.insertBefore(img, renderedChip.firstChild);\r\n        }\r\n        renderedChip.appendChild(closeIcon);\r\n        return renderedChip;\r\n    }\r\n    _renderChips() {\r\n        this._chips = []; //.remove();\r\n        for (let i = 0; i < this.chipsData.length; i++) {\r\n            const chipElem = this._renderChip(this.chipsData[i]);\r\n            this.el.appendChild(chipElem);\r\n            this._chips.push(chipElem);\r\n        }\r\n        // move input to end\r\n        this.el.append(this._input);\r\n    }\r\n    _setupAutocomplete() {\r\n        this.options.autocompleteOptions.onAutocomplete = (items) => {\r\n            if (items.length > 0)\r\n                this.addChip({\r\n                    id: items[0].id,\r\n                    text: items[0].text,\r\n                    image: items[0].image\r\n                });\r\n            this._input.value = '';\r\n            this._input.focus();\r\n        };\r\n        this.autocomplete = autocomplete_1.Autocomplete.init(this._input, this.options.autocompleteOptions);\r\n    }\r\n    _setupInput() {\r\n        this._input = this.el.querySelector('input');\r\n        if (!this._input) {\r\n            this._input = document.createElement('input');\r\n            this.el.append(this._input);\r\n        }\r\n        this._input.classList.add('input');\r\n    }\r\n    _setupLabel() {\r\n        this._label = this.el.querySelector('label');\r\n        if (this._label)\r\n            this._label.setAttribute('for', this._input.getAttribute('id'));\r\n    }\r\n    _setPlaceholder() {\r\n        if (this.chipsData !== undefined && !this.chipsData.length && this.options.placeholder) {\r\n            this._input.placeholder = this.options.placeholder;\r\n        }\r\n        else if ((this.chipsData === undefined || !!this.chipsData.length) &&\r\n            this.options.secondaryPlaceholder) {\r\n            this._input.placeholder = this.options.secondaryPlaceholder;\r\n        }\r\n    }\r\n    _isValidAndNotExist(chip) {\r\n        const isValid = !!chip.id;\r\n        const doesNotExist = !this.chipsData.some(item => item.id == chip.id);\r\n        return isValid && doesNotExist;\r\n    }\r\n    /**\r\n     * Add chip to input.\r\n     * @param chip Chip data object\r\n     */\r\n    addChip(chip) {\r\n        if (!this._isValidAndNotExist(chip) || this.chipsData.length >= this.options.limit)\r\n            return;\r\n        const renderedChip = this._renderChip(chip);\r\n        this._chips.push(renderedChip);\r\n        this.chipsData.push(chip);\r\n        //$(this._input).before(renderedChip);\r\n        this._input.before(renderedChip);\r\n        this._setPlaceholder();\r\n        // fire chipAdd callback\r\n        if (typeof this.options.onChipAdd === 'function') {\r\n            this.options.onChipAdd(this.el, renderedChip);\r\n        }\r\n    }\r\n    /**\r\n     * Delete nth chip.\r\n     * @param chipIndex  Index of chip\r\n     */\r\n    deleteChip(chipIndex) {\r\n        const chip = this._chips[chipIndex];\r\n        this._chips[chipIndex].remove();\r\n        this._chips.splice(chipIndex, 1);\r\n        this.chipsData.splice(chipIndex, 1);\r\n        this._setPlaceholder();\r\n        // fire chipDelete callback\r\n        if (typeof this.options.onChipDelete === 'function') {\r\n            this.options.onChipDelete(this.el, chip);\r\n        }\r\n    }\r\n    /**\r\n     * Select nth chip.\r\n     * @param chipIndex Index of chip\r\n     */\r\n    selectChip(chipIndex) {\r\n        const chip = this._chips[chipIndex];\r\n        this._selectedChip = chip;\r\n        chip.focus();\r\n        // fire chipSelect callback\r\n        if (typeof this.options.onChipSelect === 'function') {\r\n            this.options.onChipSelect(this.el, chip);\r\n        }\r\n    }\r\n    static Init() {\r\n        document.addEventListener(\"DOMContentLoaded\", () => {\r\n            // Handle removal of static chips.\r\n            document.body.addEventListener('click', e => {\r\n                if (e.target.closest('.chip .close')) {\r\n                    const chips = e.target.closest('.chips');\r\n                    if (chips && chips.M_Chips == undefined)\r\n                        return;\r\n                    e.target.closest('.chip').remove();\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.Chips = Chips;\r\n(() => {\r\n    Chips._keydown = false;\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWtDO1lBQ2xDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFO2dCQUMxQyxJQUFrQixDQUFDLENBQUMsTUFBTyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsRUFBRTtvQkFDbkQsTUFBTSxLQUFLLEdBQWlCLENBQUMsQ0FBQyxNQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUN4RCxJQUFJLEtBQUssSUFBSyxLQUFhLENBQUMsT0FBTyxJQUFJLFNBQVM7d0JBQUUsT0FBTztvQkFDM0MsQ0FBQyxDQUFDLE1BQU8sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7aUJBQ25EO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FLRjtBQTdWRCxzQkE2VkM7QUFIQztJQUNFLEtBQUssQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO0FBQ3pCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvY2hpcHMudHM/ZTQ4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IEF1dG9jb21wbGV0ZSwgQXV0b2NvbXBsZXRlT3B0aW9ucyB9IGZyb20gXCIuL2F1dG9jb21wbGV0ZVwiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENoaXBEYXRhIHtcclxuICAvKipcclxuICAgKiBVbmlxdWUgaWRlbnRpZmllci5cclxuICAgKi9cclxuICBpZDogbnVtYmVyfHN0cmluZztcclxuICAvKipcclxuICAgKiBDaGlwIHRleHQuIElmIG5vdCBzcGVjaWZpZWQsIFwiaWRcIiB3aWxsIGJlIHVzZWQuXHJcbiAgICovXHJcbiAgdGV4dD86IHN0cmluZztcclxuICAvKipcclxuICAgKiBDaGlwIGltYWdlIChVUkwpLlxyXG4gICAqL1xyXG4gIGltYWdlPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENoaXBzT3B0aW9ucyBleHRlbmRzIEJhc2VPcHRpb25ze1xyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUgY2hpcCBkYXRhLlxyXG4gICAqIEBkZWZhdWx0IFtdXHJcbiAgICovXHJcbiAgZGF0YTogQ2hpcERhdGFbXTtcclxuICAvKipcclxuICAgKiBTZXQgZmlyc3QgcGxhY2Vob2xkZXIgd2hlbiB0aGVyZSBhcmUgbm8gdGFncy5cclxuICAgKiBAZGVmYXVsdCBcIlwiXHJcbiAgICovXHJcbiAgcGxhY2Vob2xkZXI6IHN0cmluZztcclxuICAvKipcclxuICAgKiBTZXQgc2Vjb25kIHBsYWNlaG9sZGVyIHdoZW4gYWRkaW5nIGFkZGl0aW9uYWwgdGFncy5cclxuICAgKiBAZGVmYXVsdCBcIlwiXHJcbiAgICovXHJcbiAgc2Vjb25kYXJ5UGxhY2Vob2xkZXI6IHN0cmluZztcclxuICAvKipcclxuICAgKiBTZXQgYXV0b2NvbXBsZXRlIG9wdGlvbnMuXHJcbiAgICogQGRlZmF1bHQge31cclxuICAgKi9cclxuICBhdXRvY29tcGxldGVPcHRpb25zOiBQYXJ0aWFsPEF1dG9jb21wbGV0ZU9wdGlvbnM+O1xyXG4gIC8qKlxyXG4gICAqIFRvZ2dsZXMgYWJpbGlsdHkgdG8gYWRkIGN1c3RvbSB2YWx1ZSBub3QgaW4gYXV0b2NvbXBsZXRlIGxpc3QuXHJcbiAgICogQGRlZmF1bHQgZmFsc2VcclxuICAgKi9cclxuICBhdXRvY29tcGxldGVPbmx5OiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIFNldCBjaGlwcyBsaW1pdC5cclxuICAgKiBAZGVmYXVsdCBJbmZpbml0eVxyXG4gICAqL1xyXG4gIGxpbWl0OiBudW1iZXI7XHJcbiAgLyoqXHJcbiAgICogU3BlY2lmaWVzIGNsYXNzIHRvIGJlIHVzZWQgaW4gXCJjbG9zZVwiIGJ1dHRvbiAodXNlZnVsIHdoZW4gd29ya2luZyB3aXRoIE1hdGVyaWFsIFN5bWJvbHMgaWNvbiBzZXQpLlxyXG4gICAqIEBkZWZhdWx0ICdtYXRlcmlhbC1pY29ucydcclxuICAgKi9cclxuICBjbG9zZUljb25DbGFzczogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIGZvciBjaGlwIGFkZC5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgb25DaGlwQWRkOiAoZWxlbWVudDogSFRNTEVsZW1lbnQsIGNoaXA6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIGZvciBjaGlwIHNlbGVjdC5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgb25DaGlwU2VsZWN0OiAoZWxlbWVudDogSFRNTEVsZW1lbnQsIGNoaXA6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIGZvciBjaGlwIGRlbGV0ZS5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgb25DaGlwRGVsZXRlOiAoZWxlbWVudDogSFRNTEVsZW1lbnQsIGNoaXA6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG59XHJcblxyXG5sZXQgX2RlZmF1bHRzOiBDaGlwc09wdGlvbnMgPSB7XHJcbiAgZGF0YTogW10sXHJcbiAgcGxhY2Vob2xkZXI6ICcnLFxyXG4gIHNlY29uZGFyeVBsYWNlaG9sZGVyOiAnJyxcclxuICBjbG9zZUljb25DbGFzczogJ21hdGVyaWFsLWljb25zJyxcclxuICBhdXRvY29tcGxldGVPcHRpb25zOiB7fSxcclxuICBhdXRvY29tcGxldGVPbmx5OiBmYWxzZSxcclxuICBsaW1pdDogSW5maW5pdHksXHJcbiAgb25DaGlwQWRkOiBudWxsLFxyXG4gIG9uQ2hpcFNlbGVjdDogbnVsbCxcclxuICBvbkNoaXBEZWxldGU6IG51bGxcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdHZXRJbmRleChlbDogSFRNTEVsZW1lbnQpOiBudW1iZXIge1xyXG4gIHJldHVybiBbLi4uZWwucGFyZW50Tm9kZS5jaGlsZHJlbl0uaW5kZXhPZihlbCk7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDaGlwcyBleHRlbmRzIENvbXBvbmVudDxDaGlwc09wdGlvbnM+IHtcclxuICAvKiogQXJyYXkgb2YgdGhlIGN1cnJlbnQgY2hpcHMgZGF0YS4gKi9cclxuICBjaGlwc0RhdGE6IENoaXBEYXRhW107XHJcbiAgLyoqIElmIHRoZSBjaGlwcyBoYXMgYXV0b2NvbXBsZXRlIGVuYWJsZWQuICovXHJcbiAgaGFzQXV0b2NvbXBsZXRlOiBib29sZWFuO1xyXG4gIC8qKiBBdXRvY29tcGxldGUgaW5zdGFuY2UsIGlmIGFueS4gKi9cclxuICBhdXRvY29tcGxldGU6IEF1dG9jb21wbGV0ZTtcclxuICBfaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgX2xhYmVsOiBhbnk7XHJcbiAgX2NoaXBzOiBIVE1MRWxlbWVudFtdO1xyXG4gIHN0YXRpYyBfa2V5ZG93bjogYm9vbGVhbjtcclxuICBwcml2YXRlIF9zZWxlY3RlZENoaXA6IGFueTtcclxuXHJcbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPENoaXBzT3B0aW9ucz4pIHtcclxuICAgIHN1cGVyKGVsLCBvcHRpb25zLCBDaGlwcyk7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQ2hpcHMgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgLi4uQ2hpcHMuZGVmYXVsdHMsXHJcbiAgICAgIC4uLm9wdGlvbnNcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdjaGlwcycsICdpbnB1dC1maWVsZCcpO1xyXG4gICAgdGhpcy5jaGlwc0RhdGEgPSBbXTtcclxuICAgIHRoaXMuX2NoaXBzID0gW107XHJcbiAgICB0aGlzLl9zZXR1cElucHV0KCk7XHJcbiAgICB0aGlzLmhhc0F1dG9jb21wbGV0ZSA9IE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5hdXRvY29tcGxldGVPcHRpb25zKS5sZW5ndGggPiAwO1xyXG5cclxuICAgIC8vIFNldCBpbnB1dCBpZFxyXG4gICAgaWYgKCF0aGlzLl9pbnB1dC5nZXRBdHRyaWJ1dGUoJ2lkJykpXHJcbiAgICAgIHRoaXMuX2lucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCBVdGlscy5ndWlkKCkpO1xyXG5cclxuICAgIC8vIFJlbmRlciBpbml0aWFsIGNoaXBzXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmRhdGEubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuY2hpcHNEYXRhID0gdGhpcy5vcHRpb25zLmRhdGE7XHJcbiAgICAgIHRoaXMuX3JlbmRlckNoaXBzKCk7XHJcbiAgICB9XHJcbiAgICAvLyBTZXR1cCBhdXRvY29tcGxldGUgaWYgbmVlZGVkXHJcbiAgICBpZiAodGhpcy5oYXNBdXRvY29tcGxldGUpIHRoaXMuX3NldHVwQXV0b2NvbXBsZXRlKCk7XHJcbiAgICB0aGlzLl9zZXRQbGFjZWhvbGRlcigpO1xyXG4gICAgdGhpcy5fc2V0dXBMYWJlbCgpO1xyXG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xyXG4gICAgcmV0dXJuIF9kZWZhdWx0cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlIG9mIENoaXBzLlxyXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zPzogUGFydGlhbDxDaGlwc09wdGlvbnM+KTogQ2hpcHM7XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIENoaXBzLlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbHM6IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM/OiBQYXJ0aWFsPENoaXBzT3B0aW9ucz4pOiBDaGlwc1tdO1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBDaGlwcy5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWxzOiBIVE1MRWxlbWVudCB8IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM6IFBhcnRpYWw8Q2hpcHNPcHRpb25zPiA9IHt9KTogQ2hpcHMgfCBDaGlwc1tdIHtcclxuICAgIHJldHVybiBzdXBlci5pbml0KGVscywgb3B0aW9ucywgQ2hpcHMpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEluc3RhbmNlKGVsOiBIVE1MRWxlbWVudCk6IENoaXBzIHtcclxuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX0NoaXBzO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGF0YSgpIHtcclxuICAgIHJldHVybiB0aGlzLmNoaXBzRGF0YTtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB0aGlzLl9jaGlwcy5mb3JFYWNoKGMgPT4gYy5yZW1vdmUoKSk7XHJcbiAgICB0aGlzLl9jaGlwcyA9IFtdO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0NoaXBzID0gdW5kZWZpbmVkO1xyXG4gIH1cclxuXHJcbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDaGlwQ2xpY2spO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIENoaXBzLl9oYW5kbGVDaGlwc0tleWRvd24pO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBDaGlwcy5faGFuZGxlQ2hpcHNLZXl1cCk7XHJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBDaGlwcy5faGFuZGxlQ2hpcHNCbHVyLCB0cnVlKTtcclxuICAgIHRoaXMuX2lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlSW5wdXRGb2N1cyk7XHJcbiAgICB0aGlzLl9pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlSW5wdXRCbHVyKTtcclxuICAgIHRoaXMuX2lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd24pO1xyXG4gIH1cclxuXHJcbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XHJcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2hpcENsaWNrKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBDaGlwcy5faGFuZGxlQ2hpcHNLZXlkb3duKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgQ2hpcHMuX2hhbmRsZUNoaXBzS2V5dXApO1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgQ2hpcHMuX2hhbmRsZUNoaXBzQmx1ciwgdHJ1ZSk7XHJcbiAgICB0aGlzLl9pbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUlucHV0Rm9jdXMpO1xyXG4gICAgdGhpcy5faW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1cik7XHJcbiAgICB0aGlzLl9pbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVDaGlwQ2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgY29uc3QgX2NoaXAgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcuY2hpcCcpO1xyXG4gICAgY29uc3QgY2xpY2tlZENsb3NlID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZScpO1xyXG4gICAgaWYgKF9jaGlwKSB7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gWy4uLl9jaGlwLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YoX2NoaXApO1xyXG4gICAgICBpZiAoY2xpY2tlZENsb3NlKSB7XHJcbiAgICAgICAgdGhpcy5kZWxldGVDaGlwKGluZGV4KTtcclxuICAgICAgICB0aGlzLl9pbnB1dC5mb2N1cygpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0Q2hpcChpbmRleCk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gRGVmYXVsdCBoYW5kbGUgY2xpY2sgdG8gZm9jdXMgb24gaW5wdXRcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLl9pbnB1dC5mb2N1cygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIF9oYW5kbGVDaGlwc0tleWRvd24oZTogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgQ2hpcHMuX2tleWRvd24gPSB0cnVlO1xyXG4gICAgY29uc3QgY2hpcHMgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcuY2hpcHMnKTtcclxuICAgIGNvbnN0IGNoaXBzS2V5ZG93biA9IGUudGFyZ2V0ICYmIGNoaXBzO1xyXG5cclxuICAgIC8vIERvbid0IGhhbmRsZSBrZXlkb3duIGlucHV0cyBvbiBpbnB1dCBhbmQgdGV4dGFyZWFcclxuICAgIGNvbnN0IHRhZyA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLnRhZ05hbWU7XHJcbiAgICBpZiAodGFnID09PSAnSU5QVVQnIHx8IHRhZyA9PT0gJ1RFWFRBUkVBJyB8fCAhY2hpcHNLZXlkb3duKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgY3VyckNoaXBzOiBDaGlwcyA9IChjaGlwcyBhcyBhbnkpLk1fQ2hpcHM7XHJcblxyXG4gICAgaWYgKFV0aWxzLmtleXMuQkFDS1NQQUNFLmluY2x1ZGVzKGUua2V5KSB8fCBVdGlscy5rZXlzLkRFTEVURS5pbmNsdWRlcyhlLmtleSkpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBsZXQgc2VsZWN0SW5kZXggPSBjdXJyQ2hpcHMuY2hpcHNEYXRhLmxlbmd0aDtcclxuICAgICAgaWYgKGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBnR2V0SW5kZXgoY3VyckNoaXBzLl9zZWxlY3RlZENoaXApO1xyXG4gICAgICAgIGN1cnJDaGlwcy5kZWxldGVDaGlwKGluZGV4KTtcclxuICAgICAgICBjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCA9IG51bGw7XHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHNlbGVjdEluZGV4IGRvZXNuJ3QgZ28gbmVnYXRpdmVcclxuICAgICAgICBzZWxlY3RJbmRleCA9IE1hdGgubWF4KGluZGV4IC0gMSwgMCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGN1cnJDaGlwcy5jaGlwc0RhdGEubGVuZ3RoKVxyXG4gICAgICAgIGN1cnJDaGlwcy5zZWxlY3RDaGlwKHNlbGVjdEluZGV4KTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgIGN1cnJDaGlwcy5faW5wdXQuZm9jdXMoKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKFV0aWxzLmtleXMuQVJST1dfTEVGVC5pbmNsdWRlcyhlLmtleSkpIHtcclxuICAgICAgaWYgKGN1cnJDaGlwcy5fc2VsZWN0ZWRDaGlwKSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0SW5kZXggPSBnR2V0SW5kZXgoY3VyckNoaXBzLl9zZWxlY3RlZENoaXApIC0gMTtcclxuICAgICAgICBpZiAoc2VsZWN0SW5kZXggPCAwKSByZXR1cm47XHJcbiAgICAgICAgY3VyckNoaXBzLnNlbGVjdENoaXAoc2VsZWN0SW5kZXgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChVdGlscy5rZXlzLkFSUk9XX1JJR0hULmluY2x1ZGVzKGUua2V5KSkge1xyXG4gICAgICBpZiAoY3VyckNoaXBzLl9zZWxlY3RlZENoaXApIHtcclxuICAgICAgICBjb25zdCBzZWxlY3RJbmRleCA9IGdHZXRJbmRleChjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCkgKyAxO1xyXG4gICAgICAgIGlmIChzZWxlY3RJbmRleCA+PSBjdXJyQ2hpcHMuY2hpcHNEYXRhLmxlbmd0aClcclxuICAgICAgICAgIGN1cnJDaGlwcy5faW5wdXQuZm9jdXMoKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICBjdXJyQ2hpcHMuc2VsZWN0Q2hpcChzZWxlY3RJbmRleCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBfaGFuZGxlQ2hpcHNLZXl1cChlOiBFdmVudCkge1xyXG4gICAgQ2hpcHMuX2tleWRvd24gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBfaGFuZGxlQ2hpcHNCbHVyKGU6IEV2ZW50KSB7XHJcbiAgICBpZiAoIUNoaXBzLl9rZXlkb3duICYmIGRvY3VtZW50LmhpZGRlbikge1xyXG4gICAgICBjb25zdCBjaGlwcyA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy5jaGlwcycpO1xyXG4gICAgICBjb25zdCBjdXJyQ2hpcHM6IENoaXBzID0gKGNoaXBzIGFzIGFueSkuTV9DaGlwcztcclxuICAgICAgY3VyckNoaXBzLl9zZWxlY3RlZENoaXAgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUlucHV0Rm9jdXMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2ZvY3VzJyk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlSW5wdXRCbHVyID0gKCkgPT4ge1xyXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1cycpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUlucHV0S2V5ZG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICBDaGlwcy5fa2V5ZG93biA9IHRydWU7XHJcbiAgICBpZiAoVXRpbHMua2V5cy5FTlRFUi5pbmNsdWRlcyhlLmtleSkpIHtcclxuICAgICAgLy8gT3ZlcnJpZGUgZW50ZXIgaWYgYXV0b2NvbXBsZXRpbmcuXHJcbiAgICAgIGlmICh0aGlzLmhhc0F1dG9jb21wbGV0ZSAmJiB0aGlzLmF1dG9jb21wbGV0ZSAmJiB0aGlzLmF1dG9jb21wbGV0ZS5pc09wZW4pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBpZiAoIXRoaXMuaGFzQXV0b2NvbXBsZXRlIHx8ICh0aGlzLmhhc0F1dG9jb21wbGV0ZSAmJiAhdGhpcy5vcHRpb25zLmF1dG9jb21wbGV0ZU9ubHkpKSB7XHJcbiAgICAgICAgdGhpcy5hZGRDaGlwKHtpZDogdGhpcy5faW5wdXQudmFsdWV9KTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLl9pbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoICAgICAgXHJcbiAgICAgIChVdGlscy5rZXlzLkJBQ0tTUEFDRS5pbmNsdWRlcyhlLmtleSkgfHwgVXRpbHMua2V5cy5BUlJPV19MRUZULmluY2x1ZGVzKGUua2V5KSkgJiZcclxuICAgICAgdGhpcy5faW5wdXQudmFsdWUgPT09ICcnICYmXHJcbiAgICAgIHRoaXMuY2hpcHNEYXRhLmxlbmd0aFxyXG4gICAgKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5zZWxlY3RDaGlwKHRoaXMuY2hpcHNEYXRhLmxlbmd0aCAtIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3JlbmRlckNoaXAoY2hpcDogQ2hpcERhdGEpOiBIVE1MRGl2RWxlbWVudCB7XHJcbiAgICBpZiAoIWNoaXAuaWQpIHJldHVybjtcclxuICAgIGNvbnN0IHJlbmRlcmVkQ2hpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgcmVuZGVyZWRDaGlwLmNsYXNzTGlzdC5hZGQoJ2NoaXAnKTtcclxuICAgIHJlbmRlcmVkQ2hpcC5pbm5lclRleHQgPSBjaGlwLnRleHQgfHwgPHN0cmluZz5jaGlwLmlkO1xyXG4gICAgcmVuZGVyZWRDaGlwLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCBcIjBcIik7XHJcbiAgICBjb25zdCBjbG9zZUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XHJcbiAgICBjbG9zZUljb24uY2xhc3NMaXN0LmFkZCh0aGlzLm9wdGlvbnMuY2xvc2VJY29uQ2xhc3MsICdjbG9zZScpO1xyXG4gICAgY2xvc2VJY29uLmlubmVyVGV4dCA9ICdjbG9zZSc7XHJcbiAgICAvLyBhdHRhY2ggaW1hZ2UgaWYgbmVlZGVkXHJcbiAgICBpZiAoY2hpcC5pbWFnZSkge1xyXG4gICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgY2hpcC5pbWFnZSk7XHJcbiAgICAgIHJlbmRlcmVkQ2hpcC5pbnNlcnRCZWZvcmUoaW1nLCByZW5kZXJlZENoaXAuZmlyc3RDaGlsZCk7XHJcbiAgICB9XHJcbiAgICByZW5kZXJlZENoaXAuYXBwZW5kQ2hpbGQoY2xvc2VJY29uKTtcclxuICAgIHJldHVybiByZW5kZXJlZENoaXA7XHJcbiAgfVxyXG5cclxuICBfcmVuZGVyQ2hpcHMoKSB7XHJcbiAgICB0aGlzLl9jaGlwcyA9IFtdOyAvLy5yZW1vdmUoKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlwc0RhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgY2hpcEVsZW0gPSB0aGlzLl9yZW5kZXJDaGlwKHRoaXMuY2hpcHNEYXRhW2ldKTtcclxuICAgICAgdGhpcy5lbC5hcHBlbmRDaGlsZChjaGlwRWxlbSk7XHJcbiAgICAgIHRoaXMuX2NoaXBzLnB1c2goY2hpcEVsZW0pO1xyXG4gICAgfVxyXG4gICAgLy8gbW92ZSBpbnB1dCB0byBlbmRcclxuICAgIHRoaXMuZWwuYXBwZW5kKHRoaXMuX2lucHV0KTtcclxuICB9XHJcblxyXG4gIF9zZXR1cEF1dG9jb21wbGV0ZSgpIHtcclxuICAgIHRoaXMub3B0aW9ucy5hdXRvY29tcGxldGVPcHRpb25zLm9uQXV0b2NvbXBsZXRlID0gKGl0ZW1zKSA9PiB7XHJcbiAgICAgIGlmIChpdGVtcy5sZW5ndGggPiAwKSB0aGlzLmFkZENoaXAoe1xyXG4gICAgICAgIGlkOiBpdGVtc1swXS5pZCxcclxuICAgICAgICB0ZXh0OiBpdGVtc1swXS50ZXh0LFxyXG4gICAgICAgIGltYWdlOiBpdGVtc1swXS5pbWFnZVxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5faW5wdXQudmFsdWUgPSAnJztcclxuICAgICAgdGhpcy5faW5wdXQuZm9jdXMoKTtcclxuICAgIH07XHJcbiAgICB0aGlzLmF1dG9jb21wbGV0ZSA9IEF1dG9jb21wbGV0ZS5pbml0KHRoaXMuX2lucHV0LCB0aGlzLm9wdGlvbnMuYXV0b2NvbXBsZXRlT3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBfc2V0dXBJbnB1dCgpIHtcclxuICAgIHRoaXMuX2lucHV0ID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xyXG4gICAgaWYgKCF0aGlzLl9pbnB1dCkge1xyXG4gICAgICB0aGlzLl9pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgIHRoaXMuZWwuYXBwZW5kKHRoaXMuX2lucHV0KTtcclxuICAgIH1cclxuICAgIHRoaXMuX2lucHV0LmNsYXNzTGlzdC5hZGQoJ2lucHV0Jyk7XHJcbiAgfVxyXG5cclxuICBfc2V0dXBMYWJlbCgpIHtcclxuICAgIHRoaXMuX2xhYmVsID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpO1xyXG4gICAgaWYgKHRoaXMuX2xhYmVsKSB0aGlzLl9sYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIHRoaXMuX2lucHV0LmdldEF0dHJpYnV0ZSgnaWQnKSk7XHJcbiAgfVxyXG5cclxuICBfc2V0UGxhY2Vob2xkZXIoKSB7XHJcbiAgICBpZiAodGhpcy5jaGlwc0RhdGEgIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5jaGlwc0RhdGEubGVuZ3RoICYmIHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcikge1xyXG4gICAgICB0aGlzLl9pbnB1dC5wbGFjZWhvbGRlciA9IHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKFxyXG4gICAgICAodGhpcy5jaGlwc0RhdGEgPT09IHVuZGVmaW5lZCB8fCAhIXRoaXMuY2hpcHNEYXRhLmxlbmd0aCkgJiZcclxuICAgICAgdGhpcy5vcHRpb25zLnNlY29uZGFyeVBsYWNlaG9sZGVyXHJcbiAgICApIHtcclxuICAgICAgdGhpcy5faW5wdXQucGxhY2Vob2xkZXIgPSB0aGlzLm9wdGlvbnMuc2Vjb25kYXJ5UGxhY2Vob2xkZXI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaXNWYWxpZEFuZE5vdEV4aXN0KGNoaXA6IENoaXBEYXRhKSB7XHJcbiAgICBjb25zdCBpc1ZhbGlkID0gISFjaGlwLmlkO1xyXG4gICAgY29uc3QgZG9lc05vdEV4aXN0ID0gIXRoaXMuY2hpcHNEYXRhLnNvbWUoaXRlbSA9PiBpdGVtLmlkID09IGNoaXAuaWQpO1xyXG4gICAgcmV0dXJuIGlzVmFsaWQgJiYgZG9lc05vdEV4aXN0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGNoaXAgdG8gaW5wdXQuXHJcbiAgICogQHBhcmFtIGNoaXAgQ2hpcCBkYXRhIG9iamVjdFxyXG4gICAqL1xyXG4gIGFkZENoaXAoY2hpcDogQ2hpcERhdGEpIHtcclxuICAgIGlmICghdGhpcy5faXNWYWxpZEFuZE5vdEV4aXN0KGNoaXApIHx8IHRoaXMuY2hpcHNEYXRhLmxlbmd0aCA+PSB0aGlzLm9wdGlvbnMubGltaXQpIHJldHVybjtcclxuICAgIGNvbnN0IHJlbmRlcmVkQ2hpcCA9IHRoaXMuX3JlbmRlckNoaXAoY2hpcCk7XHJcbiAgICB0aGlzLl9jaGlwcy5wdXNoKHJlbmRlcmVkQ2hpcCk7XHJcbiAgICB0aGlzLmNoaXBzRGF0YS5wdXNoKGNoaXApO1xyXG4gICAgLy8kKHRoaXMuX2lucHV0KS5iZWZvcmUocmVuZGVyZWRDaGlwKTtcclxuICAgIHRoaXMuX2lucHV0LmJlZm9yZShyZW5kZXJlZENoaXApO1xyXG4gICAgdGhpcy5fc2V0UGxhY2Vob2xkZXIoKTtcclxuICAgIC8vIGZpcmUgY2hpcEFkZCBjYWxsYmFja1xyXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DaGlwQWRkID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucy5vbkNoaXBBZGQodGhpcy5lbCwgcmVuZGVyZWRDaGlwKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlbGV0ZSBudGggY2hpcC5cclxuICAgKiBAcGFyYW0gY2hpcEluZGV4ICBJbmRleCBvZiBjaGlwXHJcbiAgICovXHJcbiAgZGVsZXRlQ2hpcChjaGlwSW5kZXg6IG51bWJlcikge1xyXG4gICAgY29uc3QgY2hpcCA9IHRoaXMuX2NoaXBzW2NoaXBJbmRleF07XHJcbiAgICB0aGlzLl9jaGlwc1tjaGlwSW5kZXhdLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fY2hpcHMuc3BsaWNlKGNoaXBJbmRleCwgMSk7XHJcbiAgICB0aGlzLmNoaXBzRGF0YS5zcGxpY2UoY2hpcEluZGV4LCAxKTtcclxuICAgIHRoaXMuX3NldFBsYWNlaG9sZGVyKCk7XHJcbiAgICAvLyBmaXJlIGNoaXBEZWxldGUgY2FsbGJhY2tcclxuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2hpcERlbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLm9wdGlvbnMub25DaGlwRGVsZXRlKHRoaXMuZWwsIGNoaXApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VsZWN0IG50aCBjaGlwLlxyXG4gICAqIEBwYXJhbSBjaGlwSW5kZXggSW5kZXggb2YgY2hpcFxyXG4gICAqL1xyXG4gIHNlbGVjdENoaXAoY2hpcEluZGV4OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGNoaXAgPSB0aGlzLl9jaGlwc1tjaGlwSW5kZXhdO1xyXG4gICAgdGhpcy5fc2VsZWN0ZWRDaGlwID0gY2hpcDtcclxuICAgIGNoaXAuZm9jdXMoKTtcclxuICAgIC8vIGZpcmUgY2hpcFNlbGVjdCBjYWxsYmFja1xyXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DaGlwU2VsZWN0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucy5vbkNoaXBTZWxlY3QodGhpcy5lbCwgY2hpcCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgSW5pdCgpe1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gICAgICAvLyBIYW5kbGUgcmVtb3ZhbCBvZiBzdGF0aWMgY2hpcHMuXHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xvc2VzdCgnLmNoaXAgLmNsb3NlJykpIHtcclxuICAgICAgICAgIGNvbnN0IGNoaXBzID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xvc2VzdCgnLmNoaXBzJyk7XHJcbiAgICAgICAgICBpZiAoY2hpcHMgJiYgKGNoaXBzIGFzIGFueSkuTV9DaGlwcyA9PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgICAgICAgICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy5jaGlwJykucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHtcclxuICAgIENoaXBzLl9rZXlkb3duID0gZmFsc2U7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/chips.ts\n");

/***/ }),

/***/ "./src/collapsible.ts":
/*!****************************!*\
  !*** ./src/collapsible.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Collapsible = void 0;\r\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\nconst _defaults = {\r\n    accordion: true,\r\n    onOpenStart: null,\r\n    onOpenEnd: null,\r\n    onCloseStart: null,\r\n    onCloseEnd: null,\r\n    inDuration: 300,\r\n    outDuration: 300\r\n};\r\nclass Collapsible extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Collapsible);\r\n        this._handleCollapsibleClick = (e) => {\r\n            const header = e.target.closest('.collapsible-header');\r\n            if (e.target && header) {\r\n                const collapsible = header.closest('.collapsible');\r\n                if (collapsible !== this.el)\r\n                    return;\r\n                const li = header.closest('li');\r\n                const isActive = li.classList.contains('active');\r\n                const index = [...li.parentNode.children].indexOf(li);\r\n                if (isActive)\r\n                    this.close(index);\r\n                else\r\n                    this.open(index);\r\n            }\r\n        };\r\n        this._handleCollapsibleKeydown = (e) => {\r\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\r\n                this._handleCollapsibleClick(e);\r\n            }\r\n        };\r\n        /**\r\n         * Open collapsible section.\r\n         * @param n Nth section to open.\r\n         */\r\n        this.open = (index) => {\r\n            const listItems = Array.from(this.el.children).filter(c => c.tagName === 'LI');\r\n            const li = listItems[index];\r\n            if (li && !li.classList.contains('active')) {\r\n                // onOpenStart callback\r\n                if (typeof this.options.onOpenStart === 'function') {\r\n                    this.options.onOpenStart.call(this, li);\r\n                }\r\n                // Handle accordion behavior\r\n                if (this.options.accordion) {\r\n                    const activeLis = listItems.filter(li => li.classList.contains('active'));\r\n                    activeLis.forEach(activeLi => {\r\n                        const index = listItems.indexOf(activeLi);\r\n                        this.close(index);\r\n                    });\r\n                }\r\n                // Animate in\r\n                li.classList.add('active');\r\n                this._animateIn(index);\r\n            }\r\n        };\r\n        /**\r\n         * Close collapsible section.\r\n         * @param n Nth section to close.\r\n         */\r\n        this.close = (index) => {\r\n            const li = Array.from(this.el.children).filter(c => c.tagName === 'LI')[index];\r\n            if (li && li.classList.contains('active')) {\r\n                // onCloseStart callback\r\n                if (typeof this.options.onCloseStart === 'function') {\r\n                    this.options.onCloseStart.call(this, li);\r\n                }\r\n                // Animate out\r\n                li.classList.remove('active');\r\n                this._animateOut(index);\r\n            }\r\n        };\r\n        this.el.M_Collapsible = this;\r\n        this.options = Object.assign(Object.assign({}, Collapsible.defaults), options);\r\n        // Setup tab indices\r\n        this._headers = Array.from(this.el.querySelectorAll('li > .collapsible-header'));\r\n        this._headers.forEach(el => el.tabIndex = 0);\r\n        this._setupEventHandlers();\r\n        // Open first active\r\n        const activeBodies = Array.from(this.el.querySelectorAll('li.active > .collapsible-body'));\r\n        if (this.options.accordion)\r\n            if (activeBodies.length > 0)\r\n                activeBodies[0].style.display = 'block'; // Accordion\r\n            else\r\n                activeBodies.forEach(el => el.style.display = 'block'); // Expandables\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Collapsible.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Collapsible);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Collapsible;\r\n    }\r\n    destroy() {\r\n        this._removeEventHandlers();\r\n        this.el.M_Collapsible = undefined;\r\n    }\r\n    _setupEventHandlers() {\r\n        this.el.addEventListener('click', this._handleCollapsibleClick);\r\n        this._headers.forEach(header => header.addEventListener('keydown', this._handleCollapsibleKeydown));\r\n    }\r\n    _removeEventHandlers() {\r\n        this.el.removeEventListener('click', this._handleCollapsibleClick);\r\n        this._headers.forEach(header => header.removeEventListener('keydown', this._handleCollapsibleKeydown));\r\n    }\r\n    _animateIn(index) {\r\n        const li = this.el.children[index];\r\n        if (!li)\r\n            return;\r\n        const body = li.querySelector('.collapsible-body');\r\n        animejs_1.default.remove(body);\r\n        body.style.display = 'block';\r\n        body.style.overflow = 'hidden';\r\n        body.style.height = '0';\r\n        body.style.paddingTop = '';\r\n        body.style.paddingBottom = '';\r\n        const pTop = getComputedStyle(body).paddingTop; //  . css('padding-top');\r\n        const pBottom = getComputedStyle(body).paddingBottom; //body.css('padding-bottom');\r\n        const finalHeight = body.scrollHeight;\r\n        body.style.paddingTop = '0';\r\n        body.style.paddingBottom = '0';\r\n        (0, animejs_1.default)({\r\n            targets: body,\r\n            height: finalHeight,\r\n            paddingTop: pTop,\r\n            paddingBottom: pBottom,\r\n            duration: this.options.inDuration,\r\n            easing: 'easeInOutCubic',\r\n            complete: (anim) => {\r\n                body.style.overflow = '';\r\n                body.style.height = '';\r\n                body.style.paddingTop = '';\r\n                body.style.paddingBottom = '';\r\n                // onOpenEnd callback\r\n                if (typeof this.options.onOpenEnd === 'function') {\r\n                    this.options.onOpenEnd.call(this, li);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    _animateOut(index) {\r\n        const li = this.el.children[index];\r\n        if (!li)\r\n            return;\r\n        const body = li.querySelector('.collapsible-body');\r\n        animejs_1.default.remove(body);\r\n        body.style.overflow = 'hidden';\r\n        (0, animejs_1.default)({\r\n            targets: body,\r\n            height: 0,\r\n            paddingTop: 0,\r\n            paddingBottom: 0,\r\n            duration: this.options.outDuration,\r\n            easing: 'easeInOutCubic',\r\n            complete: () => {\r\n                body.style.overflow = '';\r\n                body.style.height = '';\r\n                body.style.padding = '';\r\n                body.style.display = '';\r\n                // onCloseEnd callback\r\n                if (typeof this.options.onCloseEnd === 'function') {\r\n                    this.options.onCloseEnd.call(this, li);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.Collapsible = Collapsible;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b2xsYXBzaWJsZS50cz8xZDU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XHJcblxyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgQmFzZU9wdGlvbnMsIEluaXRFbGVtZW50cywgTUVsZW1lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29sbGFwc2libGVPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge1xyXG4gIC8qKlxyXG4gICAqIElmIGFjY29yZGlvbiB2ZXJzdXMgY29sbGFwc2libGUuXHJcbiAgICogQGRlZmF1bHQgdHJ1ZVxyXG4gICAqL1xyXG4gIGFjY29yZGlvbjogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBUcmFuc2l0aW9uIGluIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cclxuICAgKiBAZGVmYXVsdCAzMDBcclxuICAgKi9cclxuICBpbkR1cmF0aW9uOiBudW1iZXI7XHJcbiAgLyoqXHJcbiAgICogVHJhbnNpdGlvbiBvdXQgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAqIEBkZWZhdWx0IDMwMFxyXG4gICAqL1xyXG4gIG91dER1cmF0aW9uOiBudW1iZXI7XHJcbiAgLyoqXHJcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGJlZm9yZSBjb2xsYXBzaWJsZSBpcyBvcGVuZWQuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uT3BlblN0YXJ0OiAoZWw6IEVsZW1lbnQpID0+IHZvaWQ7XHJcbiAgLyoqXHJcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIGNvbGxhcHNpYmxlIGlzIG9wZW5lZC5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgb25PcGVuRW5kOiAoZWw6IEVsZW1lbnQpID0+IHZvaWQ7XHJcbiAgLyoqXHJcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGJlZm9yZSBjb2xsYXBzaWJsZSBpcyBjbG9zZWQuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uQ2xvc2VTdGFydDogKGVsOiBFbGVtZW50KSA9PiB2b2lkO1xyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBhZnRlciBjb2xsYXBzaWJsZSBpcyBjbG9zZWQuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uQ2xvc2VFbmQ6IChlbDogRWxlbWVudCkgPT4gdm9pZDtcclxufVxyXG5cclxuY29uc3QgX2RlZmF1bHRzOiBDb2xsYXBzaWJsZU9wdGlvbnMgPSB7XHJcbiAgYWNjb3JkaW9uOiB0cnVlLFxyXG4gIG9uT3BlblN0YXJ0OiBudWxsLFxyXG4gIG9uT3BlbkVuZDogbnVsbCxcclxuICBvbkNsb3NlU3RhcnQ6IG51bGwsICBcclxuICBvbkNsb3NlRW5kOiBudWxsLFxyXG4gIGluRHVyYXRpb246IDMwMCxcclxuICBvdXREdXJhdGlvbjogMzAwXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgQ29sbGFwc2libGUgZXh0ZW5kcyBDb21wb25lbnQ8Q29sbGFwc2libGVPcHRpb25zPiB7XHJcbiAgcHJpdmF0ZSBfaGVhZGVyczogSFRNTEVsZW1lbnRbXTtcclxuXHJcbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPENvbGxhcHNpYmxlT3B0aW9ucz4pIHtcclxuICAgIHN1cGVyKGVsLCBvcHRpb25zLCBDb2xsYXBzaWJsZSk7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQ29sbGFwc2libGUgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgLi4uQ29sbGFwc2libGUuZGVmYXVsdHMsXHJcbiAgICAgIC4uLm9wdGlvbnNcclxuICAgIH07XHJcblxyXG4gICAgLy8gU2V0dXAgdGFiIGluZGljZXNcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBBcnJheS5mcm9tKHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCgnbGkgPiAuY29sbGFwc2libGUtaGVhZGVyJykpO1xyXG4gICAgdGhpcy5faGVhZGVycy5mb3JFYWNoKGVsID0+IGVsLnRhYkluZGV4ID0gMCk7XHJcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcclxuICAgIC8vIE9wZW4gZmlyc3QgYWN0aXZlXHJcbiAgICBjb25zdCBhY3RpdmVCb2RpZXM6IEhUTUxFbGVtZW50W10gPSBBcnJheS5mcm9tKHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCgnbGkuYWN0aXZlID4gLmNvbGxhcHNpYmxlLWJvZHknKSk7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmFjY29yZGlvbilcclxuICAgICAgaWYgKGFjdGl2ZUJvZGllcy5sZW5ndGggPiAwKVxyXG4gICAgICAgIGFjdGl2ZUJvZGllc1swXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsgLy8gQWNjb3JkaW9uXHJcbiAgICBlbHNlXHJcbiAgICAgIGFjdGl2ZUJvZGllcy5mb3JFYWNoKGVsID0+IGVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snKTsgLy8gRXhwYW5kYWJsZXNcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKTogQ29sbGFwc2libGVPcHRpb25zIHtcclxuICAgIHJldHVybiBfZGVmYXVsdHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZSBvZiBDb2xsYXBzaWJsZS5cclxuICAgKiBAcGFyYW0gZWwgSFRNTCBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsOiBIVE1MRWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8Q29sbGFwc2libGVPcHRpb25zPik6IENvbGxhcHNpYmxlO1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBDb2xsYXBzaWJsZS5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zPzogUGFydGlhbDxDb2xsYXBzaWJsZU9wdGlvbnM+KTogQ29sbGFwc2libGVbXTtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgQ29sbGFwc2libGUuXHJcbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsczogSFRNTEVsZW1lbnQgfCBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPENvbGxhcHNpYmxlT3B0aW9ucz4gPSB7fSk6IENvbGxhcHNpYmxlIHwgQ29sbGFwc2libGVbXSB7XHJcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIENvbGxhcHNpYmxlKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBDb2xsYXBzaWJsZSB7XHJcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9Db2xsYXBzaWJsZTtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQ29sbGFwc2libGUgPSB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlQ2xpY2spO1xyXG4gICAgdGhpcy5faGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiBoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlS2V5ZG93bikpO1xyXG4gIH1cclxuXHJcbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XHJcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ29sbGFwc2libGVDbGljayk7XHJcbiAgICB0aGlzLl9oZWFkZXJzLmZvckVhY2goaGVhZGVyID0+IGhlYWRlci5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlQ29sbGFwc2libGVLZXlkb3duKSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQ29sbGFwc2libGVDbGljayA9IChlOiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgY29uc3QgaGVhZGVyID0gKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KCcuY29sbGFwc2libGUtaGVhZGVyJyk7XHJcbiAgICBpZiAoZS50YXJnZXQgJiYgaGVhZGVyKSB7XHJcbiAgICAgIGNvbnN0IGNvbGxhcHNpYmxlID0gaGVhZGVyLmNsb3Nlc3QoJy5jb2xsYXBzaWJsZScpO1xyXG4gICAgICBpZiAoY29sbGFwc2libGUgIT09IHRoaXMuZWwpIHJldHVybjtcclxuXHJcbiAgICAgIGNvbnN0IGxpID0gaGVhZGVyLmNsb3Nlc3QoJ2xpJyk7XHJcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gbGkuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTtcclxuICAgICAgY29uc3QgaW5kZXggPSBbLi4ubGkucGFyZW50Tm9kZS5jaGlsZHJlbl0uaW5kZXhPZihsaSk7XHJcblxyXG4gICAgICBpZiAoaXNBY3RpdmUpXHJcbiAgICAgICAgdGhpcy5jbG9zZShpbmRleCk7XHJcbiAgICAgIGVsc2VcclxuICAgICAgICB0aGlzLm9wZW4oaW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUNvbGxhcHNpYmxlS2V5ZG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICBpZiAoVXRpbHMua2V5cy5FTlRFUi5pbmNsdWRlcyhlLmtleSkpIHtcclxuICAgICAgdGhpcy5faGFuZGxlQ29sbGFwc2libGVDbGljayhlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9hbmltYXRlSW4oaW5kZXg6IG51bWJlcikge1xyXG4gICAgY29uc3QgbGkgPSB0aGlzLmVsLmNoaWxkcmVuW2luZGV4XTtcclxuICAgIGlmICghbGkpIHJldHVybjtcclxuICAgIGNvbnN0IGJvZHk6IEhUTUxFbGVtZW50ID0gbGkucXVlcnlTZWxlY3RvcignLmNvbGxhcHNpYmxlLWJvZHknKTtcclxuICAgIGFuaW0ucmVtb3ZlKGJvZHkpO1xyXG4gICAgYm9keS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuICAgIGJvZHkuc3R5bGUuaGVpZ2h0ID0gJzAnO1xyXG4gICAgYm9keS5zdHlsZS5wYWRkaW5nVG9wID0gJyc7XHJcbiAgICBib2R5LnN0eWxlLnBhZGRpbmdCb3R0b20gPSAnJztcclxuICAgIGNvbnN0IHBUb3AgPSBnZXRDb21wdXRlZFN0eWxlKGJvZHkpLnBhZGRpbmdUb3A7IC8vICAuIGNzcygncGFkZGluZy10b3AnKTtcclxuICAgIGNvbnN0IHBCb3R0b20gPSBnZXRDb21wdXRlZFN0eWxlKGJvZHkpLnBhZGRpbmdCb3R0b207IC8vYm9keS5jc3MoJ3BhZGRpbmctYm90dG9tJyk7XHJcbiAgICBjb25zdCBmaW5hbEhlaWdodCA9IGJvZHkuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgYm9keS5zdHlsZS5wYWRkaW5nVG9wID0gJzAnO1xyXG4gICAgYm9keS5zdHlsZS5wYWRkaW5nQm90dG9tID0gJzAnO1xyXG4gICAgYW5pbSh7XHJcbiAgICAgIHRhcmdldHM6IGJvZHksXHJcbiAgICAgIGhlaWdodDogZmluYWxIZWlnaHQsXHJcbiAgICAgIHBhZGRpbmdUb3A6IHBUb3AsXHJcbiAgICAgIHBhZGRpbmdCb3R0b206IHBCb3R0b20sXHJcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcclxuICAgICAgZWFzaW5nOiAnZWFzZUluT3V0Q3ViaWMnLFxyXG4gICAgICBjb21wbGV0ZTogKGFuaW0pID0+IHtcclxuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XHJcbiAgICAgICAgYm9keS5zdHlsZS5oZWlnaHQgPSAnJztcclxuICAgICAgICBib2R5LnN0eWxlLnBhZGRpbmdUb3AgPSAnJztcclxuICAgICAgICBib2R5LnN0eWxlLnBhZGRpbmdCb3R0b20gPSAnJztcclxuICAgICAgICAvLyBvbk9wZW5FbmQgY2FsbGJhY2tcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQuY2FsbCh0aGlzLCBsaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9hbmltYXRlT3V0KGluZGV4OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGxpID0gdGhpcy5lbC5jaGlsZHJlbltpbmRleF07XHJcbiAgICBpZiAoIWxpKSByZXR1cm47XHJcbiAgICBjb25zdCBib2R5OiBIVE1MRWxlbWVudCA9IGxpLnF1ZXJ5U2VsZWN0b3IoJy5jb2xsYXBzaWJsZS1ib2R5Jyk7XHJcbiAgICBhbmltLnJlbW92ZShib2R5KTtcclxuICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuICAgIGFuaW0oe1xyXG4gICAgICB0YXJnZXRzOiBib2R5LFxyXG4gICAgICBoZWlnaHQ6IDAsXHJcbiAgICAgIHBhZGRpbmdUb3A6IDAsXHJcbiAgICAgIHBhZGRpbmdCb3R0b206IDAsXHJcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXHJcbiAgICAgIGVhc2luZzogJ2Vhc2VJbk91dEN1YmljJyxcclxuICAgICAgY29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XHJcbiAgICAgICAgYm9keS5zdHlsZS5oZWlnaHQgPSAnJztcclxuICAgICAgICBib2R5LnN0eWxlLnBhZGRpbmcgPSAnJztcclxuICAgICAgICBib2R5LnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAvLyBvbkNsb3NlRW5kIGNhbGxiYWNrXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQuY2FsbCh0aGlzLCBsaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9wZW4gY29sbGFwc2libGUgc2VjdGlvbi5cclxuICAgKiBAcGFyYW0gbiBOdGggc2VjdGlvbiB0byBvcGVuLlxyXG4gICAqL1xyXG4gIG9wZW4gPSAoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgY29uc3QgbGlzdEl0ZW1zID0gQXJyYXkuZnJvbSh0aGlzLmVsLmNoaWxkcmVuKS5maWx0ZXIoYyA9PiBjLnRhZ05hbWUgPT09ICdMSScpO1xyXG4gICAgY29uc3QgbGkgPSBsaXN0SXRlbXNbaW5kZXhdO1xyXG4gICAgaWYgKGxpICYmICFsaS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgIC8vIG9uT3BlblN0YXJ0IGNhbGxiYWNrXHJcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LmNhbGwodGhpcywgbGkpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIEhhbmRsZSBhY2NvcmRpb24gYmVoYXZpb3JcclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hY2NvcmRpb24pIHtcclxuICAgICAgICBjb25zdCBhY3RpdmVMaXMgPSBsaXN0SXRlbXMuZmlsdGVyKGxpID0+IGxpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpO1xyXG4gICAgICAgIGFjdGl2ZUxpcy5mb3JFYWNoKGFjdGl2ZUxpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdEl0ZW1zLmluZGV4T2YoYWN0aXZlTGkpO1xyXG4gICAgICAgICAgdGhpcy5jbG9zZShpbmRleCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gQW5pbWF0ZSBpblxyXG4gICAgICBsaS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgdGhpcy5fYW5pbWF0ZUluKGluZGV4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsb3NlIGNvbGxhcHNpYmxlIHNlY3Rpb24uXHJcbiAgICogQHBhcmFtIG4gTnRoIHNlY3Rpb24gdG8gY2xvc2UuXHJcbiAgICovXHJcbiAgY2xvc2UgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgY29uc3QgbGkgPSBBcnJheS5mcm9tKHRoaXMuZWwuY2hpbGRyZW4pLmZpbHRlcihjID0+IGMudGFnTmFtZSA9PT0gJ0xJJylbaW5kZXhdO1xyXG4gICAgaWYgKGxpICYmIGxpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgLy8gb25DbG9zZVN0YXJ0IGNhbGxiYWNrXHJcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQuY2FsbCh0aGlzLCBsaSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gQW5pbWF0ZSBvdXRcclxuICAgICAgbGkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgIHRoaXMuX2FuaW1hdGVPdXQoaW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/collapsible.ts\n");

/***/ }),

/***/ "./src/component.ts":
/*!**************************!*\
  !*** ./src/component.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Component = void 0;\r\n;\r\n;\r\n/**\r\n * Base class implementation for Materialize components.\r\n */\r\nclass Component {\r\n    /**\r\n     * Constructs component instance and set everything up.\r\n     */\r\n    constructor(el, options, classDef) {\r\n        // Display error if el is not a valid HTML Element\r\n        if (!(el instanceof HTMLElement)) {\r\n            console.error(Error(el + ' is not an HTML Element'));\r\n        }\r\n        // If exists, destroy and reinitialize in child\r\n        let ins = classDef.getInstance(el);\r\n        if (!!ins) {\r\n            ins.destroy();\r\n        }\r\n        this.el = el;\r\n    }\r\n    /**\r\n     * Initializes component instances.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     * @param classDef Class definition.\r\n     */\r\n    static init(els, options, classDef) {\r\n        let instances = null;\r\n        if (els instanceof Element) {\r\n            instances = new classDef(els, options);\r\n        }\r\n        else if (!!els && els.length) {\r\n            instances = [];\r\n            for (let i = 0; i < els.length; i++) {\r\n                instances.push(new classDef(els[i], options));\r\n            }\r\n        }\r\n        return instances;\r\n    }\r\n    /**\r\n     * @returns default options for component instance.\r\n     */\r\n    static get defaults() { return {}; }\r\n    /**\r\n     * Retrieves component instance for the given element.\r\n     * @param el Associated HTML Element.\r\n     */\r\n    static getInstance(el) {\r\n        throw new Error(\"This method must be implemented.\");\r\n    }\r\n    /**\r\n     * Destroy plugin instance and teardown.\r\n     */\r\n    destroy() { throw new Error(\"This method must be implemented.\"); }\r\n}\r\nexports.Component = Component;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50LnRzLmpzIiwibWFwcGluZ3MiOiI7OztBQUcrQixDQUFDO0FBbUIvQixDQUFDO0FBRUY7O0dBRUc7QUFDSCxNQUFhLFNBQVM7SUFVcEI7O09BRUc7SUFDSCxZQUFZLEVBQWUsRUFBRSxPQUFtQixFQUFFLFFBQXdDO1FBQ3hGLGtEQUFrRDtRQUNsRCxJQUFJLENBQUMsQ0FBQyxFQUFFLFlBQVksV0FBVyxDQUFDLEVBQUU7WUFDaEMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFHLHlCQUF5QixDQUFDLENBQUMsQ0FBQztTQUN0RDtRQUNELCtDQUErQztRQUMvQyxJQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRTtZQUNULEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUNmO1FBQ0QsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDZixDQUFDO0lBNkJEOzs7OztPQUtHO0lBQ08sTUFBTSxDQUFDLElBQUksQ0FFbkIsR0FBd0IsRUFBRSxPQUFtQixFQUFFLFFBQTZCO1FBQzVFLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLEdBQUcsWUFBWSxPQUFPLEVBQUU7WUFDMUIsU0FBUyxHQUFHLElBQUksUUFBUSxDQUFjLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUNyRDthQUNJLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxFQUFFO1lBQzVCLFNBQVMsR0FBRyxFQUFFLENBQUM7WUFDZixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDbkMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLFFBQVEsQ0FBYyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQzthQUM1RDtTQUNGO1FBQ0QsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQztJQUVEOztPQUVHO0lBQ0gsTUFBTSxLQUFLLFFBQVEsS0FBaUIsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBRWhEOzs7T0FHRztJQUNILE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBZTtRQUNoQyxNQUFNLElBQUksS0FBSyxDQUFDLGtDQUFrQyxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVEOztPQUVHO0lBQ0gsT0FBTyxLQUFXLE1BQU0sSUFBSSxLQUFLLENBQUMsa0NBQWtDLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDekU7QUE1RkQsOEJBNEZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL2NvbXBvbmVudC50cz80MzllIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBCYXNlIG9wdGlvbnMgZm9yIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbi5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQmFzZU9wdGlvbnMge307XHJcblxyXG5leHBvcnQgdHlwZSBNRWxlbWVudCA9IEhUTUxFbGVtZW50IHwgRWxlbWVudDtcclxuZXhwb3J0IHR5cGUgSW5pdEVsZW1lbnRzPFQgZXh0ZW5kcyBNRWxlbWVudD4gPSBOb2RlTGlzdE9mPFQ+IHwgSFRNTENvbGxlY3Rpb25PZjxUPjtcclxudHlwZSBDb21wb25lbnRDb25zdHJ1Y3RvcjxUIGV4dGVuZHMgQ29tcG9uZW50PE8+LCBPIGV4dGVuZHMgQmFzZU9wdGlvbnM+ID0ge1xyXG4gIG5ldyAoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPE8+KTogVFxyXG59O1xyXG50eXBlIENvbXBvbmVudFR5cGU8QyBleHRlbmRzIENvbXBvbmVudDxPPiwgTyBleHRlbmRzIEJhc2VPcHRpb25zPiA9IENvbXBvbmVudENvbnN0cnVjdG9yPEMsIE8+ICYgdHlwZW9mIENvbXBvbmVudDxPPjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSTE4bk9wdGlvbnMge1xyXG4gIGNhbmNlbDogc3RyaW5nO1xyXG4gIGNsZWFyOiBzdHJpbmc7XHJcbiAgZG9uZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE9wZW5hYmxlIHtcclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgb3BlbigpOiB2b2lkO1xyXG4gIGNsb3NlKCk6IHZvaWQ7XHJcbn07XHJcblxyXG4vKipcclxuICogQmFzZSBjbGFzcyBpbXBsZW1lbnRhdGlvbiBmb3IgTWF0ZXJpYWxpemUgY29tcG9uZW50cy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb21wb25lbnQ8TyBleHRlbmRzIEJhc2VPcHRpb25zPntcclxuICAvKipcclxuICAgKiBUaGUgRE9NIGVsZW1lbnQgdGhlIHBsdWdpbiB3YXMgaW5pdGlhbGl6ZWQgd2l0aC5cclxuICAgKi9cclxuICBlbDogSFRNTEVsZW1lbnQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIG9wdGlvbnMgdGhlIGluc3RhbmNlIHdhcyBpbml0aWFsaXplZCB3aXRoLlxyXG4gICAqL1xyXG4gIG9wdGlvbnM6IE87XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgY29tcG9uZW50IGluc3RhbmNlIGFuZCBzZXQgZXZlcnl0aGluZyB1cC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8Tz4sIGNsYXNzRGVmOiBDb21wb25lbnRUeXBlPENvbXBvbmVudDxPPiwgTz4pe1xyXG4gICAgLy8gRGlzcGxheSBlcnJvciBpZiBlbCBpcyBub3QgYSB2YWxpZCBIVE1MIEVsZW1lbnRcclxuICAgIGlmICghKGVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoRXJyb3IoZWwgKyAnIGlzIG5vdCBhbiBIVE1MIEVsZW1lbnQnKSk7XHJcbiAgICB9XHJcbiAgICAvLyBJZiBleGlzdHMsIGRlc3Ryb3kgYW5kIHJlaW5pdGlhbGl6ZSBpbiBjaGlsZFxyXG4gICAgbGV0IGlucyA9IGNsYXNzRGVmLmdldEluc3RhbmNlKGVsKTtcclxuICAgIGlmICghIWlucykge1xyXG4gICAgICBpbnMuZGVzdHJveSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5lbCA9IGVsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgY29tcG9uZW50IGluc3RhbmNlLlxyXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICogQHBhcmFtIGNsYXNzRGVmIENsYXNzIGRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyBpbml0PFxyXG4gICAgSSBleHRlbmRzIEhUTUxFbGVtZW50LCBPIGV4dGVuZHMgQmFzZU9wdGlvbnMsIEMgZXh0ZW5kcyBDb21wb25lbnQ8Tz5cclxuICA+KGVsOiBJLCBvcHRpb25zOiBPLCBjbGFzc0RlZjogQ29tcG9uZW50VHlwZTxDLCBPPik6IEM7XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgY29tcG9uZW50IGluc3RhbmNlcy5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICogQHBhcmFtIGNsYXNzRGVmIENsYXNzIGRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyBpbml0PFxyXG4gICAgSSBleHRlbmRzIE1FbGVtZW50LCBPIGV4dGVuZHMgQmFzZU9wdGlvbnMsIEMgZXh0ZW5kcyBDb21wb25lbnQ8Tz5cclxuICA+KGVsczogSW5pdEVsZW1lbnRzPEk+LCBvcHRpb25zOiBQYXJ0aWFsPE8+LCBjbGFzc0RlZjogQ29tcG9uZW50VHlwZTxDLCBPPik6IENbXTtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBjb21wb25lbnQgaW5zdGFuY2VzLlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKiBAcGFyYW0gY2xhc3NEZWYgQ2xhc3MgZGVmaW5pdGlvbi5cclxuICAgKi9cclxuICBwcm90ZWN0ZWQgc3RhdGljIGluaXQ8XHJcbiAgICBJIGV4dGVuZHMgTUVsZW1lbnQsIE8gZXh0ZW5kcyBCYXNlT3B0aW9ucywgQyBleHRlbmRzIENvbXBvbmVudDxPPlxyXG4gID4oZWxzOiBJIHwgSW5pdEVsZW1lbnRzPEk+LCBvcHRpb25zOiBQYXJ0aWFsPE8+LCBjbGFzc0RlZjogQ29tcG9uZW50VHlwZTxDLCBPPik6IEMgfCBDW107XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgY29tcG9uZW50IGluc3RhbmNlcy5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICogQHBhcmFtIGNsYXNzRGVmIENsYXNzIGRlZmluaXRpb24uXHJcbiAgICovXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyBpbml0PFxyXG4gICAgSSBleHRlbmRzIE1FbGVtZW50LCBPIGV4dGVuZHMgQmFzZU9wdGlvbnMsIEMgZXh0ZW5kcyBDb21wb25lbnQ8Tz5cclxuICA+KGVsczogSSB8IEluaXRFbGVtZW50czxJPiwgb3B0aW9uczogUGFydGlhbDxPPiwgY2xhc3NEZWY6IENvbXBvbmVudFR5cGU8QywgTz4pOiBDIHwgQ1tdIHtcclxuICAgIGxldCBpbnN0YW5jZXMgPSBudWxsO1xyXG4gICAgaWYgKGVscyBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgaW5zdGFuY2VzID0gbmV3IGNsYXNzRGVmKDxIVE1MRWxlbWVudD5lbHMsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoISFlbHMgJiYgZWxzLmxlbmd0aCkge1xyXG4gICAgICBpbnN0YW5jZXMgPSBbXTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpbnN0YW5jZXMucHVzaChuZXcgY2xhc3NEZWYoPEhUTUxFbGVtZW50PmVsc1tpXSwgb3B0aW9ucykpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5zdGFuY2VzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHJldHVybnMgZGVmYXVsdCBvcHRpb25zIGZvciBjb21wb25lbnQgaW5zdGFuY2UuXHJcbiAgICovXHJcbiAgc3RhdGljIGdldCBkZWZhdWx0cygpOiBCYXNlT3B0aW9uc3sgcmV0dXJuIHt9OyB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHJpZXZlcyBjb21wb25lbnQgaW5zdGFuY2UgZm9yIHRoZSBnaXZlbiBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSBlbCBBc3NvY2lhdGVkIEhUTUwgRWxlbWVudC5cclxuICAgKi9cclxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxFbGVtZW50KTogQ29tcG9uZW50PEJhc2VPcHRpb25zPiB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIG1ldGhvZCBtdXN0IGJlIGltcGxlbWVudGVkLlwiKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlc3Ryb3kgcGx1Z2luIGluc3RhbmNlIGFuZCB0ZWFyZG93bi5cclxuICAgKi9cclxuICBkZXN0cm95KCk6IHZvaWQgeyB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIG1ldGhvZCBtdXN0IGJlIGltcGxlbWVudGVkLlwiKTsgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/component.ts\n");

/***/ }),

/***/ "./src/datepicker.ts":
/*!***************************!*\
  !*** ./src/datepicker.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Datepicker = void 0;\r\nconst modal_1 = __webpack_require__(/*! ./modal */ \"./src/modal.ts\");\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst select_1 = __webpack_require__(/*! ./select */ \"./src/select.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\n;\r\nlet _defaults = {\r\n    // Close when date is selected\r\n    autoClose: false,\r\n    // the default output format for the input field value\r\n    format: 'mmm dd, yyyy',\r\n    // Used to create date object from current input string\r\n    parse: null,\r\n    // The initial date to view when first opened\r\n    defaultDate: null,\r\n    // Make the `defaultDate` the initial selected value\r\n    setDefaultDate: false,\r\n    disableWeekends: false,\r\n    disableDayFn: null,\r\n    // First day of week (0: Sunday, 1: Monday etc)\r\n    firstDay: 0,\r\n    // The earliest date that can be selected\r\n    minDate: null,\r\n    // Thelatest date that can be selected\r\n    maxDate: null,\r\n    // Number of years either side, or array of upper/lower range\r\n    yearRange: 10,\r\n    // used internally (don't config outside)\r\n    minYear: 0,\r\n    maxYear: 9999,\r\n    minMonth: undefined,\r\n    maxMonth: undefined,\r\n    startRange: null,\r\n    endRange: null,\r\n    isRTL: false,\r\n    yearRangeReverse: false,\r\n    // Render the month after year in the calendar title\r\n    showMonthAfterYear: false,\r\n    // Render days of the calendar grid that fall in the next or previous month\r\n    showDaysInNextAndPreviousMonths: false,\r\n    // Specify a DOM element to render the calendar in\r\n    container: null,\r\n    // Show clear button\r\n    showClearBtn: false,\r\n    // internationalization\r\n    i18n: {\r\n        cancel: 'Cancel',\r\n        clear: 'Clear',\r\n        done: 'Ok',\r\n        previousMonth: 'â¹',\r\n        nextMonth: 'âº',\r\n        months: [\r\n            'January',\r\n            'February',\r\n            'March',\r\n            'April',\r\n            'May',\r\n            'June',\r\n            'July',\r\n            'August',\r\n            'September',\r\n            'October',\r\n            'November',\r\n            'December'\r\n        ],\r\n        monthsShort: [\r\n            'Jan',\r\n            'Feb',\r\n            'Mar',\r\n            'Apr',\r\n            'May',\r\n            'Jun',\r\n            'Jul',\r\n            'Aug',\r\n            'Sep',\r\n            'Oct',\r\n            'Nov',\r\n            'Dec'\r\n        ],\r\n        weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\r\n        weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\r\n        weekdaysAbbrev: ['S', 'M', 'T', 'W', 'T', 'F', 'S']\r\n    },\r\n    // events array\r\n    events: [],\r\n    // callback function\r\n    onSelect: null,\r\n    onOpen: null,\r\n    onClose: null,\r\n    onDraw: null\r\n};\r\nclass Datepicker extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Datepicker);\r\n        this._handleInputClick = () => {\r\n            this.open();\r\n        };\r\n        this._handleInputKeydown = (e) => {\r\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\r\n                e.preventDefault();\r\n                this.open();\r\n            }\r\n        };\r\n        this._handleCalendarClick = (e) => {\r\n            if (!this.isOpen)\r\n                return;\r\n            const target = (e.target);\r\n            if (!target.classList.contains('is-disabled')) {\r\n                if (target.classList.contains('datepicker-day-button') &&\r\n                    !target.classList.contains('is-empty') &&\r\n                    !target.parentElement.classList.contains('is-disabled')) {\r\n                    this.setDate(new Date(e.target.getAttribute('data-year'), e.target.getAttribute('data-month'), e.target.getAttribute('data-day')));\r\n                    if (this.options.autoClose) {\r\n                        this._finishSelection();\r\n                    }\r\n                }\r\n                else if (target.closest('.month-prev')) {\r\n                    this.prevMonth();\r\n                }\r\n                else if (target.closest('.month-next')) {\r\n                    this.nextMonth();\r\n                }\r\n            }\r\n        };\r\n        this._handleClearClick = () => {\r\n            this.date = null;\r\n            this.setInputValue();\r\n            this.close();\r\n        };\r\n        this._handleMonthChange = (e) => {\r\n            this.gotoMonth(e.target.value);\r\n        };\r\n        this._handleYearChange = (e) => {\r\n            this.gotoYear(e.target.value);\r\n        };\r\n        this._handleInputChange = (e) => {\r\n            var _a;\r\n            let date;\r\n            // Prevent change event from being fired when triggered by the plugin\r\n            if (((_a = e['detail']) === null || _a === void 0 ? void 0 : _a.firedBy) === this)\r\n                return;\r\n            if (this.options.parse) {\r\n                date = this.options.parse(this.el.value, typeof this.options.format === \"function\"\r\n                    ? this.options.format(new Date(this.el.value))\r\n                    : this.options.format);\r\n            }\r\n            else {\r\n                date = new Date(Date.parse(this.el.value));\r\n            }\r\n            if (Datepicker._isDate(date))\r\n                this.setDate(date);\r\n        };\r\n        // Set input value to the selected date and close Datepicker\r\n        this._finishSelection = () => {\r\n            this.setInputValue();\r\n            this.close();\r\n        };\r\n        /**\r\n         * Open datepicker.\r\n         */\r\n        this.open = () => {\r\n            if (this.isOpen)\r\n                return;\r\n            this.isOpen = true;\r\n            if (typeof this.options.onOpen === 'function') {\r\n                this.options.onOpen.call(this);\r\n            }\r\n            this.draw();\r\n            this.modal.open(undefined);\r\n            return this;\r\n        };\r\n        /**\r\n         * Close datepicker.\r\n         */\r\n        this.close = () => {\r\n            if (!this.isOpen)\r\n                return;\r\n            this.isOpen = false;\r\n            if (typeof this.options.onClose === 'function') {\r\n                this.options.onClose.call(this);\r\n            }\r\n            this.modal.close();\r\n            return this;\r\n        };\r\n        this.el.M_Datepicker = this;\r\n        this.options = Object.assign(Object.assign({}, Datepicker.defaults), options);\r\n        // make sure i18n defaults are not lost when only few i18n option properties are passed\r\n        if (!!options && options.hasOwnProperty('i18n') && typeof options.i18n === 'object') {\r\n            this.options.i18n = Object.assign(Object.assign({}, Datepicker.defaults.i18n), options.i18n);\r\n        }\r\n        // Remove time component from minDate and maxDate options\r\n        if (this.options.minDate)\r\n            this.options.minDate.setHours(0, 0, 0, 0);\r\n        if (this.options.maxDate)\r\n            this.options.maxDate.setHours(0, 0, 0, 0);\r\n        this.id = utils_1.Utils.guid();\r\n        this._setupVariables();\r\n        this._insertHTMLIntoDOM();\r\n        this._setupModal();\r\n        this._setupEventHandlers();\r\n        if (!this.options.defaultDate) {\r\n            this.options.defaultDate = new Date(Date.parse(this.el.value));\r\n        }\r\n        let defDate = this.options.defaultDate;\r\n        if (Datepicker._isDate(defDate)) {\r\n            if (this.options.setDefaultDate) {\r\n                this.setDate(defDate, true);\r\n                this.setInputValue();\r\n            }\r\n            else {\r\n                this.gotoDate(defDate);\r\n            }\r\n        }\r\n        else {\r\n            this.gotoDate(new Date());\r\n        }\r\n        this.isOpen = false;\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Datepicker.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Datepicker);\r\n    }\r\n    static _isDate(obj) {\r\n        return /Date/.test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\r\n    }\r\n    static _isWeekend(date) {\r\n        let day = date.getDay();\r\n        return day === 0 || day === 6;\r\n    }\r\n    static _setToStartOfDay(date) {\r\n        if (Datepicker._isDate(date))\r\n            date.setHours(0, 0, 0, 0);\r\n    }\r\n    static _getDaysInMonth(year, month) {\r\n        return [31, Datepicker._isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\r\n    }\r\n    static _isLeapYear(year) {\r\n        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951\r\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\r\n    }\r\n    static _compareDates(a, b) {\r\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\r\n        return a.getTime() === b.getTime();\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Datepicker;\r\n    }\r\n    destroy() {\r\n        this._removeEventHandlers();\r\n        this.modal.destroy();\r\n        this.modalEl.remove();\r\n        this.destroySelects();\r\n        this.el.M_Datepicker = undefined;\r\n    }\r\n    destroySelects() {\r\n        let oldYearSelect = this.calendarEl.querySelector('.orig-select-year');\r\n        if (oldYearSelect) {\r\n            select_1.FormSelect.getInstance(oldYearSelect).destroy();\r\n        }\r\n        let oldMonthSelect = this.calendarEl.querySelector('.orig-select-month');\r\n        if (oldMonthSelect) {\r\n            select_1.FormSelect.getInstance(oldMonthSelect).destroy();\r\n        }\r\n    }\r\n    _insertHTMLIntoDOM() {\r\n        if (this.options.showClearBtn) {\r\n            this.clearBtn.style.visibility = '';\r\n            this.clearBtn.innerText = this.options.i18n.clear;\r\n        }\r\n        this.doneBtn.innerText = this.options.i18n.done;\r\n        this.cancelBtn.innerText = this.options.i18n.cancel;\r\n        if (this.options.container) {\r\n            const optEl = this.options.container;\r\n            this.options.container =\r\n                optEl instanceof HTMLElement ? optEl : document.querySelector(optEl);\r\n            this.options.container.append(this.modalEl);\r\n        }\r\n        else {\r\n            //this.modalEl.before(this.el);\r\n            this.el.parentElement.appendChild(this.modalEl);\r\n        }\r\n    }\r\n    _setupModal() {\r\n        this.modalEl.id = 'modal-' + this.id;\r\n        this.modal = modal_1.Modal.init(this.modalEl, {\r\n            onCloseEnd: () => {\r\n                this.isOpen = false;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Gets a string representation of the selected date.\r\n     */\r\n    toString(format = null) {\r\n        format = format || this.options.format;\r\n        if (typeof format === 'function')\r\n            return format(this.date);\r\n        if (!Datepicker._isDate(this.date))\r\n            return '';\r\n        // String Format\r\n        const formatArray = format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g);\r\n        const formattedDate = formatArray\r\n            .map(label => this.formats[label] ? this.formats[label]() : label)\r\n            .join('');\r\n        return formattedDate;\r\n    }\r\n    /**\r\n     * Set a date on the datepicker.\r\n     * @param date Date to set on the datepicker.\r\n     * @param preventOnSelect Undocumented as of 5 March 2018.\r\n     */\r\n    setDate(date = null, preventOnSelect = false) {\r\n        if (!date) {\r\n            this.date = null;\r\n            this._renderDateDisplay();\r\n            return this.draw();\r\n        }\r\n        if (typeof date === 'string') {\r\n            date = new Date(Date.parse(date));\r\n        }\r\n        if (!Datepicker._isDate(date)) {\r\n            return;\r\n        }\r\n        let min = this.options.minDate, max = this.options.maxDate;\r\n        if (Datepicker._isDate(min) && date < min) {\r\n            date = min;\r\n        }\r\n        else if (Datepicker._isDate(max) && date > max) {\r\n            date = max;\r\n        }\r\n        this.date = new Date(date.getTime());\r\n        this._renderDateDisplay();\r\n        Datepicker._setToStartOfDay(this.date);\r\n        this.gotoDate(this.date);\r\n        if (!preventOnSelect && typeof this.options.onSelect === 'function') {\r\n            this.options.onSelect.call(this, this.date);\r\n        }\r\n    }\r\n    /**\r\n     * Sets current date as the input value.\r\n     */\r\n    setInputValue() {\r\n        this.el.value = this.toString();\r\n        this.el.dispatchEvent(new CustomEvent('change', { detail: { firedBy: this } }));\r\n    }\r\n    _renderDateDisplay() {\r\n        let displayDate = Datepicker._isDate(this.date) ? this.date : new Date();\r\n        let i18n = this.options.i18n;\r\n        let day = i18n.weekdaysShort[displayDate.getDay()];\r\n        let month = i18n.monthsShort[displayDate.getMonth()];\r\n        let date = displayDate.getDate();\r\n        this.yearTextEl.innerHTML = displayDate.getFullYear().toString();\r\n        this.dateTextEl.innerHTML = `${day}, ${month} ${date}`;\r\n    }\r\n    /**\r\n     * Change date view to a specific date on the datepicker.\r\n     * @param date Date to show on the datepicker.\r\n     */\r\n    gotoDate(date) {\r\n        let newCalendar = true;\r\n        if (!Datepicker._isDate(date)) {\r\n            return;\r\n        }\r\n        if (this.calendars) {\r\n            let firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1), lastVisibleDate = new Date(this.calendars[this.calendars.length - 1].year, this.calendars[this.calendars.length - 1].month, 1), visibleDate = date.getTime();\r\n            // get the end of the month\r\n            lastVisibleDate.setMonth(lastVisibleDate.getMonth() + 1);\r\n            lastVisibleDate.setDate(lastVisibleDate.getDate() - 1);\r\n            newCalendar =\r\n                visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate;\r\n        }\r\n        if (newCalendar) {\r\n            this.calendars = [\r\n                {\r\n                    month: date.getMonth(),\r\n                    year: date.getFullYear()\r\n                }\r\n            ];\r\n        }\r\n        this.adjustCalendars();\r\n    }\r\n    adjustCalendars() {\r\n        this.calendars[0] = this.adjustCalendar(this.calendars[0]);\r\n        this.draw();\r\n    }\r\n    adjustCalendar(calendar) {\r\n        if (calendar.month < 0) {\r\n            calendar.year -= Math.ceil(Math.abs(calendar.month) / 12);\r\n            calendar.month += 12;\r\n        }\r\n        if (calendar.month > 11) {\r\n            calendar.year += Math.floor(Math.abs(calendar.month) / 12);\r\n            calendar.month -= 12;\r\n        }\r\n        return calendar;\r\n    }\r\n    nextMonth() {\r\n        this.calendars[0].month++;\r\n        this.adjustCalendars();\r\n    }\r\n    prevMonth() {\r\n        this.calendars[0].month--;\r\n        this.adjustCalendars();\r\n    }\r\n    render(year, month, randId) {\r\n        let opts = this.options, now = new Date(), days = Datepicker._getDaysInMonth(year, month), before = new Date(year, month, 1).getDay(), data = [], row = [];\r\n        Datepicker._setToStartOfDay(now);\r\n        if (opts.firstDay > 0) {\r\n            before -= opts.firstDay;\r\n            if (before < 0) {\r\n                before += 7;\r\n            }\r\n        }\r\n        let previousMonth = month === 0 ? 11 : month - 1, nextMonth = month === 11 ? 0 : month + 1, yearOfPreviousMonth = month === 0 ? year - 1 : year, yearOfNextMonth = month === 11 ? year + 1 : year, daysInPreviousMonth = Datepicker._getDaysInMonth(yearOfPreviousMonth, previousMonth);\r\n        let cells = days + before, after = cells;\r\n        while (after > 7) {\r\n            after -= 7;\r\n        }\r\n        cells += 7 - after;\r\n        let isWeekSelected = false;\r\n        for (let i = 0, r = 0; i < cells; i++) {\r\n            let day = new Date(year, month, 1 + (i - before)), isSelected = Datepicker._isDate(this.date)\r\n                ? Datepicker._compareDates(day, this.date)\r\n                : false, isToday = Datepicker._compareDates(day, now), hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false, isEmpty = i < before || i >= days + before, dayNumber = 1 + (i - before), monthNumber = month, yearNumber = year, isStartRange = opts.startRange && Datepicker._compareDates(opts.startRange, day), isEndRange = opts.endRange && Datepicker._compareDates(opts.endRange, day), isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange, isDisabled = (opts.minDate && day < opts.minDate) ||\r\n                (opts.maxDate && day > opts.maxDate) ||\r\n                (opts.disableWeekends && Datepicker._isWeekend(day)) ||\r\n                (opts.disableDayFn && opts.disableDayFn(day));\r\n            if (isEmpty) {\r\n                if (i < before) {\r\n                    dayNumber = daysInPreviousMonth + dayNumber;\r\n                    monthNumber = previousMonth;\r\n                    yearNumber = yearOfPreviousMonth;\r\n                }\r\n                else {\r\n                    dayNumber = dayNumber - days;\r\n                    monthNumber = nextMonth;\r\n                    yearNumber = yearOfNextMonth;\r\n                }\r\n            }\r\n            let dayConfig = {\r\n                day: dayNumber,\r\n                month: monthNumber,\r\n                year: yearNumber,\r\n                hasEvent: hasEvent,\r\n                isSelected: isSelected,\r\n                isToday: isToday,\r\n                isDisabled: isDisabled,\r\n                isEmpty: isEmpty,\r\n                isStartRange: isStartRange,\r\n                isEndRange: isEndRange,\r\n                isInRange: isInRange,\r\n                showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths\r\n            };\r\n            row.push(this.renderDay(dayConfig));\r\n            if (++r === 7) {\r\n                data.push(this.renderRow(row, opts.isRTL, isWeekSelected));\r\n                row = [];\r\n                r = 0;\r\n                isWeekSelected = false;\r\n            }\r\n        }\r\n        return this.renderTable(opts, data, randId);\r\n    }\r\n    renderDay(opts) {\r\n        let arr = [];\r\n        let ariaSelected = 'false';\r\n        if (opts.isEmpty) {\r\n            if (opts.showDaysInNextAndPreviousMonths) {\r\n                arr.push('is-outside-current-month');\r\n                arr.push('is-selection-disabled');\r\n            }\r\n            else {\r\n                return '<td class=\"is-empty\"></td>';\r\n            }\r\n        }\r\n        if (opts.isDisabled) {\r\n            arr.push('is-disabled');\r\n        }\r\n        if (opts.isToday) {\r\n            arr.push('is-today');\r\n        }\r\n        if (opts.isSelected) {\r\n            arr.push('is-selected');\r\n            ariaSelected = 'true';\r\n        }\r\n        if (opts.hasEvent) {\r\n            arr.push('has-event');\r\n        }\r\n        if (opts.isInRange) {\r\n            arr.push('is-inrange');\r\n        }\r\n        if (opts.isStartRange) {\r\n            arr.push('is-startrange');\r\n        }\r\n        if (opts.isEndRange) {\r\n            arr.push('is-endrange');\r\n        }\r\n        return (`<td data-day=\"${opts.day}\" class=\"${arr.join(' ')}\" aria-selected=\"${ariaSelected}\">` +\r\n            `<button class=\"datepicker-day-button\" type=\"button\" data-year=\"${opts.year}\" data-month=\"${opts.month}\" data-day=\"${opts.day}\">${opts.day}</button>` +\r\n            '</td>');\r\n    }\r\n    renderRow(days, isRTL, isRowSelected) {\r\n        return ('<tr class=\"datepicker-row' +\r\n            (isRowSelected ? ' is-selected' : '') +\r\n            '\">' +\r\n            (isRTL ? days.reverse() : days).join('') +\r\n            '</tr>');\r\n    }\r\n    renderTable(opts, data, randId) {\r\n        return ('<div class=\"datepicker-table-wrapper\"><table cellpadding=\"0\" cellspacing=\"0\" class=\"datepicker-table\" role=\"grid\" aria-labelledby=\"' +\r\n            randId +\r\n            '\">' +\r\n            this.renderHead(opts) +\r\n            this.renderBody(data) +\r\n            '</table></div>');\r\n    }\r\n    renderHead(opts) {\r\n        let i, arr = [];\r\n        for (i = 0; i < 7; i++) {\r\n            arr.push(`<th scope=\"col\"><abbr title=\"${this.renderDayName(opts, i)}\">${this.renderDayName(opts, i, true)}</abbr></th>`);\r\n        }\r\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\r\n    }\r\n    renderBody(rows) {\r\n        return '<tbody>' + rows.join('') + '</tbody>';\r\n    }\r\n    renderTitle(instance, c, year, month, refYear, randId) {\r\n        let i, j, arr, opts = this.options, isMinYear = year === opts.minYear, isMaxYear = year === opts.maxYear, html = '<div id=\"' +\r\n            randId +\r\n            '\" class=\"datepicker-controls\" role=\"heading\" aria-live=\"assertive\">', monthHtml, yearHtml, prev = true, next = true;\r\n        for (arr = [], i = 0; i < 12; i++) {\r\n            arr.push('<option value=\"' +\r\n                (year === refYear ? i - c : 12 + i - c) +\r\n                '\"' +\r\n                (i === month ? ' selected=\"selected\"' : '') +\r\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth)\r\n                    ? 'disabled=\"disabled\"'\r\n                    : '') +\r\n                '>' +\r\n                opts.i18n.months[i] +\r\n                '</option>');\r\n        }\r\n        monthHtml = '<select class=\"datepicker-select orig-select-month\" tabindex=\"-1\">' + arr.join('') + '</select>';\r\n        if (Array.isArray(opts.yearRange)) {\r\n            i = opts.yearRange[0];\r\n            j = opts.yearRange[1] + 1;\r\n        }\r\n        else {\r\n            i = year - opts.yearRange;\r\n            j = 1 + year + opts.yearRange;\r\n        }\r\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\r\n            if (i >= opts.minYear) {\r\n                arr.push(`<option value=\"${i}\" ${i === year ? 'selected=\"selected\"' : ''}>${i}</option>`);\r\n            }\r\n        }\r\n        if (opts.yearRangeReverse)\r\n            arr.reverse();\r\n        yearHtml = `<select class=\"datepicker-select orig-select-year\" tabindex=\"-1\">${arr.join('')}</select>`;\r\n        let leftArrow = '<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"/><path d=\"M0-.5h24v24H0z\" fill=\"none\"/></svg>';\r\n        html += `<button class=\"month-prev${prev ? '' : ' is-disabled'} btn-flat\" type=\"button\">${leftArrow}</button>`;\r\n        html += '<div class=\"selects-container\">';\r\n        if (opts.showMonthAfterYear) {\r\n            html += yearHtml + monthHtml;\r\n        }\r\n        else {\r\n            html += monthHtml + yearHtml;\r\n        }\r\n        html += '</div>';\r\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\r\n            prev = false;\r\n        }\r\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\r\n            next = false;\r\n        }\r\n        let rightArrow = '<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"/><path d=\"M0-.25h24v24H0z\" fill=\"none\"/></svg>';\r\n        html += `<button class=\"month-next${next ? '' : ' is-disabled'} btn-flat\" type=\"button\">${rightArrow}</button>`;\r\n        return (html += '</div>');\r\n    }\r\n    // refresh HTML\r\n    draw(force = false) {\r\n        if (!this.isOpen && !force)\r\n            return;\r\n        let opts = this.options, minYear = opts.minYear, maxYear = opts.maxYear, minMonth = opts.minMonth, maxMonth = opts.maxMonth, html = '', randId;\r\n        if (this._y <= minYear) {\r\n            this._y = minYear;\r\n            if (!isNaN(minMonth) && this._m < minMonth) {\r\n                this._m = minMonth;\r\n            }\r\n        }\r\n        if (this._y >= maxYear) {\r\n            this._y = maxYear;\r\n            if (!isNaN(maxMonth) && this._m > maxMonth) {\r\n                this._m = maxMonth;\r\n            }\r\n        }\r\n        randId =\r\n            'datepicker-title-' +\r\n                Math.random()\r\n                    .toString(36)\r\n                    .replace(/[^a-z]+/g, '')\r\n                    .substr(0, 2);\r\n        for (let c = 0; c < 1; c++) {\r\n            this._renderDateDisplay();\r\n            html +=\r\n                this.renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId);\r\n        }\r\n        this.destroySelects();\r\n        this.calendarEl.innerHTML = html;\r\n        // Init Materialize Select\r\n        let yearSelect = this.calendarEl.querySelector('.orig-select-year');\r\n        let monthSelect = this.calendarEl.querySelector('.orig-select-month');\r\n        select_1.FormSelect.init(yearSelect, {\r\n            classes: 'select-year',\r\n            dropdownOptions: { container: document.body, constrainWidth: false }\r\n        });\r\n        select_1.FormSelect.init(monthSelect, {\r\n            classes: 'select-month',\r\n            dropdownOptions: { container: document.body, constrainWidth: false }\r\n        });\r\n        // Add change handlers for select\r\n        yearSelect.addEventListener('change', () => this._handleYearChange);\r\n        monthSelect.addEventListener('change', () => this._handleMonthChange);\r\n        if (typeof this.options.onDraw === 'function') {\r\n            this.options.onDraw.call(this);\r\n        }\r\n    }\r\n    _setupEventHandlers() {\r\n        this.el.addEventListener('click', this._handleInputClick);\r\n        this.el.addEventListener('keydown', this._handleInputKeydown);\r\n        this.el.addEventListener('change', this._handleInputChange);\r\n        this.calendarEl.addEventListener('click', this._handleCalendarClick);\r\n        this.doneBtn.addEventListener('click', this._finishSelection);\r\n        this.cancelBtn.addEventListener('click', this.close);\r\n        if (this.options.showClearBtn) {\r\n            this.clearBtn.addEventListener('click', this._handleClearClick);\r\n        }\r\n    }\r\n    _setupVariables() {\r\n        const template = document.createElement('template');\r\n        template.innerHTML = Datepicker._template.trim();\r\n        this.modalEl = template.content.firstChild;\r\n        this.calendarEl = this.modalEl.querySelector('.datepicker-calendar');\r\n        this.yearTextEl = this.modalEl.querySelector('.year-text');\r\n        this.dateTextEl = this.modalEl.querySelector('.date-text');\r\n        if (this.options.showClearBtn) {\r\n            this.clearBtn = this.modalEl.querySelector('.datepicker-clear');\r\n        }\r\n        this.doneBtn = this.modalEl.querySelector('.datepicker-done');\r\n        this.cancelBtn = this.modalEl.querySelector('.datepicker-cancel');\r\n        this.formats = {\r\n            d: () => {\r\n                return this.date.getDate();\r\n            },\r\n            dd: () => {\r\n                let d = this.date.getDate();\r\n                return (d < 10 ? '0' : '') + d;\r\n            },\r\n            ddd: () => {\r\n                return this.options.i18n.weekdaysShort[this.date.getDay()];\r\n            },\r\n            dddd: () => {\r\n                return this.options.i18n.weekdays[this.date.getDay()];\r\n            },\r\n            m: () => {\r\n                return this.date.getMonth() + 1;\r\n            },\r\n            mm: () => {\r\n                let m = this.date.getMonth() + 1;\r\n                return (m < 10 ? '0' : '') + m;\r\n            },\r\n            mmm: () => {\r\n                return this.options.i18n.monthsShort[this.date.getMonth()];\r\n            },\r\n            mmmm: () => {\r\n                return this.options.i18n.months[this.date.getMonth()];\r\n            },\r\n            yy: () => {\r\n                return ('' + this.date.getFullYear()).slice(2);\r\n            },\r\n            yyyy: () => {\r\n                return this.date.getFullYear();\r\n            }\r\n        };\r\n    }\r\n    _removeEventHandlers() {\r\n        this.el.removeEventListener('click', this._handleInputClick);\r\n        this.el.removeEventListener('keydown', this._handleInputKeydown);\r\n        this.el.removeEventListener('change', this._handleInputChange);\r\n        this.calendarEl.removeEventListener('click', this._handleCalendarClick);\r\n    }\r\n    // change view to a specific month (zero-index, e.g. 0: January)\r\n    gotoMonth(month) {\r\n        if (!isNaN(month)) {\r\n            this.calendars[0].month = parseInt(month, 10);\r\n            this.adjustCalendars();\r\n        }\r\n    }\r\n    // change view to a specific full year (e.g. \"2012\")\r\n    gotoYear(year) {\r\n        if (!isNaN(year)) {\r\n            this.calendars[0].year = parseInt(year, 10);\r\n            this.adjustCalendars();\r\n        }\r\n    }\r\n    renderDayName(opts, day, abbr = false) {\r\n        day += opts.firstDay;\r\n        while (day >= 7) {\r\n            day -= 7;\r\n        }\r\n        return abbr ? opts.i18n.weekdaysAbbrev[day] : opts.i18n.weekdays[day];\r\n    }\r\n}\r\nexports.Datepicker = Datepicker;\r\n(() => {\r\n    Datepicker._template = `\r\n      <div class=\"modal datepicker-modal\">\r\n        <div class=\"modal-content datepicker-container\">\r\n          <div class=\"datepicker-date-display\">\r\n            <span class=\"year-text\"></span>\r\n            <span class=\"date-text\"></span>\r\n          </div>\r\n          <div class=\"datepicker-calendar-container\">\r\n            <div class=\"datepicker-calendar\"></div>\r\n            <div class=\"datepicker-footer\">\r\n              <button class=\"btn-flat datepicker-clear waves-effect\" style=\"visibility: hidden;\" type=\"button\"></button>\r\n              <div class=\"confirmation-btns\">\r\n                <button class=\"btn-flat datepicker-cancel waves-effect\" type=\"button\"></button>\r\n                <button class=\"btn-flat datepicker-done waves-effect\" type=\"button\"></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>`;\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7O2FBa0JkLENBQUM7QUFDWixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL2RhdGVwaWNrZXIudHM/YTkzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RhbCB9IGZyb20gXCIuL21vZGFsXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgRm9ybVNlbGVjdCB9IGZyb20gXCIuL3NlbGVjdFwiO1xyXG5pbXBvcnQgeyBCYXNlT3B0aW9ucywgQ29tcG9uZW50LCBJbml0RWxlbWVudHMsIE1FbGVtZW50LCBJMThuT3B0aW9ucyB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEYXRlSTE4bk9wdGlvbnMgZXh0ZW5kcyBJMThuT3B0aW9ucyB7XHJcbiAgcHJldmlvdXNNb250aDogc3RyaW5nO1xyXG4gIG5leHRNb250aDogc3RyaW5nO1xyXG4gIG1vbnRoczogc3RyaW5nW107XHJcbiAgbW9udGhzU2hvcnQ6IHN0cmluZ1tdO1xyXG4gIHdlZWtkYXlzOiBzdHJpbmdbXTtcclxuICB3ZWVrZGF5c1Nob3J0OiBzdHJpbmdbXTtcclxuICB3ZWVrZGF5c0FiYnJldjogc3RyaW5nW107XHJcbn07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERhdGVwaWNrZXJPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge1xyXG4gIC8qKlxyXG4gICAqIEF1dG9tYXRpY2FsbHkgY2xvc2UgcGlja2VyIHdoZW4gZGF0ZSBpcyBzZWxlY3RlZC5cclxuICAgKiBAZGVmYXVsdCBmYWxzZVxyXG4gICAqL1xyXG4gIGF1dG9DbG9zZTogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBvdXRwdXQgZm9ybWF0IGZvciB0aGUgaW5wdXQgZmllbGQgdmFsdWVcclxuICAgKiBvciBhIGZ1bmN0aW9uIHRha2luZyB0aGUgZGF0ZSBhbmQgb3V0cHV0dGluZyB0aGVcclxuICAgKiBmb3JtYXR0ZWQgZGF0ZSBzdHJpbmcuXHJcbiAgICogQGRlZmF1bHQgJ21tbSBkZCwgeXl5eSdcclxuICAgKi9cclxuICBmb3JtYXQ6IHN0cmluZyB8ICgoZDogRGF0ZSkgPT4gc3RyaW5nKTtcclxuICAvKipcclxuICAgKiBVc2VkIHRvIGNyZWF0ZSBkYXRlIG9iamVjdCBmcm9tIGN1cnJlbnQgaW5wdXQgc3RyaW5nLlxyXG4gICAqIEBkZWZhdWx0IG51bGxcclxuICAgKi9cclxuICBwYXJzZTogKCh2YWx1ZTogc3RyaW5nLCBmb3JtYXQ6IHN0cmluZykgPT4gRGF0ZSkgfCBudWxsO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBpbml0aWFsIGRhdGUgdG8gdmlldyB3aGVuIGZpcnN0IG9wZW5lZC5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgZGVmYXVsdERhdGU6IERhdGUgfCBudWxsO1xyXG4gIC8qKlxyXG4gICAqIE1ha2UgdGhlIGBkZWZhdWx0RGF0ZWAgdGhlIGluaXRpYWwgc2VsZWN0ZWQgdmFsdWUuXHJcbiAgICogQGRlZmF1bHQgZmFsc2VcclxuICAgKi9cclxuICBzZXREZWZhdWx0RGF0ZTogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBQcmV2ZW50IHNlbGVjdGlvbiBvZiBhbnkgZGF0ZSBvbiB0aGUgd2Vla2VuZC5cclxuICAgKiBAZGVmYXVsdCBmYWxzZVxyXG4gICAqL1xyXG4gIGRpc2FibGVXZWVrZW5kczogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBDdXN0b20gZnVuY3Rpb24gdG8gZGlzYWJsZSBjZXJ0YWluIGRheXMuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIGRpc2FibGVEYXlGbjogKChkYXk6IERhdGUpID0+IGJvb2xlYW4pIHwgbnVsbDtcclxuICAvKipcclxuICAgKiBGaXJzdCBkYXkgb2Ygd2VlayAoMDogU3VuZGF5LCAxOiBNb25kYXkgZXRjKS5cclxuICAgKiBAZGVmYXVsdCAwXHJcbiAgICovXHJcbiAgZmlyc3REYXk6IG51bWJlcjtcclxuICAvKipcclxuICAgKiBUaGUgZWFybGllc3QgZGF0ZSB0aGF0IGNhbiBiZSBzZWxlY3RlZC5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgbWluRGF0ZTogRGF0ZSB8IG51bGw7XHJcbiAgLyoqXHJcbiAgICogVGhlIGxhdGVzdCBkYXRlIHRoYXQgY2FuIGJlIHNlbGVjdGVkLlxyXG4gICAqIEBkZWZhdWx0IG51bGxcclxuICAgKi9cclxuICBtYXhEYXRlOiBEYXRlIHwgbnVsbDtcclxuICAvKipcclxuICAgKiBOdW1iZXIgb2YgeWVhcnMgZWl0aGVyIHNpZGUsIG9yIGFycmF5IG9mIHVwcGVyL2xvd2VyIHJhbmdlLlxyXG4gICAqIEBkZWZhdWx0IDEwXHJcbiAgICovXHJcbiAgeWVhclJhbmdlOiBudW1iZXIgfCBudW1iZXJbXTtcclxuICAvKipcclxuICAgKiBTb3J0IHllYXIgcmFuZ2UgaW4gcmV2ZXJzZSBvcmRlci5cclxuICAgKiBAZGVmYXVsdCBmYWxzZVxyXG4gICAqL1xyXG4gIHllYXJSYW5nZVJldmVyc2U6IGJvb2xlYW47XHJcbiAgLyoqXHJcbiAgICogQ2hhbmdlcyBEYXRlcGlja2VyIHRvIFJUTC5cclxuICAgKiBAZGVmYXVsdCBmYWxzZVxyXG4gICAqL1xyXG4gIGlzUlRMOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIFNob3cgbW9udGggYWZ0ZXIgeWVhciBpbiBEYXRlcGlja2VyIHRpdGxlLlxyXG4gICAqIEBkZWZhdWx0IGZhbHNlXHJcbiAgICovXHJcbiAgc2hvd01vbnRoQWZ0ZXJZZWFyOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIFJlbmRlciBkYXlzIG9mIHRoZSBjYWxlbmRhciBncmlkIHRoYXQgZmFsbCBpbiB0aGUgbmV4dFxyXG4gICAqIG9yIHByZXZpb3VzIG1vbnRoLlxyXG4gICAqIEBkZWZhdWx0IGZhbHNlXHJcbiAgICovXHJcbiAgc2hvd0RheXNJbk5leHRBbmRQcmV2aW91c01vbnRoczogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBTcGVjaWZ5IGEgRE9NIGVsZW1lbnQgT1Igc2VsZWN0b3IgZm9yIGEgRE9NIGVsZW1lbnQgdG8gcmVuZGVyXHJcbiAgICogdGhlIGNhbGVuZGFyIGluLCBieSBkZWZhdWx0IGl0IHdpbGwgYmUgcGxhY2VkIGJlZm9yZSB0aGUgaW5wdXQuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBzdHJpbmcgfCBudWxsO1xyXG4gIC8qKlxyXG4gICAqIFNob3cgdGhlIGNsZWFyIGJ1dHRvbiBpbiB0aGUgZGF0ZXBpY2tlci5cclxuICAgKiBAZGVmYXVsdCBmYWxzZVxyXG4gICAqL1xyXG4gIHNob3dDbGVhckJ0bjogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBJbnRlcm5hdGlvbmFsaXphdGlvbiBvcHRpb25zLlxyXG4gICAqL1xyXG4gIGkxOG46IFBhcnRpYWw8RGF0ZUkxOG5PcHRpb25zPjtcclxuICAvKipcclxuICAgKiBBbiBhcnJheSBvZiBzdHJpbmcgcmV0dXJuZWQgYnkgYERhdGUudG9EYXRlU3RyaW5nKClgLFxyXG4gICAqIGluZGljYXRpbmcgdGhlcmUgYXJlIGV2ZW50cyBpbiB0aGUgc3BlY2lmaWVkIGRheXMuXHJcbiAgICogQGRlZmF1bHQgW11cclxuICAgKi9cclxuICBldmVudHM6IHN0cmluZ1tdO1xyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gZGF0ZSBpcyBzZWxlY3RlZCxcclxuICAgKiBmaXJzdCBwYXJhbWV0ZXIgaXMgdGhlIG5ld2x5IHNlbGVjdGVkIGRhdGUuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uU2VsZWN0OiAoKHNlbGVjdGVkRGF0ZTogRGF0ZSkgPT4gdm9pZCkgfCBudWxsO1xyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gRGF0ZXBpY2tlciBpcyBvcGVuZWQuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uT3BlbjogKCgpID0+IHZvaWQpIHwgbnVsbDtcclxuICAvKipcclxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiB3aGVuIERhdGVwaWNrZXIgaXMgY2xvc2VkLlxyXG4gICAqIEBkZWZhdWx0IG51bGxcclxuICAgKi9cclxuICBvbkNsb3NlOiAoKCkgPT4gdm9pZCkgfCBudWxsO1xyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gRGF0ZXBpY2tlciBIVE1MIGlzIHJlZnJlc2hlZC5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgb25EcmF3OiAoKCkgPT4gdm9pZCkgfCBudWxsO1xyXG4gIFxyXG4gIC8qKiBGaWVsZCB1c2VkIGZvciBpbnRlcm5hbCBjYWxjdWxhdGlvbnMgRE8gTk9UIENIQU5HRSBJVCAqL1xyXG4gIG1pblllYXI/OiBhbnk7XHJcbiAgLyoqIEZpZWxkIHVzZWQgZm9yIGludGVybmFsIGNhbGN1bGF0aW9ucyBETyBOT1QgQ0hBTkdFIElUICovXHJcbiAgbWF4WWVhcj86IGFueTtcclxuICAvKiogRmllbGQgdXNlZCBmb3IgaW50ZXJuYWwgY2FsY3VsYXRpb25zIERPIE5PVCBDSEFOR0UgSVQgKi9cclxuICBtaW5Nb250aD86IGFueTtcclxuICAvKiogRmllbGQgdXNlZCBmb3IgaW50ZXJuYWwgY2FsY3VsYXRpb25zIERPIE5PVCBDSEFOR0UgSVQgKi9cclxuICBtYXhNb250aD86IGFueTtcclxuICAvKiogRmllbGQgdXNlZCBmb3IgaW50ZXJuYWwgY2FsY3VsYXRpb25zIERPIE5PVCBDSEFOR0UgSVQgKi9cclxuICBzdGFydFJhbmdlPzogYW55O1xyXG4gIC8qKiBGaWVsZCB1c2VkIGZvciBpbnRlcm5hbCBjYWxjdWxhdGlvbnMgRE8gTk9UIENIQU5HRSBJVCAqL1xyXG4gIGVuZFJhbmdlPzogYW55O1xyXG59XHJcblxyXG5sZXQgX2RlZmF1bHRzOiBEYXRlcGlja2VyT3B0aW9ucyA9IHtcclxuICAvLyBDbG9zZSB3aGVuIGRhdGUgaXMgc2VsZWN0ZWRcclxuICBhdXRvQ2xvc2U6IGZhbHNlLFxyXG4gIC8vIHRoZSBkZWZhdWx0IG91dHB1dCBmb3JtYXQgZm9yIHRoZSBpbnB1dCBmaWVsZCB2YWx1ZVxyXG4gIGZvcm1hdDogJ21tbSBkZCwgeXl5eScsXHJcbiAgLy8gVXNlZCB0byBjcmVhdGUgZGF0ZSBvYmplY3QgZnJvbSBjdXJyZW50IGlucHV0IHN0cmluZ1xyXG4gIHBhcnNlOiBudWxsLFxyXG4gIC8vIFRoZSBpbml0aWFsIGRhdGUgdG8gdmlldyB3aGVuIGZpcnN0IG9wZW5lZFxyXG4gIGRlZmF1bHREYXRlOiBudWxsLFxyXG4gIC8vIE1ha2UgdGhlIGBkZWZhdWx0RGF0ZWAgdGhlIGluaXRpYWwgc2VsZWN0ZWQgdmFsdWVcclxuICBzZXREZWZhdWx0RGF0ZTogZmFsc2UsXHJcbiAgZGlzYWJsZVdlZWtlbmRzOiBmYWxzZSxcclxuICBkaXNhYmxlRGF5Rm46IG51bGwsXHJcbiAgLy8gRmlyc3QgZGF5IG9mIHdlZWsgKDA6IFN1bmRheSwgMTogTW9uZGF5IGV0YylcclxuICBmaXJzdERheTogMCxcclxuICAvLyBUaGUgZWFybGllc3QgZGF0ZSB0aGF0IGNhbiBiZSBzZWxlY3RlZFxyXG4gIG1pbkRhdGU6IG51bGwsXHJcbiAgLy8gVGhlbGF0ZXN0IGRhdGUgdGhhdCBjYW4gYmUgc2VsZWN0ZWRcclxuICBtYXhEYXRlOiBudWxsLFxyXG4gIC8vIE51bWJlciBvZiB5ZWFycyBlaXRoZXIgc2lkZSwgb3IgYXJyYXkgb2YgdXBwZXIvbG93ZXIgcmFuZ2VcclxuICB5ZWFyUmFuZ2U6IDEwLFxyXG4gIC8vIHVzZWQgaW50ZXJuYWxseSAoZG9uJ3QgY29uZmlnIG91dHNpZGUpXHJcbiAgbWluWWVhcjogMCxcclxuICBtYXhZZWFyOiA5OTk5LFxyXG4gIG1pbk1vbnRoOiB1bmRlZmluZWQsXHJcbiAgbWF4TW9udGg6IHVuZGVmaW5lZCxcclxuICBzdGFydFJhbmdlOiBudWxsLFxyXG4gIGVuZFJhbmdlOiBudWxsLFxyXG4gIGlzUlRMOiBmYWxzZSxcclxuICB5ZWFyUmFuZ2VSZXZlcnNlOiBmYWxzZSxcclxuICAvLyBSZW5kZXIgdGhlIG1vbnRoIGFmdGVyIHllYXIgaW4gdGhlIGNhbGVuZGFyIHRpdGxlXHJcbiAgc2hvd01vbnRoQWZ0ZXJZZWFyOiBmYWxzZSxcclxuICAvLyBSZW5kZXIgZGF5cyBvZiB0aGUgY2FsZW5kYXIgZ3JpZCB0aGF0IGZhbGwgaW4gdGhlIG5leHQgb3IgcHJldmlvdXMgbW9udGhcclxuICBzaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzOiBmYWxzZSxcclxuICAvLyBTcGVjaWZ5IGEgRE9NIGVsZW1lbnQgdG8gcmVuZGVyIHRoZSBjYWxlbmRhciBpblxyXG4gIGNvbnRhaW5lcjogbnVsbCxcclxuICAvLyBTaG93IGNsZWFyIGJ1dHRvblxyXG4gIHNob3dDbGVhckJ0bjogZmFsc2UsXHJcbiAgLy8gaW50ZXJuYXRpb25hbGl6YXRpb25cclxuICBpMThuOiB7XHJcbiAgICBjYW5jZWw6ICdDYW5jZWwnLFxyXG4gICAgY2xlYXI6ICdDbGVhcicsXHJcbiAgICBkb25lOiAnT2snLFxyXG4gICAgcHJldmlvdXNNb250aDogJ+KAuScsXHJcbiAgICBuZXh0TW9udGg6ICfigLonLFxyXG4gICAgbW9udGhzOiBbXHJcbiAgICAgICdKYW51YXJ5JyxcclxuICAgICAgJ0ZlYnJ1YXJ5JyxcclxuICAgICAgJ01hcmNoJyxcclxuICAgICAgJ0FwcmlsJyxcclxuICAgICAgJ01heScsXHJcbiAgICAgICdKdW5lJyxcclxuICAgICAgJ0p1bHknLFxyXG4gICAgICAnQXVndXN0JyxcclxuICAgICAgJ1NlcHRlbWJlcicsXHJcbiAgICAgICdPY3RvYmVyJyxcclxuICAgICAgJ05vdmVtYmVyJyxcclxuICAgICAgJ0RlY2VtYmVyJ1xyXG4gICAgXSxcclxuICAgIG1vbnRoc1Nob3J0OiBbXHJcbiAgICAgICdKYW4nLFxyXG4gICAgICAnRmViJyxcclxuICAgICAgJ01hcicsXHJcbiAgICAgICdBcHInLFxyXG4gICAgICAnTWF5JyxcclxuICAgICAgJ0p1bicsXHJcbiAgICAgICdKdWwnLFxyXG4gICAgICAnQXVnJyxcclxuICAgICAgJ1NlcCcsXHJcbiAgICAgICdPY3QnLFxyXG4gICAgICAnTm92JyxcclxuICAgICAgJ0RlYydcclxuICAgIF0sXHJcbiAgICB3ZWVrZGF5czogWydTdW5kYXknLCAnTW9uZGF5JywgJ1R1ZXNkYXknLCAnV2VkbmVzZGF5JywgJ1RodXJzZGF5JywgJ0ZyaWRheScsICdTYXR1cmRheSddLFxyXG4gICAgd2Vla2RheXNTaG9ydDogWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXSxcclxuICAgIHdlZWtkYXlzQWJicmV2OiBbJ1MnLCAnTScsICdUJywgJ1cnLCAnVCcsICdGJywgJ1MnXVxyXG4gIH0sXHJcbiAgLy8gZXZlbnRzIGFycmF5XHJcbiAgZXZlbnRzOiBbXSxcclxuICAvLyBjYWxsYmFjayBmdW5jdGlvblxyXG4gIG9uU2VsZWN0OiBudWxsLFxyXG4gIG9uT3BlbjogbnVsbCxcclxuICBvbkNsb3NlOiBudWxsLFxyXG4gIG9uRHJhdzogbnVsbFxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIERhdGVwaWNrZXIgZXh0ZW5kcyBDb21wb25lbnQ8RGF0ZXBpY2tlck9wdGlvbnM+IHtcclxuICBkZWNsYXJlIGVsOiBIVE1MSW5wdXRFbGVtZW50XHJcbiAgaWQ6IHN0cmluZztcclxuICAvKiogSWYgdGhlIHBpY2tlciBpcyBvcGVuLiAqL1xyXG4gIGlzT3BlbjogYm9vbGVhbjtcclxuICBtb2RhbDogTW9kYWw7XHJcbiAgY2FsZW5kYXJFbDogSFRNTEVsZW1lbnQ7XHJcbiAgLyoqIENMRUFSIGJ1dHRvbiBpbnN0YW5jZS4gKi9cclxuICBjbGVhckJ0bjogSFRNTEVsZW1lbnQ7XHJcbiAgLyoqIERPTkUgYnV0dG9uIGluc3RhbmNlICovXHJcbiAgZG9uZUJ0bjogSFRNTEVsZW1lbnQ7XHJcbiAgY2FuY2VsQnRuOiBIVE1MRWxlbWVudDtcclxuICBtb2RhbEVsOiBIVE1MRWxlbWVudDtcclxuICB5ZWFyVGV4dEVsOiBIVE1MRWxlbWVudDtcclxuICBkYXRlVGV4dEVsOiBIVE1MRWxlbWVudDtcclxuICAvKiogVGhlIHNlbGVjdGVkIERhdGUuICovXHJcbiAgZGF0ZTogRGF0ZTtcclxuICBmb3JtYXRzOiBhbnk7XHJcbiAgY2FsZW5kYXJzOiBhbnk7XHJcbiAgcHJpdmF0ZSBfeTogYW55O1xyXG4gIHByaXZhdGUgX206IGFueTtcclxuICBzdGF0aWMgX3RlbXBsYXRlOiBzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGVsOiBIVE1MSW5wdXRFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPERhdGVwaWNrZXJPcHRpb25zPikge1xyXG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIERhdGVwaWNrZXIpO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0RhdGVwaWNrZXIgPSB0aGlzO1xyXG4gICAgXHJcbiAgICB0aGlzLm9wdGlvbnMgPSB7XHJcbiAgICAgIC4uLkRhdGVwaWNrZXIuZGVmYXVsdHMsXHJcbiAgICAgIC4uLm9wdGlvbnNcclxuICAgIH07XHJcblxyXG4gICAgLy8gbWFrZSBzdXJlIGkxOG4gZGVmYXVsdHMgYXJlIG5vdCBsb3N0IHdoZW4gb25seSBmZXcgaTE4biBvcHRpb24gcHJvcGVydGllcyBhcmUgcGFzc2VkXHJcbiAgICBpZiAoISFvcHRpb25zICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2kxOG4nKSAmJiB0eXBlb2Ygb3B0aW9ucy5pMThuID09PSAnb2JqZWN0Jykge1xyXG4gICAgICB0aGlzLm9wdGlvbnMuaTE4biA9IHsuLi5EYXRlcGlja2VyLmRlZmF1bHRzLmkxOG4sIC4uLm9wdGlvbnMuaTE4bn07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRpbWUgY29tcG9uZW50IGZyb20gbWluRGF0ZSBhbmQgbWF4RGF0ZSBvcHRpb25zXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLm1pbkRhdGUpIHRoaXMub3B0aW9ucy5taW5EYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5tYXhEYXRlKSB0aGlzLm9wdGlvbnMubWF4RGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuXHJcbiAgICB0aGlzLmlkID0gVXRpbHMuZ3VpZCgpO1xyXG5cclxuICAgIHRoaXMuX3NldHVwVmFyaWFibGVzKCk7XHJcbiAgICB0aGlzLl9pbnNlcnRIVE1MSW50b0RPTSgpO1xyXG4gICAgdGhpcy5fc2V0dXBNb2RhbCgpO1xyXG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XHJcblxyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZGVmYXVsdERhdGUpIHtcclxuICAgICAgdGhpcy5vcHRpb25zLmRlZmF1bHREYXRlID0gbmV3IERhdGUoRGF0ZS5wYXJzZSh0aGlzLmVsLnZhbHVlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGRlZkRhdGUgPSB0aGlzLm9wdGlvbnMuZGVmYXVsdERhdGU7XHJcbiAgICBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKGRlZkRhdGUpKSB7XHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2V0RGVmYXVsdERhdGUpIHtcclxuICAgICAgICB0aGlzLnNldERhdGUoZGVmRGF0ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy5nb3RvRGF0ZShkZWZEYXRlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuZ290b0RhdGUobmV3IERhdGUoKSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcclxuICAgIHJldHVybiBfZGVmYXVsdHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZSBvZiBEYXRlcGlja2VyLlxyXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWw6IEhUTUxJbnB1dEVsZW1lbnQsIG9wdGlvbnM/OiBQYXJ0aWFsPERhdGVwaWNrZXJPcHRpb25zPik6IERhdGVwaWNrZXI7XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIERhdGVwaWNrZXIuXHJcbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPEhUTUxJbnB1dEVsZW1lbnQgfCBNRWxlbWVudD4sIG9wdGlvbnM/OiBQYXJ0aWFsPERhdGVwaWNrZXJPcHRpb25zPik6IERhdGVwaWNrZXJbXTtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgRGF0ZXBpY2tlci5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWxzOiBIVE1MSW5wdXRFbGVtZW50IHwgSW5pdEVsZW1lbnRzPEhUTUxJbnB1dEVsZW1lbnQgfCBNRWxlbWVudD4sIG9wdGlvbnM6IFBhcnRpYWw8RGF0ZXBpY2tlck9wdGlvbnM+ID0ge30pOiBEYXRlcGlja2VyIHwgRGF0ZXBpY2tlcltdIHtcclxuICAgIHJldHVybiBzdXBlci5pbml0KGVscywgb3B0aW9ucywgRGF0ZXBpY2tlcik7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgX2lzRGF0ZShvYmopIHtcclxuICAgIHJldHVybiAvRGF0ZS8udGVzdChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgJiYgIWlzTmFOKG9iai5nZXRUaW1lKCkpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIF9pc1dlZWtlbmQoZGF0ZSkge1xyXG4gICAgbGV0IGRheSA9IGRhdGUuZ2V0RGF5KCk7XHJcbiAgICByZXR1cm4gZGF5ID09PSAwIHx8IGRheSA9PT0gNjtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBfc2V0VG9TdGFydE9mRGF5KGRhdGUpIHtcclxuICAgIGlmIChEYXRlcGlja2VyLl9pc0RhdGUoZGF0ZSkpIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgX2dldERheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XHJcbiAgICByZXR1cm4gWzMxLCBEYXRlcGlja2VyLl9pc0xlYXBZZWFyKHllYXIpID8gMjkgOiAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdW1xyXG4gICAgICBtb250aFxyXG4gICAgXTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBfaXNMZWFwWWVhcih5ZWFyKSB7XHJcbiAgICAvLyBzb2x1dGlvbiBieSBNYXR0aSBWaXJra3VuZW46IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ4ODE5NTFcclxuICAgIHJldHVybiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBfY29tcGFyZURhdGVzKGEsIGIpIHtcclxuICAgIC8vIHdlYWsgZGF0ZSBjb21wYXJpc29uICh1c2Ugc2V0VG9TdGFydE9mRGF5KGRhdGUpIHRvIGVuc3VyZSBjb3JyZWN0IHJlc3VsdClcclxuICAgIHJldHVybiBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxFbGVtZW50KTogRGF0ZXBpY2tlciB7XHJcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9EYXRlcGlja2VyO1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcclxuICAgIHRoaXMubW9kYWwuZGVzdHJveSgpO1xyXG4gICAgdGhpcy5tb2RhbEVsLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5kZXN0cm95U2VsZWN0cygpO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0RhdGVwaWNrZXIgPSB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95U2VsZWN0cygpIHtcclxuICAgIGxldCBvbGRZZWFyU2VsZWN0ID0gdGhpcy5jYWxlbmRhckVsLnF1ZXJ5U2VsZWN0b3IoJy5vcmlnLXNlbGVjdC15ZWFyJyk7XHJcbiAgICBpZiAob2xkWWVhclNlbGVjdCkge1xyXG4gICAgICBGb3JtU2VsZWN0LmdldEluc3RhbmNlKG9sZFllYXJTZWxlY3QgYXMgSFRNTEVsZW1lbnQpLmRlc3Ryb3koKTtcclxuICAgIH1cclxuICAgIGxldCBvbGRNb250aFNlbGVjdCA9IHRoaXMuY2FsZW5kYXJFbC5xdWVyeVNlbGVjdG9yKCcub3JpZy1zZWxlY3QtbW9udGgnKTtcclxuICAgIGlmIChvbGRNb250aFNlbGVjdCkge1xyXG4gICAgICBGb3JtU2VsZWN0LmdldEluc3RhbmNlKG9sZE1vbnRoU2VsZWN0IGFzIEhUTUxFbGVtZW50KS5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaW5zZXJ0SFRNTEludG9ET00oKSB7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDbGVhckJ0bikge1xyXG4gICAgICB0aGlzLmNsZWFyQnRuLnN0eWxlLnZpc2liaWxpdHkgPSAnJztcclxuICAgICAgdGhpcy5jbGVhckJ0bi5pbm5lclRleHQgPSB0aGlzLm9wdGlvbnMuaTE4bi5jbGVhcjtcclxuICAgIH1cclxuICAgIHRoaXMuZG9uZUJ0bi5pbm5lclRleHQgPSB0aGlzLm9wdGlvbnMuaTE4bi5kb25lO1xyXG4gICAgdGhpcy5jYW5jZWxCdG4uaW5uZXJUZXh0ID0gdGhpcy5vcHRpb25zLmkxOG4uY2FuY2VsO1xyXG5cclxuICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGFpbmVyKSB7XHJcbiAgICAgIGNvbnN0IG9wdEVsID0gdGhpcy5vcHRpb25zLmNvbnRhaW5lcjtcclxuICAgICAgdGhpcy5vcHRpb25zLmNvbnRhaW5lciA9XHJcbiAgICAgICAgb3B0RWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IG9wdEVsIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRFbCkgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIuYXBwZW5kKHRoaXMubW9kYWxFbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgLy90aGlzLm1vZGFsRWwuYmVmb3JlKHRoaXMuZWwpO1xyXG4gICAgICB0aGlzLmVsLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5tb2RhbEVsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXR1cE1vZGFsKCkge1xyXG4gICAgdGhpcy5tb2RhbEVsLmlkID0gJ21vZGFsLScgKyB0aGlzLmlkO1xyXG4gICAgdGhpcy5tb2RhbCA9IE1vZGFsLmluaXQodGhpcy5tb2RhbEVsLCB7XHJcbiAgICAgIG9uQ2xvc2VFbmQ6ICgpID0+IHtcclxuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHNlbGVjdGVkIGRhdGUuXHJcbiAgICovXHJcbiAgdG9TdHJpbmcoZm9ybWF0OiBzdHJpbmcgfCAoKGQ6IERhdGUpID0+IHN0cmluZykgPSBudWxsKTogc3RyaW5nIHtcclxuICAgIGZvcm1hdCA9IGZvcm1hdCB8fCB0aGlzLm9wdGlvbnMuZm9ybWF0O1xyXG4gICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdmdW5jdGlvbicpIHJldHVybiBmb3JtYXQodGhpcy5kYXRlKTtcclxuICAgIGlmICghRGF0ZXBpY2tlci5faXNEYXRlKHRoaXMuZGF0ZSkpIHJldHVybiAnJztcclxuICAgIC8vIFN0cmluZyBGb3JtYXRcclxuICAgIGNvbnN0IGZvcm1hdEFycmF5ID0gZm9ybWF0LnNwbGl0KC8oZHsxLDR9fG17MSw0fXx5ezR9fHl5fCEuKS9nKTtcclxuICAgIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBmb3JtYXRBcnJheVxyXG4gICAgICAubWFwKGxhYmVsID0+IHRoaXMuZm9ybWF0c1tsYWJlbF0gPyB0aGlzLmZvcm1hdHNbbGFiZWxdKCkgOiBsYWJlbClcclxuICAgICAgLmpvaW4oJycpO1xyXG4gICAgcmV0dXJuIGZvcm1hdHRlZERhdGU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgYSBkYXRlIG9uIHRoZSBkYXRlcGlja2VyLlxyXG4gICAqIEBwYXJhbSBkYXRlIERhdGUgdG8gc2V0IG9uIHRoZSBkYXRlcGlja2VyLlxyXG4gICAqIEBwYXJhbSBwcmV2ZW50T25TZWxlY3QgVW5kb2N1bWVudGVkIGFzIG9mIDUgTWFyY2ggMjAxOC5cclxuICAgKi9cclxuICBzZXREYXRlKGRhdGU6IERhdGUgfCBzdHJpbmcgPSBudWxsLCBwcmV2ZW50T25TZWxlY3Q6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgaWYgKCFkYXRlKSB7XHJcbiAgICAgIHRoaXMuZGF0ZSA9IG51bGw7XHJcbiAgICAgIHRoaXMuX3JlbmRlckRhdGVEaXNwbGF5KCk7XHJcbiAgICAgIHJldHVybiB0aGlzLmRyYXcoKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2UoZGF0ZSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFEYXRlcGlja2VyLl9pc0RhdGUoZGF0ZSkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IG1pbiA9IHRoaXMub3B0aW9ucy5taW5EYXRlLFxyXG4gICAgICBtYXggPSB0aGlzLm9wdGlvbnMubWF4RGF0ZTtcclxuICAgIGlmIChEYXRlcGlja2VyLl9pc0RhdGUobWluKSAmJiBkYXRlIDwgbWluKSB7XHJcbiAgICAgIGRhdGUgPSBtaW47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChEYXRlcGlja2VyLl9pc0RhdGUobWF4KSAmJiBkYXRlID4gbWF4KSB7XHJcbiAgICAgIGRhdGUgPSBtYXg7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XHJcbiAgICB0aGlzLl9yZW5kZXJEYXRlRGlzcGxheSgpO1xyXG4gICAgRGF0ZXBpY2tlci5fc2V0VG9TdGFydE9mRGF5KHRoaXMuZGF0ZSk7XHJcbiAgICB0aGlzLmdvdG9EYXRlKHRoaXMuZGF0ZSk7XHJcbiAgICBpZiAoIXByZXZlbnRPblNlbGVjdCAmJiB0eXBlb2YgdGhpcy5vcHRpb25zLm9uU2VsZWN0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucy5vblNlbGVjdC5jYWxsKHRoaXMsIHRoaXMuZGF0ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIGN1cnJlbnQgZGF0ZSBhcyB0aGUgaW5wdXQgdmFsdWUuXHJcbiAgICovXHJcbiAgc2V0SW5wdXRWYWx1ZSgpIHtcclxuICAgIHRoaXMuZWwudmFsdWUgPSB0aGlzLnRvU3RyaW5nKCk7XHJcbiAgICB0aGlzLmVsLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjaGFuZ2UnLCB7ZGV0YWlsOiB7ZmlyZWRCeTogdGhpc319KSk7XHJcbiAgfVxyXG5cclxuICBfcmVuZGVyRGF0ZURpc3BsYXkoKSB7XHJcbiAgICBsZXQgZGlzcGxheURhdGUgPSBEYXRlcGlja2VyLl9pc0RhdGUodGhpcy5kYXRlKSA/IHRoaXMuZGF0ZSA6IG5ldyBEYXRlKCk7XHJcbiAgICBsZXQgaTE4biA9IHRoaXMub3B0aW9ucy5pMThuO1xyXG4gICAgbGV0IGRheSA9IGkxOG4ud2Vla2RheXNTaG9ydFtkaXNwbGF5RGF0ZS5nZXREYXkoKV07XHJcbiAgICBsZXQgbW9udGggPSBpMThuLm1vbnRoc1Nob3J0W2Rpc3BsYXlEYXRlLmdldE1vbnRoKCldO1xyXG4gICAgbGV0IGRhdGUgPSBkaXNwbGF5RGF0ZS5nZXREYXRlKCk7XHJcbiAgICB0aGlzLnllYXJUZXh0RWwuaW5uZXJIVE1MID0gZGlzcGxheURhdGUuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xyXG4gICAgdGhpcy5kYXRlVGV4dEVsLmlubmVySFRNTCA9IGAke2RheX0sICR7bW9udGh9ICR7ZGF0ZX1gO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hhbmdlIGRhdGUgdmlldyB0byBhIHNwZWNpZmljIGRhdGUgb24gdGhlIGRhdGVwaWNrZXIuXHJcbiAgICogQHBhcmFtIGRhdGUgRGF0ZSB0byBzaG93IG9uIHRoZSBkYXRlcGlja2VyLlxyXG4gICAqL1xyXG4gIGdvdG9EYXRlKGRhdGU6IERhdGUpIHtcclxuICAgIGxldCBuZXdDYWxlbmRhciA9IHRydWU7XHJcbiAgICBpZiAoIURhdGVwaWNrZXIuX2lzRGF0ZShkYXRlKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5jYWxlbmRhcnMpIHtcclxuICAgICAgbGV0IGZpcnN0VmlzaWJsZURhdGUgPSBuZXcgRGF0ZSh0aGlzLmNhbGVuZGFyc1swXS55ZWFyLCB0aGlzLmNhbGVuZGFyc1swXS5tb250aCwgMSksXHJcbiAgICAgICAgbGFzdFZpc2libGVEYXRlID0gbmV3IERhdGUoXHJcbiAgICAgICAgICB0aGlzLmNhbGVuZGFyc1t0aGlzLmNhbGVuZGFycy5sZW5ndGggLSAxXS55ZWFyLFxyXG4gICAgICAgICAgdGhpcy5jYWxlbmRhcnNbdGhpcy5jYWxlbmRhcnMubGVuZ3RoIC0gMV0ubW9udGgsXHJcbiAgICAgICAgICAxXHJcbiAgICAgICAgKSxcclxuICAgICAgICB2aXNpYmxlRGF0ZSA9IGRhdGUuZ2V0VGltZSgpO1xyXG4gICAgICAvLyBnZXQgdGhlIGVuZCBvZiB0aGUgbW9udGhcclxuICAgICAgbGFzdFZpc2libGVEYXRlLnNldE1vbnRoKGxhc3RWaXNpYmxlRGF0ZS5nZXRNb250aCgpICsgMSk7XHJcbiAgICAgIGxhc3RWaXNpYmxlRGF0ZS5zZXREYXRlKGxhc3RWaXNpYmxlRGF0ZS5nZXREYXRlKCkgLSAxKTtcclxuICAgICAgbmV3Q2FsZW5kYXIgPVxyXG4gICAgICAgIHZpc2libGVEYXRlIDwgZmlyc3RWaXNpYmxlRGF0ZS5nZXRUaW1lKCkgfHwgbGFzdFZpc2libGVEYXRlLmdldFRpbWUoKSA8IHZpc2libGVEYXRlO1xyXG4gICAgfVxyXG4gICAgaWYgKG5ld0NhbGVuZGFyKSB7XHJcbiAgICAgIHRoaXMuY2FsZW5kYXJzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIG1vbnRoOiBkYXRlLmdldE1vbnRoKCksXHJcbiAgICAgICAgICB5ZWFyOiBkYXRlLmdldEZ1bGxZZWFyKClcclxuICAgICAgICB9XHJcbiAgICAgIF07XHJcbiAgICB9XHJcbiAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xyXG4gIH1cclxuXHJcbiAgYWRqdXN0Q2FsZW5kYXJzKCkge1xyXG4gICAgdGhpcy5jYWxlbmRhcnNbMF0gPSB0aGlzLmFkanVzdENhbGVuZGFyKHRoaXMuY2FsZW5kYXJzWzBdKTtcclxuICAgIHRoaXMuZHJhdygpO1xyXG4gIH1cclxuXHJcbiAgYWRqdXN0Q2FsZW5kYXIoY2FsZW5kYXIpIHtcclxuICAgIGlmIChjYWxlbmRhci5tb250aCA8IDApIHtcclxuICAgICAgY2FsZW5kYXIueWVhciAtPSBNYXRoLmNlaWwoTWF0aC5hYnMoY2FsZW5kYXIubW9udGgpIC8gMTIpO1xyXG4gICAgICBjYWxlbmRhci5tb250aCArPSAxMjtcclxuICAgIH1cclxuICAgIGlmIChjYWxlbmRhci5tb250aCA+IDExKSB7XHJcbiAgICAgIGNhbGVuZGFyLnllYXIgKz0gTWF0aC5mbG9vcihNYXRoLmFicyhjYWxlbmRhci5tb250aCkgLyAxMik7XHJcbiAgICAgIGNhbGVuZGFyLm1vbnRoIC09IDEyO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNhbGVuZGFyO1xyXG4gIH1cclxuXHJcbiAgbmV4dE1vbnRoKCkge1xyXG4gICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGgrKztcclxuICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XHJcbiAgfVxyXG5cclxuICBwcmV2TW9udGgoKSB7XHJcbiAgICB0aGlzLmNhbGVuZGFyc1swXS5tb250aC0tO1xyXG4gICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcih5ZWFyLCBtb250aCwgcmFuZElkKSB7XHJcbiAgICBsZXQgb3B0cyA9IHRoaXMub3B0aW9ucyxcclxuICAgICAgbm93ID0gbmV3IERhdGUoKSxcclxuICAgICAgZGF5cyA9IERhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKHllYXIsIG1vbnRoKSxcclxuICAgICAgYmVmb3JlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpLmdldERheSgpLFxyXG4gICAgICBkYXRhID0gW10sXHJcbiAgICAgIHJvdyA9IFtdO1xyXG4gICAgRGF0ZXBpY2tlci5fc2V0VG9TdGFydE9mRGF5KG5vdyk7XHJcbiAgICBpZiAob3B0cy5maXJzdERheSA+IDApIHtcclxuICAgICAgYmVmb3JlIC09IG9wdHMuZmlyc3REYXk7XHJcbiAgICAgIGlmIChiZWZvcmUgPCAwKSB7XHJcbiAgICAgICAgYmVmb3JlICs9IDc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGxldCBwcmV2aW91c01vbnRoID0gbW9udGggPT09IDAgPyAxMSA6IG1vbnRoIC0gMSxcclxuICAgICAgbmV4dE1vbnRoID0gbW9udGggPT09IDExID8gMCA6IG1vbnRoICsgMSxcclxuICAgICAgeWVhck9mUHJldmlvdXNNb250aCA9IG1vbnRoID09PSAwID8geWVhciAtIDEgOiB5ZWFyLFxyXG4gICAgICB5ZWFyT2ZOZXh0TW9udGggPSBtb250aCA9PT0gMTEgPyB5ZWFyICsgMSA6IHllYXIsXHJcbiAgICAgIGRheXNJblByZXZpb3VzTW9udGggPSBEYXRlcGlja2VyLl9nZXREYXlzSW5Nb250aCh5ZWFyT2ZQcmV2aW91c01vbnRoLCBwcmV2aW91c01vbnRoKTtcclxuICAgIGxldCBjZWxscyA9IGRheXMgKyBiZWZvcmUsXHJcbiAgICAgIGFmdGVyID0gY2VsbHM7XHJcbiAgICB3aGlsZSAoYWZ0ZXIgPiA3KSB7XHJcbiAgICAgIGFmdGVyIC09IDc7XHJcbiAgICB9XHJcbiAgICBjZWxscyArPSA3IC0gYWZ0ZXI7XHJcbiAgICBsZXQgaXNXZWVrU2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgIGZvciAobGV0IGkgPSAwLCByID0gMDsgaSA8IGNlbGxzOyBpKyspIHtcclxuICAgICAgbGV0IGRheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxICsgKGkgLSBiZWZvcmUpKSxcclxuICAgICAgICBpc1NlbGVjdGVkID0gRGF0ZXBpY2tlci5faXNEYXRlKHRoaXMuZGF0ZSlcclxuICAgICAgICAgID8gRGF0ZXBpY2tlci5fY29tcGFyZURhdGVzKGRheSwgdGhpcy5kYXRlKVxyXG4gICAgICAgICAgOiBmYWxzZSxcclxuICAgICAgICBpc1RvZGF5ID0gRGF0ZXBpY2tlci5fY29tcGFyZURhdGVzKGRheSwgbm93KSxcclxuICAgICAgICBoYXNFdmVudCA9IG9wdHMuZXZlbnRzLmluZGV4T2YoZGF5LnRvRGF0ZVN0cmluZygpKSAhPT0gLTEgPyB0cnVlIDogZmFsc2UsXHJcbiAgICAgICAgaXNFbXB0eSA9IGkgPCBiZWZvcmUgfHwgaSA+PSBkYXlzICsgYmVmb3JlLFxyXG4gICAgICAgIGRheU51bWJlciA9IDEgKyAoaSAtIGJlZm9yZSksXHJcbiAgICAgICAgbW9udGhOdW1iZXIgPSBtb250aCxcclxuICAgICAgICB5ZWFyTnVtYmVyID0geWVhcixcclxuICAgICAgICBpc1N0YXJ0UmFuZ2UgPSBvcHRzLnN0YXJ0UmFuZ2UgJiYgRGF0ZXBpY2tlci5fY29tcGFyZURhdGVzKG9wdHMuc3RhcnRSYW5nZSwgZGF5KSxcclxuICAgICAgICBpc0VuZFJhbmdlID0gb3B0cy5lbmRSYW5nZSAmJiBEYXRlcGlja2VyLl9jb21wYXJlRGF0ZXMob3B0cy5lbmRSYW5nZSwgZGF5KSxcclxuICAgICAgICBpc0luUmFuZ2UgPVxyXG4gICAgICAgICAgb3B0cy5zdGFydFJhbmdlICYmIG9wdHMuZW5kUmFuZ2UgJiYgb3B0cy5zdGFydFJhbmdlIDwgZGF5ICYmIGRheSA8IG9wdHMuZW5kUmFuZ2UsXHJcbiAgICAgICAgaXNEaXNhYmxlZCA9XHJcbiAgICAgICAgICAob3B0cy5taW5EYXRlICYmIGRheSA8IG9wdHMubWluRGF0ZSkgfHxcclxuICAgICAgICAgIChvcHRzLm1heERhdGUgJiYgZGF5ID4gb3B0cy5tYXhEYXRlKSB8fFxyXG4gICAgICAgICAgKG9wdHMuZGlzYWJsZVdlZWtlbmRzICYmIERhdGVwaWNrZXIuX2lzV2Vla2VuZChkYXkpKSB8fFxyXG4gICAgICAgICAgKG9wdHMuZGlzYWJsZURheUZuICYmIG9wdHMuZGlzYWJsZURheUZuKGRheSkpO1xyXG5cclxuICAgICAgaWYgKGlzRW1wdHkpIHtcclxuICAgICAgICBpZiAoaSA8IGJlZm9yZSkge1xyXG4gICAgICAgICAgZGF5TnVtYmVyID0gZGF5c0luUHJldmlvdXNNb250aCArIGRheU51bWJlcjtcclxuICAgICAgICAgIG1vbnRoTnVtYmVyID0gcHJldmlvdXNNb250aDtcclxuICAgICAgICAgIHllYXJOdW1iZXIgPSB5ZWFyT2ZQcmV2aW91c01vbnRoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkYXlOdW1iZXIgPSBkYXlOdW1iZXIgLSBkYXlzO1xyXG4gICAgICAgICAgbW9udGhOdW1iZXIgPSBuZXh0TW9udGg7XHJcbiAgICAgICAgICB5ZWFyTnVtYmVyID0geWVhck9mTmV4dE1vbnRoO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IGRheUNvbmZpZyA9IHtcclxuICAgICAgICBkYXk6IGRheU51bWJlcixcclxuICAgICAgICBtb250aDogbW9udGhOdW1iZXIsXHJcbiAgICAgICAgeWVhcjogeWVhck51bWJlcixcclxuICAgICAgICBoYXNFdmVudDogaGFzRXZlbnQsXHJcbiAgICAgICAgaXNTZWxlY3RlZDogaXNTZWxlY3RlZCxcclxuICAgICAgICBpc1RvZGF5OiBpc1RvZGF5LFxyXG4gICAgICAgIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsXHJcbiAgICAgICAgaXNFbXB0eTogaXNFbXB0eSxcclxuICAgICAgICBpc1N0YXJ0UmFuZ2U6IGlzU3RhcnRSYW5nZSxcclxuICAgICAgICBpc0VuZFJhbmdlOiBpc0VuZFJhbmdlLFxyXG4gICAgICAgIGlzSW5SYW5nZTogaXNJblJhbmdlLFxyXG4gICAgICAgIHNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHM6IG9wdHMuc2hvd0RheXNJbk5leHRBbmRQcmV2aW91c01vbnRoc1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcm93LnB1c2godGhpcy5yZW5kZXJEYXkoZGF5Q29uZmlnKSk7XHJcblxyXG4gICAgICBpZiAoKytyID09PSA3KSB7XHJcbiAgICAgICAgZGF0YS5wdXNoKHRoaXMucmVuZGVyUm93KHJvdywgb3B0cy5pc1JUTCwgaXNXZWVrU2VsZWN0ZWQpKTtcclxuICAgICAgICByb3cgPSBbXTtcclxuICAgICAgICByID0gMDtcclxuICAgICAgICBpc1dlZWtTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJUYWJsZShvcHRzLCBkYXRhLCByYW5kSWQpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyRGF5KG9wdHMpIHtcclxuICAgIGxldCBhcnIgPSBbXTtcclxuICAgIGxldCBhcmlhU2VsZWN0ZWQgPSAnZmFsc2UnO1xyXG4gICAgaWYgKG9wdHMuaXNFbXB0eSkge1xyXG4gICAgICBpZiAob3B0cy5zaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzKSB7XHJcbiAgICAgICAgYXJyLnB1c2goJ2lzLW91dHNpZGUtY3VycmVudC1tb250aCcpO1xyXG4gICAgICAgIGFyci5wdXNoKCdpcy1zZWxlY3Rpb24tZGlzYWJsZWQnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gJzx0ZCBjbGFzcz1cImlzLWVtcHR5XCI+PC90ZD4nO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAob3B0cy5pc0Rpc2FibGVkKSB7XHJcbiAgICAgIGFyci5wdXNoKCdpcy1kaXNhYmxlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvcHRzLmlzVG9kYXkpIHtcclxuICAgICAgYXJyLnB1c2goJ2lzLXRvZGF5Jyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0cy5pc1NlbGVjdGVkKSB7XHJcbiAgICAgIGFyci5wdXNoKCdpcy1zZWxlY3RlZCcpO1xyXG4gICAgICBhcmlhU2VsZWN0ZWQgPSAndHJ1ZSc7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0cy5oYXNFdmVudCkge1xyXG4gICAgICBhcnIucHVzaCgnaGFzLWV2ZW50Jyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0cy5pc0luUmFuZ2UpIHtcclxuICAgICAgYXJyLnB1c2goJ2lzLWlucmFuZ2UnKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRzLmlzU3RhcnRSYW5nZSkge1xyXG4gICAgICBhcnIucHVzaCgnaXMtc3RhcnRyYW5nZScpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdHMuaXNFbmRSYW5nZSkge1xyXG4gICAgICBhcnIucHVzaCgnaXMtZW5kcmFuZ2UnKTtcclxuICAgIH1cclxuICAgIHJldHVybiAoXHJcbiAgICAgIGA8dGQgZGF0YS1kYXk9XCIke29wdHMuZGF5fVwiIGNsYXNzPVwiJHthcnIuam9pbignICcpfVwiIGFyaWEtc2VsZWN0ZWQ9XCIke2FyaWFTZWxlY3RlZH1cIj5gICtcclxuICAgICAgYDxidXR0b24gY2xhc3M9XCJkYXRlcGlja2VyLWRheS1idXR0b25cIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS15ZWFyPVwiJHtvcHRzLnllYXJ9XCIgZGF0YS1tb250aD1cIiR7b3B0cy5tb250aH1cIiBkYXRhLWRheT1cIiR7b3B0cy5kYXl9XCI+JHtvcHRzLmRheX08L2J1dHRvbj5gICtcclxuICAgICAgJzwvdGQ+J1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJlbmRlclJvdyhkYXlzLCBpc1JUTCwgaXNSb3dTZWxlY3RlZCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgJzx0ciBjbGFzcz1cImRhdGVwaWNrZXItcm93JyArXHJcbiAgICAgIChpc1Jvd1NlbGVjdGVkID8gJyBpcy1zZWxlY3RlZCcgOiAnJykgK1xyXG4gICAgICAnXCI+JyArXHJcbiAgICAgIChpc1JUTCA/IGRheXMucmV2ZXJzZSgpIDogZGF5cykuam9pbignJykgK1xyXG4gICAgICAnPC90cj4nXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyVGFibGUob3B0cywgZGF0YSwgcmFuZElkKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItdGFibGUtd3JhcHBlclwiPjx0YWJsZSBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIiBjbGFzcz1cImRhdGVwaWNrZXItdGFibGVcIiByb2xlPVwiZ3JpZFwiIGFyaWEtbGFiZWxsZWRieT1cIicgK1xyXG4gICAgICByYW5kSWQgK1xyXG4gICAgICAnXCI+JyArXHJcbiAgICAgIHRoaXMucmVuZGVySGVhZChvcHRzKSArXHJcbiAgICAgIHRoaXMucmVuZGVyQm9keShkYXRhKSArXHJcbiAgICAgICc8L3RhYmxlPjwvZGl2PidcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJIZWFkKG9wdHMpIHtcclxuICAgIGxldCBpLFxyXG4gICAgICBhcnIgPSBbXTtcclxuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcclxuICAgICAgYXJyLnB1c2goXHJcbiAgICAgICAgYDx0aCBzY29wZT1cImNvbFwiPjxhYmJyIHRpdGxlPVwiJHt0aGlzLnJlbmRlckRheU5hbWUob3B0cywgaSl9XCI+JHt0aGlzLnJlbmRlckRheU5hbWUoXHJcbiAgICAgICAgICBvcHRzLFxyXG4gICAgICAgICAgaSxcclxuICAgICAgICAgIHRydWVcclxuICAgICAgICApfTwvYWJicj48L3RoPmBcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiAnPHRoZWFkPjx0cj4nICsgKG9wdHMuaXNSVEwgPyBhcnIucmV2ZXJzZSgpIDogYXJyKS5qb2luKCcnKSArICc8L3RyPjwvdGhlYWQ+JztcclxuICB9XHJcblxyXG4gIHJlbmRlckJvZHkocm93cykge1xyXG4gICAgcmV0dXJuICc8dGJvZHk+JyArIHJvd3Muam9pbignJykgKyAnPC90Ym9keT4nO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyVGl0bGUoaW5zdGFuY2UsIGMsIHllYXIsIG1vbnRoLCByZWZZZWFyLCByYW5kSWQpIHtcclxuICAgIGxldCBpLFxyXG4gICAgICBqLFxyXG4gICAgICBhcnIsXHJcbiAgICAgIG9wdHMgPSB0aGlzLm9wdGlvbnMsXHJcbiAgICAgIGlzTWluWWVhciA9IHllYXIgPT09IG9wdHMubWluWWVhcixcclxuICAgICAgaXNNYXhZZWFyID0geWVhciA9PT0gb3B0cy5tYXhZZWFyLFxyXG4gICAgICBodG1sID1cclxuICAgICAgICAnPGRpdiBpZD1cIicgK1xyXG4gICAgICAgIHJhbmRJZCArXHJcbiAgICAgICAgJ1wiIGNsYXNzPVwiZGF0ZXBpY2tlci1jb250cm9sc1wiIHJvbGU9XCJoZWFkaW5nXCIgYXJpYS1saXZlPVwiYXNzZXJ0aXZlXCI+JyxcclxuICAgICAgbW9udGhIdG1sLFxyXG4gICAgICB5ZWFySHRtbCxcclxuICAgICAgcHJldiA9IHRydWUsXHJcbiAgICAgIG5leHQgPSB0cnVlO1xyXG5cclxuICAgIGZvciAoYXJyID0gW10sIGkgPSAwOyBpIDwgMTI7IGkrKykge1xyXG4gICAgICBhcnIucHVzaChcclxuICAgICAgICAnPG9wdGlvbiB2YWx1ZT1cIicgK1xyXG4gICAgICAgICAgKHllYXIgPT09IHJlZlllYXIgPyBpIC0gYyA6IDEyICsgaSAtIGMpICtcclxuICAgICAgICAgICdcIicgK1xyXG4gICAgICAgICAgKGkgPT09IG1vbnRoID8gJyBzZWxlY3RlZD1cInNlbGVjdGVkXCInIDogJycpICtcclxuICAgICAgICAgICgoaXNNaW5ZZWFyICYmIGkgPCBvcHRzLm1pbk1vbnRoKSB8fCAoaXNNYXhZZWFyICYmIGkgPiBvcHRzLm1heE1vbnRoKVxyXG4gICAgICAgICAgICA/ICdkaXNhYmxlZD1cImRpc2FibGVkXCInXHJcbiAgICAgICAgICAgIDogJycpICtcclxuICAgICAgICAgICc+JyArXHJcbiAgICAgICAgICBvcHRzLmkxOG4ubW9udGhzW2ldICtcclxuICAgICAgICAgICc8L29wdGlvbj4nXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgbW9udGhIdG1sID0gJzxzZWxlY3QgY2xhc3M9XCJkYXRlcGlja2VyLXNlbGVjdCBvcmlnLXNlbGVjdC1tb250aFwiIHRhYmluZGV4PVwiLTFcIj4nK2Fyci5qb2luKCcnKSsnPC9zZWxlY3Q+JztcclxuXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRzLnllYXJSYW5nZSkpIHtcclxuICAgICAgaSA9IG9wdHMueWVhclJhbmdlWzBdO1xyXG4gICAgICBqID0gb3B0cy55ZWFyUmFuZ2VbMV0gKyAxO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGkgPSB5ZWFyIC0gb3B0cy55ZWFyUmFuZ2U7XHJcbiAgICAgIGogPSAxICsgeWVhciArIG9wdHMueWVhclJhbmdlO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAoYXJyID0gW107IGkgPCBqICYmIGkgPD0gb3B0cy5tYXhZZWFyOyBpKyspIHtcclxuICAgICAgaWYgKGkgPj0gb3B0cy5taW5ZZWFyKSB7XHJcbiAgICAgICAgYXJyLnB1c2goYDxvcHRpb24gdmFsdWU9XCIke2l9XCIgJHtpID09PSB5ZWFyID8gJ3NlbGVjdGVkPVwic2VsZWN0ZWRcIicgOiAnJ30+JHtpfTwvb3B0aW9uPmApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAob3B0cy55ZWFyUmFuZ2VSZXZlcnNlKSBhcnIucmV2ZXJzZSgpO1xyXG5cclxuICAgIHllYXJIdG1sID0gYDxzZWxlY3QgY2xhc3M9XCJkYXRlcGlja2VyLXNlbGVjdCBvcmlnLXNlbGVjdC15ZWFyXCIgdGFiaW5kZXg9XCItMVwiPiR7YXJyLmpvaW4oJycpfTwvc2VsZWN0PmA7XHJcblxyXG4gICAgbGV0IGxlZnRBcnJvdyA9XHJcbiAgICAgICc8c3ZnIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xNS40MSAxNi4wOWwtNC41OC00LjU5IDQuNTgtNC41OUwxNCA1LjVsLTYgNiA2IDZ6XCIvPjxwYXRoIGQ9XCJNMC0uNWgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIvPjwvc3ZnPic7XHJcbiAgICBodG1sICs9IGA8YnV0dG9uIGNsYXNzPVwibW9udGgtcHJldiR7XHJcbiAgICAgIHByZXYgPyAnJyA6ICcgaXMtZGlzYWJsZWQnXHJcbiAgICB9IGJ0bi1mbGF0XCIgdHlwZT1cImJ1dHRvblwiPiR7bGVmdEFycm93fTwvYnV0dG9uPmA7XHJcblxyXG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInNlbGVjdHMtY29udGFpbmVyXCI+JztcclxuICAgIGlmIChvcHRzLnNob3dNb250aEFmdGVyWWVhcikge1xyXG4gICAgICBodG1sICs9IHllYXJIdG1sICsgbW9udGhIdG1sO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaHRtbCArPSBtb250aEh0bWwgKyB5ZWFySHRtbDtcclxuICAgIH1cclxuICAgIGh0bWwgKz0gJzwvZGl2Pic7XHJcblxyXG4gICAgaWYgKGlzTWluWWVhciAmJiAobW9udGggPT09IDAgfHwgb3B0cy5taW5Nb250aCA+PSBtb250aCkpIHtcclxuICAgICAgcHJldiA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc01heFllYXIgJiYgKG1vbnRoID09PSAxMSB8fCBvcHRzLm1heE1vbnRoIDw9IG1vbnRoKSkge1xyXG4gICAgICBuZXh0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHJpZ2h0QXJyb3cgPVxyXG4gICAgICAnPHN2ZyBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNOC41OSAxNi4zNGw0LjU4LTQuNTktNC41OC00LjU5TDEwIDUuNzVsNiA2LTYgNnpcIi8+PHBhdGggZD1cIk0wLS4yNWgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIvPjwvc3ZnPic7XHJcbiAgICBodG1sICs9IGA8YnV0dG9uIGNsYXNzPVwibW9udGgtbmV4dCR7XHJcbiAgICAgIG5leHQgPyAnJyA6ICcgaXMtZGlzYWJsZWQnXHJcbiAgICB9IGJ0bi1mbGF0XCIgdHlwZT1cImJ1dHRvblwiPiR7cmlnaHRBcnJvd308L2J1dHRvbj5gO1xyXG5cclxuICAgIHJldHVybiAoaHRtbCArPSAnPC9kaXY+Jyk7XHJcbiAgfVxyXG5cclxuICAvLyByZWZyZXNoIEhUTUxcclxuICBkcmF3KGZvcmNlOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgIGlmICghdGhpcy5pc09wZW4gJiYgIWZvcmNlKSByZXR1cm47XHJcbiAgICBsZXQgb3B0cyA9IHRoaXMub3B0aW9ucyxcclxuICAgICAgbWluWWVhciA9IG9wdHMubWluWWVhcixcclxuICAgICAgbWF4WWVhciA9IG9wdHMubWF4WWVhcixcclxuICAgICAgbWluTW9udGggPSBvcHRzLm1pbk1vbnRoLFxyXG4gICAgICBtYXhNb250aCA9IG9wdHMubWF4TW9udGgsXHJcbiAgICAgIGh0bWwgPSAnJyxcclxuICAgICAgcmFuZElkO1xyXG5cclxuICAgIGlmICh0aGlzLl95IDw9IG1pblllYXIpIHtcclxuICAgICAgdGhpcy5feSA9IG1pblllYXI7XHJcbiAgICAgIGlmICghaXNOYU4obWluTW9udGgpICYmIHRoaXMuX20gPCBtaW5Nb250aCkge1xyXG4gICAgICAgIHRoaXMuX20gPSBtaW5Nb250aDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuX3kgPj0gbWF4WWVhcikge1xyXG4gICAgICB0aGlzLl95ID0gbWF4WWVhcjtcclxuICAgICAgaWYgKCFpc05hTihtYXhNb250aCkgJiYgdGhpcy5fbSA+IG1heE1vbnRoKSB7XHJcbiAgICAgICAgdGhpcy5fbSA9IG1heE1vbnRoO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmFuZElkID1cclxuICAgICAgJ2RhdGVwaWNrZXItdGl0bGUtJyArXHJcbiAgICAgIE1hdGgucmFuZG9tKClcclxuICAgICAgICAudG9TdHJpbmcoMzYpXHJcbiAgICAgICAgLnJlcGxhY2UoL1teYS16XSsvZywgJycpXHJcbiAgICAgICAgLnN1YnN0cigwLCAyKTtcclxuXHJcbiAgICBmb3IgKGxldCBjID0gMDsgYyA8IDE7IGMrKykge1xyXG4gICAgICB0aGlzLl9yZW5kZXJEYXRlRGlzcGxheSgpO1xyXG4gICAgICBodG1sICs9XHJcbiAgICAgICAgdGhpcy5yZW5kZXJUaXRsZShcclxuICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICBjLFxyXG4gICAgICAgICAgdGhpcy5jYWxlbmRhcnNbY10ueWVhcixcclxuICAgICAgICAgIHRoaXMuY2FsZW5kYXJzW2NdLm1vbnRoLFxyXG4gICAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ueWVhcixcclxuICAgICAgICAgIHJhbmRJZFxyXG4gICAgICAgICkgKyB0aGlzLnJlbmRlcih0aGlzLmNhbGVuZGFyc1tjXS55ZWFyLCB0aGlzLmNhbGVuZGFyc1tjXS5tb250aCwgcmFuZElkKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRlc3Ryb3lTZWxlY3RzKCk7XHJcblxyXG4gICAgdGhpcy5jYWxlbmRhckVsLmlubmVySFRNTCA9IGh0bWw7XHJcblxyXG4gICAgLy8gSW5pdCBNYXRlcmlhbGl6ZSBTZWxlY3RcclxuICAgIGxldCB5ZWFyU2VsZWN0ID0gdGhpcy5jYWxlbmRhckVsLnF1ZXJ5U2VsZWN0b3IoJy5vcmlnLXNlbGVjdC15ZWFyJykgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICBsZXQgbW9udGhTZWxlY3QgPSB0aGlzLmNhbGVuZGFyRWwucXVlcnlTZWxlY3RvcignLm9yaWctc2VsZWN0LW1vbnRoJykgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICBGb3JtU2VsZWN0LmluaXQoeWVhclNlbGVjdCwge1xyXG4gICAgICBjbGFzc2VzOiAnc2VsZWN0LXllYXInLFxyXG4gICAgICBkcm9wZG93bk9wdGlvbnM6IHsgY29udGFpbmVyOiBkb2N1bWVudC5ib2R5LCBjb25zdHJhaW5XaWR0aDogZmFsc2UgfVxyXG4gICAgfSk7XHJcbiAgICBGb3JtU2VsZWN0LmluaXQobW9udGhTZWxlY3QsIHtcclxuICAgICAgY2xhc3NlczogJ3NlbGVjdC1tb250aCcsXHJcbiAgICAgIGRyb3Bkb3duT3B0aW9uczogeyBjb250YWluZXI6IGRvY3VtZW50LmJvZHksIGNvbnN0cmFpbldpZHRoOiBmYWxzZSB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBZGQgY2hhbmdlIGhhbmRsZXJzIGZvciBzZWxlY3RcclxuICAgIHllYXJTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gdGhpcy5faGFuZGxlWWVhckNoYW5nZSk7XHJcbiAgICBtb250aFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB0aGlzLl9oYW5kbGVNb250aENoYW5nZSk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25EcmF3ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucy5vbkRyYXcuY2FsbCh0aGlzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XHJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGljayk7XHJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd24pO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVJbnB1dENoYW5nZSk7XHJcbiAgICB0aGlzLmNhbGVuZGFyRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDYWxlbmRhckNsaWNrKTtcclxuICAgIHRoaXMuZG9uZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2ZpbmlzaFNlbGVjdGlvbik7XHJcbiAgICB0aGlzLmNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpO1xyXG5cclxuICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NsZWFyQnRuKSB7XHJcbiAgICAgIHRoaXMuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbGVhckNsaWNrKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXR1cFZhcmlhYmxlcygpIHtcclxuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcclxuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IERhdGVwaWNrZXIuX3RlbXBsYXRlLnRyaW0oKTtcclxuICAgIHRoaXMubW9kYWxFbCA9IDxIVE1MRWxlbWVudD50ZW1wbGF0ZS5jb250ZW50LmZpcnN0Q2hpbGQ7XHJcblxyXG4gICAgdGhpcy5jYWxlbmRhckVsID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy5kYXRlcGlja2VyLWNhbGVuZGFyJyk7XHJcbiAgICB0aGlzLnllYXJUZXh0RWwgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnllYXItdGV4dCcpO1xyXG4gICAgdGhpcy5kYXRlVGV4dEVsID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy5kYXRlLXRleHQnKTtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NsZWFyQnRuKSB7XHJcbiAgICAgIHRoaXMuY2xlYXJCdG4gPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLmRhdGVwaWNrZXItY2xlYXInKTtcclxuICAgIH1cclxuICAgIHRoaXMuZG9uZUJ0biA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcuZGF0ZXBpY2tlci1kb25lJyk7XHJcbiAgICB0aGlzLmNhbmNlbEJ0biA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcuZGF0ZXBpY2tlci1jYW5jZWwnKTtcclxuXHJcbiAgICB0aGlzLmZvcm1hdHMgPSB7XHJcbiAgICAgIGQ6ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRlLmdldERhdGUoKTtcclxuICAgICAgfSxcclxuICAgICAgZGQ6ICgpID0+IHtcclxuICAgICAgICBsZXQgZCA9IHRoaXMuZGF0ZS5nZXREYXRlKCk7XHJcbiAgICAgICAgcmV0dXJuIChkIDwgMTAgPyAnMCcgOiAnJykgKyBkO1xyXG4gICAgICB9LFxyXG4gICAgICBkZGQ6ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmkxOG4ud2Vla2RheXNTaG9ydFt0aGlzLmRhdGUuZ2V0RGF5KCldO1xyXG4gICAgICB9LFxyXG4gICAgICBkZGRkOiAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pMThuLndlZWtkYXlzW3RoaXMuZGF0ZS5nZXREYXkoKV07XHJcbiAgICAgIH0sXHJcbiAgICAgIG06ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgICB9LFxyXG4gICAgICBtbTogKCkgPT4ge1xyXG4gICAgICAgIGxldCBtID0gdGhpcy5kYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgICAgIHJldHVybiAobSA8IDEwID8gJzAnIDogJycpICsgbTtcclxuICAgICAgfSxcclxuICAgICAgbW1tOiAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pMThuLm1vbnRoc1Nob3J0W3RoaXMuZGF0ZS5nZXRNb250aCgpXTtcclxuICAgICAgfSxcclxuICAgICAgbW1tbTogKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaTE4bi5tb250aHNbdGhpcy5kYXRlLmdldE1vbnRoKCldO1xyXG4gICAgICB9LFxyXG4gICAgICB5eTogKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiAoJycgKyB0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKSkuc2xpY2UoMik7XHJcbiAgICAgIH0sXHJcbiAgICAgIHl5eXk6ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrKTtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bik7XHJcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZUlucHV0Q2hhbmdlKTtcclxuICAgIHRoaXMuY2FsZW5kYXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNhbGVuZGFyQ2xpY2spO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUlucHV0Q2xpY2sgPSAoKSA9PiB7XHJcbiAgICB0aGlzLm9wZW4oKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVJbnB1dEtleWRvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgaWYgKFV0aWxzLmtleXMuRU5URVIuaW5jbHVkZXMoZS5rZXkpKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5vcGVuKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQ2FsZW5kYXJDbGljayA9IChlKSA9PiB7XHJcbiAgICBpZiAoIXRoaXMuaXNPcGVuKSByZXR1cm47XHJcbiAgICBjb25zdCB0YXJnZXQgPSA8SFRNTEVsZW1lbnQ+KGUudGFyZ2V0KTtcclxuICAgIGlmICghdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaXMtZGlzYWJsZWQnKSkge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZGF0ZXBpY2tlci1kYXktYnV0dG9uJykgJiZcclxuICAgICAgICAhdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaXMtZW1wdHknKSAmJlxyXG4gICAgICAgICF0YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWRpc2FibGVkJylcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5zZXREYXRlKFxyXG4gICAgICAgICAgbmV3IERhdGUoXHJcbiAgICAgICAgICAgIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS15ZWFyJyksXHJcbiAgICAgICAgICAgIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1tb250aCcpLFxyXG4gICAgICAgICAgICBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGF5JylcclxuICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0Nsb3NlKSB7XHJcbiAgICAgICAgICB0aGlzLl9maW5pc2hTZWxlY3Rpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5tb250aC1wcmV2JykpIHtcclxuICAgICAgICB0aGlzLnByZXZNb250aCgpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKHRhcmdldC5jbG9zZXN0KCcubW9udGgtbmV4dCcpKSB7XHJcbiAgICAgICAgdGhpcy5uZXh0TW9udGgoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUNsZWFyQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmRhdGUgPSBudWxsO1xyXG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKCk7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTW9udGhDaGFuZ2UgPSAoZSkgPT4ge1xyXG4gICAgdGhpcy5nb3RvTW9udGgoZS50YXJnZXQudmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVllYXJDaGFuZ2UgPSAoZSkgPT4ge1xyXG4gICAgdGhpcy5nb3RvWWVhcihlLnRhcmdldC52YWx1ZSk7XHJcbiAgfVxyXG5cclxuICAvLyBjaGFuZ2UgdmlldyB0byBhIHNwZWNpZmljIG1vbnRoICh6ZXJvLWluZGV4LCBlLmcuIDA6IEphbnVhcnkpXHJcbiAgZ290b01vbnRoKG1vbnRoKSB7XHJcbiAgICBpZiAoIWlzTmFOKG1vbnRoKSkge1xyXG4gICAgICB0aGlzLmNhbGVuZGFyc1swXS5tb250aCA9IHBhcnNlSW50KG1vbnRoLCAxMCk7XHJcbiAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBjaGFuZ2UgdmlldyB0byBhIHNwZWNpZmljIGZ1bGwgeWVhciAoZS5nLiBcIjIwMTJcIilcclxuICBnb3RvWWVhcih5ZWFyKSB7XHJcbiAgICBpZiAoIWlzTmFOKHllYXIpKSB7XHJcbiAgICAgIHRoaXMuY2FsZW5kYXJzWzBdLnllYXIgPSBwYXJzZUludCh5ZWFyLCAxMCk7XHJcbiAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlSW5wdXRDaGFuZ2UgPSAoZTogRXZlbnQpID0+IHtcclxuICAgIGxldCBkYXRlO1xyXG4gICAgLy8gUHJldmVudCBjaGFuZ2UgZXZlbnQgZnJvbSBiZWluZyBmaXJlZCB3aGVuIHRyaWdnZXJlZCBieSB0aGUgcGx1Z2luXHJcbiAgICBpZiAoZVsnZGV0YWlsJ10/LmZpcmVkQnkgPT09IHRoaXMpIHJldHVybjtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMucGFyc2UpIHtcclxuICAgICAgZGF0ZSA9IHRoaXMub3B0aW9ucy5wYXJzZSh0aGlzLmVsLnZhbHVlLFxyXG4gICAgICAgIHR5cGVvZiB0aGlzLm9wdGlvbnMuZm9ybWF0ID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICAgID8gdGhpcy5vcHRpb25zLmZvcm1hdChuZXcgRGF0ZSh0aGlzLmVsLnZhbHVlKSlcclxuICAgICAgICAgIDogdGhpcy5vcHRpb25zLmZvcm1hdCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2UodGhpcy5lbC52YWx1ZSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKERhdGVwaWNrZXIuX2lzRGF0ZShkYXRlKSkgdGhpcy5zZXREYXRlKGRhdGUpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyRGF5TmFtZShvcHRzLCBkYXksIGFiYnI6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgZGF5ICs9IG9wdHMuZmlyc3REYXk7XHJcbiAgICB3aGlsZSAoZGF5ID49IDcpIHtcclxuICAgICAgZGF5IC09IDc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYWJiciA/IG9wdHMuaTE4bi53ZWVrZGF5c0FiYnJldltkYXldIDogb3B0cy5pMThuLndlZWtkYXlzW2RheV07XHJcbiAgfVxyXG5cclxuICAvLyBTZXQgaW5wdXQgdmFsdWUgdG8gdGhlIHNlbGVjdGVkIGRhdGUgYW5kIGNsb3NlIERhdGVwaWNrZXJcclxuICBfZmluaXNoU2VsZWN0aW9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKCk7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPcGVuIGRhdGVwaWNrZXIuXHJcbiAgICovXHJcbiAgb3BlbiA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLmlzT3BlbikgcmV0dXJuO1xyXG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xyXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW4uY2FsbCh0aGlzKTtcclxuICAgIH1cclxuICAgIHRoaXMuZHJhdygpO1xyXG4gICAgdGhpcy5tb2RhbC5vcGVuKHVuZGVmaW5lZCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsb3NlIGRhdGVwaWNrZXIuXHJcbiAgICovXHJcbiAgY2xvc2UgPSAoKSA9PiB7XHJcbiAgICBpZiAoIXRoaXMuaXNPcGVuKSByZXR1cm47XHJcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLm9wdGlvbnMub25DbG9zZS5jYWxsKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5tb2RhbC5jbG9zZSgpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMge1xyXG4gICAgRGF0ZXBpY2tlci5fdGVtcGxhdGUgPSBgXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbCBkYXRlcGlja2VyLW1vZGFsXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnQgZGF0ZXBpY2tlci1jb250YWluZXJcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWRhdGUtZGlzcGxheVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInllYXItdGV4dFwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkYXRlLXRleHRcIj48L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWNhbGVuZGFyLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1jYWxlbmRhclwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci1mb290ZXJcIj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLWZsYXQgZGF0ZXBpY2tlci1jbGVhciB3YXZlcy1lZmZlY3RcIiBzdHlsZT1cInZpc2liaWxpdHk6IGhpZGRlbjtcIiB0eXBlPVwiYnV0dG9uXCI+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbmZpcm1hdGlvbi1idG5zXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLWZsYXQgZGF0ZXBpY2tlci1jYW5jZWwgd2F2ZXMtZWZmZWN0XCIgdHlwZT1cImJ1dHRvblwiPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1mbGF0IGRhdGVwaWNrZXItZG9uZSB3YXZlcy1lZmZlY3RcIiB0eXBlPVwiYnV0dG9uXCI+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PmA7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/datepicker.ts\n");

/***/ }),

/***/ "./src/dropdown.ts":
/*!*************************!*\
  !*** ./src/dropdown.ts ***!
  \*************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Dropdown = void 0;\r\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\n;\r\nconst _defaults = {\r\n    alignment: 'left',\r\n    autoFocus: true,\r\n    constrainWidth: true,\r\n    container: null,\r\n    coverTrigger: true,\r\n    closeOnClick: true,\r\n    hover: false,\r\n    inDuration: 150,\r\n    outDuration: 250,\r\n    onOpenStart: null,\r\n    onOpenEnd: null,\r\n    onCloseStart: null,\r\n    onCloseEnd: null,\r\n    onItemClick: null\r\n};\r\nclass Dropdown extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Dropdown);\r\n        this._handleClick = (e) => {\r\n            e.preventDefault();\r\n            this.open();\r\n        };\r\n        this._handleMouseEnter = () => {\r\n            this.open();\r\n        };\r\n        this._handleMouseLeave = (e) => {\r\n            const toEl = e.relatedTarget;\r\n            const leaveToDropdownContent = !!toEl.closest('.dropdown-content');\r\n            let leaveToActiveDropdownTrigger = false;\r\n            const closestTrigger = toEl.closest('.dropdown-trigger');\r\n            if (closestTrigger &&\r\n                !!closestTrigger.M_Dropdown &&\r\n                closestTrigger.M_Dropdown.isOpen) {\r\n                leaveToActiveDropdownTrigger = true;\r\n            }\r\n            // Close hover dropdown if mouse did not leave to either active dropdown-trigger or dropdown-content\r\n            if (!leaveToActiveDropdownTrigger && !leaveToDropdownContent) {\r\n                this.close();\r\n            }\r\n        };\r\n        this._handleDocumentClick = (e) => {\r\n            const target = e.target;\r\n            if (this.options.closeOnClick &&\r\n                target.closest('.dropdown-content') &&\r\n                !this.isTouchMoving) {\r\n                // isTouchMoving to check if scrolling on mobile.\r\n                //setTimeout(() => {\r\n                this.close();\r\n                //}, 0);\r\n            }\r\n            else if (target.closest('.dropdown-trigger') ||\r\n                !target.closest('.dropdown-content')) {\r\n                //setTimeout(() => {\r\n                this.close();\r\n                //}, 0);\r\n            }\r\n            this.isTouchMoving = false;\r\n        };\r\n        this._handleTriggerKeydown = (e) => {\r\n            // ARROW DOWN OR ENTER WHEN SELECT IS CLOSED - open Dropdown\r\n            const arrowDownOrEnter = utils_1.Utils.keys.ARROW_DOWN.includes(e.key) || utils_1.Utils.keys.ENTER.includes(e.key);\r\n            if (arrowDownOrEnter && !this.isOpen) {\r\n                e.preventDefault();\r\n                this.open();\r\n            }\r\n        };\r\n        this._handleDocumentTouchmove = (e) => {\r\n            const target = e.target;\r\n            if (target.closest('.dropdown-content')) {\r\n                this.isTouchMoving = true;\r\n            }\r\n        };\r\n        this._handleDropdownClick = (e) => {\r\n            // onItemClick callback\r\n            if (typeof this.options.onItemClick === 'function') {\r\n                const itemEl = e.target.closest('li');\r\n                this.options.onItemClick.call(this, itemEl);\r\n            }\r\n        };\r\n        this._handleDropdownKeydown = (e) => {\r\n            const arrowUpOrDown = utils_1.Utils.keys.ARROW_DOWN.includes(e.key) || utils_1.Utils.keys.ARROW_UP.includes(e.key);\r\n            if (utils_1.Utils.keys.TAB.includes(e.key)) {\r\n                e.preventDefault();\r\n                this.close();\r\n            }\r\n            // Navigate down dropdown list\r\n            else if (arrowUpOrDown && this.isOpen) {\r\n                e.preventDefault();\r\n                const direction = utils_1.Utils.keys.ARROW_DOWN.includes(e.key) ? 1 : -1;\r\n                let newFocusedIndex = this.focusedIndex;\r\n                let hasFoundNewIndex = false;\r\n                do {\r\n                    newFocusedIndex = newFocusedIndex + direction;\r\n                    if (!!this.dropdownEl.children[newFocusedIndex] &&\r\n                        this.dropdownEl.children[newFocusedIndex].tabIndex !== -1) {\r\n                        hasFoundNewIndex = true;\r\n                        break;\r\n                    }\r\n                } while (newFocusedIndex < this.dropdownEl.children.length && newFocusedIndex >= 0);\r\n                if (hasFoundNewIndex) {\r\n                    // Remove active class from old element\r\n                    if (this.focusedIndex >= 0)\r\n                        this.dropdownEl.children[this.focusedIndex].classList.remove('active');\r\n                    this.focusedIndex = newFocusedIndex;\r\n                    this._focusFocusedItem();\r\n                }\r\n            }\r\n            // ENTER selects choice on focused item\r\n            else if (utils_1.Utils.keys.ENTER.includes(e.key) && this.isOpen) {\r\n                // Search for <a> and <button>\r\n                const focusedElement = this.dropdownEl.children[this.focusedIndex];\r\n                const activatableElement = focusedElement.querySelector('a, button');\r\n                // Click a or button tag if exists, otherwise click li tag\r\n                if (!!activatableElement) {\r\n                    activatableElement.click();\r\n                }\r\n                else if (!!focusedElement) {\r\n                    if (focusedElement instanceof HTMLElement) {\r\n                        focusedElement.click();\r\n                    }\r\n                }\r\n            }\r\n            // Close dropdown on ESC\r\n            else if (utils_1.Utils.keys.ESC.includes(e.key) && this.isOpen) {\r\n                e.preventDefault();\r\n                this.close();\r\n            }\r\n            // CASE WHEN USER TYPE LTTERS\r\n            const keyText = e.key.toLowerCase();\r\n            const isLetter = /[a-zA-Z0-9-_]/.test(keyText);\r\n            const specialKeys = [...utils_1.Utils.keys.ARROW_DOWN, ...utils_1.Utils.keys.ARROW_UP, ...utils_1.Utils.keys.ENTER, ...utils_1.Utils.keys.ESC, ...utils_1.Utils.keys.TAB];\r\n            if (isLetter && !specialKeys.includes(e.key)) {\r\n                this.filterQuery.push(keyText);\r\n                const string = this.filterQuery.join('');\r\n                const newOptionEl = Array.from(this.dropdownEl.querySelectorAll('li'))\r\n                    .find((el) => el.innerText.toLowerCase().indexOf(string) === 0);\r\n                if (newOptionEl) {\r\n                    this.focusedIndex = [...newOptionEl.parentNode.children].indexOf(newOptionEl);\r\n                    this._focusFocusedItem();\r\n                }\r\n            }\r\n            this.filterTimeout = setTimeout(this._resetFilterQuery, 1000);\r\n        };\r\n        this._resetFilterQuery = () => {\r\n            this.filterQuery = [];\r\n        };\r\n        /**\r\n         * Open dropdown.\r\n         */\r\n        this.open = () => {\r\n            if (this.isOpen)\r\n                return;\r\n            this.isOpen = true;\r\n            // onOpenStart callback\r\n            if (typeof this.options.onOpenStart === 'function') {\r\n                this.options.onOpenStart.call(this, this.el);\r\n            }\r\n            // Reset styles\r\n            this._resetDropdownStyles();\r\n            this.dropdownEl.style.display = 'block';\r\n            this._placeDropdown();\r\n            this._animateIn();\r\n            this._setupTemporaryEventHandlers();\r\n        };\r\n        /**\r\n         * Close dropdown.\r\n         */\r\n        this.close = () => {\r\n            if (!this.isOpen)\r\n                return;\r\n            this.isOpen = false;\r\n            this.focusedIndex = -1;\r\n            // onCloseStart callback\r\n            if (typeof this.options.onCloseStart === 'function') {\r\n                this.options.onCloseStart.call(this, this.el);\r\n            }\r\n            this._animateOut();\r\n            this._removeTemporaryEventHandlers();\r\n            if (this.options.autoFocus) {\r\n                this.el.focus();\r\n            }\r\n        };\r\n        /**\r\n         * While dropdown is open, you can recalculate its dimensions if its contents have changed.\r\n         */\r\n        this.recalculateDimensions = () => {\r\n            if (this.isOpen) {\r\n                this.dropdownEl.style.width = '';\r\n                this.dropdownEl.style.height = '';\r\n                this.dropdownEl.style.left = '';\r\n                this.dropdownEl.style.top = '';\r\n                this.dropdownEl.style.transformOrigin = '';\r\n                this._placeDropdown();\r\n            }\r\n        };\r\n        this.el.M_Dropdown = this;\r\n        Dropdown._dropdowns.push(this);\r\n        this.id = utils_1.Utils.getIdFromTrigger(el);\r\n        this.dropdownEl = document.getElementById(this.id);\r\n        this.options = Object.assign(Object.assign({}, Dropdown.defaults), options);\r\n        this.isOpen = false;\r\n        this.isScrollable = false;\r\n        this.isTouchMoving = false;\r\n        this.focusedIndex = -1;\r\n        this.filterQuery = [];\r\n        // Move dropdown-content after dropdown-trigger\r\n        this._moveDropdown();\r\n        this._makeDropdownFocusable();\r\n        this._setupEventHandlers();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Dropdown.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Dropdown);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Dropdown;\r\n    }\r\n    destroy() {\r\n        this._resetDropdownStyles();\r\n        this._removeEventHandlers();\r\n        Dropdown._dropdowns.splice(Dropdown._dropdowns.indexOf(this), 1);\r\n        this.el.M_Dropdown = undefined;\r\n    }\r\n    _setupEventHandlers() {\r\n        var _a;\r\n        // Trigger keydown handler\r\n        this.el.addEventListener('keydown', this._handleTriggerKeydown);\r\n        // Item click handler\r\n        (_a = this.dropdownEl) === null || _a === void 0 ? void 0 : _a.addEventListener('click', this._handleDropdownClick);\r\n        // Hover event handlers\r\n        if (this.options.hover) {\r\n            this.el.addEventListener('mouseenter', this._handleMouseEnter);\r\n            this.el.addEventListener('mouseleave', this._handleMouseLeave);\r\n            this.dropdownEl.addEventListener('mouseleave', this._handleMouseLeave);\r\n            // Click event handlers\r\n        }\r\n        else {\r\n            this.el.addEventListener('click', this._handleClick);\r\n        }\r\n    }\r\n    _removeEventHandlers() {\r\n        this.el.removeEventListener('keydown', this._handleTriggerKeydown);\r\n        this.dropdownEl.removeEventListener('click', this._handleDropdownClick);\r\n        if (this.options.hover) {\r\n            this.el.removeEventListener('mouseenter', this._handleMouseEnter);\r\n            this.el.removeEventListener('mouseleave', this._handleMouseLeave);\r\n            this.dropdownEl.removeEventListener('mouseleave', this._handleMouseLeave);\r\n        }\r\n        else {\r\n            this.el.removeEventListener('click', this._handleClick);\r\n        }\r\n    }\r\n    _setupTemporaryEventHandlers() {\r\n        // Use capture phase event handler to prevent click\r\n        document.body.addEventListener('click', this._handleDocumentClick, true);\r\n        document.body.addEventListener('touchmove', this._handleDocumentTouchmove);\r\n        this.dropdownEl.addEventListener('keydown', this._handleDropdownKeydown);\r\n    }\r\n    _removeTemporaryEventHandlers() {\r\n        // Use capture phase event handler to prevent click\r\n        document.body.removeEventListener('click', this._handleDocumentClick, true);\r\n        document.body.removeEventListener('touchmove', this._handleDocumentTouchmove);\r\n        this.dropdownEl.removeEventListener('keydown', this._handleDropdownKeydown);\r\n    }\r\n    _resetDropdownStyles() {\r\n        this.dropdownEl.style.display = '';\r\n        this.dropdownEl.style.width = '';\r\n        this.dropdownEl.style.height = '';\r\n        this.dropdownEl.style.left = '';\r\n        this.dropdownEl.style.top = '';\r\n        this.dropdownEl.style.transformOrigin = '';\r\n        this.dropdownEl.style.transform = '';\r\n        this.dropdownEl.style.opacity = '';\r\n    }\r\n    // Move dropdown after container or trigger\r\n    _moveDropdown(containerEl = null) {\r\n        if (!!this.options.container) {\r\n            this.options.container.append(this.dropdownEl);\r\n        }\r\n        else if (containerEl) {\r\n            if (!containerEl.contains(this.dropdownEl)) {\r\n                containerEl.append(this.dropdownEl);\r\n            }\r\n        }\r\n        else {\r\n            this.el.after(this.dropdownEl);\r\n        }\r\n    }\r\n    _makeDropdownFocusable() {\r\n        if (!this.dropdownEl)\r\n            return;\r\n        // Needed for arrow key navigation\r\n        this.dropdownEl.tabIndex = 0;\r\n        // Only set tabindex if it hasn't been set by user\r\n        Array.from(this.dropdownEl.children).forEach((el) => {\r\n            if (!el.getAttribute('tabindex'))\r\n                el.setAttribute('tabindex', '0');\r\n        });\r\n    }\r\n    _focusFocusedItem() {\r\n        if (this.focusedIndex >= 0 &&\r\n            this.focusedIndex < this.dropdownEl.children.length &&\r\n            this.options.autoFocus) {\r\n            this.dropdownEl.children[this.focusedIndex].focus({\r\n                preventScroll: true\r\n            });\r\n            this.dropdownEl.children[this.focusedIndex].scrollIntoView({\r\n                behavior: 'smooth',\r\n                block: 'nearest',\r\n                inline: 'nearest'\r\n            });\r\n        }\r\n    }\r\n    _getDropdownPosition(closestOverflowParent) {\r\n        const offsetParentBRect = this.el.offsetParent.getBoundingClientRect();\r\n        const triggerBRect = this.el.getBoundingClientRect();\r\n        const dropdownBRect = this.dropdownEl.getBoundingClientRect();\r\n        let idealHeight = dropdownBRect.height;\r\n        let idealWidth = dropdownBRect.width;\r\n        let idealXPos = triggerBRect.left - dropdownBRect.left;\r\n        let idealYPos = triggerBRect.top - dropdownBRect.top;\r\n        const dropdownBounds = {\r\n            left: idealXPos,\r\n            top: idealYPos,\r\n            height: idealHeight,\r\n            width: idealWidth\r\n        };\r\n        const alignments = utils_1.Utils.checkPossibleAlignments(this.el, closestOverflowParent, dropdownBounds, this.options.coverTrigger ? 0 : triggerBRect.height);\r\n        let verticalAlignment = 'top';\r\n        let horizontalAlignment = this.options.alignment;\r\n        idealYPos += this.options.coverTrigger ? 0 : triggerBRect.height;\r\n        // Reset isScrollable\r\n        this.isScrollable = false;\r\n        if (!alignments.top) {\r\n            if (alignments.bottom) {\r\n                verticalAlignment = 'bottom';\r\n                if (!this.options.coverTrigger) {\r\n                    idealYPos -= triggerBRect.height;\r\n                }\r\n            }\r\n            else {\r\n                this.isScrollable = true;\r\n                // Determine which side has most space and cutoff at correct height\r\n                idealHeight -= 20; // Add padding when cutoff\r\n                if (alignments.spaceOnTop > alignments.spaceOnBottom) {\r\n                    verticalAlignment = 'bottom';\r\n                    idealHeight += alignments.spaceOnTop;\r\n                    idealYPos -= this.options.coverTrigger\r\n                        ? alignments.spaceOnTop - 20\r\n                        : alignments.spaceOnTop - 20 + triggerBRect.height;\r\n                }\r\n                else {\r\n                    idealHeight += alignments.spaceOnBottom;\r\n                }\r\n            }\r\n        }\r\n        // If preferred horizontal alignment is possible\r\n        if (!alignments[horizontalAlignment]) {\r\n            const oppositeAlignment = horizontalAlignment === 'left' ? 'right' : 'left';\r\n            if (alignments[oppositeAlignment]) {\r\n                horizontalAlignment = oppositeAlignment;\r\n            }\r\n            else {\r\n                // Determine which side has most space and cutoff at correct height\r\n                if (alignments.spaceOnLeft > alignments.spaceOnRight) {\r\n                    horizontalAlignment = 'right';\r\n                    idealWidth += alignments.spaceOnLeft;\r\n                    idealXPos -= alignments.spaceOnLeft;\r\n                }\r\n                else {\r\n                    horizontalAlignment = 'left';\r\n                    idealWidth += alignments.spaceOnRight;\r\n                }\r\n            }\r\n        }\r\n        if (verticalAlignment === 'bottom') {\r\n            idealYPos =\r\n                idealYPos - dropdownBRect.height + (this.options.coverTrigger ? triggerBRect.height : 0);\r\n        }\r\n        if (horizontalAlignment === 'right') {\r\n            idealXPos = idealXPos - dropdownBRect.width + triggerBRect.width;\r\n        }\r\n        return {\r\n            x: idealXPos,\r\n            y: idealYPos,\r\n            verticalAlignment: verticalAlignment,\r\n            horizontalAlignment: horizontalAlignment,\r\n            height: idealHeight,\r\n            width: idealWidth\r\n        };\r\n    }\r\n    _animateIn() {\r\n        animejs_1.default.remove(this.dropdownEl);\r\n        (0, animejs_1.default)({\r\n            targets: this.dropdownEl,\r\n            opacity: {\r\n                value: [0, 1],\r\n                easing: 'easeOutQuad'\r\n            },\r\n            scaleX: [0.3, 1],\r\n            scaleY: [0.3, 1],\r\n            duration: this.options.inDuration,\r\n            easing: 'easeOutQuint',\r\n            complete: (anim) => {\r\n                if (this.options.autoFocus)\r\n                    this.dropdownEl.focus();\r\n                // onOpenEnd callback\r\n                if (typeof this.options.onOpenEnd === 'function') {\r\n                    this.options.onOpenEnd.call(this, this.el);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    _animateOut() {\r\n        animejs_1.default.remove(this.dropdownEl);\r\n        (0, animejs_1.default)({\r\n            targets: this.dropdownEl,\r\n            opacity: {\r\n                value: 0,\r\n                easing: 'easeOutQuint'\r\n            },\r\n            scaleX: 0.3,\r\n            scaleY: 0.3,\r\n            duration: this.options.outDuration,\r\n            easing: 'easeOutQuint',\r\n            complete: (anim) => {\r\n                this._resetDropdownStyles();\r\n                // onCloseEnd callback\r\n                if (typeof this.options.onCloseEnd === 'function') {\r\n                    this.options.onCloseEnd.call(this, this.el);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    _getClosestAncestor(el, condition) {\r\n        let ancestor = el.parentNode;\r\n        while (ancestor !== null && ancestor !== document) {\r\n            if (condition(ancestor)) {\r\n                return ancestor;\r\n            }\r\n            ancestor = ancestor.parentElement;\r\n        }\r\n        return null;\r\n    }\r\n    ;\r\n    _placeDropdown() {\r\n        // Container here will be closest ancestor with overflow: hidden\r\n        let closestOverflowParent = this._getClosestAncestor(this.dropdownEl, (ancestor) => {\r\n            return !['HTML', 'BODY'].includes(ancestor.tagName) && getComputedStyle(ancestor).overflow !== 'visible';\r\n        });\r\n        // Fallback\r\n        if (!closestOverflowParent) {\r\n            closestOverflowParent = (!!this.dropdownEl.offsetParent\r\n                ? this.dropdownEl.offsetParent\r\n                : this.dropdownEl.parentNode);\r\n        }\r\n        if (getComputedStyle(closestOverflowParent).position === 'static')\r\n            closestOverflowParent.style.position = 'relative';\r\n        this._moveDropdown(closestOverflowParent);\r\n        // Set width before calculating positionInfo\r\n        const idealWidth = this.options.constrainWidth\r\n            ? this.el.getBoundingClientRect().width\r\n            : this.dropdownEl.getBoundingClientRect().width;\r\n        this.dropdownEl.style.width = idealWidth + 'px';\r\n        const positionInfo = this._getDropdownPosition(closestOverflowParent);\r\n        this.dropdownEl.style.left = positionInfo.x + 'px';\r\n        this.dropdownEl.style.top = positionInfo.y + 'px';\r\n        this.dropdownEl.style.height = positionInfo.height + 'px';\r\n        this.dropdownEl.style.width = positionInfo.width + 'px';\r\n        this.dropdownEl.style.transformOrigin = `${positionInfo.horizontalAlignment === 'left' ? '0' : '100%'} ${positionInfo.verticalAlignment === 'top' ? '0' : '100%'}`;\r\n    }\r\n}\r\nexports.Dropdown = Dropdown;\r\nDropdown._dropdowns = [];\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dEMsWUFBWSxDQUFDLG1CQUFtQixLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUN0RCxJQUFJLFlBQVksQ0FBQyxpQkFBaUIsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDaEUsQ0FBQzs7QUFoZkgsNEJBb2lCQztBQW5pQlEsbUJBQVUsR0FBZSxFQUFFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvZHJvcGRvd24udHM/Yzc1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xyXG5cclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50LCBPcGVuYWJsZSB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEcm9wZG93bk9wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogRGVmaW5lcyB0aGUgZWRnZSB0aGUgbWVudSBpcyBhbGlnbmVkIHRvLlxyXG4gICAqIEBkZWZhdWx0ICdsZWZ0J1xyXG4gICAqL1xyXG4gIGFsaWdubWVudDogJ2xlZnQnIHwgJ3JpZ2h0JztcclxuICAvKipcclxuICAgKiBJZiB0cnVlLCBhdXRvbWF0aWNhbGx5IGZvY3VzIGRyb3Bkb3duIGVsIGZvciBrZXlib2FyZC5cclxuICAgKiBAZGVmYXVsdCB0cnVlXHJcbiAgICovXHJcbiAgYXV0b0ZvY3VzOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIElmIHRydWUsIGNvbnN0cmFpbldpZHRoIHRvIHRoZSBzaXplIG9mIHRoZSBkcm9wZG93biBhY3RpdmF0b3IuXHJcbiAgICogQGRlZmF1bHQgdHJ1ZVxyXG4gICAqL1xyXG4gIGNvbnN0cmFpbldpZHRoOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIFByb3ZpZGUgYW4gZWxlbWVudCB0aGF0IHdpbGwgYmUgdGhlIGJvdW5kaW5nIGNvbnRhaW5lciBvZiB0aGUgZHJvcGRvd24uXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIGNvbnRhaW5lcjogRWxlbWVudDtcclxuICAvKipcclxuICAgKiBJZiBmYWxzZSwgdGhlIGRyb3Bkb3duIHdpbGwgc2hvdyBiZWxvdyB0aGUgdHJpZ2dlci5cclxuICAgKiBAZGVmYXVsdCB0cnVlXHJcbiAgICovXHJcbiAgY292ZXJUcmlnZ2VyOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIElmIHRydWUsIGNsb3NlIGRyb3Bkb3duIG9uIGl0ZW0gY2xpY2suXHJcbiAgICogQGRlZmF1bHQgdHJ1ZVxyXG4gICAqL1xyXG4gIGNsb3NlT25DbGljazogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBJZiB0cnVlLCB0aGUgZHJvcGRvd24gd2lsbCBvcGVuIG9uIGhvdmVyLlxyXG4gICAqIEBkZWZhdWx0IGZhbHNlXHJcbiAgICovXHJcbiAgaG92ZXI6IGJvb2xlYW47XHJcbiAgLyoqXHJcbiAgICogVGhlIGR1cmF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uIGVudGVyIGluIG1pbGxpc2Vjb25kcy5cclxuICAgKiBAZGVmYXVsdCAxNTBcclxuICAgKi9cclxuICBpbkR1cmF0aW9uOiBudW1iZXI7XHJcbiAgLyoqXHJcbiAgICogVGhlIGR1cmF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uIG91dCBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICogQGRlZmF1bHQgMjUwXHJcbiAgICovXHJcbiAgb3V0RHVyYXRpb246IG51bWJlcjtcclxuICAvKipcclxuICAgKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBkcm9wZG93biBzdGFydHMgZW50ZXJpbmcuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uT3BlblN0YXJ0OiAoZWw6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGRyb3Bkb3duIGZpbmlzaGVzIGVudGVyaW5nLlxyXG4gICAqIEBkZWZhdWx0IG51bGxcclxuICAgKi9cclxuICBvbk9wZW5FbmQ6IChlbDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gZHJvcGRvd24gc3RhcnRzIGV4aXRpbmcuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uQ2xvc2VTdGFydDogKGVsOiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcclxuICAvKipcclxuICAgKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBkcm9wZG93biBmaW5pc2hlcyBleGl0aW5nLlxyXG4gICAqIEBkZWZhdWx0IG51bGxcclxuICAgKi9cclxuICBvbkNsb3NlRW5kOiAoZWw6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGl0ZW0gaXMgY2xpY2tlZC5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgb25JdGVtQ2xpY2s6IChlbDogSFRNTExJRWxlbWVudCkgPT4gdm9pZDtcclxufTtcclxuXHJcbmNvbnN0IF9kZWZhdWx0czogRHJvcGRvd25PcHRpb25zID0ge1xyXG4gIGFsaWdubWVudDogJ2xlZnQnLFxyXG4gIGF1dG9Gb2N1czogdHJ1ZSxcclxuICBjb25zdHJhaW5XaWR0aDogdHJ1ZSxcclxuICBjb250YWluZXI6IG51bGwsXHJcbiAgY292ZXJUcmlnZ2VyOiB0cnVlLFxyXG4gIGNsb3NlT25DbGljazogdHJ1ZSxcclxuICBob3ZlcjogZmFsc2UsXHJcbiAgaW5EdXJhdGlvbjogMTUwLFxyXG4gIG91dER1cmF0aW9uOiAyNTAsXHJcbiAgb25PcGVuU3RhcnQ6IG51bGwsXHJcbiAgb25PcGVuRW5kOiBudWxsLFxyXG4gIG9uQ2xvc2VTdGFydDogbnVsbCxcclxuICBvbkNsb3NlRW5kOiBudWxsLFxyXG4gIG9uSXRlbUNsaWNrOiBudWxsXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgRHJvcGRvd24gZXh0ZW5kcyBDb21wb25lbnQ8RHJvcGRvd25PcHRpb25zPiBpbXBsZW1lbnRzIE9wZW5hYmxlIHtcclxuICBzdGF0aWMgX2Ryb3Bkb3duczogRHJvcGRvd25bXSA9IFtdO1xyXG4gIC8qKiBJRCBvZiB0aGUgZHJvcGRvd24gZWxlbWVudC4gKi9cclxuICBpZDogc3RyaW5nO1xyXG4gIC8qKiBUaGUgRE9NIGVsZW1lbnQgb2YgdGhlIGRyb3Bkb3duLiAqL1xyXG4gIGRyb3Bkb3duRWw6IEhUTUxFbGVtZW50O1xyXG4gIC8qKiBJZiB0aGUgZHJvcGRvd24gaXMgb3Blbi4gKi9cclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgLyoqIElmIHRoZSBkcm9wZG93biBjb250ZW50IGlzIHNjcm9sbGFibGUuICovXHJcbiAgaXNTY3JvbGxhYmxlOiBib29sZWFuO1xyXG4gIGlzVG91Y2hNb3Zpbmc6IGJvb2xlYW47XHJcbiAgLyoqIFRoZSBpbmRleCBvZiB0aGUgaXRlbSBmb2N1c2VkLiAqL1xyXG4gIGZvY3VzZWRJbmRleDogbnVtYmVyO1xyXG4gIGZpbHRlclF1ZXJ5OiBhbnlbXTtcclxuICBmaWx0ZXJUaW1lb3V0OiBOb2RlSlMuVGltZW91dDtcclxuXHJcbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPERyb3Bkb3duT3B0aW9ucz4pIHtcclxuICAgIHN1cGVyKGVsLCBvcHRpb25zLCBEcm9wZG93bik7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fRHJvcGRvd24gPSB0aGlzO1xyXG5cclxuICAgIERyb3Bkb3duLl9kcm9wZG93bnMucHVzaCh0aGlzKTtcclxuICAgIHRoaXMuaWQgPSBVdGlscy5nZXRJZEZyb21UcmlnZ2VyKGVsKTtcclxuICAgIHRoaXMuZHJvcGRvd25FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpO1xyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgLi4uRHJvcGRvd24uZGVmYXVsdHMsXHJcbiAgICAgIC4uLm9wdGlvbnNcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgIHRoaXMuaXNTY3JvbGxhYmxlID0gZmFsc2U7XHJcbiAgICB0aGlzLmlzVG91Y2hNb3ZpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuZm9jdXNlZEluZGV4ID0gLTE7XHJcbiAgICB0aGlzLmZpbHRlclF1ZXJ5ID0gW107XHJcblxyXG4gICAgLy8gTW92ZSBkcm9wZG93bi1jb250ZW50IGFmdGVyIGRyb3Bkb3duLXRyaWdnZXJcclxuICAgIHRoaXMuX21vdmVEcm9wZG93bigpO1xyXG4gICAgdGhpcy5fbWFrZURyb3Bkb3duRm9jdXNhYmxlKCk7XHJcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKTogRHJvcGRvd25PcHRpb25zIHtcclxuICAgIHJldHVybiBfZGVmYXVsdHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZSBvZiBEcm9wZG93bi5cclxuICAgKiBAcGFyYW0gZWwgSFRNTCBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsOiBIVE1MRWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8RHJvcGRvd25PcHRpb25zPik6IERyb3Bkb3duO1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBEcm9wZG93bi5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zPzogUGFydGlhbDxEcm9wZG93bk9wdGlvbnM+KTogRHJvcGRvd25bXTtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgRHJvcGRvd24uXHJcbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsczogSFRNTEVsZW1lbnQgfCBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPERyb3Bkb3duT3B0aW9ucz4gPSB7fSk6IERyb3Bkb3duIHwgRHJvcGRvd25bXSB7XHJcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIERyb3Bkb3duKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBEcm9wZG93biB7XHJcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9Ecm9wZG93bjtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLl9yZXNldERyb3Bkb3duU3R5bGVzKCk7XHJcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XHJcbiAgICBEcm9wZG93bi5fZHJvcGRvd25zLnNwbGljZShEcm9wZG93bi5fZHJvcGRvd25zLmluZGV4T2YodGhpcyksIDEpO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0Ryb3Bkb3duID0gdW5kZWZpbmVkO1xyXG4gIH1cclxuXHJcbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcclxuICAgIC8vIFRyaWdnZXIga2V5ZG93biBoYW5kbGVyXHJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVUcmlnZ2VyS2V5ZG93bik7XHJcbiAgICAvLyBJdGVtIGNsaWNrIGhhbmRsZXJcclxuICAgIHRoaXMuZHJvcGRvd25FbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEcm9wZG93bkNsaWNrKTtcclxuICAgIC8vIEhvdmVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmhvdmVyKSB7XHJcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZU1vdXNlRW50ZXIpO1xyXG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlKTtcclxuICAgICAgdGhpcy5kcm9wZG93bkVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlKTtcclxuICAgICAgLy8gQ2xpY2sgZXZlbnQgaGFuZGxlcnNcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbGljayk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZVRyaWdnZXJLZXlkb3duKTtcclxuICAgIHRoaXMuZHJvcGRvd25FbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURyb3Bkb3duQ2xpY2spO1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5ob3Zlcikge1xyXG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVNb3VzZUVudGVyKTtcclxuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZSk7XHJcbiAgICAgIHRoaXMuZHJvcGRvd25FbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2spO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldHVwVGVtcG9yYXJ5RXZlbnRIYW5kbGVycygpIHtcclxuICAgIC8vIFVzZSBjYXB0dXJlIHBoYXNlIGV2ZW50IGhhbmRsZXIgdG8gcHJldmVudCBjbGlja1xyXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2ssIHRydWUpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudFRvdWNobW92ZSk7XHJcbiAgICB0aGlzLmRyb3Bkb3duRWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZURyb3Bkb3duS2V5ZG93bik7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlVGVtcG9yYXJ5RXZlbnRIYW5kbGVycygpIHtcclxuICAgIC8vIFVzZSBjYXB0dXJlIHBoYXNlIGV2ZW50IGhhbmRsZXIgdG8gcHJldmVudCBjbGlja1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2ssIHRydWUpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudFRvdWNobW92ZSk7XHJcbiAgICB0aGlzLmRyb3Bkb3duRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZURyb3Bkb3duS2V5ZG93bik7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQ2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5vcGVuKCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTW91c2VFbnRlciA9ICgpID0+IHtcclxuICAgIHRoaXMub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZU1vdXNlTGVhdmUgPSAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgY29uc3QgdG9FbCA9IGUucmVsYXRlZFRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgIGNvbnN0IGxlYXZlVG9Ecm9wZG93bkNvbnRlbnQgPSAhIXRvRWwuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKTtcclxuICAgIGxldCBsZWF2ZVRvQWN0aXZlRHJvcGRvd25UcmlnZ2VyID0gZmFsc2U7XHJcbiAgICBjb25zdCBjbG9zZXN0VHJpZ2dlciA9IHRvRWwuY2xvc2VzdCgnLmRyb3Bkb3duLXRyaWdnZXInKTtcclxuICAgIGlmIChcclxuICAgICAgY2xvc2VzdFRyaWdnZXIgJiZcclxuICAgICAgISEoPGFueT5jbG9zZXN0VHJpZ2dlcikuTV9Ecm9wZG93biAmJlxyXG4gICAgICAoPGFueT5jbG9zZXN0VHJpZ2dlcikuTV9Ecm9wZG93bi5pc09wZW5cclxuICAgICkge1xyXG4gICAgICBsZWF2ZVRvQWN0aXZlRHJvcGRvd25UcmlnZ2VyID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIENsb3NlIGhvdmVyIGRyb3Bkb3duIGlmIG1vdXNlIGRpZCBub3QgbGVhdmUgdG8gZWl0aGVyIGFjdGl2ZSBkcm9wZG93bi10cmlnZ2VyIG9yIGRyb3Bkb3duLWNvbnRlbnRcclxuICAgIGlmICghbGVhdmVUb0FjdGl2ZURyb3Bkb3duVHJpZ2dlciAmJiAhbGVhdmVUb0Ryb3Bkb3duQ29udGVudCkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRG9jdW1lbnRDbGljayA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSA8SFRNTEVsZW1lbnQ+ZS50YXJnZXQ7XHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2sgJiZcclxuICAgICAgdGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bi1jb250ZW50JykgJiZcclxuICAgICAgIXRoaXMuaXNUb3VjaE1vdmluZ1xyXG4gICAgKSB7XHJcbiAgICAgIC8vIGlzVG91Y2hNb3ZpbmcgdG8gY2hlY2sgaWYgc2Nyb2xsaW5nIG9uIG1vYmlsZS5cclxuICAgICAgLy9zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAvL30sIDApO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoXHJcbiAgICAgIHRhcmdldC5jbG9zZXN0KCcuZHJvcGRvd24tdHJpZ2dlcicpIHx8XHJcbiAgICAgICF0YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKVxyXG4gICAgKSB7XHJcbiAgICAgIC8vc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgLy99LCAwKTtcclxuICAgIH1cclxuICAgIHRoaXMuaXNUb3VjaE1vdmluZyA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVRyaWdnZXJLZXlkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgIC8vIEFSUk9XIERPV04gT1IgRU5URVIgV0hFTiBTRUxFQ1QgSVMgQ0xPU0VEIC0gb3BlbiBEcm9wZG93blxyXG4gICAgY29uc3QgYXJyb3dEb3duT3JFbnRlciA9IFV0aWxzLmtleXMuQVJST1dfRE9XTi5pbmNsdWRlcyhlLmtleSkgfHwgVXRpbHMua2V5cy5FTlRFUi5pbmNsdWRlcyhlLmtleSk7XHJcbiAgICBpZiAoYXJyb3dEb3duT3JFbnRlciAmJiAhdGhpcy5pc09wZW4pIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLm9wZW4oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVEb2N1bWVudFRvdWNobW92ZSA9IChlOiBUb3VjaEV2ZW50KSA9PiB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSA8SFRNTEVsZW1lbnQ+ZS50YXJnZXQ7XHJcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bi1jb250ZW50JykpIHtcclxuICAgICAgdGhpcy5pc1RvdWNoTW92aW5nID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVEcm9wZG93bkNsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgIC8vIG9uSXRlbUNsaWNrIGNhbGxiYWNrXHJcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkl0ZW1DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBjb25zdCBpdGVtRWwgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCdsaScpO1xyXG4gICAgICB0aGlzLm9wdGlvbnMub25JdGVtQ2xpY2suY2FsbCh0aGlzLCBpdGVtRWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZURyb3Bkb3duS2V5ZG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICBjb25zdCBhcnJvd1VwT3JEb3duID0gVXRpbHMua2V5cy5BUlJPV19ET1dOLmluY2x1ZGVzKGUua2V5KSB8fCBVdGlscy5rZXlzLkFSUk9XX1VQLmluY2x1ZGVzKGUua2V5KTtcclxuICAgIGlmIChVdGlscy5rZXlzLlRBQi5pbmNsdWRlcyhlLmtleSkpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgICAvLyBOYXZpZ2F0ZSBkb3duIGRyb3Bkb3duIGxpc3RcclxuICAgIGVsc2UgaWYgKGFycm93VXBPckRvd24gJiYgdGhpcy5pc09wZW4pIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSBVdGlscy5rZXlzLkFSUk9XX0RPV04uaW5jbHVkZXMoZS5rZXkpID8gMSA6IC0xO1xyXG4gICAgICBsZXQgbmV3Rm9jdXNlZEluZGV4ID0gdGhpcy5mb2N1c2VkSW5kZXg7XHJcbiAgICAgIGxldCBoYXNGb3VuZE5ld0luZGV4ID0gZmFsc2U7XHJcbiAgICAgIGRvIHtcclxuICAgICAgICBuZXdGb2N1c2VkSW5kZXggPSBuZXdGb2N1c2VkSW5kZXggKyBkaXJlY3Rpb247XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgISF0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bbmV3Rm9jdXNlZEluZGV4XSAmJlxyXG4gICAgICAgICAgKDxhbnk+dGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuW25ld0ZvY3VzZWRJbmRleF0pLnRhYkluZGV4ICE9PSAtMVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgaGFzRm91bmROZXdJbmRleCA9IHRydWU7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH0gd2hpbGUgKG5ld0ZvY3VzZWRJbmRleCA8IHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlbi5sZW5ndGggJiYgbmV3Rm9jdXNlZEluZGV4ID49IDApO1xyXG5cclxuICAgICAgaWYgKGhhc0ZvdW5kTmV3SW5kZXgpIHtcclxuICAgICAgICAvLyBSZW1vdmUgYWN0aXZlIGNsYXNzIGZyb20gb2xkIGVsZW1lbnRcclxuICAgICAgICBpZiAodGhpcy5mb2N1c2VkSW5kZXggPj0gMClcclxuICAgICAgICAgIHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlblt0aGlzLmZvY3VzZWRJbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPSBuZXdGb2N1c2VkSW5kZXg7XHJcbiAgICAgICAgdGhpcy5fZm9jdXNGb2N1c2VkSXRlbSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBFTlRFUiBzZWxlY3RzIGNob2ljZSBvbiBmb2N1c2VkIGl0ZW1cclxuICAgIGVsc2UgaWYgKFV0aWxzLmtleXMuRU5URVIuaW5jbHVkZXMoZS5rZXkpICYmIHRoaXMuaXNPcGVuKSB7XHJcbiAgICAgIC8vIFNlYXJjaCBmb3IgPGE+IGFuZCA8YnV0dG9uPlxyXG4gICAgICBjb25zdCBmb2N1c2VkRWxlbWVudCA9IHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlblt0aGlzLmZvY3VzZWRJbmRleF07XHJcbiAgICAgIGNvbnN0IGFjdGl2YXRhYmxlRWxlbWVudCA9IDxIVE1MRWxlbWVudD5mb2N1c2VkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdhLCBidXR0b24nKTtcclxuICAgICAgLy8gQ2xpY2sgYSBvciBidXR0b24gdGFnIGlmIGV4aXN0cywgb3RoZXJ3aXNlIGNsaWNrIGxpIHRhZ1xyXG4gICAgICBpZiAoISFhY3RpdmF0YWJsZUVsZW1lbnQpIHtcclxuICAgICAgICBhY3RpdmF0YWJsZUVsZW1lbnQuY2xpY2soKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICghIWZvY3VzZWRFbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKGZvY3VzZWRFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICAgIGZvY3VzZWRFbGVtZW50LmNsaWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBDbG9zZSBkcm9wZG93biBvbiBFU0NcclxuICAgIGVsc2UgaWYgKFV0aWxzLmtleXMuRVNDLmluY2x1ZGVzKGUua2V5KSAmJiB0aGlzLmlzT3Blbikge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDQVNFIFdIRU4gVVNFUiBUWVBFIExUVEVSU1xyXG4gICAgY29uc3Qga2V5VGV4dCA9IGUua2V5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICBjb25zdCBpc0xldHRlciA9IC9bYS16QS1aMC05LV9dLy50ZXN0KGtleVRleHQpO1xyXG4gICAgY29uc3Qgc3BlY2lhbEtleXMgPSBbLi4uVXRpbHMua2V5cy5BUlJPV19ET1dOLCAuLi5VdGlscy5rZXlzLkFSUk9XX1VQLCAuLi5VdGlscy5rZXlzLkVOVEVSLCAuLi5VdGlscy5rZXlzLkVTQywgLi4uVXRpbHMua2V5cy5UQUJdO1xyXG4gICAgaWYgKGlzTGV0dGVyICYmICFzcGVjaWFsS2V5cy5pbmNsdWRlcyhlLmtleSkpIHtcclxuICAgICAgdGhpcy5maWx0ZXJRdWVyeS5wdXNoKGtleVRleHQpO1xyXG4gICAgICBjb25zdCBzdHJpbmcgPSB0aGlzLmZpbHRlclF1ZXJ5LmpvaW4oJycpO1xyXG4gICAgICBjb25zdCBuZXdPcHRpb25FbCA9IEFycmF5LmZyb20odGhpcy5kcm9wZG93bkVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJykpXHJcbiAgICAgICAgLmZpbmQoKGVsKSA9PiBlbC5pbm5lclRleHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHN0cmluZykgPT09IDApO1xyXG4gICAgICBpZiAobmV3T3B0aW9uRWwpIHtcclxuICAgICAgICB0aGlzLmZvY3VzZWRJbmRleCA9IFsuLi5uZXdPcHRpb25FbC5wYXJlbnROb2RlLmNoaWxkcmVuXS5pbmRleE9mKG5ld09wdGlvbkVsKTtcclxuICAgICAgICB0aGlzLl9mb2N1c0ZvY3VzZWRJdGVtKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuZmlsdGVyVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fcmVzZXRGaWx0ZXJRdWVyeSwgMTAwMCk7XHJcbiAgfVxyXG5cclxuICBfcmVzZXRGaWx0ZXJRdWVyeSA9ICgpID0+IHtcclxuICAgIHRoaXMuZmlsdGVyUXVlcnkgPSBbXTtcclxuICB9XHJcblxyXG4gIF9yZXNldERyb3Bkb3duU3R5bGVzKCkge1xyXG4gICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS53aWR0aCA9ICcnO1xyXG4gICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLmhlaWdodCA9ICcnO1xyXG4gICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLmxlZnQgPSAnJztcclxuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS50b3AgPSAnJztcclxuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAnJztcclxuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcclxuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5vcGFjaXR5ID0gJyc7XHJcbiAgfVxyXG5cclxuICAvLyBNb3ZlIGRyb3Bkb3duIGFmdGVyIGNvbnRhaW5lciBvciB0cmlnZ2VyXHJcbiAgX21vdmVEcm9wZG93bihjb250YWluZXJFbDogSFRNTEVsZW1lbnQgPSBudWxsKSB7XHJcbiAgICBpZiAoISF0aGlzLm9wdGlvbnMuY29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIuYXBwZW5kKHRoaXMuZHJvcGRvd25FbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChjb250YWluZXJFbCkge1xyXG4gICAgICBpZiAoIWNvbnRhaW5lckVsLmNvbnRhaW5zKHRoaXMuZHJvcGRvd25FbCkpIHtcclxuICAgICAgICBjb250YWluZXJFbC5hcHBlbmQodGhpcy5kcm9wZG93bkVsKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuZWwuYWZ0ZXIodGhpcy5kcm9wZG93bkVsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9tYWtlRHJvcGRvd25Gb2N1c2FibGUoKSB7XHJcbiAgICBpZiAoIXRoaXMuZHJvcGRvd25FbCkgcmV0dXJuO1xyXG4gICAgLy8gTmVlZGVkIGZvciBhcnJvdyBrZXkgbmF2aWdhdGlvblxyXG4gICAgdGhpcy5kcm9wZG93bkVsLnRhYkluZGV4ID0gMDtcclxuICAgIC8vIE9ubHkgc2V0IHRhYmluZGV4IGlmIGl0IGhhc24ndCBiZWVuIHNldCBieSB1c2VyXHJcbiAgICBBcnJheS5mcm9tKHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlbikuZm9yRWFjaCgoZWwpPT4ge1xyXG4gICAgICBpZiAoIWVsLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSlcclxuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2ZvY3VzRm9jdXNlZEl0ZW0oKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMuZm9jdXNlZEluZGV4ID49IDAgJiZcclxuICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPCB0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW4ubGVuZ3RoICYmXHJcbiAgICAgIHRoaXMub3B0aW9ucy5hdXRvRm9jdXNcclxuICAgICkge1xyXG4gICAgICAodGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuW3RoaXMuZm9jdXNlZEluZGV4XSBhcyBIVE1MRWxlbWVudCkuZm9jdXMoe1xyXG4gICAgICAgIHByZXZlbnRTY3JvbGw6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlblt0aGlzLmZvY3VzZWRJbmRleF0uc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcclxuICAgICAgICBibG9jazogJ25lYXJlc3QnLFxyXG4gICAgICAgIGlubGluZTogJ25lYXJlc3QnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2dldERyb3Bkb3duUG9zaXRpb24oY2xvc2VzdE92ZXJmbG93UGFyZW50OiBIVE1MRWxlbWVudCkge1xyXG4gICAgY29uc3Qgb2Zmc2V0UGFyZW50QlJlY3QgPSB0aGlzLmVsLm9mZnNldFBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IHRyaWdnZXJCUmVjdCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBjb25zdCBkcm9wZG93bkJSZWN0ID0gdGhpcy5kcm9wZG93bkVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgIGxldCBpZGVhbEhlaWdodCA9IGRyb3Bkb3duQlJlY3QuaGVpZ2h0O1xyXG4gICAgbGV0IGlkZWFsV2lkdGggPSBkcm9wZG93bkJSZWN0LndpZHRoO1xyXG4gICAgbGV0IGlkZWFsWFBvcyA9IHRyaWdnZXJCUmVjdC5sZWZ0IC0gZHJvcGRvd25CUmVjdC5sZWZ0O1xyXG4gICAgbGV0IGlkZWFsWVBvcyA9IHRyaWdnZXJCUmVjdC50b3AgLSBkcm9wZG93bkJSZWN0LnRvcDtcclxuXHJcbiAgICBjb25zdCBkcm9wZG93bkJvdW5kcyA9IHtcclxuICAgICAgbGVmdDogaWRlYWxYUG9zLFxyXG4gICAgICB0b3A6IGlkZWFsWVBvcyxcclxuICAgICAgaGVpZ2h0OiBpZGVhbEhlaWdodCxcclxuICAgICAgd2lkdGg6IGlkZWFsV2lkdGhcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgYWxpZ25tZW50cyA9IFV0aWxzLmNoZWNrUG9zc2libGVBbGlnbm1lbnRzKFxyXG4gICAgICB0aGlzLmVsLFxyXG4gICAgICBjbG9zZXN0T3ZlcmZsb3dQYXJlbnQsXHJcbiAgICAgIGRyb3Bkb3duQm91bmRzLFxyXG4gICAgICB0aGlzLm9wdGlvbnMuY292ZXJUcmlnZ2VyID8gMCA6IHRyaWdnZXJCUmVjdC5oZWlnaHRcclxuICAgICk7XHJcblxyXG4gICAgbGV0IHZlcnRpY2FsQWxpZ25tZW50ID0gJ3RvcCc7XHJcbiAgICBsZXQgaG9yaXpvbnRhbEFsaWdubWVudCA9IHRoaXMub3B0aW9ucy5hbGlnbm1lbnQ7XHJcbiAgICBpZGVhbFlQb3MgKz0gdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlciA/IDAgOiB0cmlnZ2VyQlJlY3QuaGVpZ2h0O1xyXG5cclxuICAgIC8vIFJlc2V0IGlzU2Nyb2xsYWJsZVxyXG4gICAgdGhpcy5pc1Njcm9sbGFibGUgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAoIWFsaWdubWVudHMudG9wKSB7XHJcbiAgICAgIGlmIChhbGlnbm1lbnRzLmJvdHRvbSkge1xyXG4gICAgICAgIHZlcnRpY2FsQWxpZ25tZW50ID0gJ2JvdHRvbSc7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlcikge1xyXG4gICAgICAgICAgaWRlYWxZUG9zIC09IHRyaWdnZXJCUmVjdC5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaXNTY3JvbGxhYmxlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIHNpZGUgaGFzIG1vc3Qgc3BhY2UgYW5kIGN1dG9mZiBhdCBjb3JyZWN0IGhlaWdodFxyXG4gICAgICAgIGlkZWFsSGVpZ2h0IC09IDIwOyAvLyBBZGQgcGFkZGluZyB3aGVuIGN1dG9mZlxyXG4gICAgICAgIGlmIChhbGlnbm1lbnRzLnNwYWNlT25Ub3AgPiBhbGlnbm1lbnRzLnNwYWNlT25Cb3R0b20pIHtcclxuICAgICAgICAgIHZlcnRpY2FsQWxpZ25tZW50ID0gJ2JvdHRvbSc7XHJcbiAgICAgICAgICBpZGVhbEhlaWdodCArPSBhbGlnbm1lbnRzLnNwYWNlT25Ub3A7XHJcbiAgICAgICAgICBpZGVhbFlQb3MgLT0gdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlclxyXG4gICAgICAgICAgICA/IGFsaWdubWVudHMuc3BhY2VPblRvcCAtIDIwXHJcbiAgICAgICAgICAgIDogYWxpZ25tZW50cy5zcGFjZU9uVG9wIC0gMjAgKyB0cmlnZ2VyQlJlY3QuaGVpZ2h0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZGVhbEhlaWdodCArPSBhbGlnbm1lbnRzLnNwYWNlT25Cb3R0b207XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgcHJlZmVycmVkIGhvcml6b250YWwgYWxpZ25tZW50IGlzIHBvc3NpYmxlXHJcbiAgICBpZiAoIWFsaWdubWVudHNbaG9yaXpvbnRhbEFsaWdubWVudF0pIHtcclxuICAgICAgY29uc3Qgb3Bwb3NpdGVBbGlnbm1lbnQgPSBob3Jpem9udGFsQWxpZ25tZW50ID09PSAnbGVmdCcgPyAncmlnaHQnIDogJ2xlZnQnO1xyXG4gICAgICBpZiAoYWxpZ25tZW50c1tvcHBvc2l0ZUFsaWdubWVudF0pIHtcclxuICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50ID0gb3Bwb3NpdGVBbGlnbm1lbnQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIHNpZGUgaGFzIG1vc3Qgc3BhY2UgYW5kIGN1dG9mZiBhdCBjb3JyZWN0IGhlaWdodFxyXG4gICAgICAgIGlmIChhbGlnbm1lbnRzLnNwYWNlT25MZWZ0ID4gYWxpZ25tZW50cy5zcGFjZU9uUmlnaHQpIHtcclxuICAgICAgICAgIGhvcml6b250YWxBbGlnbm1lbnQgPSAncmlnaHQnO1xyXG4gICAgICAgICAgaWRlYWxXaWR0aCArPSBhbGlnbm1lbnRzLnNwYWNlT25MZWZ0O1xyXG4gICAgICAgICAgaWRlYWxYUG9zIC09IGFsaWdubWVudHMuc3BhY2VPbkxlZnQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGhvcml6b250YWxBbGlnbm1lbnQgPSAnbGVmdCc7XHJcbiAgICAgICAgICBpZGVhbFdpZHRoICs9IGFsaWdubWVudHMuc3BhY2VPblJpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh2ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ2JvdHRvbScpIHtcclxuICAgICAgaWRlYWxZUG9zID1cclxuICAgICAgICBpZGVhbFlQb3MgLSBkcm9wZG93bkJSZWN0LmhlaWdodCArICh0aGlzLm9wdGlvbnMuY292ZXJUcmlnZ2VyID8gdHJpZ2dlckJSZWN0LmhlaWdodCA6IDApO1xyXG4gICAgfVxyXG4gICAgaWYgKGhvcml6b250YWxBbGlnbm1lbnQgPT09ICdyaWdodCcpIHtcclxuICAgICAgaWRlYWxYUG9zID0gaWRlYWxYUG9zIC0gZHJvcGRvd25CUmVjdC53aWR0aCArIHRyaWdnZXJCUmVjdC53aWR0aDtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IGlkZWFsWFBvcyxcclxuICAgICAgeTogaWRlYWxZUG9zLFxyXG4gICAgICB2ZXJ0aWNhbEFsaWdubWVudDogdmVydGljYWxBbGlnbm1lbnQsXHJcbiAgICAgIGhvcml6b250YWxBbGlnbm1lbnQ6IGhvcml6b250YWxBbGlnbm1lbnQsXHJcbiAgICAgIGhlaWdodDogaWRlYWxIZWlnaHQsXHJcbiAgICAgIHdpZHRoOiBpZGVhbFdpZHRoXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgX2FuaW1hdGVJbigpIHtcclxuICAgIGFuaW0ucmVtb3ZlKHRoaXMuZHJvcGRvd25FbCk7XHJcbiAgICBhbmltKHtcclxuICAgICAgdGFyZ2V0czogdGhpcy5kcm9wZG93bkVsLFxyXG4gICAgICBvcGFjaXR5OiB7XHJcbiAgICAgICAgdmFsdWU6IFswLCAxXSxcclxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcclxuICAgICAgfSxcclxuICAgICAgc2NhbGVYOiBbMC4zLCAxXSxcclxuICAgICAgc2NhbGVZOiBbMC4zLCAxXSxcclxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxyXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVpbnQnLFxyXG4gICAgICBjb21wbGV0ZTogKGFuaW0pID0+IHtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9Gb2N1cykgdGhpcy5kcm9wZG93bkVsLmZvY3VzKCk7XHJcbiAgICAgICAgLy8gb25PcGVuRW5kIGNhbGxiYWNrXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuRW5kID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuRW5kLmNhbGwodGhpcywgdGhpcy5lbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9hbmltYXRlT3V0KCkge1xyXG4gICAgYW5pbS5yZW1vdmUodGhpcy5kcm9wZG93bkVsKTtcclxuICAgIGFuaW0oe1xyXG4gICAgICB0YXJnZXRzOiB0aGlzLmRyb3Bkb3duRWwsXHJcbiAgICAgIG9wYWNpdHk6IHtcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVpbnQnXHJcbiAgICAgIH0sXHJcbiAgICAgIHNjYWxlWDogMC4zLFxyXG4gICAgICBzY2FsZVk6IDAuMyxcclxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcclxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1aW50JyxcclxuICAgICAgY29tcGxldGU6IChhbmltKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fcmVzZXREcm9wZG93blN0eWxlcygpO1xyXG4gICAgICAgIC8vIG9uQ2xvc2VFbmQgY2FsbGJhY2tcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9nZXRDbG9zZXN0QW5jZXN0b3IoZWw6IEhUTUxFbGVtZW50LCBjb25kaXRpb246IEZ1bmN0aW9uKTogSFRNTEVsZW1lbnQge1xyXG4gICAgbGV0IGFuY2VzdG9yID0gZWwucGFyZW50Tm9kZTtcclxuICAgIHdoaWxlIChhbmNlc3RvciAhPT0gbnVsbCAmJiBhbmNlc3RvciAhPT0gZG9jdW1lbnQpIHtcclxuICAgICAgaWYgKGNvbmRpdGlvbihhbmNlc3RvcikpIHtcclxuICAgICAgICByZXR1cm4gPEhUTUxFbGVtZW50PmFuY2VzdG9yO1xyXG4gICAgICB9XHJcbiAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50RWxlbWVudDtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH07XHJcblxyXG4gIF9wbGFjZURyb3Bkb3duKCkge1xyXG4gICAgLy8gQ29udGFpbmVyIGhlcmUgd2lsbCBiZSBjbG9zZXN0IGFuY2VzdG9yIHdpdGggb3ZlcmZsb3c6IGhpZGRlblxyXG4gICAgbGV0IGNsb3Nlc3RPdmVyZmxvd1BhcmVudDogSFRNTEVsZW1lbnQgPSB0aGlzLl9nZXRDbG9zZXN0QW5jZXN0b3IodGhpcy5kcm9wZG93bkVsLCAoYW5jZXN0b3I6IEhUTUxFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhWydIVE1MJywnQk9EWSddLmluY2x1ZGVzKGFuY2VzdG9yLnRhZ05hbWUpICYmIGdldENvbXB1dGVkU3R5bGUoYW5jZXN0b3IpLm92ZXJmbG93ICE9PSAndmlzaWJsZSc7XHJcbiAgICB9KTtcclxuICAgIC8vIEZhbGxiYWNrXHJcbiAgICBpZiAoIWNsb3Nlc3RPdmVyZmxvd1BhcmVudCkge1xyXG4gICAgICBjbG9zZXN0T3ZlcmZsb3dQYXJlbnQgPSA8SFRNTEVsZW1lbnQ+KCEhdGhpcy5kcm9wZG93bkVsLm9mZnNldFBhcmVudFxyXG4gICAgICAgID8gdGhpcy5kcm9wZG93bkVsLm9mZnNldFBhcmVudFxyXG4gICAgICAgIDogdGhpcy5kcm9wZG93bkVsLnBhcmVudE5vZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKGNsb3Nlc3RPdmVyZmxvd1BhcmVudCkucG9zaXRpb24gPT09ICdzdGF0aWMnKVxyXG4gICAgICBjbG9zZXN0T3ZlcmZsb3dQYXJlbnQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG5cclxuICAgIHRoaXMuX21vdmVEcm9wZG93bihjbG9zZXN0T3ZlcmZsb3dQYXJlbnQpO1xyXG5cclxuICAgIC8vIFNldCB3aWR0aCBiZWZvcmUgY2FsY3VsYXRpbmcgcG9zaXRpb25JbmZvXHJcbiAgICBjb25zdCBpZGVhbFdpZHRoID0gdGhpcy5vcHRpb25zLmNvbnN0cmFpbldpZHRoXHJcbiAgICAgID8gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aFxyXG4gICAgICA6IHRoaXMuZHJvcGRvd25FbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS53aWR0aCA9IGlkZWFsV2lkdGggKyAncHgnO1xyXG5cclxuICAgIGNvbnN0IHBvc2l0aW9uSW5mbyA9IHRoaXMuX2dldERyb3Bkb3duUG9zaXRpb24oY2xvc2VzdE92ZXJmbG93UGFyZW50KTtcclxuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5sZWZ0ID0gcG9zaXRpb25JbmZvLnggKyAncHgnO1xyXG4gICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLnRvcCA9IHBvc2l0aW9uSW5mby55ICsgJ3B4JztcclxuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5oZWlnaHQgPSBwb3NpdGlvbkluZm8uaGVpZ2h0ICsgJ3B4JztcclxuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS53aWR0aCA9IHBvc2l0aW9uSW5mby53aWR0aCArICdweCc7XHJcbiAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gYCR7XHJcbiAgICAgIHBvc2l0aW9uSW5mby5ob3Jpem9udGFsQWxpZ25tZW50ID09PSAnbGVmdCcgPyAnMCcgOiAnMTAwJSdcclxuICAgIH0gJHtwb3NpdGlvbkluZm8udmVydGljYWxBbGlnbm1lbnQgPT09ICd0b3AnID8gJzAnIDogJzEwMCUnfWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPcGVuIGRyb3Bkb3duLlxyXG4gICAqL1xyXG4gIG9wZW4gPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5pc09wZW4pIHJldHVybjtcclxuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcclxuICAgIC8vIG9uT3BlblN0YXJ0IGNhbGxiYWNrXHJcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcclxuICAgIH1cclxuICAgIC8vIFJlc2V0IHN0eWxlc1xyXG4gICAgdGhpcy5fcmVzZXREcm9wZG93blN0eWxlcygpO1xyXG4gICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgdGhpcy5fcGxhY2VEcm9wZG93bigpO1xyXG4gICAgdGhpcy5fYW5pbWF0ZUluKCk7XHJcbiAgICB0aGlzLl9zZXR1cFRlbXBvcmFyeUV2ZW50SGFuZGxlcnMoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsb3NlIGRyb3Bkb3duLlxyXG4gICAqL1xyXG4gIGNsb3NlID0gKCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLmlzT3BlbikgcmV0dXJuO1xyXG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgIHRoaXMuZm9jdXNlZEluZGV4ID0gLTE7XHJcbiAgICAvLyBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcclxuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9hbmltYXRlT3V0KCk7XHJcbiAgICB0aGlzLl9yZW1vdmVUZW1wb3JhcnlFdmVudEhhbmRsZXJzKCk7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9Gb2N1cykge1xyXG4gICAgICB0aGlzLmVsLmZvY3VzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXaGlsZSBkcm9wZG93biBpcyBvcGVuLCB5b3UgY2FuIHJlY2FsY3VsYXRlIGl0cyBkaW1lbnNpb25zIGlmIGl0cyBjb250ZW50cyBoYXZlIGNoYW5nZWQuXHJcbiAgICovXHJcbiAgcmVjYWxjdWxhdGVEaW1lbnNpb25zID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNPcGVuKSB7XHJcbiAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS53aWR0aCA9ICcnO1xyXG4gICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUuaGVpZ2h0ID0gJyc7XHJcbiAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5sZWZ0ID0gJyc7XHJcbiAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS50b3AgPSAnJztcclxuICAgICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICcnO1xyXG4gICAgICB0aGlzLl9wbGFjZURyb3Bkb3duKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/dropdown.ts\n");

/***/ }),

/***/ "./src/forms.ts":
/*!**********************!*\
  !*** ./src/forms.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Forms = void 0;\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nclass Forms {\r\n    /**\r\n     * Resizes the given TextArea after updating the\r\n     *  value content dynamically.\r\n     * @param textarea TextArea to be resized\r\n     */\r\n    static textareaAutoResize(textarea) {\r\n        if (!textarea) {\r\n            console.error('No textarea element found');\r\n            return;\r\n        }\r\n        // Textarea Auto Resize\r\n        let hiddenDiv = document.querySelector('.hiddendiv');\r\n        if (!hiddenDiv) {\r\n            hiddenDiv = document.createElement('div');\r\n            hiddenDiv.classList.add('hiddendiv', 'common');\r\n            document.body.append(hiddenDiv);\r\n        }\r\n        const style = getComputedStyle(textarea);\r\n        // Set font properties of hiddenDiv\r\n        const fontFamily = style.fontFamily; //textarea.css('font-family');\r\n        const fontSize = style.fontSize; //textarea.css('font-size');\r\n        const lineHeight = style.lineHeight; //textarea.css('line-height');\r\n        // Firefox can't handle padding shorthand.\r\n        const paddingTop = style.paddingTop; //getComputedStyle(textarea).css('padding-top');\r\n        const paddingRight = style.paddingRight; //textarea.css('padding-right');\r\n        const paddingBottom = style.paddingBottom; //textarea.css('padding-bottom');\r\n        const paddingLeft = style.paddingLeft; //textarea.css('padding-left');\r\n        if (fontSize)\r\n            hiddenDiv.style.fontSize = fontSize; //('font-size', fontSize);\r\n        if (fontFamily)\r\n            hiddenDiv.style.fontFamily = fontFamily; //css('font-family', fontFamily);\r\n        if (lineHeight)\r\n            hiddenDiv.style.lineHeight = lineHeight; //css('line-height', lineHeight);\r\n        if (paddingTop)\r\n            hiddenDiv.style.paddingTop = paddingTop; //ss('padding-top', paddingTop);\r\n        if (paddingRight)\r\n            hiddenDiv.style.paddingRight = paddingRight; //css('padding-right', paddingRight);\r\n        if (paddingBottom)\r\n            hiddenDiv.style.paddingBottom = paddingBottom; //css('padding-bottom', paddingBottom);\r\n        if (paddingLeft)\r\n            hiddenDiv.style.paddingLeft = paddingLeft; //css('padding-left', paddingLeft);\r\n        // Set original-height, if none\r\n        if (!textarea.hasAttribute('original-height'))\r\n            textarea.setAttribute('original-height', textarea.getBoundingClientRect().height.toString());\r\n        if (textarea.getAttribute('wrap') === 'off') {\r\n            hiddenDiv.style.overflowWrap = 'normal'; // ('overflow-wrap', 'normal')\r\n            hiddenDiv.style.whiteSpace = 'pre'; //.css('white-space', 'pre');\r\n        }\r\n        hiddenDiv.innerText = textarea.value + '\\n';\r\n        const content = hiddenDiv.innerHTML.replace(/\\n/g, '<br>');\r\n        hiddenDiv.innerHTML = content;\r\n        // When textarea is hidden, width goes crazy.\r\n        // Approximate with half of window size\r\n        if (textarea.offsetWidth > 0 && textarea.offsetHeight > 0) {\r\n            hiddenDiv.style.width = textarea.getBoundingClientRect().width + 'px'; // ('width', textarea.width() + 'px');\r\n        }\r\n        else {\r\n            hiddenDiv.style.width = (window.innerWidth / 2) + 'px'; //css('width', window.innerWidth / 2 + 'px');\r\n        }\r\n        // Resize if the new height is greater than the\r\n        // original height of the textarea\r\n        const originalHeight = parseInt(textarea.getAttribute('original-height'));\r\n        const prevLength = parseInt(textarea.getAttribute('previous-length'));\r\n        if (isNaN(originalHeight))\r\n            return;\r\n        if (originalHeight <= hiddenDiv.clientHeight) {\r\n            textarea.style.height = hiddenDiv.clientHeight + 'px'; //css('height', hiddenDiv.innerHeight() + 'px');\r\n        }\r\n        else if (textarea.value.length < prevLength) {\r\n            // In case the new height is less than original height, it\r\n            // means the textarea has less text than before\r\n            // So we set the height to the original one\r\n            textarea.style.height = originalHeight + 'px';\r\n        }\r\n        textarea.setAttribute('previous-length', textarea.value.length.toString());\r\n    }\r\n    ;\r\n    static Init() {\r\n        document.addEventListener(\"DOMContentLoaded\", () => {\r\n            document.addEventListener('keyup', (e) => {\r\n                const target = e.target;\r\n                // Radio and Checkbox focus class\r\n                if (target instanceof HTMLInputElement && ['radio', 'checkbox'].includes(target.type)) {\r\n                    // TAB, check if tabbing to radio or checkbox.\r\n                    if (utils_1.Utils.keys.TAB.includes(e.key)) {\r\n                        target.classList.add('tabbed');\r\n                        target.addEventListener('blur', e => target.classList.remove('tabbed'), { once: true });\r\n                    }\r\n                }\r\n            });\r\n            document.querySelectorAll('.materialize-textarea').forEach((textArea) => {\r\n                // Save Data in Element\r\n                textArea.setAttribute('original-height', textArea.getBoundingClientRect().height.toString());\r\n                textArea.setAttribute('previous-length', textArea.value.length.toString());\r\n                Forms.textareaAutoResize(textArea);\r\n                textArea.addEventListener('keyup', e => Forms.textareaAutoResize(textArea));\r\n                textArea.addEventListener('keydown', e => Forms.textareaAutoResize(textArea));\r\n            });\r\n            // File Input Path\r\n            document.querySelectorAll('.file-field input[type=\"file\"]').forEach((fileInput) => {\r\n                fileInput.addEventListener('change', e => {\r\n                    const fileField = fileInput.closest('.file-field');\r\n                    const pathInput = fileField.querySelector('input.file-path');\r\n                    const files = fileInput.files;\r\n                    const filenames = [];\r\n                    for (let i = 0; i < files.length; i++) {\r\n                        filenames.push(files[i].name);\r\n                    }\r\n                    pathInput.value = filenames.join(', ');\r\n                    pathInput.dispatchEvent(new Event('change'));\r\n                });\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.Forms = Forms;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDdkMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUMvQyxDQUFDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUwsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0NBQ0Y7QUF4SEQsc0JBd0hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL2Zvcm1zLnRzPzUwYjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZvcm1zIHtcclxuXHJcbiAgLyoqXHJcbiAgICogUmVzaXplcyB0aGUgZ2l2ZW4gVGV4dEFyZWEgYWZ0ZXIgdXBkYXRpbmcgdGhlXHJcbiAgICogIHZhbHVlIGNvbnRlbnQgZHluYW1pY2FsbHkuXHJcbiAgICogQHBhcmFtIHRleHRhcmVhIFRleHRBcmVhIHRvIGJlIHJlc2l6ZWRcclxuICAgKi9cclxuICBzdGF0aWMgdGV4dGFyZWFBdXRvUmVzaXplKHRleHRhcmVhOiBIVE1MVGV4dEFyZWFFbGVtZW50KXtcclxuICAgIGlmICghdGV4dGFyZWEpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignTm8gdGV4dGFyZWEgZWxlbWVudCBmb3VuZCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyBUZXh0YXJlYSBBdXRvIFJlc2l6ZVxyXG4gICAgbGV0IGhpZGRlbkRpdjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlkZGVuZGl2Jyk7XHJcbiAgICBpZiAoIWhpZGRlbkRpdikge1xyXG4gICAgICBoaWRkZW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgaGlkZGVuRGl2LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbmRpdicsICdjb21tb24nKTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQoaGlkZGVuRGl2KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0ZXh0YXJlYSk7XHJcbiAgICAvLyBTZXQgZm9udCBwcm9wZXJ0aWVzIG9mIGhpZGRlbkRpdlxyXG4gICAgY29uc3QgZm9udEZhbWlseSA9IHN0eWxlLmZvbnRGYW1pbHk7IC8vdGV4dGFyZWEuY3NzKCdmb250LWZhbWlseScpO1xyXG4gICAgY29uc3QgZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZTsgLy90ZXh0YXJlYS5jc3MoJ2ZvbnQtc2l6ZScpO1xyXG4gICAgY29uc3QgbGluZUhlaWdodCA9IHN0eWxlLmxpbmVIZWlnaHQ7IC8vdGV4dGFyZWEuY3NzKCdsaW5lLWhlaWdodCcpO1xyXG4gICAgLy8gRmlyZWZveCBjYW4ndCBoYW5kbGUgcGFkZGluZyBzaG9ydGhhbmQuXHJcbiAgICBjb25zdCBwYWRkaW5nVG9wID0gc3R5bGUucGFkZGluZ1RvcDsgLy9nZXRDb21wdXRlZFN0eWxlKHRleHRhcmVhKS5jc3MoJ3BhZGRpbmctdG9wJyk7XHJcbiAgICBjb25zdCBwYWRkaW5nUmlnaHQgPSBzdHlsZS5wYWRkaW5nUmlnaHQ7IC8vdGV4dGFyZWEuY3NzKCdwYWRkaW5nLXJpZ2h0Jyk7XHJcbiAgICBjb25zdCBwYWRkaW5nQm90dG9tID0gc3R5bGUucGFkZGluZ0JvdHRvbTsgLy90ZXh0YXJlYS5jc3MoJ3BhZGRpbmctYm90dG9tJyk7XHJcbiAgICBjb25zdCBwYWRkaW5nTGVmdCA9IHN0eWxlLnBhZGRpbmdMZWZ0OyAvL3RleHRhcmVhLmNzcygncGFkZGluZy1sZWZ0Jyk7XHJcblxyXG4gICAgaWYgKGZvbnRTaXplKSBoaWRkZW5EaXYuc3R5bGUuZm9udFNpemUgPSBmb250U2l6ZTsgLy8oJ2ZvbnQtc2l6ZScsIGZvbnRTaXplKTtcclxuICAgIGlmIChmb250RmFtaWx5KSBoaWRkZW5EaXYuc3R5bGUuZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7IC8vY3NzKCdmb250LWZhbWlseScsIGZvbnRGYW1pbHkpO1xyXG4gICAgaWYgKGxpbmVIZWlnaHQpIGhpZGRlbkRpdi5zdHlsZS5saW5lSGVpZ2h0ID0gbGluZUhlaWdodDsgLy9jc3MoJ2xpbmUtaGVpZ2h0JywgbGluZUhlaWdodCk7XHJcbiAgICBpZiAocGFkZGluZ1RvcCkgaGlkZGVuRGl2LnN0eWxlLnBhZGRpbmdUb3AgPSBwYWRkaW5nVG9wOyAvL3NzKCdwYWRkaW5nLXRvcCcsIHBhZGRpbmdUb3ApO1xyXG4gICAgaWYgKHBhZGRpbmdSaWdodCkgaGlkZGVuRGl2LnN0eWxlLnBhZGRpbmdSaWdodCA9IHBhZGRpbmdSaWdodDsgLy9jc3MoJ3BhZGRpbmctcmlnaHQnLCBwYWRkaW5nUmlnaHQpO1xyXG4gICAgaWYgKHBhZGRpbmdCb3R0b20pIGhpZGRlbkRpdi5zdHlsZS5wYWRkaW5nQm90dG9tID0gcGFkZGluZ0JvdHRvbTsgLy9jc3MoJ3BhZGRpbmctYm90dG9tJywgcGFkZGluZ0JvdHRvbSk7XHJcbiAgICBpZiAocGFkZGluZ0xlZnQpIGhpZGRlbkRpdi5zdHlsZS5wYWRkaW5nTGVmdCA9IHBhZGRpbmdMZWZ0OyAvL2NzcygncGFkZGluZy1sZWZ0JywgcGFkZGluZ0xlZnQpO1xyXG5cclxuICAgIC8vIFNldCBvcmlnaW5hbC1oZWlnaHQsIGlmIG5vbmVcclxuICAgIGlmICghdGV4dGFyZWEuaGFzQXR0cmlidXRlKCdvcmlnaW5hbC1oZWlnaHQnKSlcclxuICAgICAgdGV4dGFyZWEuc2V0QXR0cmlidXRlKCdvcmlnaW5hbC1oZWlnaHQnLCB0ZXh0YXJlYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgaWYgKHRleHRhcmVhLmdldEF0dHJpYnV0ZSgnd3JhcCcpID09PSAnb2ZmJykge1xyXG4gICAgICBoaWRkZW5EaXYuc3R5bGUub3ZlcmZsb3dXcmFwID0gJ25vcm1hbCc7IC8vICgnb3ZlcmZsb3ctd3JhcCcsICdub3JtYWwnKVxyXG4gICAgICBoaWRkZW5EaXYuc3R5bGUud2hpdGVTcGFjZSA9ICdwcmUnOyAgLy8uY3NzKCd3aGl0ZS1zcGFjZScsICdwcmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBoaWRkZW5EaXYuaW5uZXJUZXh0ID0gdGV4dGFyZWEudmFsdWUgKyAnXFxuJztcclxuXHJcbiAgICBjb25zdCBjb250ZW50ID0gaGlkZGVuRGl2LmlubmVySFRNTC5yZXBsYWNlKC9cXG4vZywgJzxicj4nKTtcclxuICAgIGhpZGRlbkRpdi5pbm5lckhUTUwgPSBjb250ZW50O1xyXG5cclxuICAgIC8vIFdoZW4gdGV4dGFyZWEgaXMgaGlkZGVuLCB3aWR0aCBnb2VzIGNyYXp5LlxyXG4gICAgLy8gQXBwcm94aW1hdGUgd2l0aCBoYWxmIG9mIHdpbmRvdyBzaXplXHJcbiAgICBpZiAodGV4dGFyZWEub2Zmc2V0V2lkdGggPiAwICYmIHRleHRhcmVhLm9mZnNldEhlaWdodCA+IDApIHtcclxuICAgICAgaGlkZGVuRGl2LnN0eWxlLndpZHRoID0gdGV4dGFyZWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKydweCc7IC8vICgnd2lkdGgnLCB0ZXh0YXJlYS53aWR0aCgpICsgJ3B4Jyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgaGlkZGVuRGl2LnN0eWxlLndpZHRoID0gKHdpbmRvdy5pbm5lcldpZHRoIC8gMikrJ3B4JyAvL2Nzcygnd2lkdGgnLCB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgKyAncHgnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXNpemUgaWYgdGhlIG5ldyBoZWlnaHQgaXMgZ3JlYXRlciB0aGFuIHRoZVxyXG4gICAgLy8gb3JpZ2luYWwgaGVpZ2h0IG9mIHRoZSB0ZXh0YXJlYVxyXG4gICAgY29uc3Qgb3JpZ2luYWxIZWlnaHQgPSBwYXJzZUludCh0ZXh0YXJlYS5nZXRBdHRyaWJ1dGUoJ29yaWdpbmFsLWhlaWdodCcpKTtcclxuICAgIGNvbnN0IHByZXZMZW5ndGggPSBwYXJzZUludCh0ZXh0YXJlYS5nZXRBdHRyaWJ1dGUoJ3ByZXZpb3VzLWxlbmd0aCcpKTtcclxuICAgIGlmIChpc05hTihvcmlnaW5hbEhlaWdodCkpIHJldHVybjtcclxuICAgIGlmIChvcmlnaW5hbEhlaWdodCA8PSBoaWRkZW5EaXYuY2xpZW50SGVpZ2h0KSB7XHJcbiAgICAgIHRleHRhcmVhLnN0eWxlLmhlaWdodCA9IGhpZGRlbkRpdi5jbGllbnRIZWlnaHQrJ3B4JzsgIC8vY3NzKCdoZWlnaHQnLCBoaWRkZW5EaXYuaW5uZXJIZWlnaHQoKSArICdweCcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGV4dGFyZWEudmFsdWUubGVuZ3RoIDwgcHJldkxlbmd0aCkge1xyXG4gICAgLy8gSW4gY2FzZSB0aGUgbmV3IGhlaWdodCBpcyBsZXNzIHRoYW4gb3JpZ2luYWwgaGVpZ2h0LCBpdFxyXG4gICAgLy8gbWVhbnMgdGhlIHRleHRhcmVhIGhhcyBsZXNzIHRleHQgdGhhbiBiZWZvcmVcclxuICAgIC8vIFNvIHdlIHNldCB0aGUgaGVpZ2h0IHRvIHRoZSBvcmlnaW5hbCBvbmVcclxuICAgICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gb3JpZ2luYWxIZWlnaHQrJ3B4JztcclxuICAgIH1cclxuICAgIHRleHRhcmVhLnNldEF0dHJpYnV0ZSgncHJldmlvdXMtbGVuZ3RoJywgdGV4dGFyZWEudmFsdWUubGVuZ3RoLnRvU3RyaW5nKCkpO1xyXG4gIH07XHJcblxyXG4gIHN0YXRpYyBJbml0KCl7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcblxyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gPEhUTUxJbnB1dEVsZW1lbnQ+ZS50YXJnZXQ7XHJcbiAgICAgICAgLy8gUmFkaW8gYW5kIENoZWNrYm94IGZvY3VzIGNsYXNzXHJcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgWydyYWRpbycsJ2NoZWNrYm94J10uaW5jbHVkZXModGFyZ2V0LnR5cGUpKSB7XHJcbiAgICAgICAgICAvLyBUQUIsIGNoZWNrIGlmIHRhYmJpbmcgdG8gcmFkaW8gb3IgY2hlY2tib3guXHJcbiAgICAgICAgICBpZiAoVXRpbHMua2V5cy5UQUIuaW5jbHVkZXMoZS5rZXkpKSB7XHJcbiAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCd0YWJiZWQnKTtcclxuICAgICAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBlID0+IHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCd0YWJiZWQnKSwge29uY2U6IHRydWV9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1hdGVyaWFsaXplLXRleHRhcmVhJykuZm9yRWFjaCgodGV4dEFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQpID0+IHtcclxuICAgICAgICAvLyBTYXZlIERhdGEgaW4gRWxlbWVudFxyXG4gICAgICAgIHRleHRBcmVhLnNldEF0dHJpYnV0ZSgnb3JpZ2luYWwtaGVpZ2h0JywgdGV4dEFyZWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHRleHRBcmVhLnNldEF0dHJpYnV0ZSgncHJldmlvdXMtbGVuZ3RoJywgdGV4dEFyZWEudmFsdWUubGVuZ3RoLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIEZvcm1zLnRleHRhcmVhQXV0b1Jlc2l6ZSh0ZXh0QXJlYSk7XHJcblxyXG4gICAgICAgIHRleHRBcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZSA9PiBGb3Jtcy50ZXh0YXJlYUF1dG9SZXNpemUodGV4dEFyZWEpKTtcclxuICAgICAgICB0ZXh0QXJlYS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiBGb3Jtcy50ZXh0YXJlYUF1dG9SZXNpemUodGV4dEFyZWEpKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBGaWxlIElucHV0IFBhdGhcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZpbGUtZmllbGQgaW5wdXRbdHlwZT1cImZpbGVcIl0nKS5mb3JFYWNoKChmaWxlSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICBmaWxlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBmaWxlRmllbGQgPSBmaWxlSW5wdXQuY2xvc2VzdCgnLmZpbGUtZmllbGQnKTtcclxuICAgICAgICAgIGNvbnN0IHBhdGhJbnB1dCA9IDxIVE1MSW5wdXRFbGVtZW50PmZpbGVGaWVsZC5xdWVyeVNlbGVjdG9yKCdpbnB1dC5maWxlLXBhdGgnKTtcclxuICAgICAgICAgIGNvbnN0IGZpbGVzID0gZmlsZUlucHV0LmZpbGVzO1xyXG4gICAgICAgICAgY29uc3QgZmlsZW5hbWVzID0gW107XHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZpbGVuYW1lcy5wdXNoKGZpbGVzW2ldLm5hbWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcGF0aElucHV0LnZhbHVlID0gZmlsZW5hbWVzLmpvaW4oJywgJyk7XHJcbiAgICAgICAgICBwYXRoSW5wdXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/forms.ts\n");

/***/ }),

/***/ "./src/global.ts":
/*!***********************!*\
  !*** ./src/global.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.M = void 0;\r\nconst autocomplete_1 = __webpack_require__(/*! ./autocomplete */ \"./src/autocomplete.ts\");\r\nconst buttons_1 = __webpack_require__(/*! ./buttons */ \"./src/buttons.ts\");\r\nconst cards_1 = __webpack_require__(/*! ./cards */ \"./src/cards.ts\");\r\nconst carousel_1 = __webpack_require__(/*! ./carousel */ \"./src/carousel.ts\");\r\nconst characterCounter_1 = __webpack_require__(/*! ./characterCounter */ \"./src/characterCounter.ts\");\r\nconst chips_1 = __webpack_require__(/*! ./chips */ \"./src/chips.ts\");\r\nconst collapsible_1 = __webpack_require__(/*! ./collapsible */ \"./src/collapsible.ts\");\r\nconst datepicker_1 = __webpack_require__(/*! ./datepicker */ \"./src/datepicker.ts\");\r\nconst dropdown_1 = __webpack_require__(/*! ./dropdown */ \"./src/dropdown.ts\");\r\nconst forms_1 = __webpack_require__(/*! ./forms */ \"./src/forms.ts\");\r\nconst materialbox_1 = __webpack_require__(/*! ./materialbox */ \"./src/materialbox.ts\");\r\nconst modal_1 = __webpack_require__(/*! ./modal */ \"./src/modal.ts\");\r\nconst parallax_1 = __webpack_require__(/*! ./parallax */ \"./src/parallax.ts\");\r\nconst pushpin_1 = __webpack_require__(/*! ./pushpin */ \"./src/pushpin.ts\");\r\nconst scrollspy_1 = __webpack_require__(/*! ./scrollspy */ \"./src/scrollspy.ts\");\r\nconst select_1 = __webpack_require__(/*! ./select */ \"./src/select.ts\");\r\nconst sidenav_1 = __webpack_require__(/*! ./sidenav */ \"./src/sidenav.ts\");\r\nconst slider_1 = __webpack_require__(/*! ./slider */ \"./src/slider.ts\");\r\nconst tabs_1 = __webpack_require__(/*! ./tabs */ \"./src/tabs.ts\");\r\nconst tapTarget_1 = __webpack_require__(/*! ./tapTarget */ \"./src/tapTarget.ts\");\r\nconst timepicker_1 = __webpack_require__(/*! ./timepicker */ \"./src/timepicker.ts\");\r\nconst toasts_1 = __webpack_require__(/*! ./toasts */ \"./src/toasts.ts\");\r\nconst tooltip_1 = __webpack_require__(/*! ./tooltip */ \"./src/tooltip.ts\");\r\nconst waves_1 = __webpack_require__(/*! ./waves */ \"./src/waves.ts\");\r\nconst range_1 = __webpack_require__(/*! ./range */ \"./src/range.ts\");\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nclass M {\r\n    /**\r\n     * Automatically initialize components.\r\n     * @param context Root element to initialize. Defaults to `document.body`.\r\n     */\r\n    static AutoInit(context = document.body) {\r\n        let registry = {\r\n            Autocomplete: context.querySelectorAll('.autocomplete:not(.no-autoinit)'),\r\n            Carousel: context.querySelectorAll('.carousel:not(.no-autoinit)'),\r\n            Chips: context.querySelectorAll('.chips:not(.no-autoinit)'),\r\n            Collapsible: context.querySelectorAll('.collapsible:not(.no-autoinit)'),\r\n            Datepicker: context.querySelectorAll('.datepicker:not(.no-autoinit)'),\r\n            Dropdown: context.querySelectorAll('.dropdown-trigger:not(.no-autoinit)'),\r\n            Materialbox: context.querySelectorAll('.materialboxed:not(.no-autoinit)'),\r\n            Modal: context.querySelectorAll('.modal:not(.no-autoinit)'),\r\n            Parallax: context.querySelectorAll('.parallax:not(.no-autoinit)'),\r\n            Pushpin: context.querySelectorAll('.pushpin:not(.no-autoinit)'),\r\n            ScrollSpy: context.querySelectorAll('.scrollspy:not(.no-autoinit)'),\r\n            FormSelect: context.querySelectorAll('select:not(.no-autoinit)'),\r\n            Sidenav: context.querySelectorAll('.sidenav:not(.no-autoinit)'),\r\n            Tabs: context.querySelectorAll('.tabs:not(.no-autoinit)'),\r\n            TapTarget: context.querySelectorAll('.tap-target:not(.no-autoinit)'),\r\n            Timepicker: context.querySelectorAll('.timepicker:not(.no-autoinit)'),\r\n            Tooltip: context.querySelectorAll('.tooltipped:not(.no-autoinit)'),\r\n            FloatingActionButton: context.querySelectorAll('.fixed-action-btn:not(.no-autoinit)'),\r\n        };\r\n        M.Autocomplete.init(registry.Autocomplete, {});\r\n        M.Carousel.init(registry.Carousel, {});\r\n        M.Chips.init(registry.Chips, {});\r\n        M.Collapsible.init(registry.Collapsible, {});\r\n        M.Datepicker.init(registry.Datepicker, {});\r\n        M.Dropdown.init(registry.Dropdown, {});\r\n        M.Materialbox.init(registry.Materialbox, {});\r\n        M.Modal.init(registry.Modal, {});\r\n        M.Parallax.init(registry.Parallax, {});\r\n        M.Pushpin.init(registry.Pushpin, {});\r\n        M.ScrollSpy.init(registry.ScrollSpy, {});\r\n        M.FormSelect.init(registry.FormSelect, {});\r\n        M.Sidenav.init(registry.Sidenav, {});\r\n        M.Tabs.init(registry.Tabs, {});\r\n        M.TapTarget.init(registry.TapTarget, {});\r\n        M.Timepicker.init(registry.Timepicker, {});\r\n        M.Tooltip.init(registry.Tooltip, {});\r\n        M.FloatingActionButton.init(registry.FloatingActionButton, {});\r\n    }\r\n}\r\nexports.M = M;\r\nM.version = '2.0.2-alpha';\r\nM.Autocomplete = autocomplete_1.Autocomplete;\r\nM.Tabs = tabs_1.Tabs;\r\nM.Carousel = carousel_1.Carousel;\r\nM.Dropdown = dropdown_1.Dropdown;\r\nM.FloatingActionButton = buttons_1.FloatingActionButton;\r\nM.Chips = chips_1.Chips;\r\nM.Collapsible = collapsible_1.Collapsible;\r\nM.Datepicker = datepicker_1.Datepicker;\r\nM.CharacterCounter = characterCounter_1.CharacterCounter;\r\nM.Forms = forms_1.Forms;\r\nM.FormSelect = select_1.FormSelect;\r\nM.Modal = modal_1.Modal;\r\nM.Pushpin = pushpin_1.Pushpin;\r\nM.Materialbox = materialbox_1.Materialbox;\r\nM.Parallax = parallax_1.Parallax;\r\nM.Slider = slider_1.Slider;\r\nM.Timepicker = timepicker_1.Timepicker;\r\n/** Creates a toast. */\r\nM.toast = (opt) => new toasts_1.Toast(opt);\r\nM.Tooltip = tooltip_1.Tooltip;\r\nM.Sidenav = sidenav_1.Sidenav;\r\nM.TapTarget = tapTarget_1.TapTarget;\r\nM.ScrollSpy = scrollspy_1.ScrollSpy;\r\nM.Range = range_1.Range;\r\nM.Waves = waves_1.Waves;\r\nM.Utils = utils_1.Utils;\r\n(() => {\r\n    document.addEventListener('keydown', utils_1.Utils.docHandleKeydown, true);\r\n    document.addEventListener('keyup', utils_1.Utils.docHandleKeyup, true);\r\n    document.addEventListener('focus', utils_1.Utils.docHandleFocus, true);\r\n    document.addEventListener('blur', utils_1.Utils.docHandleBlur, true);\r\n    cards_1.Cards.Init();\r\n    forms_1.Forms.Init();\r\n    chips_1.Chips.Init();\r\n    waves_1.Waves.Init();\r\n    range_1.Range.Init();\r\n})();\r\nexports[\"default\"] = M;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRSxhQUFLLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQy9ELFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsYUFBSyxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMvRCxRQUFRLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLGFBQUssQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDN0QsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ2YsQ0FBQztBQWdESCxxQkFBZSxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvZ2xvYmFsLnRzPzA0YTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXV0b2NvbXBsZXRlIH0gZnJvbSAnLi9hdXRvY29tcGxldGUnO1xyXG5pbXBvcnQgeyBGbG9hdGluZ0FjdGlvbkJ1dHRvbiB9IGZyb20gJy4vYnV0dG9ucyc7XHJcbmltcG9ydCB7IENhcmRzIH0gZnJvbSAnLi9jYXJkcyc7XHJcbmltcG9ydCB7IENhcm91c2VsIH0gZnJvbSAnLi9jYXJvdXNlbCc7XHJcbmltcG9ydCB7IENoYXJhY3RlckNvdW50ZXIgfSBmcm9tICcuL2NoYXJhY3RlckNvdW50ZXInO1xyXG5pbXBvcnQgeyBDaGlwcyB9IGZyb20gJy4vY2hpcHMnO1xyXG5pbXBvcnQgeyBDb2xsYXBzaWJsZSB9IGZyb20gJy4vY29sbGFwc2libGUnO1xyXG5pbXBvcnQgeyBEYXRlcGlja2VyIH0gZnJvbSAnLi9kYXRlcGlja2VyJztcclxuaW1wb3J0IHsgRHJvcGRvd24gfSBmcm9tICcuL2Ryb3Bkb3duJztcclxuaW1wb3J0IHsgRm9ybXMgfSBmcm9tICcuL2Zvcm1zJztcclxuaW1wb3J0IHsgTWF0ZXJpYWxib3ggfSBmcm9tICcuL21hdGVyaWFsYm94JztcclxuaW1wb3J0IHsgTW9kYWwgfSBmcm9tICcuL21vZGFsJztcclxuaW1wb3J0IHsgUGFyYWxsYXggfSBmcm9tICcuL3BhcmFsbGF4JztcclxuaW1wb3J0IHsgUHVzaHBpbiB9IGZyb20gJy4vcHVzaHBpbic7XHJcbmltcG9ydCB7IFNjcm9sbFNweSB9IGZyb20gJy4vc2Nyb2xsc3B5JztcclxuaW1wb3J0IHsgRm9ybVNlbGVjdCB9IGZyb20gJy4vc2VsZWN0JztcclxuaW1wb3J0IHsgU2lkZW5hdiB9IGZyb20gJy4vc2lkZW5hdic7XHJcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gJy4vc2xpZGVyJztcclxuaW1wb3J0IHsgVGFicyB9IGZyb20gJy4vdGFicyc7XHJcbmltcG9ydCB7IFRhcFRhcmdldCB9IGZyb20gJy4vdGFwVGFyZ2V0JztcclxuaW1wb3J0IHsgVGltZXBpY2tlciB9IGZyb20gJy4vdGltZXBpY2tlcic7XHJcbmltcG9ydCB7IFRvYXN0LCBUb2FzdE9wdGlvbnMgfSBmcm9tICcuL3RvYXN0cyc7XHJcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICcuL3Rvb2x0aXAnO1xyXG5pbXBvcnQgeyBXYXZlcyB9IGZyb20gJy4vd2F2ZXMnO1xyXG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4vcmFuZ2UnO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vdXRpbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE0ge1xyXG4gIHN0YXRpYyB2ZXJzaW9uID0gJzIuMC4yLWFscGhhJztcclxuXHJcbiAgc3RhdGljIEF1dG9jb21wbGV0ZTogdHlwZW9mIEF1dG9jb21wbGV0ZSA9IEF1dG9jb21wbGV0ZTtcclxuICBzdGF0aWMgVGFiczogdHlwZW9mIFRhYnMgPSBUYWJzO1xyXG4gIHN0YXRpYyBDYXJvdXNlbDogdHlwZW9mIENhcm91c2VsID0gQ2Fyb3VzZWw7XHJcbiAgc3RhdGljIERyb3Bkb3duOiB0eXBlb2YgRHJvcGRvd24gPSBEcm9wZG93bjtcclxuICBzdGF0aWMgRmxvYXRpbmdBY3Rpb25CdXR0b246IHR5cGVvZiBGbG9hdGluZ0FjdGlvbkJ1dHRvbiA9IEZsb2F0aW5nQWN0aW9uQnV0dG9uO1xyXG4gIHN0YXRpYyBDaGlwczogdHlwZW9mIENoaXBzID0gQ2hpcHM7XHJcbiAgc3RhdGljIENvbGxhcHNpYmxlOiB0eXBlb2YgQ29sbGFwc2libGUgPSBDb2xsYXBzaWJsZTtcclxuICBzdGF0aWMgRGF0ZXBpY2tlcjogdHlwZW9mIERhdGVwaWNrZXIgPSBEYXRlcGlja2VyO1xyXG4gIHN0YXRpYyBDaGFyYWN0ZXJDb3VudGVyOiB0eXBlb2YgQ2hhcmFjdGVyQ291bnRlciA9IENoYXJhY3RlckNvdW50ZXI7XHJcbiAgc3RhdGljIEZvcm1zOiB0eXBlb2YgRm9ybXMgPSBGb3JtcztcclxuICBzdGF0aWMgRm9ybVNlbGVjdDogdHlwZW9mIEZvcm1TZWxlY3QgPSBGb3JtU2VsZWN0O1xyXG4gIHN0YXRpYyBNb2RhbDogdHlwZW9mIE1vZGFsID0gTW9kYWw7XHJcbiAgc3RhdGljIFB1c2hwaW46IHR5cGVvZiBQdXNocGluID0gUHVzaHBpbjtcclxuICBzdGF0aWMgTWF0ZXJpYWxib3g6IHR5cGVvZiBNYXRlcmlhbGJveCA9IE1hdGVyaWFsYm94O1xyXG4gIHN0YXRpYyBQYXJhbGxheDogdHlwZW9mIFBhcmFsbGF4ID0gUGFyYWxsYXg7XHJcbiAgc3RhdGljIFNsaWRlcjogdHlwZW9mIFNsaWRlciA9IFNsaWRlcjtcclxuICBzdGF0aWMgVGltZXBpY2tlcjogdHlwZW9mIFRpbWVwaWNrZXIgPSBUaW1lcGlja2VyO1xyXG4gIC8qKiBDcmVhdGVzIGEgdG9hc3QuICovXHJcbiAgc3RhdGljIHRvYXN0OiAob3B0OiBQYXJ0aWFsPFRvYXN0T3B0aW9ucz4pID0+IFRvYXN0ID0gKG9wdCkgPT4gbmV3IFRvYXN0KG9wdCkgO1xyXG4gIHN0YXRpYyBUb29sdGlwOiB0eXBlb2YgVG9vbHRpcCA9IFRvb2x0aXA7XHJcbiAgc3RhdGljIFNpZGVuYXY6IHR5cGVvZiBTaWRlbmF2ID0gU2lkZW5hdjtcclxuICBzdGF0aWMgVGFwVGFyZ2V0OiB0eXBlb2YgVGFwVGFyZ2V0ID0gVGFwVGFyZ2V0O1xyXG4gIHN0YXRpYyBTY3JvbGxTcHk6IHR5cGVvZiBTY3JvbGxTcHkgPSBTY3JvbGxTcHk7XHJcbiAgc3RhdGljIFJhbmdlOiB0eXBlb2YgUmFuZ2UgPSBSYW5nZTtcclxuICBzdGF0aWMgV2F2ZXM6IHR5cGVvZiBXYXZlcyA9IFdhdmVzO1xyXG4gIHN0YXRpYyBVdGlsczogdHlwZW9mIFV0aWxzID0gVXRpbHM7XHJcblxyXG4gIHN0YXRpYyB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgVXRpbHMuZG9jSGFuZGxlS2V5ZG93biwgdHJ1ZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIFV0aWxzLmRvY0hhbmRsZUtleXVwLCB0cnVlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgVXRpbHMuZG9jSGFuZGxlRm9jdXMsIHRydWUpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIFV0aWxzLmRvY0hhbmRsZUJsdXIsIHRydWUpO1xyXG4gICAgQ2FyZHMuSW5pdCgpO1xyXG4gICAgRm9ybXMuSW5pdCgpO1xyXG4gICAgQ2hpcHMuSW5pdCgpO1xyXG4gICAgV2F2ZXMuSW5pdCgpO1xyXG4gICAgUmFuZ2UuSW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQXV0b21hdGljYWxseSBpbml0aWFsaXplIGNvbXBvbmVudHMuXHJcbiAgICogQHBhcmFtIGNvbnRleHQgUm9vdCBlbGVtZW50IHRvIGluaXRpYWxpemUuIERlZmF1bHRzIHRvIGBkb2N1bWVudC5ib2R5YC5cclxuICAgKi9cclxuICBzdGF0aWMgQXV0b0luaXQoY29udGV4dDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5ib2R5KSB7XHJcbiAgICBsZXQgcmVnaXN0cnkgPSB7XHJcbiAgICAgIEF1dG9jb21wbGV0ZTogY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCcuYXV0b2NvbXBsZXRlOm5vdCgubm8tYXV0b2luaXQpJyksXHJcbiAgICAgIENhcm91c2VsOiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbDpub3QoLm5vLWF1dG9pbml0KScpLFxyXG4gICAgICBDaGlwczogY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hpcHM6bm90KC5uby1hdXRvaW5pdCknKSxcclxuICAgICAgQ29sbGFwc2libGU6IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLmNvbGxhcHNpYmxlOm5vdCgubm8tYXV0b2luaXQpJyksXHJcbiAgICAgIERhdGVwaWNrZXI6IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLmRhdGVwaWNrZXI6bm90KC5uby1hdXRvaW5pdCknKSxcclxuICAgICAgRHJvcGRvd246IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLmRyb3Bkb3duLXRyaWdnZXI6bm90KC5uby1hdXRvaW5pdCknKSxcclxuICAgICAgTWF0ZXJpYWxib3g6IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLm1hdGVyaWFsYm94ZWQ6bm90KC5uby1hdXRvaW5pdCknKSxcclxuICAgICAgTW9kYWw6IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsOm5vdCgubm8tYXV0b2luaXQpJyksXHJcbiAgICAgIFBhcmFsbGF4OiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYXJhbGxheDpub3QoLm5vLWF1dG9pbml0KScpLFxyXG4gICAgICBQdXNocGluOiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wdXNocGluOm5vdCgubm8tYXV0b2luaXQpJyksXHJcbiAgICAgIFNjcm9sbFNweTogY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCcuc2Nyb2xsc3B5Om5vdCgubm8tYXV0b2luaXQpJyksXHJcbiAgICAgIEZvcm1TZWxlY3Q6IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnc2VsZWN0Om5vdCgubm8tYXV0b2luaXQpJyksXHJcbiAgICAgIFNpZGVuYXY6IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLnNpZGVuYXY6bm90KC5uby1hdXRvaW5pdCknKSxcclxuICAgICAgVGFiczogY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiczpub3QoLm5vLWF1dG9pbml0KScpLFxyXG4gICAgICBUYXBUYXJnZXQ6IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLnRhcC10YXJnZXQ6bm90KC5uby1hdXRvaW5pdCknKSxcclxuICAgICAgVGltZXBpY2tlcjogY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCcudGltZXBpY2tlcjpub3QoLm5vLWF1dG9pbml0KScpLFxyXG4gICAgICBUb29sdGlwOiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b29sdGlwcGVkOm5vdCgubm8tYXV0b2luaXQpJyksXHJcbiAgICAgIEZsb2F0aW5nQWN0aW9uQnV0dG9uOiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maXhlZC1hY3Rpb24tYnRuOm5vdCgubm8tYXV0b2luaXQpJyksXHJcbiAgICB9O1xyXG4gICAgTS5BdXRvY29tcGxldGUuaW5pdChyZWdpc3RyeS5BdXRvY29tcGxldGUsIHt9KTtcclxuICAgIE0uQ2Fyb3VzZWwuaW5pdChyZWdpc3RyeS5DYXJvdXNlbCwge30pO1xyXG4gICAgTS5DaGlwcy5pbml0KHJlZ2lzdHJ5LkNoaXBzLCB7fSk7XHJcbiAgICBNLkNvbGxhcHNpYmxlLmluaXQocmVnaXN0cnkuQ29sbGFwc2libGUsIHt9KTtcclxuICAgIE0uRGF0ZXBpY2tlci5pbml0KHJlZ2lzdHJ5LkRhdGVwaWNrZXIsIHt9KTtcclxuICAgIE0uRHJvcGRvd24uaW5pdChyZWdpc3RyeS5Ecm9wZG93biwge30pO1xyXG4gICAgTS5NYXRlcmlhbGJveC5pbml0KHJlZ2lzdHJ5Lk1hdGVyaWFsYm94LCB7fSk7XHJcbiAgICBNLk1vZGFsLmluaXQocmVnaXN0cnkuTW9kYWwsIHt9KTtcclxuICAgIE0uUGFyYWxsYXguaW5pdChyZWdpc3RyeS5QYXJhbGxheCwge30pO1xyXG4gICAgTS5QdXNocGluLmluaXQocmVnaXN0cnkuUHVzaHBpbiwge30pO1xyXG4gICAgTS5TY3JvbGxTcHkuaW5pdChyZWdpc3RyeS5TY3JvbGxTcHksIHt9KTtcclxuICAgIE0uRm9ybVNlbGVjdC5pbml0KHJlZ2lzdHJ5LkZvcm1TZWxlY3QsIHt9KTtcclxuICAgIE0uU2lkZW5hdi5pbml0KHJlZ2lzdHJ5LlNpZGVuYXYsIHt9KTtcclxuICAgIE0uVGFicy5pbml0KHJlZ2lzdHJ5LlRhYnMsIHt9KTtcclxuICAgIE0uVGFwVGFyZ2V0LmluaXQocmVnaXN0cnkuVGFwVGFyZ2V0LCB7fSk7XHJcbiAgICBNLlRpbWVwaWNrZXIuaW5pdChyZWdpc3RyeS5UaW1lcGlja2VyLCB7fSk7XHJcbiAgICBNLlRvb2x0aXAuaW5pdChyZWdpc3RyeS5Ub29sdGlwLCB7fSk7XHJcbiAgICBNLkZsb2F0aW5nQWN0aW9uQnV0dG9uLmluaXQocmVnaXN0cnkuRmxvYXRpbmdBY3Rpb25CdXR0b24sIHt9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/global.ts\n");

/***/ }),

/***/ "./src/materialbox.ts":
/*!****************************!*\
  !*** ./src/materialbox.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Materialbox = void 0;\r\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\nconst _defaults = {\r\n    inDuration: 275,\r\n    outDuration: 200,\r\n    onOpenStart: null,\r\n    onOpenEnd: null,\r\n    onCloseStart: null,\r\n    onCloseEnd: null\r\n};\r\nclass Materialbox extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Materialbox);\r\n        this._handleMaterialboxClick = () => {\r\n            // If already modal, return to original\r\n            if (this.doneAnimating === false || (this.overlayActive && this.doneAnimating))\r\n                this.close();\r\n            else\r\n                this.open();\r\n        };\r\n        this._handleWindowScroll = () => {\r\n            if (this.overlayActive)\r\n                this.close();\r\n        };\r\n        this._handleWindowResize = () => {\r\n            if (this.overlayActive)\r\n                this.close();\r\n        };\r\n        this._handleWindowEscape = (e) => {\r\n            if (utils_1.Utils.keys.ESC.includes(e.key) && this.doneAnimating && this.overlayActive)\r\n                this.close();\r\n        };\r\n        /**\r\n         * Open materialbox.\r\n         */\r\n        this.open = () => {\r\n            this._updateVars();\r\n            this.originalWidth = this.el.getBoundingClientRect().width;\r\n            this.originalHeight = this.el.getBoundingClientRect().height;\r\n            // Set states\r\n            this.doneAnimating = false;\r\n            this.el.classList.add('active');\r\n            this.overlayActive = true;\r\n            // onOpenStart callback\r\n            if (typeof this.options.onOpenStart === 'function') {\r\n                this.options.onOpenStart.call(this, this.el);\r\n            }\r\n            // Set positioning for placeholder\r\n            this.placeholder.style.width = this.placeholder.getBoundingClientRect().width + 'px';\r\n            this.placeholder.style.height = this.placeholder.getBoundingClientRect().height + 'px';\r\n            this.placeholder.style.position = 'relative';\r\n            this.placeholder.style.top = '0';\r\n            this.placeholder.style.left = '0';\r\n            this._makeAncestorsOverflowVisible();\r\n            // Set css on origin\r\n            this.el.style.position = 'absolute';\r\n            this.el.style.zIndex = '1000';\r\n            this.el.style.willChange = 'left, top, width, height';\r\n            // Change from width or height attribute to css\r\n            this.attrWidth = this.el.getAttribute('width');\r\n            this.attrHeight = this.el.getAttribute('height');\r\n            if (this.attrWidth) {\r\n                this.el.style.width = this.attrWidth + 'px';\r\n                this.el.removeAttribute('width');\r\n            }\r\n            if (this.attrHeight) {\r\n                this.el.style.width = this.attrHeight + 'px';\r\n                this.el.removeAttribute('height');\r\n            }\r\n            // Add overlay\r\n            this._overlay = document.createElement('div');\r\n            this._overlay.id = 'materialbox-overlay';\r\n            this._overlay.style.opacity = '0';\r\n            this._overlay.addEventListener('click', e => {\r\n                if (this.doneAnimating)\r\n                    this.close();\r\n            }, { once: true });\r\n            // Put before in origin image to preserve z-index layering.\r\n            this.el.before(this._overlay);\r\n            // Set dimensions if needed\r\n            const overlayOffset = this._overlay.getBoundingClientRect();\r\n            this._overlay.style.width = this.windowWidth + 'px';\r\n            this._overlay.style.height = this.windowHeight + 'px';\r\n            this._overlay.style.left = -1 * overlayOffset.left + 'px';\r\n            this._overlay.style.top = -1 * overlayOffset.top + 'px';\r\n            animejs_1.default.remove(this.el);\r\n            animejs_1.default.remove(this._overlay);\r\n            // Animate Overlay\r\n            (0, animejs_1.default)({\r\n                targets: this._overlay,\r\n                opacity: 1,\r\n                duration: this.options.inDuration,\r\n                easing: 'easeOutQuad'\r\n            });\r\n            // Add and animate caption if it exists\r\n            if (this.caption !== '') {\r\n                if (this._photoCaption)\r\n                    animejs_1.default.remove(this._photoCaption);\r\n                this._photoCaption = document.createElement('div');\r\n                this._photoCaption.classList.add('materialbox-caption');\r\n                this._photoCaption.innerText = this.caption;\r\n                document.body.append(this._photoCaption);\r\n                this._photoCaption.style.display = 'inline';\r\n                (0, animejs_1.default)({\r\n                    targets: this._photoCaption,\r\n                    opacity: 1,\r\n                    duration: this.options.inDuration,\r\n                    easing: 'easeOutQuad'\r\n                });\r\n            }\r\n            // Resize Image\r\n            const widthPercent = this.originalWidth / this.windowWidth;\r\n            const heightPercent = this.originalHeight / this.windowHeight;\r\n            this.newWidth = 0;\r\n            this.newHeight = 0;\r\n            if (widthPercent > heightPercent) {\r\n                // Width first\r\n                const ratio = this.originalHeight / this.originalWidth;\r\n                this.newWidth = this.windowWidth * 0.9;\r\n                this.newHeight = this.windowWidth * 0.9 * ratio;\r\n            }\r\n            else {\r\n                // Height first\r\n                const ratio = this.originalWidth / this.originalHeight;\r\n                this.newWidth = this.windowHeight * 0.9 * ratio;\r\n                this.newHeight = this.windowHeight * 0.9;\r\n            }\r\n            this._animateImageIn();\r\n            // Handle Exit triggers\r\n            window.addEventListener('scroll', this._handleWindowScroll);\r\n            window.addEventListener('resize', this._handleWindowResize);\r\n            window.addEventListener('keyup', this._handleWindowEscape);\r\n        };\r\n        /**\r\n         * Close materialbox.\r\n         */\r\n        this.close = () => {\r\n            this._updateVars();\r\n            this.doneAnimating = false;\r\n            // onCloseStart callback\r\n            if (typeof this.options.onCloseStart === 'function') {\r\n                this.options.onCloseStart.call(this, this.el);\r\n            }\r\n            animejs_1.default.remove(this.el);\r\n            animejs_1.default.remove(this._overlay);\r\n            if (this.caption !== '')\r\n                animejs_1.default.remove(this._photoCaption);\r\n            // disable exit handlers\r\n            window.removeEventListener('scroll', this._handleWindowScroll);\r\n            window.removeEventListener('resize', this._handleWindowResize);\r\n            window.removeEventListener('keyup', this._handleWindowEscape);\r\n            (0, animejs_1.default)({\r\n                targets: this._overlay,\r\n                opacity: 0,\r\n                duration: this.options.outDuration,\r\n                easing: 'easeOutQuad',\r\n                complete: () => {\r\n                    this.overlayActive = false;\r\n                    this._overlay.remove();\r\n                }\r\n            });\r\n            this._animateImageOut();\r\n            // Remove Caption + reset css settings on image\r\n            if (this.caption !== '') {\r\n                (0, animejs_1.default)({\r\n                    targets: this._photoCaption,\r\n                    opacity: 0,\r\n                    duration: this.options.outDuration,\r\n                    easing: 'easeOutQuad',\r\n                    complete: () => {\r\n                        this._photoCaption.remove();\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        this.el.M_Materialbox = this;\r\n        this.options = Object.assign(Object.assign({}, Materialbox.defaults), options);\r\n        this.overlayActive = false;\r\n        this.doneAnimating = true;\r\n        this.placeholder = document.createElement('div');\r\n        this.placeholder.classList.add('material-placeholder');\r\n        this.originalWidth = 0;\r\n        this.originalHeight = 0;\r\n        this.originInlineStyles = this.el.getAttribute('style');\r\n        this.caption = this.el.getAttribute('data-caption') || '';\r\n        // Wrap\r\n        this.el.before(this.placeholder);\r\n        this.placeholder.append(this.el);\r\n        this._setupEventHandlers();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of MaterialBox.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Materialbox);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Materialbox;\r\n    }\r\n    destroy() {\r\n        this._removeEventHandlers();\r\n        this.el.M_Materialbox = undefined;\r\n        // Unwrap image\r\n        //this.placeholder.after(this.el).remove();\r\n        this.placeholder.remove();\r\n        this.el.removeAttribute('style');\r\n    }\r\n    _setupEventHandlers() {\r\n        this.el.addEventListener('click', this._handleMaterialboxClick);\r\n    }\r\n    _removeEventHandlers() {\r\n        this.el.removeEventListener('click', this._handleMaterialboxClick);\r\n    }\r\n    _makeAncestorsOverflowVisible() {\r\n        this._changedAncestorList = [];\r\n        let ancestor = this.placeholder.parentNode;\r\n        while (ancestor !== null && ancestor !== document) {\r\n            const curr = ancestor;\r\n            if (curr.style.overflow !== 'visible') {\r\n                curr.style.overflow = 'visible';\r\n                this._changedAncestorList.push(curr);\r\n            }\r\n            ancestor = ancestor.parentNode;\r\n        }\r\n    }\r\n    _offset(el) {\r\n        const box = el.getBoundingClientRect();\r\n        const docElem = document.documentElement;\r\n        return {\r\n            top: box.top + window.pageYOffset - docElem.clientTop,\r\n            left: box.left + window.pageXOffset - docElem.clientLeft\r\n        };\r\n    }\r\n    _animateImageIn() {\r\n        this.el.style.maxHeight = this.newHeight.toString() + 'px';\r\n        this.el.style.maxWidth = this.newWidth.toString() + 'px';\r\n        const animOptions = {\r\n            targets: this.el,\r\n            height: [this.originalHeight, this.newHeight],\r\n            width: [this.originalWidth, this.newWidth],\r\n            left: utils_1.Utils.getDocumentScrollLeft() +\r\n                this.windowWidth / 2 -\r\n                this._offset(this.placeholder).left -\r\n                this.newWidth / 2,\r\n            top: utils_1.Utils.getDocumentScrollTop() +\r\n                this.windowHeight / 2 -\r\n                this._offset(this.placeholder).top -\r\n                this.newHeight / 2,\r\n            duration: this.options.inDuration,\r\n            easing: 'easeOutQuad',\r\n            complete: () => {\r\n                this.doneAnimating = true;\r\n                // onOpenEnd callback\r\n                if (typeof this.options.onOpenEnd === 'function') {\r\n                    this.options.onOpenEnd.call(this, this.el);\r\n                }\r\n            }\r\n        };\r\n        // Override max-width or max-height if needed\r\n        //const elStyle = this.el.style;\r\n        //console.log('mh', elStyle.maxHeight, '->', this.newHeight);\r\n        //console.log('mw', elStyle.maxWidth, '->', this.newWidth);\r\n        //if (elStyle.maxWidth !== 'none') animOptions.maxWidth = this.newWidth;\r\n        //if (elStyle.maxHeight !== 'none') animOptions.maxHeight = this.newHeight;\r\n        //console.log('>>> animate');\r\n        //console.log(JSON.stringify(animOptions));\r\n        (0, animejs_1.default)(animOptions);\r\n    }\r\n    _animateImageOut() {\r\n        const animOptions = {\r\n            targets: this.el,\r\n            width: this.originalWidth,\r\n            height: this.originalHeight,\r\n            left: 0,\r\n            top: 0,\r\n            duration: this.options.outDuration,\r\n            easing: 'easeOutQuad',\r\n            complete: () => {\r\n                this.placeholder.style.height = '';\r\n                this.placeholder.style.width = '';\r\n                this.placeholder.style.position = '';\r\n                this.placeholder.style.top = '';\r\n                this.placeholder.style.left = '';\r\n                // Revert to width or height attribute\r\n                if (this.attrWidth)\r\n                    this.el.setAttribute('width', this.attrWidth.toString());\r\n                if (this.attrHeight)\r\n                    this.el.setAttribute('height', this.attrHeight.toString());\r\n                this.el.removeAttribute('style');\r\n                this.originInlineStyles && this.el.setAttribute('style', this.originInlineStyles);\r\n                // Remove class\r\n                this.el.classList.remove('active');\r\n                this.doneAnimating = true;\r\n                // Remove overflow overrides on ancestors\r\n                this._changedAncestorList.forEach(anchestor => anchestor.style.overflow = '');\r\n                // onCloseEnd callback\r\n                if (typeof this.options.onCloseEnd === 'function') {\r\n                    this.options.onCloseEnd.call(this, this.el);\r\n                }\r\n            }\r\n        };\r\n        (0, animejs_1.default)(animOptions);\r\n    }\r\n    _updateVars() {\r\n        this.windowWidth = window.innerWidth;\r\n        this.windowHeight = window.innerHeight;\r\n        this.caption = this.el.getAttribute('data-caption') || '';\r\n    }\r\n}\r\nexports.Materialbox = Materialbox;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7aUJBQzdDO1lBQ0gsQ0FBQztTQUNGLENBQUM7UUFDRixxQkFBSSxFQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3BCLENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQztRQUN2QyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUM1RCxDQUFDO0NBaUpGO0FBcFdELGtDQW9XQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9tYXRlcmlhbGJveC50cz85N2Y1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XHJcblxyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IEJhc2VPcHRpb25zLCBDb21wb25lbnQsIEluaXRFbGVtZW50cywgTUVsZW1lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWF0ZXJpYWxib3hPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge1xyXG4gIC8qKlxyXG4gICAqIFRyYW5zaXRpb24gaW4gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAqIEBkZWZhdWx0IDI3NVxyXG4gICAqL1xyXG4gIGluRHVyYXRpb246IG51bWJlcjtcclxuICAvKipcclxuICAgKiBUcmFuc2l0aW9uIG91dCBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICogQGRlZmF1bHQgMjAwXHJcbiAgICovXHJcbiAgb3V0RHVyYXRpb246IG51bWJlcjtcclxuICAvKipcclxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYmVmb3JlIG1hdGVyaWFsYm94IGlzIG9wZW5lZC5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgb25PcGVuU3RhcnQ6IChlbDogRWxlbWVudCkgPT4gdm9pZDtcclxuICAvKipcclxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgbWF0ZXJpYWxib3ggaXMgb3BlbmVkLlxyXG4gICAqIEBkZWZhdWx0IG51bGxcclxuICAgKi9cclxuICBvbk9wZW5FbmQ6IChlbDogRWxlbWVudCkgPT4gdm9pZDtcclxuICAvKipcclxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYmVmb3JlIG1hdGVyaWFsYm94IGlzIGNsb3NlZC5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgb25DbG9zZVN0YXJ0OiAoZWw6IEVsZW1lbnQpID0+IHZvaWQ7XHJcbiAgLyoqXHJcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIG1hdGVyaWFsYm94IGlzIGNsb3NlZC5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgb25DbG9zZUVuZDogKGVsOiBFbGVtZW50KSA9PiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBfZGVmYXVsdHM6IE1hdGVyaWFsYm94T3B0aW9ucyA9IHtcclxuICBpbkR1cmF0aW9uOiAyNzUsXHJcbiAgb3V0RHVyYXRpb246IDIwMCxcclxuICBvbk9wZW5TdGFydDogbnVsbCxcclxuICBvbk9wZW5FbmQ6IG51bGwsXHJcbiAgb25DbG9zZVN0YXJ0OiBudWxsLFxyXG4gIG9uQ2xvc2VFbmQ6IG51bGxcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBNYXRlcmlhbGJveCBleHRlbmRzIENvbXBvbmVudDxNYXRlcmlhbGJveE9wdGlvbnM+IHtcclxuICAvKiogSWYgdGhlIG1hdGVyaWFsYm94IG92ZXJsYXkgaXMgc2hvd2luZy4gKi9cclxuICBvdmVybGF5QWN0aXZlOiBib29sZWFuO1xyXG4gIC8qKiBJZiB0aGUgbWF0ZXJpYWxib3ggaXMgbm8gbG9uZ2VyIGJlaW5nIGFuaW1hdGVkLiAqL1xyXG4gIGRvbmVBbmltYXRpbmc6IGJvb2xlYW47XHJcbiAgLyoqIENhcHRpb24sIGlmIHNwZWNpZmllZC4gKi9cclxuICBjYXB0aW9uOiBzdHJpbmc7XHJcbiAgLyoqIE9yaWdpbmFsIHdpZHRoIG9mIGltYWdlLiAqL1xyXG4gIG9yaWdpbmFsV2lkdGg6IG51bWJlcjtcclxuICAvKiogT3JpZ2luYWwgaGVpZ2h0IG9mIGltYWdlLiAqL1xyXG4gIG9yaWdpbmFsSGVpZ2h0OiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBvcmlnaW5JbmxpbmVTdHlsZXM6IHN0cmluZztcclxuICBwcml2YXRlIHBsYWNlaG9sZGVyOiBIVE1MRWxlbWVudDtcclxuICBwcml2YXRlIF9jaGFuZ2VkQW5jZXN0b3JMaXN0OiBIVE1MRWxlbWVudFtdO1xyXG4gIHByaXZhdGUgbmV3SGVpZ2h0OiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBuZXdXaWR0aDogbnVtYmVyO1xyXG4gIHByaXZhdGUgd2luZG93V2lkdGg6IG51bWJlcjtcclxuICBwcml2YXRlIHdpbmRvd0hlaWdodDogbnVtYmVyO1xyXG4gIHByaXZhdGUgYXR0cldpZHRoOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBhdHRySGVpZ2h0OiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBfb3ZlcmxheTogSFRNTEVsZW1lbnQ7XHJcbiAgcHJpdmF0ZSBfcGhvdG9DYXB0aW9uOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPE1hdGVyaWFsYm94T3B0aW9ucz4pIHtcclxuICAgIHN1cGVyKGVsLCBvcHRpb25zLCBNYXRlcmlhbGJveCk7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fTWF0ZXJpYWxib3ggPSB0aGlzO1xyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgLi4uTWF0ZXJpYWxib3guZGVmYXVsdHMsXHJcbiAgICAgIC4uLm9wdGlvbnNcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMub3ZlcmxheUFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5kb25lQW5pbWF0aW5nID0gdHJ1ZTtcclxuICAgIHRoaXMucGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMucGxhY2Vob2xkZXIuY2xhc3NMaXN0LmFkZCgnbWF0ZXJpYWwtcGxhY2Vob2xkZXInKTtcclxuICAgIHRoaXMub3JpZ2luYWxXaWR0aCA9IDA7XHJcbiAgICB0aGlzLm9yaWdpbmFsSGVpZ2h0ID0gMDtcclxuICAgIHRoaXMub3JpZ2luSW5saW5lU3R5bGVzID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyk7XHJcbiAgICB0aGlzLmNhcHRpb24gPSB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXB0aW9uJykgfHwgJyc7XHJcbiAgICAvLyBXcmFwXHJcbiAgICB0aGlzLmVsLmJlZm9yZSh0aGlzLnBsYWNlaG9sZGVyKTtcclxuICAgIHRoaXMucGxhY2Vob2xkZXIuYXBwZW5kKHRoaXMuZWwpO1xyXG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCk6IE1hdGVyaWFsYm94T3B0aW9ucyB7XHJcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgTWF0ZXJpYWxCb3guXHJcbiAgICogQHBhcmFtIGVsIEhUTUwgZWxlbWVudC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBQYXJ0aWFsPE1hdGVyaWFsYm94T3B0aW9ucz4pOiBNYXRlcmlhbGJveDtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgTWF0ZXJpYWxCb3guXHJcbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8TWF0ZXJpYWxib3hPcHRpb25zPik6IE1hdGVyaWFsYm94W107XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIE1hdGVyaWFsQm94LlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxFbGVtZW50IHwgSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxNYXRlcmlhbGJveE9wdGlvbnM+ID0ge30pOiBNYXRlcmlhbGJveCB8IE1hdGVyaWFsYm94W117XHJcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIE1hdGVyaWFsYm94KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBNYXRlcmlhbGJveCB7XHJcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9NYXRlcmlhbGJveDtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fTWF0ZXJpYWxib3ggPSB1bmRlZmluZWQ7XHJcbiAgICAvLyBVbndyYXAgaW1hZ2VcclxuICAgIC8vdGhpcy5wbGFjZWhvbGRlci5hZnRlcih0aGlzLmVsKS5yZW1vdmUoKTtcclxuICAgIHRoaXMucGxhY2Vob2xkZXIucmVtb3ZlKCk7XHJcbiAgICB0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICB9XHJcblxyXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XHJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTWF0ZXJpYWxib3hDbGljayk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVNYXRlcmlhbGJveENsaWNrKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVNYXRlcmlhbGJveENsaWNrID0gKCkgPT4ge1xyXG4gICAgLy8gSWYgYWxyZWFkeSBtb2RhbCwgcmV0dXJuIHRvIG9yaWdpbmFsXHJcbiAgICBpZiAodGhpcy5kb25lQW5pbWF0aW5nID09PSBmYWxzZSB8fCAodGhpcy5vdmVybGF5QWN0aXZlICYmIHRoaXMuZG9uZUFuaW1hdGluZykpXHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIGVsc2VcclxuICAgICAgdGhpcy5vcGVuKCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlV2luZG93U2Nyb2xsID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMub3ZlcmxheUFjdGl2ZSkgdGhpcy5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVdpbmRvd1Jlc2l6ZSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLm92ZXJsYXlBY3RpdmUpIHRoaXMuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVXaW5kb3dFc2NhcGUgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgaWYgKFV0aWxzLmtleXMuRVNDLmluY2x1ZGVzKGUua2V5KSAmJiB0aGlzLmRvbmVBbmltYXRpbmcgJiYgdGhpcy5vdmVybGF5QWN0aXZlKSB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBfbWFrZUFuY2VzdG9yc092ZXJmbG93VmlzaWJsZSgpIHtcclxuICAgIHRoaXMuX2NoYW5nZWRBbmNlc3Rvckxpc3QgPSBbXTtcclxuICAgIGxldCBhbmNlc3RvciA9IHRoaXMucGxhY2Vob2xkZXIucGFyZW50Tm9kZTtcclxuICAgIHdoaWxlIChhbmNlc3RvciAhPT0gbnVsbCAmJiBhbmNlc3RvciAhPT0gZG9jdW1lbnQpIHtcclxuICAgICAgY29uc3QgY3VyciA9IDxIVE1MRWxlbWVudD5hbmNlc3RvcjtcclxuICAgICAgaWYgKGN1cnIuc3R5bGUub3ZlcmZsb3cgIT09ICd2aXNpYmxlJykge1xyXG4gICAgICAgIGN1cnIuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XHJcbiAgICAgICAgdGhpcy5fY2hhbmdlZEFuY2VzdG9yTGlzdC5wdXNoKGN1cnIpO1xyXG4gICAgICB9XHJcbiAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50Tm9kZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29mZnNldChlbDogSFRNTEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgY29uc3QgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRvcDogYm94LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxyXG4gICAgICBsZWZ0OiBib3gubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldCAtIGRvY0VsZW0uY2xpZW50TGVmdFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIF9hbmltYXRlSW1hZ2VJbigpIHtcclxuICAgIHRoaXMuZWwuc3R5bGUubWF4SGVpZ2h0ID0gdGhpcy5uZXdIZWlnaHQudG9TdHJpbmcoKSsncHgnO1xyXG4gICAgdGhpcy5lbC5zdHlsZS5tYXhXaWR0aCA9IHRoaXMubmV3V2lkdGgudG9TdHJpbmcoKSsncHgnO1xyXG5cclxuICAgIGNvbnN0IGFuaW1PcHRpb25zID0ge1xyXG4gICAgICB0YXJnZXRzOiB0aGlzLmVsLCAvLyBpbWFnZVxyXG4gICAgICBoZWlnaHQ6IFt0aGlzLm9yaWdpbmFsSGVpZ2h0LCB0aGlzLm5ld0hlaWdodF0sXHJcbiAgICAgIHdpZHRoOiBbdGhpcy5vcmlnaW5hbFdpZHRoLCB0aGlzLm5ld1dpZHRoXSxcclxuICAgICAgbGVmdDpcclxuICAgICAgICBVdGlscy5nZXREb2N1bWVudFNjcm9sbExlZnQoKSArXHJcbiAgICAgICAgdGhpcy53aW5kb3dXaWR0aCAvIDIgLVxyXG4gICAgICAgIHRoaXMuX29mZnNldCh0aGlzLnBsYWNlaG9sZGVyKS5sZWZ0IC1cclxuICAgICAgICB0aGlzLm5ld1dpZHRoIC8gMixcclxuICAgICAgdG9wOlxyXG4gICAgICAgIFV0aWxzLmdldERvY3VtZW50U2Nyb2xsVG9wKCkgK1xyXG4gICAgICAgIHRoaXMud2luZG93SGVpZ2h0IC8gMiAtXHJcbiAgICAgICAgdGhpcy5fb2Zmc2V0KHRoaXMucGxhY2Vob2xkZXIpLnRvcCAtXHJcbiAgICAgICAgdGhpcy5uZXdIZWlnaHQgLyAyLFxyXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXHJcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcclxuICAgICAgY29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRvbmVBbmltYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgIC8vIG9uT3BlbkVuZCBjYWxsYmFja1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlbkVuZC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIE92ZXJyaWRlIG1heC13aWR0aCBvciBtYXgtaGVpZ2h0IGlmIG5lZWRlZFxyXG4gICAgLy9jb25zdCBlbFN0eWxlID0gdGhpcy5lbC5zdHlsZTtcclxuICAgIC8vY29uc29sZS5sb2coJ21oJywgZWxTdHlsZS5tYXhIZWlnaHQsICctPicsIHRoaXMubmV3SGVpZ2h0KTtcclxuICAgIC8vY29uc29sZS5sb2coJ213JywgZWxTdHlsZS5tYXhXaWR0aCwgJy0+JywgdGhpcy5uZXdXaWR0aCk7XHJcbiAgICAvL2lmIChlbFN0eWxlLm1heFdpZHRoICE9PSAnbm9uZScpIGFuaW1PcHRpb25zLm1heFdpZHRoID0gdGhpcy5uZXdXaWR0aDtcclxuICAgIC8vaWYgKGVsU3R5bGUubWF4SGVpZ2h0ICE9PSAnbm9uZScpIGFuaW1PcHRpb25zLm1heEhlaWdodCA9IHRoaXMubmV3SGVpZ2h0O1xyXG4gICAgLy9jb25zb2xlLmxvZygnPj4+IGFuaW1hdGUnKTtcclxuICAgIC8vY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoYW5pbU9wdGlvbnMpKTtcclxuICAgIGFuaW0oYW5pbU9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgX2FuaW1hdGVJbWFnZU91dCgpIHtcclxuICAgIGNvbnN0IGFuaW1PcHRpb25zID0ge1xyXG4gICAgICB0YXJnZXRzOiB0aGlzLmVsLFxyXG4gICAgICB3aWR0aDogdGhpcy5vcmlnaW5hbFdpZHRoLFxyXG4gICAgICBoZWlnaHQ6IHRoaXMub3JpZ2luYWxIZWlnaHQsXHJcbiAgICAgIGxlZnQ6IDAsXHJcbiAgICAgIHRvcDogMCxcclxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcclxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxyXG4gICAgICBjb21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUuaGVpZ2h0ID0gJyc7XHJcbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlci5zdHlsZS53aWR0aCA9ICcnO1xyXG4gICAgICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUucG9zaXRpb24gPSAnJztcclxuICAgICAgICB0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLnRvcCA9ICcnO1xyXG4gICAgICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUubGVmdCA9ICcnO1xyXG4gICAgICAgIC8vIFJldmVydCB0byB3aWR0aCBvciBoZWlnaHQgYXR0cmlidXRlXHJcbiAgICAgICAgaWYgKHRoaXMuYXR0cldpZHRoKSB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0aGlzLmF0dHJXaWR0aC50b1N0cmluZygpKTtcclxuICAgICAgICBpZiAodGhpcy5hdHRySGVpZ2h0KSB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgdGhpcy5hdHRySGVpZ2h0LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHRoaXMuZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgIHRoaXMub3JpZ2luSW5saW5lU3R5bGVzICYmIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdzdHlsZScsIHRoaXMub3JpZ2luSW5saW5lU3R5bGVzKTtcclxuICAgICAgICAvLyBSZW1vdmUgY2xhc3NcclxuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIHRoaXMuZG9uZUFuaW1hdGluZyA9IHRydWU7XHJcbiAgICAgICAgLy8gUmVtb3ZlIG92ZXJmbG93IG92ZXJyaWRlcyBvbiBhbmNlc3RvcnNcclxuICAgICAgICB0aGlzLl9jaGFuZ2VkQW5jZXN0b3JMaXN0LmZvckVhY2goYW5jaGVzdG9yID0+IGFuY2hlc3Rvci5zdHlsZS5vdmVyZmxvdyA9ICcnKTtcclxuICAgICAgICAvLyBvbkNsb3NlRW5kIGNhbGxiYWNrXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBhbmltKGFuaW1PcHRpb25zKTtcclxuICB9XHJcblxyXG4gIF91cGRhdGVWYXJzKCkge1xyXG4gICAgdGhpcy53aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgdGhpcy53aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICB0aGlzLmNhcHRpb24gPSB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXB0aW9uJykgfHwgJyc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPcGVuIG1hdGVyaWFsYm94LlxyXG4gICAqL1xyXG4gIG9wZW4gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl91cGRhdGVWYXJzKCk7XHJcbiAgICB0aGlzLm9yaWdpbmFsV2lkdGggPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gICAgdGhpcy5vcmlnaW5hbEhlaWdodCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xyXG4gICAgLy8gU2V0IHN0YXRlc1xyXG4gICAgdGhpcy5kb25lQW5pbWF0aW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgdGhpcy5vdmVybGF5QWN0aXZlID0gdHJ1ZTtcclxuICAgIC8vIG9uT3BlblN0YXJ0IGNhbGxiYWNrXHJcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcclxuICAgIH1cclxuICAgIC8vIFNldCBwb3NpdGlvbmluZyBmb3IgcGxhY2Vob2xkZXJcclxuICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUud2lkdGggPSB0aGlzLnBsYWNlaG9sZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKydweCc7XHJcbiAgICB0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLmhlaWdodCA9IHRoaXMucGxhY2Vob2xkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0KydweCc7XHJcbiAgICB0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUudG9wID0gJzAnO1xyXG4gICAgdGhpcy5wbGFjZWhvbGRlci5zdHlsZS5sZWZ0ID0gJzAnO1xyXG4gICAgdGhpcy5fbWFrZUFuY2VzdG9yc092ZXJmbG93VmlzaWJsZSgpO1xyXG4gICAgLy8gU2V0IGNzcyBvbiBvcmlnaW5cclxuICAgIHRoaXMuZWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgdGhpcy5lbC5zdHlsZS56SW5kZXggPSAnMTAwMCc7XHJcbiAgICB0aGlzLmVsLnN0eWxlLndpbGxDaGFuZ2UgPSAnbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0JztcclxuICAgIC8vIENoYW5nZSBmcm9tIHdpZHRoIG9yIGhlaWdodCBhdHRyaWJ1dGUgdG8gY3NzXHJcbiAgICB0aGlzLmF0dHJXaWR0aCA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCd3aWR0aCcpO1xyXG4gICAgdGhpcy5hdHRySGVpZ2h0ID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpO1xyXG4gICAgaWYgKHRoaXMuYXR0cldpZHRoKSB7XHJcbiAgICAgIHRoaXMuZWwuc3R5bGUud2lkdGggPSB0aGlzLmF0dHJXaWR0aCsncHgnO1xyXG4gICAgICB0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZSgnd2lkdGgnKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmF0dHJIZWlnaHQpIHtcclxuICAgICAgdGhpcy5lbC5zdHlsZS53aWR0aCA9IHRoaXMuYXR0ckhlaWdodCsncHgnO1xyXG4gICAgICB0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZSgnaGVpZ2h0Jyk7XHJcbiAgICB9XHJcbiAgICAvLyBBZGQgb3ZlcmxheVxyXG4gICAgdGhpcy5fb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5fb3ZlcmxheS5pZCA9ICdtYXRlcmlhbGJveC1vdmVybGF5JztcclxuICAgIHRoaXMuX292ZXJsYXkuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuICAgIHRoaXMuX292ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgaWYgKHRoaXMuZG9uZUFuaW1hdGluZykgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSwge29uY2U6IHRydWV9KTtcclxuICAgIC8vIFB1dCBiZWZvcmUgaW4gb3JpZ2luIGltYWdlIHRvIHByZXNlcnZlIHotaW5kZXggbGF5ZXJpbmcuXHJcbiAgICB0aGlzLmVsLmJlZm9yZSh0aGlzLl9vdmVybGF5KTtcclxuICAgIC8vIFNldCBkaW1lbnNpb25zIGlmIG5lZWRlZFxyXG4gICAgY29uc3Qgb3ZlcmxheU9mZnNldCA9IHRoaXMuX292ZXJsYXkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICB0aGlzLl9vdmVybGF5LnN0eWxlLndpZHRoID0gdGhpcy53aW5kb3dXaWR0aCsncHgnO1xyXG4gICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5oZWlnaHQgPSB0aGlzLndpbmRvd0hlaWdodCsncHgnO1xyXG4gICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5sZWZ0ID0gLTEgKiBvdmVybGF5T2Zmc2V0LmxlZnQrJ3B4JztcclxuICAgIHRoaXMuX292ZXJsYXkuc3R5bGUudG9wID0gLTEgKiBvdmVybGF5T2Zmc2V0LnRvcCsncHgnO1xyXG4gICAgYW5pbS5yZW1vdmUodGhpcy5lbCk7XHJcbiAgICBhbmltLnJlbW92ZSh0aGlzLl9vdmVybGF5KTtcclxuICAgIC8vIEFuaW1hdGUgT3ZlcmxheVxyXG4gICAgYW5pbSh7XHJcbiAgICAgIHRhcmdldHM6IHRoaXMuX292ZXJsYXksXHJcbiAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcclxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXHJcbiAgICB9KTtcclxuICAgIC8vIEFkZCBhbmQgYW5pbWF0ZSBjYXB0aW9uIGlmIGl0IGV4aXN0c1xyXG4gICAgaWYgKHRoaXMuY2FwdGlvbiAhPT0gJycpIHtcclxuICAgICAgaWYgKHRoaXMuX3Bob3RvQ2FwdGlvbikgYW5pbS5yZW1vdmUodGhpcy5fcGhvdG9DYXB0aW9uKTtcclxuICAgICAgdGhpcy5fcGhvdG9DYXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMuX3Bob3RvQ2FwdGlvbi5jbGFzc0xpc3QuYWRkKCdtYXRlcmlhbGJveC1jYXB0aW9uJyk7XHJcbiAgICAgIHRoaXMuX3Bob3RvQ2FwdGlvbi5pbm5lclRleHQgPSB0aGlzLmNhcHRpb247XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMuX3Bob3RvQ2FwdGlvbik7XHJcbiAgICAgIHRoaXMuX3Bob3RvQ2FwdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZSc7XHJcbiAgICAgIGFuaW0oe1xyXG4gICAgICAgIHRhcmdldHM6IHRoaXMuX3Bob3RvQ2FwdGlvbixcclxuICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcclxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVzaXplIEltYWdlXHJcbiAgICBjb25zdCB3aWR0aFBlcmNlbnQgPSB0aGlzLm9yaWdpbmFsV2lkdGggLyB0aGlzLndpbmRvd1dpZHRoO1xyXG4gICAgY29uc3QgaGVpZ2h0UGVyY2VudCA9IHRoaXMub3JpZ2luYWxIZWlnaHQgLyB0aGlzLndpbmRvd0hlaWdodDtcclxuICAgIHRoaXMubmV3V2lkdGggPSAwO1xyXG4gICAgdGhpcy5uZXdIZWlnaHQgPSAwO1xyXG4gICAgaWYgKHdpZHRoUGVyY2VudCA+IGhlaWdodFBlcmNlbnQpIHtcclxuICAgICAgLy8gV2lkdGggZmlyc3RcclxuICAgICAgY29uc3QgcmF0aW8gPSB0aGlzLm9yaWdpbmFsSGVpZ2h0IC8gdGhpcy5vcmlnaW5hbFdpZHRoO1xyXG4gICAgICB0aGlzLm5ld1dpZHRoID0gdGhpcy53aW5kb3dXaWR0aCAqIDAuOTtcclxuICAgICAgdGhpcy5uZXdIZWlnaHQgPSB0aGlzLndpbmRvd1dpZHRoICogMC45ICogcmF0aW87XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgLy8gSGVpZ2h0IGZpcnN0XHJcbiAgICAgIGNvbnN0IHJhdGlvID0gdGhpcy5vcmlnaW5hbFdpZHRoIC8gdGhpcy5vcmlnaW5hbEhlaWdodDtcclxuICAgICAgdGhpcy5uZXdXaWR0aCA9IHRoaXMud2luZG93SGVpZ2h0ICogMC45ICogcmF0aW87XHJcbiAgICAgIHRoaXMubmV3SGVpZ2h0ID0gdGhpcy53aW5kb3dIZWlnaHQgKiAwLjk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9hbmltYXRlSW1hZ2VJbigpO1xyXG5cclxuICAgIC8vIEhhbmRsZSBFeGl0IHRyaWdnZXJzXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemUpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlV2luZG93RXNjYXBlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsb3NlIG1hdGVyaWFsYm94LlxyXG4gICAqL1xyXG4gIGNsb3NlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fdXBkYXRlVmFycygpO1xyXG4gICAgdGhpcy5kb25lQW5pbWF0aW5nID0gZmFsc2U7XHJcbiAgICAvLyBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcclxuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XHJcbiAgICB9XHJcbiAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcclxuICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xyXG4gICAgaWYgKHRoaXMuY2FwdGlvbiAhPT0gJycpIGFuaW0ucmVtb3ZlKHRoaXMuX3Bob3RvQ2FwdGlvbik7XHJcbiAgICAvLyBkaXNhYmxlIGV4aXQgaGFuZGxlcnNcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwpO1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZSk7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVXaW5kb3dFc2NhcGUpO1xyXG4gICAgYW5pbSh7XHJcbiAgICAgIHRhcmdldHM6IHRoaXMuX292ZXJsYXksXHJcbiAgICAgIG9wYWNpdHk6IDAsXHJcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXHJcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcclxuICAgICAgY29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICB0aGlzLm92ZXJsYXlBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9vdmVybGF5LnJlbW92ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2FuaW1hdGVJbWFnZU91dCgpO1xyXG4gICAgLy8gUmVtb3ZlIENhcHRpb24gKyByZXNldCBjc3Mgc2V0dGluZ3Mgb24gaW1hZ2VcclxuICAgIGlmICh0aGlzLmNhcHRpb24gIT09ICcnKSB7XHJcbiAgICAgIGFuaW0oe1xyXG4gICAgICAgIHRhcmdldHM6IHRoaXMuX3Bob3RvQ2FwdGlvbixcclxuICAgICAgICBvcGFjaXR5OiAwLFxyXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXHJcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxyXG4gICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9waG90b0NhcHRpb24ucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/materialbox.ts\n");

/***/ }),

/***/ "./src/modal.ts":
/*!**********************!*\
  !*** ./src/modal.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Modal = void 0;\r\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\nconst _defaults = {\r\n    opacity: 0.5,\r\n    inDuration: 250,\r\n    outDuration: 250,\r\n    onOpenStart: null,\r\n    onOpenEnd: null,\r\n    onCloseStart: null,\r\n    onCloseEnd: null,\r\n    preventScrolling: true,\r\n    dismissible: true,\r\n    startingTop: '4%',\r\n    endingTop: '10%'\r\n};\r\nclass Modal extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Modal);\r\n        this._handleTriggerClick = (e) => {\r\n            const trigger = e.target.closest('.modal-trigger');\r\n            if (!trigger)\r\n                return;\r\n            const modalId = utils_1.Utils.getIdFromTrigger(trigger);\r\n            const modalInstance = document.getElementById(modalId).M_Modal;\r\n            if (modalInstance)\r\n                modalInstance.open(trigger);\r\n            e.preventDefault();\r\n        };\r\n        this._handleOverlayClick = () => {\r\n            if (this.options.dismissible)\r\n                this.close();\r\n        };\r\n        this._handleModalCloseClick = (e) => {\r\n            const closeTrigger = e.target.closest('.modal-close');\r\n            if (closeTrigger)\r\n                this.close();\r\n        };\r\n        this._handleKeydown = (e) => {\r\n            if (utils_1.Utils.keys.ESC.includes(e.key) && this.options.dismissible)\r\n                this.close();\r\n        };\r\n        this._handleFocus = (e) => {\r\n            // Only trap focus if this modal is the last model opened (prevents loops in nested modals).\r\n            if (!this.el.contains(e.target) && this._nthModalOpened === Modal._modalsOpen) {\r\n                this.el.focus();\r\n            }\r\n        };\r\n        /**\r\n         * Open modal.\r\n         */\r\n        this.open = (trigger) => {\r\n            if (this.isOpen)\r\n                return;\r\n            this.isOpen = true;\r\n            Modal._modalsOpen++;\r\n            this._nthModalOpened = Modal._modalsOpen;\r\n            // Set Z-Index based on number of currently open modals\r\n            this._overlay.style.zIndex = (1000 + Modal._modalsOpen * 2).toString();\r\n            this.el.style.zIndex = (1000 + Modal._modalsOpen * 2 + 1).toString();\r\n            // Set opening trigger, undefined indicates modal was opened by javascript\r\n            this._openingTrigger = !!trigger ? trigger : undefined;\r\n            // onOpenStart callback\r\n            if (typeof this.options.onOpenStart === 'function') {\r\n                this.options.onOpenStart.call(this, this.el, this._openingTrigger);\r\n            }\r\n            if (this.options.preventScrolling) {\r\n                document.body.style.overflow = 'hidden';\r\n            }\r\n            this.el.classList.add('open');\r\n            this.el.insertAdjacentElement('afterend', this._overlay);\r\n            if (this.options.dismissible) {\r\n                document.addEventListener('keydown', this._handleKeydown);\r\n                document.addEventListener('focus', this._handleFocus, true);\r\n            }\r\n            animejs_1.default.remove(this.el);\r\n            animejs_1.default.remove(this._overlay);\r\n            this._animateIn();\r\n            // Focus modal\r\n            this.el.focus();\r\n            return this;\r\n        };\r\n        /**\r\n         * Close modal.\r\n         */\r\n        this.close = () => {\r\n            if (!this.isOpen)\r\n                return;\r\n            this.isOpen = false;\r\n            Modal._modalsOpen--;\r\n            this._nthModalOpened = 0;\r\n            // Call onCloseStart callback\r\n            if (typeof this.options.onCloseStart === 'function') {\r\n                this.options.onCloseStart.call(this, this.el);\r\n            }\r\n            this.el.classList.remove('open');\r\n            // Enable body scrolling only if there are no more modals open.\r\n            if (Modal._modalsOpen === 0) {\r\n                document.body.style.overflow = '';\r\n            }\r\n            if (this.options.dismissible) {\r\n                document.removeEventListener('keydown', this._handleKeydown);\r\n                document.removeEventListener('focus', this._handleFocus, true);\r\n            }\r\n            animejs_1.default.remove(this.el);\r\n            animejs_1.default.remove(this._overlay);\r\n            this._animateOut();\r\n            return this;\r\n        };\r\n        this.el.M_Modal = this;\r\n        this.options = Object.assign(Object.assign({}, Modal.defaults), options);\r\n        this.isOpen = false;\r\n        this.id = this.el.id;\r\n        this._openingTrigger = undefined;\r\n        this._overlay = document.createElement('div');\r\n        this._overlay.classList.add('modal-overlay');\r\n        this.el.tabIndex = 0;\r\n        this._nthModalOpened = 0;\r\n        Modal._count++;\r\n        this._setupEventHandlers();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Modal.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Modal);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Modal;\r\n    }\r\n    destroy() {\r\n        Modal._count--;\r\n        this._removeEventHandlers();\r\n        this.el.removeAttribute('style');\r\n        this._overlay.remove();\r\n        this.el.M_Modal = undefined;\r\n    }\r\n    _setupEventHandlers() {\r\n        if (Modal._count === 1) {\r\n            document.body.addEventListener('click', this._handleTriggerClick);\r\n        }\r\n        this._overlay.addEventListener('click', this._handleOverlayClick);\r\n        this.el.addEventListener('click', this._handleModalCloseClick);\r\n    }\r\n    _removeEventHandlers() {\r\n        if (Modal._count === 0) {\r\n            document.body.removeEventListener('click', this._handleTriggerClick);\r\n        }\r\n        this._overlay.removeEventListener('click', this._handleOverlayClick);\r\n        this.el.removeEventListener('click', this._handleModalCloseClick);\r\n    }\r\n    _animateIn() {\r\n        // Set initial styles\r\n        this.el.style.display = 'block';\r\n        this.el.style.opacity = '0';\r\n        this._overlay.style.display = 'block';\r\n        this._overlay.style.opacity = '0';\r\n        // Animate overlay\r\n        (0, animejs_1.default)({\r\n            targets: this._overlay,\r\n            opacity: this.options.opacity,\r\n            duration: this.options.inDuration,\r\n            easing: 'easeOutQuad'\r\n        });\r\n        // Define modal animation options\r\n        const enterAnimOptions = {\r\n            targets: this.el,\r\n            duration: this.options.inDuration,\r\n            easing: 'easeOutCubic',\r\n            // Handle modal onOpenEnd callback\r\n            complete: () => {\r\n                if (typeof this.options.onOpenEnd === 'function') {\r\n                    this.options.onOpenEnd.call(this, this.el, this._openingTrigger);\r\n                }\r\n            }\r\n        };\r\n        // Bottom sheet animation\r\n        if (this.el.classList.contains('bottom-sheet')) {\r\n            enterAnimOptions['bottom'] = 0;\r\n            enterAnimOptions['opacity'] = 1;\r\n        }\r\n        // Normal modal animation\r\n        else {\r\n            enterAnimOptions['top'] = [this.options.startingTop, this.options.endingTop];\r\n            enterAnimOptions['opacity'] = 1;\r\n            enterAnimOptions['scaleX'] = [0.8, 1];\r\n            enterAnimOptions['scaleY'] = [0.8, 1];\r\n        }\r\n        (0, animejs_1.default)(enterAnimOptions);\r\n    }\r\n    _animateOut() {\r\n        // Animate overlay\r\n        (0, animejs_1.default)({\r\n            targets: this._overlay,\r\n            opacity: 0,\r\n            duration: this.options.outDuration,\r\n            easing: 'easeOutQuart'\r\n        });\r\n        // Define modal animation options\r\n        const exitAnimOptions = {\r\n            targets: this.el,\r\n            duration: this.options.outDuration,\r\n            easing: 'easeOutCubic',\r\n            // Handle modal ready callback\r\n            complete: () => {\r\n                this.el.style.display = 'none';\r\n                this._overlay.remove();\r\n                // Call onCloseEnd callback\r\n                if (typeof this.options.onCloseEnd === 'function') {\r\n                    this.options.onCloseEnd.call(this, this.el);\r\n                }\r\n            }\r\n        };\r\n        // Bottom sheet animation\r\n        if (this.el.classList.contains('bottom-sheet')) {\r\n            exitAnimOptions['bottom'] = '-100%';\r\n            exitAnimOptions['opacity'] = 0;\r\n        }\r\n        // Normal modal animation\r\n        else {\r\n            exitAnimOptions['top'] = [this.options.endingTop, this.options.startingTop];\r\n            exitAnimOptions['opacity'] = 0;\r\n            exitAnimOptions['scaleX'] = 0.8;\r\n            exitAnimOptions['scaleY'] = 0.8;\r\n        }\r\n        (0, animejs_1.default)(exitAnimOptions);\r\n    }\r\n}\r\nexports.Modal = Modal;\r\n(() => {\r\n    Modal._modalsOpen = 0;\r\n    Modal._count = 0;\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LHlCQUF5QjtRQUN6QixJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUM5QyxlQUFlLENBQUMsUUFBUSxDQUFDLEdBQUcsT0FBTyxDQUFDO1lBQ3BDLGVBQWUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDaEM7UUFDRCx5QkFBeUI7YUFDcEI7WUFDSCxlQUFlLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzVFLGVBQWUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDL0IsZUFBZSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUNoQyxlQUFlLENBQUMsUUFBUSxDQUFDLEdBQUcsR0FBRyxDQUFDO1NBQ2pDO1FBQ0QscUJBQUksRUFBQyxlQUFlLENBQUMsQ0FBQztJQUN4QixDQUFDO0NBbUVGO0FBdlFELHNCQXVRQztBQUpDO0lBQ0UsS0FBSyxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7SUFDdEIsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDbkIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9tb2RhbC50cz8wZTUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XHJcblxyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgQmFzZU9wdGlvbnMsIEluaXRFbGVtZW50cywgTUVsZW1lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTW9kYWxPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge1xyXG4gIC8qKlxyXG4gICAqIE9wYWNpdHkgb2YgdGhlIG1vZGFsIG92ZXJsYXkuXHJcbiAgICogQGRlZmF1bHQgMC41XHJcbiAgICovXHJcbiAgb3BhY2l0eTogbnVtYmVyO1xyXG4gIC8qKlxyXG4gICAqIFRyYW5zaXRpb24gaW4gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAqIEBkZWZhdWx0IDI1MFxyXG4gICAqL1xyXG4gIGluRHVyYXRpb246IG51bWJlcjtcclxuICAvKipcclxuICAgKiBUcmFuc2l0aW9uIG91dCBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICogQGRlZmF1bHQgMjUwXHJcbiAgICovXHJcbiAgb3V0RHVyYXRpb246IG51bWJlcjtcclxuICAvKipcclxuICAgKiBQcmV2ZW50IHBhZ2UgZnJvbSBzY3JvbGxpbmcgd2hpbGUgbW9kYWwgaXMgb3Blbi5cclxuICAgKiBAZGVmYXVsdCB0cnVlXHJcbiAgICovXHJcbiAgcHJldmVudFNjcm9sbGluZzogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYmVmb3JlIG1vZGFsIGlzIG9wZW5lZC5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgb25PcGVuU3RhcnQ6ICh0aGlzOiBNb2RhbCwgZWw6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBhZnRlciBtb2RhbCBpcyBvcGVuZWQuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uT3BlbkVuZDogKHRoaXM6IE1vZGFsLCBlbDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XHJcbiAgLyoqXHJcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGJlZm9yZSBtb2RhbCBpcyBjbG9zZWQuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uQ2xvc2VTdGFydDogKGVsOiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcclxuICAvKipcclxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgbW9kYWwgaXMgY2xvc2VkLlxyXG4gICAqIEBkZWZhdWx0IG51bGxcclxuICAgKi9cclxuICBvbkNsb3NlRW5kOiAoZWw6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG4gIC8qKlxyXG4gICAqIEFsbG93IG1vZGFsIHRvIGJlIGRpc21pc3NlZCBieSBrZXlib2FyZCBvciBvdmVybGF5IGNsaWNrLlxyXG4gICAqIEBkZWZhdWx0IHRydWVcclxuICAgKi9cclxuICBkaXNtaXNzaWJsZTogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBTdGFydGluZyB0b3Agb2Zmc2V0LlxyXG4gICAqIEBkZWZhdWx0ICc0JSdcclxuICAgKi9cclxuICBzdGFydGluZ1RvcDogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIEVuZGluZyB0b3Agb2Zmc2V0LlxyXG4gICAqIEBkZWZhdWx0ICcxMCUnXHJcbiAgICovXHJcbiAgZW5kaW5nVG9wOiBzdHJpbmc7XHJcbn1cclxuXHJcbmNvbnN0IF9kZWZhdWx0cyA9IHtcclxuICBvcGFjaXR5OiAwLjUsXHJcbiAgaW5EdXJhdGlvbjogMjUwLFxyXG4gIG91dER1cmF0aW9uOiAyNTAsXHJcbiAgb25PcGVuU3RhcnQ6IG51bGwsXHJcbiAgb25PcGVuRW5kOiBudWxsLFxyXG4gIG9uQ2xvc2VTdGFydDogbnVsbCxcclxuICBvbkNsb3NlRW5kOiBudWxsLFxyXG4gIHByZXZlbnRTY3JvbGxpbmc6IHRydWUsXHJcbiAgZGlzbWlzc2libGU6IHRydWUsXHJcbiAgc3RhcnRpbmdUb3A6ICc0JScsXHJcbiAgZW5kaW5nVG9wOiAnMTAlJ1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vZGFsIGV4dGVuZHMgQ29tcG9uZW50PE1vZGFsT3B0aW9ucz4ge1xyXG5cclxuICBzdGF0aWMgX21vZGFsc09wZW46IG51bWJlcjtcclxuICBzdGF0aWMgX2NvdW50OiBudW1iZXI7XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogSUQgb2YgdGhlIG1vZGFsIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgaWQ6IHN0cmluZztcclxuICAvKipcclxuICAgKiBJZiB0aGUgbW9kYWwgaXMgb3Blbi5cclxuICAgKi9cclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgXHJcbiAgcHJpdmF0ZSBfb3BlbmluZ1RyaWdnZXI6IGFueTtcclxuICBwcml2YXRlIF9vdmVybGF5OiBIVE1MRWxlbWVudDtcclxuICBwcml2YXRlIF9udGhNb2RhbE9wZW5lZDogbnVtYmVyO1xyXG5cclxuICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8TW9kYWxPcHRpb25zPikge1xyXG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIE1vZGFsKTtcclxuICAgICh0aGlzLmVsIGFzIGFueSkuTV9Nb2RhbCA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICAuLi5Nb2RhbC5kZWZhdWx0cyxcclxuICAgICAgLi4ub3B0aW9uc1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgIHRoaXMuaWQgPSB0aGlzLmVsLmlkO1xyXG4gICAgdGhpcy5fb3BlbmluZ1RyaWdnZXIgPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLl9vdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLl9vdmVybGF5LmNsYXNzTGlzdC5hZGQoJ21vZGFsLW92ZXJsYXknKTtcclxuICAgIHRoaXMuZWwudGFiSW5kZXggPSAwO1xyXG4gICAgdGhpcy5fbnRoTW9kYWxPcGVuZWQgPSAwO1xyXG4gICAgTW9kYWwuX2NvdW50Kys7XHJcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XHJcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgTW9kYWwuXHJcbiAgICogQHBhcmFtIGVsIEhUTUwgZWxlbWVudC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBQYXJ0aWFsPE1vZGFsT3B0aW9ucz4pOiBNb2RhbDtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgTW9kYWwuXHJcbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8TW9kYWxPcHRpb25zPik6IE1vZGFsW107XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIE1vZGFsLlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxFbGVtZW50IHwgSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxNb2RhbE9wdGlvbnM+ID0ge30pOiBNb2RhbCB8IE1vZGFsW10ge1xyXG4gICAgcmV0dXJuIHN1cGVyLmluaXQoZWxzLCBvcHRpb25zLCBNb2RhbCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxFbGVtZW50KTogTW9kYWwge1xyXG4gICAgcmV0dXJuIChlbCBhcyBhbnkpLk1fTW9kYWw7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgTW9kYWwuX2NvdW50LS07XHJcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgIHRoaXMuX292ZXJsYXkucmVtb3ZlKCk7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fTW9kYWwgPSB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xyXG4gICAgaWYgKE1vZGFsLl9jb3VudCA9PT0gMSkge1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcclxuICAgIH1cclxuICAgIHRoaXMuX292ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xpY2spO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU1vZGFsQ2xvc2VDbGljayk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcclxuICAgIGlmIChNb2RhbC5fY291bnQgPT09IDApIHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRyaWdnZXJDbGljayk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9vdmVybGF5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlT3ZlcmxheUNsaWNrKTtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVNb2RhbENsb3NlQ2xpY2spO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVRyaWdnZXJDbGljayA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBjb25zdCB0cmlnZ2VyID0gKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KCcubW9kYWwtdHJpZ2dlcicpO1xyXG4gICAgaWYgKCF0cmlnZ2VyKSByZXR1cm47XHJcbiAgICBjb25zdCBtb2RhbElkID0gVXRpbHMuZ2V0SWRGcm9tVHJpZ2dlcih0cmlnZ2VyIGFzIEhUTUxFbGVtZW50KTtcclxuICAgIGNvbnN0IG1vZGFsSW5zdGFuY2UgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobW9kYWxJZCkgYXMgYW55KS5NX01vZGFsO1xyXG4gICAgaWYgKG1vZGFsSW5zdGFuY2UpIG1vZGFsSW5zdGFuY2Uub3Blbih0cmlnZ2VyKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVPdmVybGF5Q2xpY2sgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmRpc21pc3NpYmxlKSB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTW9kYWxDbG9zZUNsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgIGNvbnN0IGNsb3NlVHJpZ2dlciA9IChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdCgnLm1vZGFsLWNsb3NlJyk7XHJcbiAgICBpZiAoY2xvc2VUcmlnZ2VyKSB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlS2V5ZG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICBpZiAoVXRpbHMua2V5cy5FU0MuaW5jbHVkZXMoZS5rZXkpICYmIHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSkgdGhpcy5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUZvY3VzID0gKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgIC8vIE9ubHkgdHJhcCBmb2N1cyBpZiB0aGlzIG1vZGFsIGlzIHRoZSBsYXN0IG1vZGVsIG9wZW5lZCAocHJldmVudHMgbG9vcHMgaW4gbmVzdGVkIG1vZGFscykuXHJcbiAgICBpZiAoIXRoaXMuZWwuY29udGFpbnMoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpICYmIHRoaXMuX250aE1vZGFsT3BlbmVkID09PSBNb2RhbC5fbW9kYWxzT3Blbikge1xyXG4gICAgICB0aGlzLmVsLmZvY3VzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfYW5pbWF0ZUluKCkge1xyXG4gICAgLy8gU2V0IGluaXRpYWwgc3R5bGVzXHJcbiAgICB0aGlzLmVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgdGhpcy5lbC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIHRoaXMuX292ZXJsYXkuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuICAgIC8vIEFuaW1hdGUgb3ZlcmxheVxyXG4gICAgYW5pbSh7XHJcbiAgICAgIHRhcmdldHM6IHRoaXMuX292ZXJsYXksXHJcbiAgICAgIG9wYWNpdHk6IHRoaXMub3B0aW9ucy5vcGFjaXR5LFxyXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXHJcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xyXG4gICAgfSk7XHJcbiAgICAvLyBEZWZpbmUgbW9kYWwgYW5pbWF0aW9uIG9wdGlvbnNcclxuICAgIGNvbnN0IGVudGVyQW5pbU9wdGlvbnMgPSB7XHJcbiAgICAgIHRhcmdldHM6IHRoaXMuZWwsXHJcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcclxuICAgICAgZWFzaW5nOiAnZWFzZU91dEN1YmljJyxcclxuICAgICAgLy8gSGFuZGxlIG1vZGFsIG9uT3BlbkVuZCBjYWxsYmFja1xyXG4gICAgICBjb21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlbkVuZC5jYWxsKHRoaXMsIHRoaXMuZWwsIHRoaXMuX29wZW5pbmdUcmlnZ2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBCb3R0b20gc2hlZXQgYW5pbWF0aW9uXHJcbiAgICBpZiAodGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2JvdHRvbS1zaGVldCcpKSB7XHJcbiAgICAgIGVudGVyQW5pbU9wdGlvbnNbJ2JvdHRvbSddID0gMDtcclxuICAgICAgZW50ZXJBbmltT3B0aW9uc1snb3BhY2l0eSddID0gMTtcclxuICAgIH1cclxuICAgIC8vIE5vcm1hbCBtb2RhbCBhbmltYXRpb25cclxuICAgIGVsc2Uge1xyXG4gICAgICBlbnRlckFuaW1PcHRpb25zWyd0b3AnXSA9IFt0aGlzLm9wdGlvbnMuc3RhcnRpbmdUb3AsIHRoaXMub3B0aW9ucy5lbmRpbmdUb3BdO1xyXG4gICAgICBlbnRlckFuaW1PcHRpb25zWydvcGFjaXR5J10gPSAxO1xyXG4gICAgICBlbnRlckFuaW1PcHRpb25zWydzY2FsZVgnXSA9IFswLjgsIDFdO1xyXG4gICAgICBlbnRlckFuaW1PcHRpb25zWydzY2FsZVknXSA9IFswLjgsIDFdO1xyXG4gICAgfVxyXG4gICAgYW5pbShlbnRlckFuaW1PcHRpb25zKTtcclxuICB9XHJcblxyXG4gIF9hbmltYXRlT3V0KCkge1xyXG4gICAgLy8gQW5pbWF0ZSBvdmVybGF5XHJcbiAgICBhbmltKHtcclxuICAgICAgdGFyZ2V0czogdGhpcy5fb3ZlcmxheSxcclxuICAgICAgb3BhY2l0eTogMCxcclxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcclxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YXJ0J1xyXG4gICAgfSk7XHJcbiAgICAvLyBEZWZpbmUgbW9kYWwgYW5pbWF0aW9uIG9wdGlvbnNcclxuICAgIGNvbnN0IGV4aXRBbmltT3B0aW9ucyA9IHtcclxuICAgICAgdGFyZ2V0czogdGhpcy5lbCxcclxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcclxuICAgICAgZWFzaW5nOiAnZWFzZU91dEN1YmljJyxcclxuICAgICAgLy8gSGFuZGxlIG1vZGFsIHJlYWR5IGNhbGxiYWNrXHJcbiAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIHRoaXMuX292ZXJsYXkucmVtb3ZlKCk7XHJcbiAgICAgICAgLy8gQ2FsbCBvbkNsb3NlRW5kIGNhbGxiYWNrXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBCb3R0b20gc2hlZXQgYW5pbWF0aW9uXHJcbiAgICBpZiAodGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2JvdHRvbS1zaGVldCcpKSB7XHJcbiAgICAgIGV4aXRBbmltT3B0aW9uc1snYm90dG9tJ10gPSAnLTEwMCUnO1xyXG4gICAgICBleGl0QW5pbU9wdGlvbnNbJ29wYWNpdHknXSA9IDA7XHJcbiAgICB9XHJcbiAgICAvLyBOb3JtYWwgbW9kYWwgYW5pbWF0aW9uXHJcbiAgICBlbHNlIHtcclxuICAgICAgZXhpdEFuaW1PcHRpb25zWyd0b3AnXSA9IFt0aGlzLm9wdGlvbnMuZW5kaW5nVG9wLCB0aGlzLm9wdGlvbnMuc3RhcnRpbmdUb3BdO1xyXG4gICAgICBleGl0QW5pbU9wdGlvbnNbJ29wYWNpdHknXSA9IDA7XHJcbiAgICAgIGV4aXRBbmltT3B0aW9uc1snc2NhbGVYJ10gPSAwLjg7XHJcbiAgICAgIGV4aXRBbmltT3B0aW9uc1snc2NhbGVZJ10gPSAwLjg7XHJcbiAgICB9XHJcbiAgICBhbmltKGV4aXRBbmltT3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPcGVuIG1vZGFsLlxyXG4gICAqL1xyXG4gIG9wZW4gPSAodHJpZ2dlcj86IEhUTUxFbGVtZW50KTogTW9kYWwgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNPcGVuKSByZXR1cm47XHJcbiAgICB0aGlzLmlzT3BlbiA9IHRydWU7XHJcbiAgICBNb2RhbC5fbW9kYWxzT3BlbisrO1xyXG4gICAgdGhpcy5fbnRoTW9kYWxPcGVuZWQgPSBNb2RhbC5fbW9kYWxzT3BlbjtcclxuICAgIC8vIFNldCBaLUluZGV4IGJhc2VkIG9uIG51bWJlciBvZiBjdXJyZW50bHkgb3BlbiBtb2RhbHNcclxuICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuekluZGV4ID0gKDEwMDAgKyBNb2RhbC5fbW9kYWxzT3BlbiAqIDIpLnRvU3RyaW5nKCk7XHJcbiAgICB0aGlzLmVsLnN0eWxlLnpJbmRleCA9ICgxMDAwICsgTW9kYWwuX21vZGFsc09wZW4gKiAyICsgMSkudG9TdHJpbmcoKTtcclxuICAgIC8vIFNldCBvcGVuaW5nIHRyaWdnZXIsIHVuZGVmaW5lZCBpbmRpY2F0ZXMgbW9kYWwgd2FzIG9wZW5lZCBieSBqYXZhc2NyaXB0XHJcbiAgICB0aGlzLl9vcGVuaW5nVHJpZ2dlciA9ICEhdHJpZ2dlciA/IHRyaWdnZXIgOiB1bmRlZmluZWQ7XHJcbiAgICAvLyBvbk9wZW5TdGFydCBjYWxsYmFja1xyXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCwgdGhpcy5fb3BlbmluZ1RyaWdnZXIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5wcmV2ZW50U2Nyb2xsaW5nKSB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuICAgIH1cclxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xyXG4gICAgdGhpcy5lbC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgdGhpcy5fb3ZlcmxheSk7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmRpc21pc3NpYmxlKSB7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVLZXlkb3duKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVGb2N1cywgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcclxuICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xyXG4gICAgdGhpcy5fYW5pbWF0ZUluKCk7XHJcbiAgICAvLyBGb2N1cyBtb2RhbFxyXG4gICAgdGhpcy5lbC5mb2N1cygpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbG9zZSBtb2RhbC5cclxuICAgKi9cclxuICBjbG9zZSA9ICgpID0+IHtcclxuICAgIGlmICghdGhpcy5pc09wZW4pIHJldHVybjtcclxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcbiAgICBNb2RhbC5fbW9kYWxzT3Blbi0tO1xyXG4gICAgdGhpcy5fbnRoTW9kYWxPcGVuZWQgPSAwO1xyXG4gICAgLy8gQ2FsbCBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcclxuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcclxuICAgIC8vIEVuYWJsZSBib2R5IHNjcm9sbGluZyBvbmx5IGlmIHRoZXJlIGFyZSBubyBtb3JlIG1vZGFscyBvcGVuLlxyXG4gICAgaWYgKE1vZGFsLl9tb2RhbHNPcGVuID09PSAwKSB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUpIHtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUZvY3VzLCB0cnVlKTtcclxuICAgIH1cclxuICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xyXG4gICAgYW5pbS5yZW1vdmUodGhpcy5fb3ZlcmxheSk7XHJcbiAgICB0aGlzLl9hbmltYXRlT3V0KCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHN0YXRpY3tcclxuICAgIE1vZGFsLl9tb2RhbHNPcGVuID0gMDtcclxuICAgIE1vZGFsLl9jb3VudCA9IDA7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/modal.ts\n");

/***/ }),

/***/ "./src/parallax.ts":
/*!*************************!*\
  !*** ./src/parallax.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Parallax = void 0;\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\nlet _defaults = {\r\n    responsiveThreshold: 0 // breakpoint for swipeable\r\n};\r\nclass Parallax extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Parallax);\r\n        this._handleImageLoad = () => {\r\n            this._updateParallax();\r\n        };\r\n        this.el.M_Parallax = this;\r\n        this.options = Object.assign(Object.assign({}, Parallax.defaults), options);\r\n        this._enabled = window.innerWidth > this.options.responsiveThreshold;\r\n        this._img = this.el.querySelector('img');\r\n        this._updateParallax();\r\n        this._setupEventHandlers();\r\n        this._setupStyles();\r\n        Parallax._parallaxes.push(this);\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Parallax.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Parallax);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Parallax;\r\n    }\r\n    destroy() {\r\n        Parallax._parallaxes.splice(Parallax._parallaxes.indexOf(this), 1);\r\n        this._img.style.transform = '';\r\n        this._removeEventHandlers();\r\n        this.el.M_Parallax = undefined;\r\n    }\r\n    static _handleScroll() {\r\n        for (let i = 0; i < Parallax._parallaxes.length; i++) {\r\n            let parallaxInstance = Parallax._parallaxes[i];\r\n            parallaxInstance._updateParallax.call(parallaxInstance);\r\n        }\r\n    }\r\n    static _handleWindowResize() {\r\n        for (let i = 0; i < Parallax._parallaxes.length; i++) {\r\n            let parallaxInstance = Parallax._parallaxes[i];\r\n            parallaxInstance._enabled =\r\n                window.innerWidth > parallaxInstance.options.responsiveThreshold;\r\n        }\r\n    }\r\n    _setupEventHandlers() {\r\n        this._img.addEventListener('load', this._handleImageLoad);\r\n        if (Parallax._parallaxes.length === 0) {\r\n            if (!Parallax._handleScrollThrottled) {\r\n                Parallax._handleScrollThrottled = utils_1.Utils.throttle(Parallax._handleScroll, 5);\r\n            }\r\n            if (!Parallax._handleWindowResizeThrottled) {\r\n                Parallax._handleWindowResizeThrottled = utils_1.Utils.throttle(Parallax._handleWindowResize, 5);\r\n            }\r\n            window.addEventListener('scroll', Parallax._handleScrollThrottled);\r\n            window.addEventListener('resize', Parallax._handleWindowResizeThrottled);\r\n        }\r\n    }\r\n    _removeEventHandlers() {\r\n        this._img.removeEventListener('load', this._handleImageLoad);\r\n        if (Parallax._parallaxes.length === 0) {\r\n            window.removeEventListener('scroll', Parallax._handleScrollThrottled);\r\n            window.removeEventListener('resize', Parallax._handleWindowResizeThrottled);\r\n        }\r\n    }\r\n    _setupStyles() {\r\n        this._img.style.opacity = '1';\r\n    }\r\n    _offset(el) {\r\n        const box = el.getBoundingClientRect();\r\n        const docElem = document.documentElement;\r\n        return {\r\n            top: box.top + window.pageYOffset - docElem.clientTop,\r\n            left: box.left + window.pageXOffset - docElem.clientLeft\r\n        };\r\n    }\r\n    _updateParallax() {\r\n        const containerHeight = this.el.getBoundingClientRect().height > 0 ? this.el.parentNode.offsetHeight : 500;\r\n        const imgHeight = this._img.offsetHeight;\r\n        const parallaxDist = imgHeight - containerHeight;\r\n        const bottom = this._offset(this.el).top + containerHeight;\r\n        const top = this._offset(this.el).top;\r\n        const scrollTop = utils_1.Utils.getDocumentScrollTop();\r\n        const windowHeight = window.innerHeight;\r\n        const windowBottom = scrollTop + windowHeight;\r\n        const percentScrolled = (windowBottom - top) / (containerHeight + windowHeight);\r\n        const parallax = parallaxDist * percentScrolled;\r\n        if (!this._enabled) {\r\n            this._img.style.transform = '';\r\n        }\r\n        else if (bottom > scrollTop && top < scrollTop + windowHeight) {\r\n            this._img.style.transform = `translate3D(-50%, ${parallax}px, 0)`;\r\n        }\r\n    }\r\n}\r\nexports.Parallax = Parallax;\r\nParallax._parallaxes = [];\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZUFBZSxDQUFDO1FBRWhELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7U0FDaEM7YUFDSSxJQUFJLE1BQU0sR0FBRyxTQUFTLElBQUksR0FBRyxHQUFHLFNBQVMsR0FBRyxZQUFZLEVBQUU7WUFDN0QsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLHFCQUFxQixRQUFRLFFBQVEsQ0FBQztTQUNuRTtJQUNILENBQUM7O0FBcElILDRCQXFJQztBQWxJUSxvQkFBVyxHQUFlLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9wYXJhbGxheC50cz9jM2JlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBCYXNlT3B0aW9ucywgSW5pdEVsZW1lbnRzLCBNRWxlbWVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQYXJhbGxheE9wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHNjcmVlbiwgaW4gcGl4ZWxzLCB3aGVyZSB0aGUgcGFyYWxsYXggZnVuY3Rpb25hbGl0eSBzdGFydHMgd29ya2luZy5cclxuICAgKiBAZGVmYXVsdCAwXHJcbiAgICovXHJcbiAgcmVzcG9uc2l2ZVRocmVzaG9sZDogbnVtYmVyO1xyXG59XHJcblxyXG5sZXQgX2RlZmF1bHRzOiBQYXJhbGxheE9wdGlvbnMgPSB7XHJcbiAgcmVzcG9uc2l2ZVRocmVzaG9sZDogMCAvLyBicmVha3BvaW50IGZvciBzd2lwZWFibGVcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXJhbGxheCBleHRlbmRzIENvbXBvbmVudDxQYXJhbGxheE9wdGlvbnM+IHtcclxuICBwcml2YXRlIF9lbmFibGVkOiBib29sZWFuO1xyXG4gIHByaXZhdGUgX2ltZzogSFRNTEltYWdlRWxlbWVudDtcclxuICBzdGF0aWMgX3BhcmFsbGF4ZXM6IFBhcmFsbGF4W10gPSBbXTtcclxuICBzdGF0aWMgX2hhbmRsZVNjcm9sbFRocm90dGxlZDogKCkgPT4gYW55O1xyXG4gIHN0YXRpYyBfaGFuZGxlV2luZG93UmVzaXplVGhyb3R0bGVkOiAoKSA9PiBhbnk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGVsOiBIVE1MRWxlbWVudCwgb3B0aW9uczogUGFydGlhbDxQYXJhbGxheE9wdGlvbnM+KSB7XHJcbiAgICBzdXBlcihlbCwgb3B0aW9ucywgUGFyYWxsYXgpO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1BhcmFsbGF4ID0gdGhpcztcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMgPSB7XHJcbiAgICAgIC4uLlBhcmFsbGF4LmRlZmF1bHRzLFxyXG4gICAgICAuLi5vcHRpb25zXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB0aGlzLl9lbmFibGVkID0gd2luZG93LmlubmVyV2lkdGggPiB0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZVRocmVzaG9sZDtcclxuICAgIHRoaXMuX2ltZyA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignaW1nJyk7XHJcbiAgICB0aGlzLl91cGRhdGVQYXJhbGxheCgpO1xyXG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB0aGlzLl9zZXR1cFN0eWxlcygpO1xyXG4gICAgUGFyYWxsYXguX3BhcmFsbGF4ZXMucHVzaCh0aGlzKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKTogUGFyYWxsYXhPcHRpb25zIHtcclxuICAgIHJldHVybiBfZGVmYXVsdHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZSBvZiBQYXJhbGxheC5cclxuICAgKiBAcGFyYW0gZWwgSFRNTCBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsOiBIVE1MRWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8UGFyYWxsYXhPcHRpb25zPik6IFBhcmFsbGF4O1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBQYXJhbGxheC5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zPzogUGFydGlhbDxQYXJhbGxheE9wdGlvbnM+KTogUGFyYWxsYXhbXTtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgUGFyYWxsYXguXHJcbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsczogSFRNTEVsZW1lbnQgfCBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPFBhcmFsbGF4T3B0aW9ucz4gPSB7fSk6IFBhcmFsbGF4IHwgUGFyYWxsYXhbXSB7XHJcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIFBhcmFsbGF4KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBQYXJhbGxheCB7XHJcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9QYXJhbGxheDtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICBQYXJhbGxheC5fcGFyYWxsYXhlcy5zcGxpY2UoUGFyYWxsYXguX3BhcmFsbGF4ZXMuaW5kZXhPZih0aGlzKSwgMSk7XHJcbiAgICB0aGlzLl9pbWcuc3R5bGUudHJhbnNmb3JtID0gJyc7XHJcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fUGFyYWxsYXggPSB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgX2hhbmRsZVNjcm9sbCgpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUGFyYWxsYXguX3BhcmFsbGF4ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IHBhcmFsbGF4SW5zdGFuY2UgPSBQYXJhbGxheC5fcGFyYWxsYXhlc1tpXTtcclxuICAgICAgcGFyYWxsYXhJbnN0YW5jZS5fdXBkYXRlUGFyYWxsYXguY2FsbChwYXJhbGxheEluc3RhbmNlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBfaGFuZGxlV2luZG93UmVzaXplKCkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBQYXJhbGxheC5fcGFyYWxsYXhlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgcGFyYWxsYXhJbnN0YW5jZSA9IFBhcmFsbGF4Ll9wYXJhbGxheGVzW2ldO1xyXG4gICAgICBwYXJhbGxheEluc3RhbmNlLl9lbmFibGVkID1cclxuICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCA+IHBhcmFsbGF4SW5zdGFuY2Uub3B0aW9ucy5yZXNwb25zaXZlVGhyZXNob2xkO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuX2ltZy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5faGFuZGxlSW1hZ2VMb2FkKTtcclxuICAgIGlmIChQYXJhbGxheC5fcGFyYWxsYXhlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgaWYgKCFQYXJhbGxheC5faGFuZGxlU2Nyb2xsVGhyb3R0bGVkKXtcclxuICAgICAgICBQYXJhbGxheC5faGFuZGxlU2Nyb2xsVGhyb3R0bGVkID0gVXRpbHMudGhyb3R0bGUoUGFyYWxsYXguX2hhbmRsZVNjcm9sbCwgNSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFQYXJhbGxheC5faGFuZGxlV2luZG93UmVzaXplVGhyb3R0bGVkKXtcclxuICAgICAgICBQYXJhbGxheC5faGFuZGxlV2luZG93UmVzaXplVGhyb3R0bGVkID0gVXRpbHMudGhyb3R0bGUoUGFyYWxsYXguX2hhbmRsZVdpbmRvd1Jlc2l6ZSwgNSk7XHJcbiAgICAgIH1cclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFBhcmFsbGF4Ll9oYW5kbGVTY3JvbGxUaHJvdHRsZWQpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgUGFyYWxsYXguX2hhbmRsZVdpbmRvd1Jlc2l6ZVRocm90dGxlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuX2ltZy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5faGFuZGxlSW1hZ2VMb2FkKTtcclxuICAgIGlmIChQYXJhbGxheC5fcGFyYWxsYXhlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFBhcmFsbGF4Ll9oYW5kbGVTY3JvbGxUaHJvdHRsZWQpO1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgUGFyYWxsYXguX2hhbmRsZVdpbmRvd1Jlc2l6ZVRocm90dGxlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0dXBTdHlsZXMoKSB7XHJcbiAgICB0aGlzLl9pbWcuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICB9XHJcblxyXG4gIF9oYW5kbGVJbWFnZUxvYWQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl91cGRhdGVQYXJhbGxheCgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb2Zmc2V0KGVsOiBFbGVtZW50KSB7XHJcbiAgICBjb25zdCBib3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0b3A6IGJveC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSBkb2NFbGVtLmNsaWVudFRvcCxcclxuICAgICAgbGVmdDogYm94LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQgLSBkb2NFbGVtLmNsaWVudExlZnRcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlUGFyYWxsYXgoKSB7XHJcbiAgICBjb25zdCBjb250YWluZXJIZWlnaHQgPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCA+IDAgPyAodGhpcy5lbC5wYXJlbnROb2RlIGFzIGFueSkub2Zmc2V0SGVpZ2h0IDogNTAwO1xyXG4gICAgY29uc3QgaW1nSGVpZ2h0ID0gdGhpcy5faW1nLm9mZnNldEhlaWdodDtcclxuICAgIGNvbnN0IHBhcmFsbGF4RGlzdCA9IGltZ0hlaWdodCAtIGNvbnRhaW5lckhlaWdodDtcclxuICAgIGNvbnN0IGJvdHRvbSA9IHRoaXMuX29mZnNldCh0aGlzLmVsKS50b3AgKyBjb250YWluZXJIZWlnaHQ7XHJcbiAgICBjb25zdCB0b3AgPSB0aGlzLl9vZmZzZXQodGhpcy5lbCkudG9wO1xyXG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gVXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKTtcclxuICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIGNvbnN0IHdpbmRvd0JvdHRvbSA9IHNjcm9sbFRvcCArIHdpbmRvd0hlaWdodDtcclxuICAgIGNvbnN0IHBlcmNlbnRTY3JvbGxlZCA9ICh3aW5kb3dCb3R0b20gLSB0b3ApIC8gKGNvbnRhaW5lckhlaWdodCArIHdpbmRvd0hlaWdodCk7XHJcbiAgICBjb25zdCBwYXJhbGxheCA9IHBhcmFsbGF4RGlzdCAqIHBlcmNlbnRTY3JvbGxlZDtcclxuXHJcbiAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHtcclxuICAgICAgdGhpcy5faW1nLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYm90dG9tID4gc2Nyb2xsVG9wICYmIHRvcCA8IHNjcm9sbFRvcCArIHdpbmRvd0hlaWdodCkge1xyXG4gICAgICB0aGlzLl9pbWcuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNEKC01MCUsICR7cGFyYWxsYXh9cHgsIDApYDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/parallax.ts\n");

/***/ }),

/***/ "./src/pushpin.ts":
/*!************************!*\
  !*** ./src/pushpin.ts ***!
  \************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Pushpin = void 0;\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\nlet _defaults = {\r\n    top: 0,\r\n    bottom: Infinity,\r\n    offset: 0,\r\n    onPositionChange: null\r\n};\r\nclass Pushpin extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Pushpin);\r\n        this.el.M_Pushpin = this;\r\n        this.options = Object.assign(Object.assign({}, Pushpin.defaults), options);\r\n        this.originalOffset = this.el.offsetTop;\r\n        Pushpin._pushpins.push(this);\r\n        this._setupEventHandlers();\r\n        this._updatePosition();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Pushpin.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Pushpin);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Pushpin;\r\n    }\r\n    destroy() {\r\n        this.el.style.top = null;\r\n        this._removePinClasses();\r\n        // Remove pushpin Inst\r\n        let index = Pushpin._pushpins.indexOf(this);\r\n        Pushpin._pushpins.splice(index, 1);\r\n        if (Pushpin._pushpins.length === 0) {\r\n            this._removeEventHandlers();\r\n        }\r\n        this.el.M_Pushpin = undefined;\r\n    }\r\n    static _updateElements() {\r\n        for (let elIndex in Pushpin._pushpins) {\r\n            let pInstance = Pushpin._pushpins[elIndex];\r\n            pInstance._updatePosition();\r\n        }\r\n    }\r\n    _setupEventHandlers() {\r\n        document.addEventListener('scroll', Pushpin._updateElements);\r\n    }\r\n    _removeEventHandlers() {\r\n        document.removeEventListener('scroll', Pushpin._updateElements);\r\n    }\r\n    _updatePosition() {\r\n        let scrolled = utils_1.Utils.getDocumentScrollTop() + this.options.offset;\r\n        if (this.options.top <= scrolled &&\r\n            this.options.bottom >= scrolled &&\r\n            !this.el.classList.contains('pinned')) {\r\n            this._removePinClasses();\r\n            this.el.style.top = `${this.options.offset}px`;\r\n            this.el.classList.add('pinned');\r\n            // onPositionChange callback\r\n            if (typeof this.options.onPositionChange === 'function') {\r\n                this.options.onPositionChange.call(this, 'pinned');\r\n            }\r\n        }\r\n        // Add pin-top (when scrolled position is above top)\r\n        if (scrolled < this.options.top && !this.el.classList.contains('pin-top')) {\r\n            this._removePinClasses();\r\n            this.el.style.top = '0';\r\n            this.el.classList.add('pin-top');\r\n            // onPositionChange callback\r\n            if (typeof this.options.onPositionChange === 'function') {\r\n                this.options.onPositionChange.call(this, 'pin-top');\r\n            }\r\n        }\r\n        // Add pin-bottom (when scrolled position is below bottom)\r\n        if (scrolled > this.options.bottom && !this.el.classList.contains('pin-bottom')) {\r\n            this._removePinClasses();\r\n            this.el.classList.add('pin-bottom');\r\n            this.el.style.top = `${this.options.bottom - this.originalOffset}px`;\r\n            // onPositionChange callback\r\n            if (typeof this.options.onPositionChange === 'function') {\r\n                this.options.onPositionChange.call(this, 'pin-bottom');\r\n            }\r\n        }\r\n    }\r\n    _removePinClasses() {\r\n        // IE 11 bug (can't remove multiple classes in one line)\r\n        this.el.classList.remove('pin-top');\r\n        this.el.classList.remove('pinned');\r\n        this.el.classList.remove('pin-bottom');\r\n    }\r\n}\r\nexports.Pushpin = Pushpin;\r\n(() => {\r\n    Pushpin._pushpins = [];\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsRUFBRTtZQUMvRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN6QixJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDbkMsSUFBSSxDQUFDLEVBQWtCLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxjQUFjLElBQUksQ0FBQztZQUV0Riw0QkFBNEI7WUFDNUIsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEtBQUssVUFBVSxFQUFFO2dCQUN2RCxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsWUFBWSxDQUFDLENBQUM7YUFDeEQ7U0FDRjtJQUNILENBQUM7SUFFRCxpQkFBaUI7UUFDZix3REFBd0Q7UUFDeEQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDekMsQ0FBQztDQUtGO0FBaElELDBCQWdJQztBQUhDO0lBQ0UsT0FBTyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7QUFDekIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9wdXNocGluLnRzPzJmYmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFB1c2hwaW5PcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBkaXN0YW5jZSBpbiBwaXhlbHMgZnJvbSB0aGUgdG9wIG9mIHRoZSBwYWdlIHdoZXJlXHJcbiAgICogdGhlIGVsZW1lbnQgYmVjb21lcyBmaXhlZC5cclxuICAgKiBAZGVmYXVsdCAwXHJcbiAgICovXHJcbiAgdG9wOiBudW1iZXI7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRpc3RhbmNlIGluIHBpeGVscyBmcm9tIHRoZSB0b3Agb2YgdGhlIHBhZ2Ugd2hlcmVcclxuICAgKiB0aGUgZWxlbWVudHMgc3RvcHMgYmVpbmcgZml4ZWQuXHJcbiAgICogQGRlZmF1bHQgSW5maW5pdHlcclxuICAgKi9cclxuICBib3R0b206IG51bWJlcjtcclxuICAvKipcclxuICAgKiBUaGUgb2Zmc2V0IGZyb20gdGhlIHRvcCB0aGUgZWxlbWVudCB3aWxsIGJlIGZpeGVkIGF0LlxyXG4gICAqIEBkZWZhdWx0IDBcclxuICAgKi9cclxuICBvZmZzZXQ6IG51bWJlcjtcclxuICAvKipcclxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgd2hlbiBwdXNocGluIHBvc2l0aW9uIGNoYW5nZXMuXHJcbiAgICogWW91IGFyZSBwcm92aWRlZCB3aXRoIGEgcG9zaXRpb24gc3RyaW5nLlxyXG4gICAqIEBkZWZhdWx0IG51bGxcclxuICAgKi9cclxuICBvblBvc2l0aW9uQ2hhbmdlOiAocG9zaXRpb246IFwicGlubmVkXCIgfCBcInBpbi10b3BcIiB8IFwicGluLWJvdHRvbVwiKSA9PiB2b2lkO1xyXG59XHJcblxyXG5sZXQgX2RlZmF1bHRzID0ge1xyXG4gIHRvcDogMCxcclxuICBib3R0b206IEluZmluaXR5LFxyXG4gIG9mZnNldDogMCxcclxuICBvblBvc2l0aW9uQ2hhbmdlOiBudWxsXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgUHVzaHBpbiBleHRlbmRzIENvbXBvbmVudDxQdXNocGluT3B0aW9ucz4ge1xyXG4gIHN0YXRpYyBfcHVzaHBpbnM6IGFueVtdO1xyXG4gIG9yaWdpbmFsT2Zmc2V0OiBhbnk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGVsOiBIVE1MRWxlbWVudCwgb3B0aW9uczogUGFydGlhbDxQdXNocGluT3B0aW9ucz4pIHtcclxuICAgIHN1cGVyKGVsLCBvcHRpb25zLCBQdXNocGluKTtcclxuICAgICh0aGlzLmVsIGFzIGFueSkuTV9QdXNocGluID0gdGhpcztcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMgPSB7XHJcbiAgICAgIC4uLlB1c2hwaW4uZGVmYXVsdHMsXHJcbiAgICAgIC4uLm9wdGlvbnNcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5vcmlnaW5hbE9mZnNldCA9ICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5vZmZzZXRUb3A7XHJcbiAgICBQdXNocGluLl9wdXNocGlucy5wdXNoKHRoaXMpO1xyXG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBkZWZhdWx0cygpOiBQdXNocGluT3B0aW9ucyB7XHJcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgUHVzaHBpbi5cclxuICAgKiBAcGFyYW0gZWwgSFRNTCBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsOiBIVE1MRWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8UHVzaHBpbk9wdGlvbnM+KTogUHVzaHBpbjtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgUHVzaHBpbi5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zPzogUGFydGlhbDxQdXNocGluT3B0aW9ucz4pOiBQdXNocGluW107XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFB1c2hwaW4uXHJcbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsczogSFRNTEVsZW1lbnQgfCBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPFB1c2hwaW5PcHRpb25zPiA9IHt9KTogUHVzaHBpbiB8IFB1c2hwaW5bXSB7XHJcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIFB1c2hwaW4pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEluc3RhbmNlKGVsOiBIVE1MRWxlbWVudCk6IFB1c2hwaW4ge1xyXG4gICAgcmV0dXJuIChlbCBhcyBhbnkpLk1fUHVzaHBpbjtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUudG9wID0gbnVsbDtcclxuICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcclxuICAgIC8vIFJlbW92ZSBwdXNocGluIEluc3RcclxuICAgIGxldCBpbmRleCA9IFB1c2hwaW4uX3B1c2hwaW5zLmluZGV4T2YodGhpcyk7XHJcbiAgICBQdXNocGluLl9wdXNocGlucy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgaWYgKFB1c2hwaW4uX3B1c2hwaW5zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB9XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fUHVzaHBpbiA9IHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBfdXBkYXRlRWxlbWVudHMoKSB7XHJcbiAgICBmb3IgKGxldCBlbEluZGV4IGluIFB1c2hwaW4uX3B1c2hwaW5zKSB7XHJcbiAgICAgIGxldCBwSW5zdGFuY2UgPSBQdXNocGluLl9wdXNocGluc1tlbEluZGV4XTtcclxuICAgICAgcEluc3RhbmNlLl91cGRhdGVQb3NpdGlvbigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFB1c2hwaW4uX3VwZGF0ZUVsZW1lbnRzKTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgUHVzaHBpbi5fdXBkYXRlRWxlbWVudHMpO1xyXG4gIH1cclxuXHJcbiAgX3VwZGF0ZVBvc2l0aW9uKCkge1xyXG4gICAgbGV0IHNjcm9sbGVkID0gVXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKSArIHRoaXMub3B0aW9ucy5vZmZzZXQ7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLm9wdGlvbnMudG9wIDw9IHNjcm9sbGVkICYmXHJcbiAgICAgIHRoaXMub3B0aW9ucy5ib3R0b20gPj0gc2Nyb2xsZWQgJiZcclxuICAgICAgIXRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwaW5uZWQnKVxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcclxuICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRvcCA9IGAke3RoaXMub3B0aW9ucy5vZmZzZXR9cHhgO1xyXG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3Bpbm5lZCcpO1xyXG5cclxuICAgICAgLy8gb25Qb3NpdGlvbkNoYW5nZSBjYWxsYmFja1xyXG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UuY2FsbCh0aGlzLCAncGlubmVkJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgcGluLXRvcCAod2hlbiBzY3JvbGxlZCBwb3NpdGlvbiBpcyBhYm92ZSB0b3ApXHJcbiAgICBpZiAoc2Nyb2xsZWQgPCB0aGlzLm9wdGlvbnMudG9wICYmICF0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygncGluLXRvcCcpKSB7XHJcbiAgICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcclxuICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRvcCA9ICcwJztcclxuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdwaW4tdG9wJyk7XHJcblxyXG4gICAgICAvLyBvblBvc2l0aW9uQ2hhbmdlIGNhbGxiYWNrXHJcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZS5jYWxsKHRoaXMsICdwaW4tdG9wJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgcGluLWJvdHRvbSAod2hlbiBzY3JvbGxlZCBwb3NpdGlvbiBpcyBiZWxvdyBib3R0b20pXHJcbiAgICBpZiAoc2Nyb2xsZWQgPiB0aGlzLm9wdGlvbnMuYm90dG9tICYmICF0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygncGluLWJvdHRvbScpKSB7XHJcbiAgICAgIHRoaXMuX3JlbW92ZVBpbkNsYXNzZXMoKTtcclxuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdwaW4tYm90dG9tJyk7XHJcbiAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50b3AgPSBgJHt0aGlzLm9wdGlvbnMuYm90dG9tIC0gdGhpcy5vcmlnaW5hbE9mZnNldH1weGA7XHJcblxyXG4gICAgICAvLyBvblBvc2l0aW9uQ2hhbmdlIGNhbGxiYWNrXHJcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uUG9zaXRpb25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZS5jYWxsKHRoaXMsICdwaW4tYm90dG9tJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9yZW1vdmVQaW5DbGFzc2VzKCkge1xyXG4gICAgLy8gSUUgMTEgYnVnIChjYW4ndCByZW1vdmUgbXVsdGlwbGUgY2xhc3NlcyBpbiBvbmUgbGluZSlcclxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncGluLXRvcCcpO1xyXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwaW5uZWQnKTtcclxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncGluLWJvdHRvbScpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHtcclxuICAgIFB1c2hwaW4uX3B1c2hwaW5zID0gW107XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pushpin.ts\n");

/***/ }),

/***/ "./src/range.ts":
/*!**********************!*\
  !*** ./src/range.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Range = void 0;\r\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\n;\r\nconst _defaults = {};\r\n// TODO: !!!!!\r\nclass Range extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Range);\r\n        this._handleRangeChange = () => {\r\n            this.value.innerHTML = this.el.value;\r\n            if (!this.thumb.classList.contains('active')) {\r\n                this._showRangeBubble();\r\n            }\r\n            const offsetLeft = this._calcRangeOffset();\r\n            this.thumb.classList.add('active');\r\n            this.thumb.style.left = offsetLeft + 'px';\r\n        };\r\n        this._handleRangeMousedownTouchstart = (e) => {\r\n            // Set indicator value\r\n            this.value.innerHTML = this.el.value;\r\n            this._mousedown = true;\r\n            this.el.classList.add('active');\r\n            if (!this.thumb.classList.contains('active')) {\r\n                this._showRangeBubble();\r\n            }\r\n            if (e.type !== 'input') {\r\n                const offsetLeft = this._calcRangeOffset();\r\n                this.thumb.classList.add('active');\r\n                this.thumb.style.left = offsetLeft + 'px';\r\n            }\r\n        };\r\n        this._handleRangeInputMousemoveTouchmove = () => {\r\n            if (this._mousedown) {\r\n                if (!this.thumb.classList.contains('active')) {\r\n                    this._showRangeBubble();\r\n                }\r\n                const offsetLeft = this._calcRangeOffset();\r\n                this.thumb.classList.add('active');\r\n                this.thumb.style.left = offsetLeft + 'px';\r\n                this.value.innerHTML = this.el.value;\r\n            }\r\n        };\r\n        this._handleRangeMouseupTouchend = () => {\r\n            this._mousedown = false;\r\n            this.el.classList.remove('active');\r\n        };\r\n        this._handleRangeBlurMouseoutTouchleave = () => {\r\n            if (!this._mousedown) {\r\n                const paddingLeft = parseInt(getComputedStyle(this.el).paddingLeft);\r\n                const marginLeft = 7 + paddingLeft + 'px';\r\n                if (this.thumb.classList.contains('active')) {\r\n                    animejs_1.default.remove(this.thumb);\r\n                    (0, animejs_1.default)({\r\n                        targets: this.thumb,\r\n                        height: 0,\r\n                        width: 0,\r\n                        top: 10,\r\n                        easing: 'easeOutQuad',\r\n                        marginLeft: marginLeft,\r\n                        duration: 100\r\n                    });\r\n                }\r\n                this.thumb.classList.remove('active');\r\n            }\r\n        };\r\n        this.el.M_Range = this;\r\n        this.options = Object.assign(Object.assign({}, Range.defaults), options);\r\n        this._mousedown = false;\r\n        this._setupThumb();\r\n        this._setupEventHandlers();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Range.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Range);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Range;\r\n    }\r\n    destroy() {\r\n        this._removeEventHandlers();\r\n        this._removeThumb();\r\n        this.el.M_Range = undefined;\r\n    }\r\n    _setupEventHandlers() {\r\n        this.el.addEventListener('change', this._handleRangeChange);\r\n        this.el.addEventListener('mousedown', this._handleRangeMousedownTouchstart);\r\n        this.el.addEventListener('touchstart', this._handleRangeMousedownTouchstart);\r\n        this.el.addEventListener('input', this._handleRangeInputMousemoveTouchmove);\r\n        this.el.addEventListener('mousemove', this._handleRangeInputMousemoveTouchmove);\r\n        this.el.addEventListener('touchmove', this._handleRangeInputMousemoveTouchmove);\r\n        this.el.addEventListener('mouseup', this._handleRangeMouseupTouchend);\r\n        this.el.addEventListener('touchend', this._handleRangeMouseupTouchend);\r\n        this.el.addEventListener('blur', this._handleRangeBlurMouseoutTouchleave);\r\n        this.el.addEventListener('mouseout', this._handleRangeBlurMouseoutTouchleave);\r\n        this.el.addEventListener('touchleave', this._handleRangeBlurMouseoutTouchleave);\r\n    }\r\n    _removeEventHandlers() {\r\n        this.el.removeEventListener('change', this._handleRangeChange);\r\n        this.el.removeEventListener('mousedown', this._handleRangeMousedownTouchstart);\r\n        this.el.removeEventListener('touchstart', this._handleRangeMousedownTouchstart);\r\n        this.el.removeEventListener('input', this._handleRangeInputMousemoveTouchmove);\r\n        this.el.removeEventListener('mousemove', this._handleRangeInputMousemoveTouchmove);\r\n        this.el.removeEventListener('touchmove', this._handleRangeInputMousemoveTouchmove);\r\n        this.el.removeEventListener('mouseup', this._handleRangeMouseupTouchend);\r\n        this.el.removeEventListener('touchend', this._handleRangeMouseupTouchend);\r\n        this.el.removeEventListener('blur', this._handleRangeBlurMouseoutTouchleave);\r\n        this.el.removeEventListener('mouseout', this._handleRangeBlurMouseoutTouchleave);\r\n        this.el.removeEventListener('touchleave', this._handleRangeBlurMouseoutTouchleave);\r\n    }\r\n    _setupThumb() {\r\n        this.thumb = document.createElement('span');\r\n        this.value = document.createElement('span');\r\n        this.thumb.classList.add('thumb');\r\n        this.value.classList.add('value');\r\n        this.thumb.append(this.value);\r\n        this.el.after(this.thumb);\r\n    }\r\n    _removeThumb() {\r\n        this.thumb.remove();\r\n    }\r\n    _showRangeBubble() {\r\n        const paddingLeft = parseInt(getComputedStyle(this.thumb.parentElement).paddingLeft);\r\n        const marginLeft = -7 + paddingLeft + 'px'; // TODO: fix magic number?\r\n        animejs_1.default.remove(this.thumb);\r\n        (0, animejs_1.default)({\r\n            targets: this.thumb,\r\n            height: 30,\r\n            width: 30,\r\n            top: -30,\r\n            marginLeft: marginLeft,\r\n            duration: 300,\r\n            easing: 'easeOutQuint'\r\n        });\r\n    }\r\n    _calcRangeOffset() {\r\n        const width = this.el.getBoundingClientRect().width - 15;\r\n        const max = parseFloat(this.el.getAttribute('max')) || 100; // Range default max\r\n        const min = parseFloat(this.el.getAttribute('min')) || 0; // Range default min\r\n        const percent = (parseFloat(this.el.value) - min) / (max - min);\r\n        return percent * width;\r\n    }\r\n    /**\r\n     * Initializes every range input in the current document.\r\n     */\r\n    static Init() {\r\n        Range.init((document.querySelectorAll('input[type=range]')), {});\r\n    }\r\n}\r\nexports.Range = Range;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQ1YsS0FBSyxFQUFFLEVBQUU7WUFDVCxHQUFHLEVBQUUsQ0FBQyxFQUFFO1lBQ1IsVUFBVSxFQUFFLFVBQVU7WUFDdEIsUUFBUSxFQUFFLEdBQUc7WUFDYixNQUFNLEVBQUUsY0FBYztTQUN2QixDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsZ0JBQWdCO1FBQ2QsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDekQsTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsb0JBQW9CO1FBQ2hGLE1BQU0sR0FBRyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLG9CQUFvQjtRQUM5RSxNQUFNLE9BQU8sR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ2hFLE9BQU8sT0FBTyxHQUFHLEtBQUssQ0FBQztJQUN6QixDQUFDO0lBRUQ7O09BRUc7SUFDSCxNQUFNLENBQUMsSUFBSTtRQUNULEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUMsQ0FBaUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNuRyxDQUFDO0NBQ0Y7QUEzTEQsc0JBMkxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL3JhbmdlLnRzPzY1OGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcclxuXHJcbmltcG9ydCB7IENvbXBvbmVudCwgQmFzZU9wdGlvbnMsIEluaXRFbGVtZW50cywgTUVsZW1lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmFuZ2VPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge307XHJcblxyXG5jb25zdCBfZGVmYXVsdHM6IFJhbmdlT3B0aW9ucyA9IHt9O1xyXG5cclxuLy8gVE9ETzogISEhISFcclxuXHJcbmV4cG9ydCBjbGFzcyBSYW5nZSBleHRlbmRzIENvbXBvbmVudDxSYW5nZU9wdGlvbnM+IHtcclxuICBkZWNsYXJlIGVsOiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gIHByaXZhdGUgX21vdXNlZG93bjogYm9vbGVhbjtcclxuICB2YWx1ZTogSFRNTEVsZW1lbnQ7XHJcbiAgdGh1bWI6IEhUTUxFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihlbDogSFRNTElucHV0RWxlbWVudCwgb3B0aW9uczogUGFydGlhbDxSYW5nZU9wdGlvbnM+KSB7XHJcbiAgICBzdXBlcihlbCwgb3B0aW9ucywgUmFuZ2UpO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1JhbmdlID0gdGhpcztcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMgPSB7XHJcbiAgICAgIC4uLlJhbmdlLmRlZmF1bHRzLFxyXG4gICAgICAuLi5vcHRpb25zXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuX21vdXNlZG93biA9IGZhbHNlO1xyXG4gICAgdGhpcy5fc2V0dXBUaHVtYigpO1xyXG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCk6IFJhbmdlT3B0aW9ucyB7XHJcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgUmFuZ2UuXHJcbiAgICogQHBhcmFtIGVsIEhUTUwgZWxlbWVudC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbDogSFRNTElucHV0RWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8UmFuZ2VPcHRpb25zPik6IFJhbmdlO1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBSYW5nZS5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8SFRNTElucHV0RWxlbWVudCB8IE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8UmFuZ2VPcHRpb25zPik6IFJhbmdlW107XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFJhbmdlLlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxJbnB1dEVsZW1lbnQgfCBJbml0RWxlbWVudHM8SFRNTElucHV0RWxlbWVudCB8IE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxSYW5nZU9wdGlvbnM+ID0ge30pOiBSYW5nZSB8IFJhbmdlW10ge1xyXG4gICAgcmV0dXJuIHN1cGVyLmluaXQoZWxzLCBvcHRpb25zLCBSYW5nZSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxJbnB1dEVsZW1lbnQpOiBSYW5nZSB7XHJcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9SYW5nZTtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB0aGlzLl9yZW1vdmVUaHVtYigpO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1JhbmdlID0gdW5kZWZpbmVkO1xyXG4gIH1cclxuXHJcbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlUmFuZ2VDaGFuZ2UpO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnQpO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0KTtcclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlKTtcclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZSk7XHJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmUpO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmQpO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZVJhbmdlTW91c2V1cFRvdWNoZW5kKTtcclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZSk7XHJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlKTtcclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hsZWF2ZScsIHRoaXMuX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZSk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlUmFuZ2VDaGFuZ2UpO1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnQpO1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0KTtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlKTtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZSk7XHJcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmUpO1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmQpO1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZVJhbmdlTW91c2V1cFRvdWNoZW5kKTtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZSk7XHJcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlKTtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hsZWF2ZScsIHRoaXMuX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlUmFuZ2VDaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnZhbHVlLmlubmVySFRNTCA9IHRoaXMuZWwudmFsdWU7XHJcbiAgICBpZiAoIXRoaXMudGh1bWIuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICB0aGlzLl9zaG93UmFuZ2VCdWJibGUoKTtcclxuICAgIH1cclxuICAgIGNvbnN0IG9mZnNldExlZnQgPSB0aGlzLl9jYWxjUmFuZ2VPZmZzZXQoKTtcclxuICAgIHRoaXMudGh1bWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICB0aGlzLnRodW1iLnN0eWxlLmxlZnQgPSBvZmZzZXRMZWZ0KydweCc7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0ID0gKGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSA9PiB7XHJcbiAgICAvLyBTZXQgaW5kaWNhdG9yIHZhbHVlXHJcbiAgICB0aGlzLnZhbHVlLmlubmVySFRNTCA9IHRoaXMuZWwudmFsdWU7XHJcbiAgICB0aGlzLl9tb3VzZWRvd24gPSB0cnVlO1xyXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgIGlmICghdGhpcy50aHVtYi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dSYW5nZUJ1YmJsZSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGUudHlwZSAhPT0gJ2lucHV0Jykge1xyXG4gICAgICBjb25zdCBvZmZzZXRMZWZ0ID0gdGhpcy5fY2FsY1JhbmdlT2Zmc2V0KCk7XHJcbiAgICAgIHRoaXMudGh1bWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgIHRoaXMudGh1bWIuc3R5bGUubGVmdCA9IG9mZnNldExlZnQrJ3B4JztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuX21vdXNlZG93bikge1xyXG4gICAgICBpZiAoIXRoaXMudGh1bWIuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICAgIHRoaXMuX3Nob3dSYW5nZUJ1YmJsZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IG9mZnNldExlZnQgPSB0aGlzLl9jYWxjUmFuZ2VPZmZzZXQoKTtcclxuICAgICAgdGhpcy50aHVtYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgdGhpcy50aHVtYi5zdHlsZS5sZWZ0ID0gb2Zmc2V0TGVmdCsncHgnO1xyXG4gICAgICB0aGlzLnZhbHVlLmlubmVySFRNTCA9IHRoaXMuZWwudmFsdWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9tb3VzZWRvd24gPSBmYWxzZTtcclxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlID0gKCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLl9tb3VzZWRvd24pIHtcclxuICAgICAgY29uc3QgcGFkZGluZ0xlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKHRoaXMuZWwpLnBhZGRpbmdMZWZ0KTtcclxuICAgICAgY29uc3QgbWFyZ2luTGVmdCA9IDcgKyBwYWRkaW5nTGVmdCArICdweCc7XHJcbiAgICAgIGlmICh0aGlzLnRodW1iLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICBhbmltLnJlbW92ZSh0aGlzLnRodW1iKTtcclxuICAgICAgICBhbmltKHtcclxuICAgICAgICAgIHRhcmdldHM6IHRoaXMudGh1bWIsXHJcbiAgICAgICAgICBoZWlnaHQ6IDAsXHJcbiAgICAgICAgICB3aWR0aDogMCxcclxuICAgICAgICAgIHRvcDogMTAsXHJcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXHJcbiAgICAgICAgICBtYXJnaW5MZWZ0OiBtYXJnaW5MZWZ0LFxyXG4gICAgICAgICAgZHVyYXRpb246IDEwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMudGh1bWIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0dXBUaHVtYigpIHtcclxuICAgIHRoaXMudGh1bWIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICB0aGlzLnZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgdGhpcy50aHVtYi5jbGFzc0xpc3QuYWRkKCd0aHVtYicpO1xyXG4gICAgdGhpcy52YWx1ZS5jbGFzc0xpc3QuYWRkKCd2YWx1ZScpO1xyXG4gICAgdGhpcy50aHVtYi5hcHBlbmQodGhpcy52YWx1ZSk7XHJcbiAgICB0aGlzLmVsLmFmdGVyKHRoaXMudGh1bWIpO1xyXG4gIH1cclxuXHJcbiAgX3JlbW92ZVRodW1iKCkge1xyXG4gICAgdGhpcy50aHVtYi5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIF9zaG93UmFuZ2VCdWJibGUoKSB7XHJcbiAgICBjb25zdCBwYWRkaW5nTGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUodGhpcy50aHVtYi5wYXJlbnRFbGVtZW50KS5wYWRkaW5nTGVmdCk7XHJcbiAgICBjb25zdCBtYXJnaW5MZWZ0ID0gLTcgKyBwYWRkaW5nTGVmdCArICdweCc7IC8vIFRPRE86IGZpeCBtYWdpYyBudW1iZXI/XHJcbiAgICBhbmltLnJlbW92ZSh0aGlzLnRodW1iKTtcclxuICAgIGFuaW0oe1xyXG4gICAgICB0YXJnZXRzOiB0aGlzLnRodW1iLFxyXG4gICAgICBoZWlnaHQ6IDMwLFxyXG4gICAgICB3aWR0aDogMzAsXHJcbiAgICAgIHRvcDogLTMwLFxyXG4gICAgICBtYXJnaW5MZWZ0OiBtYXJnaW5MZWZ0LFxyXG4gICAgICBkdXJhdGlvbjogMzAwLFxyXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVpbnQnXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9jYWxjUmFuZ2VPZmZzZXQoKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIDE1O1xyXG4gICAgY29uc3QgbWF4ID0gcGFyc2VGbG9hdCh0aGlzLmVsLmdldEF0dHJpYnV0ZSgnbWF4JykpIHx8IDEwMDsgLy8gUmFuZ2UgZGVmYXVsdCBtYXhcclxuICAgIGNvbnN0IG1pbiA9IHBhcnNlRmxvYXQodGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ21pbicpKSB8fCAwOyAvLyBSYW5nZSBkZWZhdWx0IG1pblxyXG4gICAgY29uc3QgcGVyY2VudCA9IChwYXJzZUZsb2F0KHRoaXMuZWwudmFsdWUpIC0gbWluKSAvIChtYXggLSBtaW4pO1xyXG4gICAgcmV0dXJuIHBlcmNlbnQgKiB3aWR0aDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGV2ZXJ5IHJhbmdlIGlucHV0IGluIHRoZSBjdXJyZW50IGRvY3VtZW50LlxyXG4gICAqL1xyXG4gIHN0YXRpYyBJbml0KCl7XHJcbiAgICBSYW5nZS5pbml0KChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPXJhbmdlXScpKSBhcyBOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+LCB7fSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/range.ts\n");

/***/ }),

/***/ "./src/scrollspy.ts":
/*!**************************!*\
  !*** ./src/scrollspy.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.ScrollSpy = void 0;\r\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\n;\r\nlet _defaults = {\r\n    throttle: 100,\r\n    scrollOffset: 200,\r\n    activeClass: 'active',\r\n    getActiveElement: (id) => { return 'a[href=\"#' + id + '\"]'; }\r\n};\r\nclass ScrollSpy extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, ScrollSpy);\r\n        this._handleThrottledResize = utils_1.Utils.throttle(function () { this._handleWindowScroll(); }, 200).bind(this);\r\n        this._handleTriggerClick = (e) => {\r\n            const trigger = e.target;\r\n            for (let i = ScrollSpy._elements.length - 1; i >= 0; i--) {\r\n                const scrollspy = ScrollSpy._elements[i];\r\n                const x = document.querySelector('a[href=\"#' + scrollspy.el.id + '\"]');\r\n                if (trigger === x) {\r\n                    e.preventDefault();\r\n                    const offset = ScrollSpy._offset(scrollspy.el).top + 1;\r\n                    (0, animejs_1.default)({\r\n                        targets: [document.documentElement, document.body],\r\n                        scrollTop: offset - scrollspy.options.scrollOffset,\r\n                        duration: 400,\r\n                        easing: 'easeOutCubic'\r\n                    });\r\n                    break;\r\n                }\r\n            }\r\n        };\r\n        this._handleWindowScroll = () => {\r\n            // unique tick id\r\n            ScrollSpy._ticks++;\r\n            // viewport rectangle\r\n            let top = utils_1.Utils.getDocumentScrollTop(), left = utils_1.Utils.getDocumentScrollLeft(), right = left + window.innerWidth, bottom = top + window.innerHeight;\r\n            // determine which elements are in view\r\n            let intersections = ScrollSpy._findElements(top, right, bottom, left);\r\n            for (let i = 0; i < intersections.length; i++) {\r\n                let scrollspy = intersections[i];\r\n                let lastTick = scrollspy.tickId;\r\n                if (lastTick < 0) {\r\n                    // entered into view\r\n                    scrollspy._enter();\r\n                }\r\n                // update tick id\r\n                scrollspy.tickId = ScrollSpy._ticks;\r\n            }\r\n            for (let i = 0; i < ScrollSpy._elementsInView.length; i++) {\r\n                let scrollspy = ScrollSpy._elementsInView[i];\r\n                let lastTick = scrollspy.tickId;\r\n                if (lastTick >= 0 && lastTick !== ScrollSpy._ticks) {\r\n                    // exited from view\r\n                    scrollspy._exit();\r\n                    scrollspy.tickId = -1;\r\n                }\r\n            }\r\n            // remember elements in view for next tick\r\n            ScrollSpy._elementsInView = intersections;\r\n        };\r\n        this.el.M_ScrollSpy = this;\r\n        this.options = Object.assign(Object.assign({}, ScrollSpy.defaults), options);\r\n        ScrollSpy._elements.push(this);\r\n        ScrollSpy._count++;\r\n        ScrollSpy._increment++;\r\n        this.tickId = -1;\r\n        this.id = ScrollSpy._increment;\r\n        this._setupEventHandlers();\r\n        this._handleWindowScroll();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of ScrollSpy.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, ScrollSpy);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_ScrollSpy;\r\n    }\r\n    destroy() {\r\n        ScrollSpy._elements.splice(ScrollSpy._elements.indexOf(this), 1);\r\n        ScrollSpy._elementsInView.splice(ScrollSpy._elementsInView.indexOf(this), 1);\r\n        ScrollSpy._visibleElements.splice(ScrollSpy._visibleElements.indexOf(this.el), 1);\r\n        ScrollSpy._count--;\r\n        this._removeEventHandlers();\r\n        const actElem = document.querySelector(this.options.getActiveElement(this.el.id));\r\n        actElem.classList.remove(this.options.activeClass);\r\n        this.el.M_ScrollSpy = undefined;\r\n    }\r\n    _setupEventHandlers() {\r\n        if (ScrollSpy._count === 1) {\r\n            window.addEventListener('scroll', this._handleWindowScroll);\r\n            window.addEventListener('resize', this._handleThrottledResize);\r\n            document.body.addEventListener('click', this._handleTriggerClick);\r\n        }\r\n    }\r\n    _removeEventHandlers() {\r\n        if (ScrollSpy._count === 0) {\r\n            window.removeEventListener('scroll', this._handleWindowScroll);\r\n            window.removeEventListener('resize', this._handleThrottledResize);\r\n            document.body.removeEventListener('click', this._handleTriggerClick);\r\n        }\r\n    }\r\n    static _offset(el) {\r\n        const box = el.getBoundingClientRect();\r\n        const docElem = document.documentElement;\r\n        return {\r\n            top: box.top + window.pageYOffset - docElem.clientTop,\r\n            left: box.left + window.pageXOffset - docElem.clientLeft\r\n        };\r\n    }\r\n    static _findElements(top, right, bottom, left) {\r\n        let hits = [];\r\n        for (let i = 0; i < ScrollSpy._elements.length; i++) {\r\n            let scrollspy = ScrollSpy._elements[i];\r\n            let currTop = top + scrollspy.options.scrollOffset || 200;\r\n            if (scrollspy.el.getBoundingClientRect().height > 0) {\r\n                let elTop = ScrollSpy._offset(scrollspy.el).top, elLeft = ScrollSpy._offset(scrollspy.el).left, elRight = elLeft + scrollspy.el.getBoundingClientRect().width, elBottom = elTop + scrollspy.el.getBoundingClientRect().height;\r\n                let isIntersect = !(elLeft > right ||\r\n                    elRight < left ||\r\n                    elTop > bottom ||\r\n                    elBottom < currTop);\r\n                if (isIntersect) {\r\n                    hits.push(scrollspy);\r\n                }\r\n            }\r\n        }\r\n        return hits;\r\n    }\r\n    _enter() {\r\n        var _a;\r\n        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(value => value.getBoundingClientRect().height !== 0);\r\n        if (ScrollSpy._visibleElements[0]) {\r\n            const actElem = document.querySelector(this.options.getActiveElement(ScrollSpy._visibleElements[0].id));\r\n            actElem === null || actElem === void 0 ? void 0 : actElem.classList.remove(this.options.activeClass);\r\n            if (ScrollSpy._visibleElements[0].M_ScrollSpy && this.id < ScrollSpy._visibleElements[0].M_ScrollSpy.id) {\r\n                ScrollSpy._visibleElements.unshift(this.el);\r\n            }\r\n            else {\r\n                ScrollSpy._visibleElements.push(this.el);\r\n            }\r\n        }\r\n        else {\r\n            ScrollSpy._visibleElements.push(this.el);\r\n        }\r\n        const selector = this.options.getActiveElement(ScrollSpy._visibleElements[0].id);\r\n        (_a = document.querySelector(selector)) === null || _a === void 0 ? void 0 : _a.classList.add(this.options.activeClass);\r\n    }\r\n    _exit() {\r\n        var _a;\r\n        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(value => value.getBoundingClientRect().height !== 0);\r\n        if (ScrollSpy._visibleElements[0]) {\r\n            const actElem = document.querySelector(this.options.getActiveElement(ScrollSpy._visibleElements[0].id));\r\n            actElem === null || actElem === void 0 ? void 0 : actElem.classList.remove(this.options.activeClass);\r\n            ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter((x) => x.id != this.el.id);\r\n            if (ScrollSpy._visibleElements[0]) {\r\n                // Check if empty\r\n                const selector = this.options.getActiveElement(ScrollSpy._visibleElements[0].id);\r\n                (_a = document.querySelector(selector)) === null || _a === void 0 ? void 0 : _a.classList.add(this.options.activeClass);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.ScrollSpy = ScrollSpy;\r\n(() => {\r\n    ScrollSpy._elements = [];\r\n    ScrollSpy._elementsInView = [];\r\n    ScrollSpy._visibleElements = []; // Array.<cash>\r\n    ScrollSpy._count = 0;\r\n    ScrollSpy._increment = 0;\r\n    ScrollSpy._ticks = 0;\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2Nyb2xsc3B5LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdIQUEyQjtBQUUzQixxRUFBZ0M7QUFDaEMsaUZBQTZFO0FBdUI1RSxDQUFDO0FBRUYsSUFBSSxTQUFTLEdBQXFCO0lBQ2hDLFFBQVEsRUFBRSxHQUFHO0lBQ2IsWUFBWSxFQUFFLEdBQUc7SUFDakIsV0FBVyxFQUFFLFFBQVE7SUFDckIsZ0JBQWdCLEVBQUUsQ0FBQyxFQUFVLEVBQVUsRUFBRSxHQUFHLE9BQU8sV0FBVyxHQUFDLEVBQUUsR0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0NBQzFFLENBQUM7QUFFRixNQUFhLFNBQVUsU0FBUSxxQkFBMkI7SUFVeEQsWUFBWSxFQUFlLEVBQUUsT0FBa0M7UUFDN0QsS0FBSyxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7UUF5RWhDLDJCQUFzQixHQUFlLGFBQUssQ0FBQyxRQUFRLENBQUMsY0FBWSxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFL0csd0JBQW1CLEdBQUcsQ0FBQyxDQUFhLEVBQUUsRUFBRTtZQUN0QyxNQUFNLE9BQU8sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO1lBQ3pCLEtBQUssSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3hELE1BQU0sU0FBUyxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBRXpDLE1BQU0sQ0FBQyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsV0FBVyxHQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNuRSxJQUFJLE9BQU8sS0FBSyxDQUFDLEVBQUU7b0JBQ2pCLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztvQkFDbkIsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztvQkFFdkQscUJBQUksRUFBQzt3QkFDSCxPQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUMsZUFBZSxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUM7d0JBQ2xELFNBQVMsRUFBRSxNQUFNLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxZQUFZO3dCQUNsRCxRQUFRLEVBQUUsR0FBRzt3QkFDYixNQUFNLEVBQUUsY0FBYztxQkFDdkIsQ0FBQyxDQUFDO29CQUVILE1BQU07aUJBQ1A7YUFDRjtRQUNILENBQUM7UUFFRCx3QkFBbUIsR0FBRyxHQUFHLEVBQUU7WUFDekIsaUJBQWlCO1lBQ2pCLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUVuQixxQkFBcUI7WUFDckIsSUFBSSxHQUFHLEdBQUcsYUFBSyxDQUFDLG9CQUFvQixFQUFFLEVBQ3BDLElBQUksR0FBRyxhQUFLLENBQUMscUJBQXFCLEVBQUUsRUFDcEMsS0FBSyxHQUFHLElBQUksR0FBRyxNQUFNLENBQUMsVUFBVSxFQUNoQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUM7WUFFcEMsdUNBQXVDO1lBQ3ZDLElBQUksYUFBYSxHQUFHLFNBQVMsQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDdEUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzdDLElBQUksU0FBUyxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDakMsSUFBSSxRQUFRLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQztnQkFDaEMsSUFBSSxRQUFRLEdBQUcsQ0FBQyxFQUFFO29CQUNoQixvQkFBb0I7b0JBQ3BCLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztpQkFDcEI7Z0JBRUQsaUJBQWlCO2dCQUNqQixTQUFTLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUM7YUFDckM7WUFFRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3pELElBQUksU0FBUyxHQUFHLFNBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzdDLElBQUksUUFBUSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hDLElBQUksUUFBUSxJQUFJLENBQUMsSUFBSSxRQUFRLEtBQUssU0FBUyxDQUFDLE1BQU0sRUFBRTtvQkFDbEQsbUJBQW1CO29CQUNuQixTQUFTLENBQUMsS0FBSyxFQUFFLENBQUM7b0JBQ2xCLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7aUJBQ3ZCO2FBQ0Y7WUFDRCwwQ0FBMEM7WUFDMUMsU0FBUyxDQUFDLGVBQWUsR0FBRyxhQUFhLENBQUM7UUFDNUMsQ0FBQztRQW5JRSxJQUFJLENBQUMsRUFBVSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7UUFFcEMsSUFBSSxDQUFDLE9BQU8sbUNBQ1AsU0FBUyxDQUFDLFFBQVEsR0FDbEIsT0FBTyxDQUNYLENBQUM7UUFFRixTQUFTLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvQixTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDbkIsU0FBUyxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDakIsSUFBSSxDQUFDLEVBQUUsR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDO1FBQy9CLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQzNCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFRCxNQUFNLEtBQUssUUFBUTtRQUNqQixPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0lBY0Q7Ozs7T0FJRztJQUNILE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBeUMsRUFBRSxVQUFxQyxFQUFFO1FBQzVGLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQWU7UUFDaEMsT0FBUSxFQUFVLENBQUMsV0FBVyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxPQUFPO1FBQ0wsU0FBUyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDakUsU0FBUyxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDN0UsU0FBUyxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNsRixTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDbkIsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDNUIsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNsRixPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxFQUFVLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsbUJBQW1CO1FBQ2pCLElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDMUIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUM1RCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1lBQy9ELFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1NBQ25FO0lBQ0gsQ0FBQztJQUVELG9CQUFvQjtRQUNsQixJQUFJLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQzFCLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDL0QsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUNsRSxRQUFRLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztTQUN0RTtJQUNILENBQUM7SUErREQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ2YsTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDLHFCQUFxQixFQUFFLENBQUM7UUFDdkMsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLGVBQWUsQ0FBQztRQUN6QyxPQUFPO1lBQ0wsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsU0FBUztZQUNyRCxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxVQUFVO1NBQ3pELENBQUM7SUFDSixDQUFDO0lBRUQsTUFBTSxDQUFDLGFBQWEsQ0FBQyxHQUFXLEVBQUUsS0FBYSxFQUFFLE1BQWMsRUFBRSxJQUFZO1FBQzNFLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNkLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNuRCxJQUFJLFNBQVMsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksT0FBTyxHQUFHLEdBQUcsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLFlBQVksSUFBSSxHQUFHLENBQUM7WUFFMUQsSUFBSSxTQUFTLENBQUMsRUFBRSxDQUFDLHFCQUFxQixFQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDbkQsSUFBSSxLQUFLLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUM3QyxNQUFNLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxFQUM3QyxPQUFPLEdBQUcsTUFBTSxHQUFHLFNBQVMsQ0FBQyxFQUFFLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxLQUFLLEVBQzdELFFBQVEsR0FBRyxLQUFLLEdBQUcsU0FBUyxDQUFDLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLE1BQU0sQ0FBQztnQkFFakUsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUNqQixNQUFNLEdBQUcsS0FBSztvQkFDZCxPQUFPLEdBQUcsSUFBSTtvQkFDZCxLQUFLLEdBQUcsTUFBTTtvQkFDZCxRQUFRLEdBQUcsT0FBTyxDQUNuQixDQUFDO2dCQUVGLElBQUksV0FBVyxFQUFFO29CQUNmLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7aUJBQ3RCO2FBQ0Y7U0FDRjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELE1BQU07O1FBQ0osU0FBUyxDQUFDLGdCQUFnQixHQUFHLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFFcEgsSUFBSSxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDakMsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3hHLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxTQUFTLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7WUFFcEQsSUFBSSxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxJQUFJLElBQUksQ0FBQyxFQUFFLEdBQUcsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3ZHLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2FBQzdDO2lCQUNJO2dCQUNILFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2FBQzFDO1NBQ0Y7YUFDSTtZQUNILFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQzFDO1FBQ0QsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDakYsY0FBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsMENBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzVFLENBQUM7SUFFRCxLQUFLOztRQUNILFNBQVMsQ0FBQyxnQkFBZ0IsR0FBRyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBRXBILElBQUksU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ2pDLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN4RyxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBRXBELFNBQVMsQ0FBQyxnQkFBZ0IsR0FBRyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7WUFFMUYsSUFBSSxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ2pDLGlCQUFpQjtnQkFDakIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ2pGLGNBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLDBDQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQzthQUMzRTtTQUNGO0lBQ0gsQ0FBQztDQVVGO0FBbk9ELDhCQW1PQztBQVJDO0lBQ0UsU0FBUyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFDekIsU0FBUyxDQUFDLGVBQWUsR0FBRyxFQUFFLENBQUM7SUFDL0IsU0FBUyxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQyxDQUFDLGVBQWU7SUFDaEQsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDckIsU0FBUyxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7SUFDekIsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDdkIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9zY3JvbGxzcHkudHM/NWYyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xyXG5cclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNjcm9sbFNweU9wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogVGhyb3R0bGUgb2Ygc2Nyb2xsIGhhbmRsZXIuXHJcbiAgICogQGRlZmF1bHQgMTAwXHJcbiAgICovXHJcbiAgdGhyb3R0bGU6IG51bWJlcjtcclxuICAvKipcclxuICAgKiBPZmZzZXQgZm9yIGNlbnRlcmluZyBlbGVtZW50IHdoZW4gc2Nyb2xsZWQgdG8uXHJcbiAgICogQGRlZmF1bHQgMjAwXHJcbiAgICovXHJcbiAgc2Nyb2xsT2Zmc2V0OiBudW1iZXI7XHJcbiAgLyoqXHJcbiAgICogQ2xhc3MgYXBwbGllZCB0byBhY3RpdmUgZWxlbWVudHMuXHJcbiAgICogQGRlZmF1bHQgJ2FjdGl2ZSdcclxuICAgKi9cclxuICBhY3RpdmVDbGFzczogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIFVzZWQgdG8gZmluZCBhY3RpdmUgZWxlbWVudC5cclxuICAgKiBAZGVmYXVsdCBpZCA9PiAnYVtocmVmPVwiIycgKyBpZCArICdcIl0nXHJcbiAgICovXHJcbiAgZ2V0QWN0aXZlRWxlbWVudDogKGlkOiBzdHJpbmcpID0+IHN0cmluZztcclxufTtcclxuXHJcbmxldCBfZGVmYXVsdHM6IFNjcm9sbFNweU9wdGlvbnMgPSB7XHJcbiAgdGhyb3R0bGU6IDEwMCxcclxuICBzY3JvbGxPZmZzZXQ6IDIwMCwgLy8gb2Zmc2V0IC0gMjAwIGFsbG93cyBlbGVtZW50cyBuZWFyIGJvdHRvbSBvZiBwYWdlIHRvIHNjcm9sbFxyXG4gIGFjdGl2ZUNsYXNzOiAnYWN0aXZlJyxcclxuICBnZXRBY3RpdmVFbGVtZW50OiAoaWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7IHJldHVybiAnYVtocmVmPVwiIycraWQrJ1wiXSc7IH1cclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBTY3JvbGxTcHkgZXh0ZW5kcyBDb21wb25lbnQ8U2Nyb2xsU3B5T3B0aW9ucz4ge1xyXG4gIHN0YXRpYyBfZWxlbWVudHM6IFNjcm9sbFNweVtdO1xyXG4gIHN0YXRpYyBfY291bnQ6IG51bWJlcjtcclxuICBzdGF0aWMgX2luY3JlbWVudDogbnVtYmVyO1xyXG4gIHRpY2tJZDogbnVtYmVyO1xyXG4gIGlkOiBhbnk7XHJcbiAgc3RhdGljIF9lbGVtZW50c0luVmlldzogU2Nyb2xsU3B5W107XHJcbiAgc3RhdGljIF92aXNpYmxlRWxlbWVudHM6IGFueVtdO1xyXG4gIHN0YXRpYyBfdGlja3M6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPFNjcm9sbFNweU9wdGlvbnM+KSB7XHJcbiAgICBzdXBlcihlbCwgb3B0aW9ucywgU2Nyb2xsU3B5KTtcclxuICAgICh0aGlzLmVsIGFzIGFueSkuTV9TY3JvbGxTcHkgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgLi4uU2Nyb2xsU3B5LmRlZmF1bHRzLFxyXG4gICAgICAuLi5vcHRpb25zXHJcbiAgICB9O1xyXG5cclxuICAgIFNjcm9sbFNweS5fZWxlbWVudHMucHVzaCh0aGlzKTtcclxuICAgIFNjcm9sbFNweS5fY291bnQrKztcclxuICAgIFNjcm9sbFNweS5faW5jcmVtZW50Kys7XHJcbiAgICB0aGlzLnRpY2tJZCA9IC0xO1xyXG4gICAgdGhpcy5pZCA9IFNjcm9sbFNweS5faW5jcmVtZW50O1xyXG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKTogU2Nyb2xsU3B5T3B0aW9ucyB7XHJcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgU2Nyb2xsU3B5LlxyXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zPzogUGFydGlhbDxTY3JvbGxTcHlPcHRpb25zPik6IFNjcm9sbFNweTtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgU2Nyb2xsU3B5LlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbHM6IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM/OiBQYXJ0aWFsPFNjcm9sbFNweU9wdGlvbnM+KTogU2Nyb2xsU3B5W107XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFNjcm9sbFNweS5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWxzOiBIVE1MRWxlbWVudCB8IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM6IFBhcnRpYWw8U2Nyb2xsU3B5T3B0aW9ucz4gPSB7fSk6IFNjcm9sbFNweSB8IFNjcm9sbFNweVtdIHtcclxuICAgIHJldHVybiBzdXBlci5pbml0KGVscywgb3B0aW9ucywgU2Nyb2xsU3B5KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBTY3JvbGxTcHkge1xyXG4gICAgcmV0dXJuIChlbCBhcyBhbnkpLk1fU2Nyb2xsU3B5O1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIFNjcm9sbFNweS5fZWxlbWVudHMuc3BsaWNlKFNjcm9sbFNweS5fZWxlbWVudHMuaW5kZXhPZih0aGlzKSwgMSk7XHJcbiAgICBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3LnNwbGljZShTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3LmluZGV4T2YodGhpcyksIDEpO1xyXG4gICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMuc3BsaWNlKFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLmluZGV4T2YodGhpcy5lbCksIDEpO1xyXG4gICAgU2Nyb2xsU3B5Ll9jb3VudC0tO1xyXG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xyXG4gICAgY29uc3QgYWN0RWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmdldEFjdGl2ZUVsZW1lbnQodGhpcy5lbC5pZCkpO1xyXG4gICAgYWN0RWxlbS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fU2Nyb2xsU3B5ID0gdW5kZWZpbmVkO1xyXG4gIH1cclxuXHJcbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcclxuICAgIGlmIChTY3JvbGxTcHkuX2NvdW50ID09PSAxKSB7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplKTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRyaWdnZXJDbGljayk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcclxuICAgIGlmIChTY3JvbGxTcHkuX2NvdW50ID09PSAwKSB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwpO1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplKTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRyaWdnZXJDbGljayk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlVGhyb3R0bGVkUmVzaXplOiAoKSA9PiB2b2lkID0gVXRpbHMudGhyb3R0bGUoZnVuY3Rpb24oKXsgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsKCk7IH0sIDIwMCkuYmluZCh0aGlzKTsgXHJcblxyXG4gIF9oYW5kbGVUcmlnZ2VyQ2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgY29uc3QgdHJpZ2dlciA9IGUudGFyZ2V0O1xyXG4gICAgZm9yIChsZXQgaSA9IFNjcm9sbFNweS5fZWxlbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgY29uc3Qgc2Nyb2xsc3B5ID0gU2Nyb2xsU3B5Ll9lbGVtZW50c1tpXTtcclxuXHJcbiAgICAgIGNvbnN0IHggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhW2hyZWY9XCIjJytzY3JvbGxzcHkuZWwuaWQrJ1wiXScpO1xyXG4gICAgICBpZiAodHJpZ2dlciA9PT0geCkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBvZmZzZXQgPSBTY3JvbGxTcHkuX29mZnNldChzY3JvbGxzcHkuZWwpLnRvcCArIDE7XHJcblxyXG4gICAgICAgIGFuaW0oe1xyXG4gICAgICAgICAgdGFyZ2V0czogW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZG9jdW1lbnQuYm9keV0sXHJcbiAgICAgICAgICBzY3JvbGxUb3A6IG9mZnNldCAtIHNjcm9sbHNweS5vcHRpb25zLnNjcm9sbE9mZnNldCxcclxuICAgICAgICAgIGR1cmF0aW9uOiA0MDAsXHJcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0Q3ViaWMnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlV2luZG93U2Nyb2xsID0gKCkgPT4ge1xyXG4gICAgLy8gdW5pcXVlIHRpY2sgaWRcclxuICAgIFNjcm9sbFNweS5fdGlja3MrKztcclxuXHJcbiAgICAvLyB2aWV3cG9ydCByZWN0YW5nbGVcclxuICAgIGxldCB0b3AgPSBVdGlscy5nZXREb2N1bWVudFNjcm9sbFRvcCgpLFxyXG4gICAgICBsZWZ0ID0gVXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCksXHJcbiAgICAgIHJpZ2h0ID0gbGVmdCArIHdpbmRvdy5pbm5lcldpZHRoLFxyXG4gICAgICBib3R0b20gPSB0b3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcblxyXG4gICAgLy8gZGV0ZXJtaW5lIHdoaWNoIGVsZW1lbnRzIGFyZSBpbiB2aWV3XHJcbiAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IFNjcm9sbFNweS5fZmluZEVsZW1lbnRzKHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludGVyc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IHNjcm9sbHNweSA9IGludGVyc2VjdGlvbnNbaV07XHJcbiAgICAgIGxldCBsYXN0VGljayA9IHNjcm9sbHNweS50aWNrSWQ7XHJcbiAgICAgIGlmIChsYXN0VGljayA8IDApIHtcclxuICAgICAgICAvLyBlbnRlcmVkIGludG8gdmlld1xyXG4gICAgICAgIHNjcm9sbHNweS5fZW50ZXIoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gdXBkYXRlIHRpY2sgaWRcclxuICAgICAgc2Nyb2xsc3B5LnRpY2tJZCA9IFNjcm9sbFNweS5fdGlja3M7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCBzY3JvbGxzcHkgPSBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3W2ldO1xyXG4gICAgICBsZXQgbGFzdFRpY2sgPSBzY3JvbGxzcHkudGlja0lkO1xyXG4gICAgICBpZiAobGFzdFRpY2sgPj0gMCAmJiBsYXN0VGljayAhPT0gU2Nyb2xsU3B5Ll90aWNrcykge1xyXG4gICAgICAgIC8vIGV4aXRlZCBmcm9tIHZpZXdcclxuICAgICAgICBzY3JvbGxzcHkuX2V4aXQoKTtcclxuICAgICAgICBzY3JvbGxzcHkudGlja0lkID0gLTE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHJlbWVtYmVyIGVsZW1lbnRzIGluIHZpZXcgZm9yIG5leHQgdGlja1xyXG4gICAgU2Nyb2xsU3B5Ll9lbGVtZW50c0luVmlldyA9IGludGVyc2VjdGlvbnM7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgX29mZnNldChlbCkge1xyXG4gICAgY29uc3QgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBjb25zdCBkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG9wOiBib3gudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRUb3AsXHJcbiAgICAgIGxlZnQ6IGJveC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRMZWZ0XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIF9maW5kRWxlbWVudHModG9wOiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIGJvdHRvbTogbnVtYmVyLCBsZWZ0OiBudW1iZXIpOiBTY3JvbGxTcHlbXSB7XHJcbiAgICBsZXQgaGl0cyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBTY3JvbGxTcHkuX2VsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCBzY3JvbGxzcHkgPSBTY3JvbGxTcHkuX2VsZW1lbnRzW2ldO1xyXG4gICAgICBsZXQgY3VyclRvcCA9IHRvcCArIHNjcm9sbHNweS5vcHRpb25zLnNjcm9sbE9mZnNldCB8fCAyMDA7XHJcblxyXG4gICAgICBpZiAoc2Nyb2xsc3B5LmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCA+IDApIHtcclxuICAgICAgICBsZXQgZWxUb3AgPSBTY3JvbGxTcHkuX29mZnNldChzY3JvbGxzcHkuZWwpLnRvcCxcclxuICAgICAgICAgIGVsTGVmdCA9IFNjcm9sbFNweS5fb2Zmc2V0KHNjcm9sbHNweS5lbCkubGVmdCxcclxuICAgICAgICAgIGVsUmlnaHQgPSBlbExlZnQgKyBzY3JvbGxzcHkuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXHJcbiAgICAgICAgICBlbEJvdHRvbSA9IGVsVG9wICsgc2Nyb2xsc3B5LmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuXHJcbiAgICAgICAgbGV0IGlzSW50ZXJzZWN0ID0gIShcclxuICAgICAgICAgIGVsTGVmdCA+IHJpZ2h0IHx8XHJcbiAgICAgICAgICBlbFJpZ2h0IDwgbGVmdCB8fFxyXG4gICAgICAgICAgZWxUb3AgPiBib3R0b20gfHxcclxuICAgICAgICAgIGVsQm90dG9tIDwgY3VyclRvcFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChpc0ludGVyc2VjdCkge1xyXG4gICAgICAgICAgaGl0cy5wdXNoKHNjcm9sbHNweSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaGl0cztcclxuICB9XHJcblxyXG4gIF9lbnRlcigpIHtcclxuICAgIFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzID0gU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMuZmlsdGVyKHZhbHVlID0+IHZhbHVlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCAhPT0gMCk7XHJcblxyXG4gICAgaWYgKFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdKSB7XHJcbiAgICAgIGNvbnN0IGFjdEVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5nZXRBY3RpdmVFbGVtZW50KFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdLmlkKSk7XHJcbiAgICAgIGFjdEVsZW0/LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuXHJcbiAgICAgIGlmIChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5NX1Njcm9sbFNweSAmJiB0aGlzLmlkIDwgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0uTV9TY3JvbGxTcHkuaWQpIHtcclxuICAgICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy51bnNoaWZ0KHRoaXMuZWwpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLnB1c2godGhpcy5lbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5wdXNoKHRoaXMuZWwpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5pZCk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKT8uY2xhc3NMaXN0LmFkZCh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2V4aXQoKSB7XHJcbiAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cyA9IFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLmZpbHRlcih2YWx1ZSA9PiB2YWx1ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgIT09IDApO1xyXG5cclxuICAgIGlmIChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXSkge1xyXG4gICAgICBjb25zdCBhY3RFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5pZCkpO1xyXG4gICAgICBhY3RFbGVtPy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XHJcblxyXG4gICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cyA9IFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLmZpbHRlcigoeCkgPT4geC5pZCAhPSB0aGlzLmVsLmlkKTtcclxuXHJcbiAgICAgIGlmIChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXSkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIGVtcHR5XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5pZCk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik/LmNsYXNzTGlzdC5hZGQodGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHtcclxuICAgIFNjcm9sbFNweS5fZWxlbWVudHMgPSBbXTtcclxuICAgIFNjcm9sbFNweS5fZWxlbWVudHNJblZpZXcgPSBbXTtcclxuICAgIFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzID0gW107IC8vIEFycmF5LjxjYXNoPlxyXG4gICAgU2Nyb2xsU3B5Ll9jb3VudCA9IDA7XHJcbiAgICBTY3JvbGxTcHkuX2luY3JlbWVudCA9IDA7XHJcbiAgICBTY3JvbGxTcHkuX3RpY2tzID0gMDtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scrollspy.ts\n");

/***/ }),

/***/ "./src/select.ts":
/*!***********************!*\
  !*** ./src/select.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.FormSelect = void 0;\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst dropdown_1 = __webpack_require__(/*! ./dropdown */ \"./src/dropdown.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\nlet _defaults = {\r\n    classes: '',\r\n    dropdownOptions: {}\r\n};\r\nclass FormSelect extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, FormSelect);\r\n        this._handleSelectChange = () => {\r\n            this._setValueToInput();\r\n        };\r\n        this._handleOptionClick = (e) => {\r\n            e.preventDefault();\r\n            const virtualOption = e.target.closest('li');\r\n            this._selectOptionElement(virtualOption);\r\n            e.stopPropagation();\r\n        };\r\n        this._handleInputClick = () => {\r\n            if (this.dropdown && this.dropdown.isOpen) {\r\n                this._setValueToInput();\r\n                this._setSelectedStates();\r\n            }\r\n        };\r\n        if (this.el.classList.contains('browser-default'))\r\n            return;\r\n        this.el.M_FormSelect = this;\r\n        this.options = Object.assign(Object.assign({}, FormSelect.defaults), options);\r\n        this.isMultiple = this.el.multiple;\r\n        this.el.tabIndex = -1;\r\n        this._values = [];\r\n        //this.labelEl = null;\r\n        //this._labelFor = false;\r\n        this._setupDropdown();\r\n        this._setupEventHandlers();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of FormSelect.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, FormSelect);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_FormSelect;\r\n    }\r\n    destroy() {\r\n        // Returns label to its original owner\r\n        //if (this._labelFor) this.labelEl.setAttribute(\"for\", this.el.id);\r\n        this._removeEventHandlers();\r\n        this._removeDropdown();\r\n        this.el.M_FormSelect = undefined;\r\n    }\r\n    _setupEventHandlers() {\r\n        this.dropdownOptions.querySelectorAll('li:not(.optgroup)').forEach((el) => {\r\n            el.addEventListener('click', this._handleOptionClick);\r\n            el.addEventListener('keydown', (e) => {\r\n                if (e.key === \" \" || e.key === \"Enter\")\r\n                    this._handleOptionClick(e);\r\n            });\r\n        });\r\n        this.el.addEventListener('change', this._handleSelectChange);\r\n        this.input.addEventListener('click', this._handleInputClick);\r\n    }\r\n    _removeEventHandlers() {\r\n        this.dropdownOptions.querySelectorAll('li:not(.optgroup)').forEach((el) => {\r\n            el.removeEventListener('click', this._handleOptionClick);\r\n        });\r\n        this.el.removeEventListener('change', this._handleSelectChange);\r\n        this.input.removeEventListener('click', this._handleInputClick);\r\n    }\r\n    _arraysEqual(a, b) {\r\n        if (a === b)\r\n            return true;\r\n        if (a == null || b == null)\r\n            return false;\r\n        if (a.length !== b.length)\r\n            return false;\r\n        for (let i = 0; i < a.length; ++i)\r\n            if (a[i] !== b[i])\r\n                return false;\r\n        return true;\r\n    }\r\n    _selectOptionElement(virtualOption) {\r\n        if (!virtualOption.classList.contains('disabled') && !virtualOption.classList.contains('optgroup')) {\r\n            const value = this._values.find((value) => value.optionEl === virtualOption);\r\n            const previousSelectedValues = this.getSelectedValues();\r\n            if (this.isMultiple) {\r\n                // Multi-Select\r\n                this._toggleEntryFromArray(value);\r\n            }\r\n            else {\r\n                // Single-Select\r\n                this._deselectAll();\r\n                this._selectValue(value);\r\n            }\r\n            // Refresh Input-Text\r\n            this._setValueToInput();\r\n            // Trigger Change-Event only when data is different\r\n            const actualSelectedValues = this.getSelectedValues();\r\n            const selectionHasChanged = !this._arraysEqual(previousSelectedValues, actualSelectedValues);\r\n            if (selectionHasChanged)\r\n                this.el.dispatchEvent(new Event('change')); // trigger('change');\r\n        }\r\n        if (!this.isMultiple)\r\n            this.dropdown.close();\r\n    }\r\n    _setupDropdown() {\r\n        // Get Label\r\n        this.labelEl = this.el.parentElement.querySelector('label');\r\n        // Create Wrapper\r\n        this.wrapper = document.createElement('div');\r\n        this.wrapper.classList.add('select-wrapper', 'input-field');\r\n        if (this.options.classes.length > 0) {\r\n            this.wrapper.classList.add(...this.options.classes.split(' '));\r\n        }\r\n        this.el.before(this.wrapper);\r\n        // Move actual select element into overflow hidden wrapper\r\n        const hideSelect = document.createElement('div');\r\n        hideSelect.classList.add('hide-select');\r\n        this.wrapper.append(hideSelect);\r\n        hideSelect.appendChild(this.el);\r\n        if (this.el.disabled)\r\n            this.wrapper.classList.add('disabled');\r\n        this.selectOptions = Array.from(this.el.children).filter(el => ['OPTION', 'OPTGROUP'].includes(el.tagName));\r\n        // Create dropdown\r\n        this.dropdownOptions = document.createElement('ul');\r\n        this.dropdownOptions.id = `select-options-${utils_1.Utils.guid()}`;\r\n        this.dropdownOptions.classList.add('dropdown-content', 'select-dropdown');\r\n        this.dropdownOptions.setAttribute('role', 'listbox');\r\n        this.dropdownOptions.ariaMultiSelectable = this.isMultiple.toString();\r\n        if (this.isMultiple)\r\n            this.dropdownOptions.classList.add('multiple-select-dropdown');\r\n        // Create dropdown structure\r\n        if (this.selectOptions.length > 0) {\r\n            this.selectOptions.forEach((realOption) => {\r\n                if (realOption.tagName === 'OPTION') {\r\n                    // Option\r\n                    const virtualOption = this._createAndAppendOptionWithIcon(realOption, this.isMultiple ? 'multiple' : undefined);\r\n                    this._addOptionToValues(realOption, virtualOption);\r\n                }\r\n                else if (realOption.tagName === 'OPTGROUP') {\r\n                    // Optgroup\r\n                    const groupId = \"opt-group-\" + utils_1.Utils.guid();\r\n                    const groupParent = document.createElement('li');\r\n                    groupParent.classList.add('optgroup');\r\n                    groupParent.tabIndex = -1;\r\n                    groupParent.setAttribute('role', 'group');\r\n                    groupParent.setAttribute('aria-labelledby', groupId);\r\n                    groupParent.innerHTML = `<span id=\"${groupId}\" role=\"presentation\">${realOption.getAttribute('label')}</span>`;\r\n                    this.dropdownOptions.append(groupParent);\r\n                    const groupChildren = [];\r\n                    const selectOptions = Array.from(realOption.children).filter(el => el.tagName === 'OPTION');\r\n                    selectOptions.forEach(realOption => {\r\n                        const virtualOption = this._createAndAppendOptionWithIcon(realOption, 'optgroup-option');\r\n                        const childId = \"opt-child-\" + utils_1.Utils.guid();\r\n                        virtualOption.id = childId;\r\n                        groupChildren.push(childId);\r\n                        this._addOptionToValues(realOption, virtualOption);\r\n                    });\r\n                    groupParent.setAttribute(\"aria-owns\", groupChildren.join(\" \"));\r\n                }\r\n            });\r\n        }\r\n        this.wrapper.append(this.dropdownOptions);\r\n        // Add input dropdown\r\n        this.input = document.createElement('input');\r\n        this.input.id = \"m_select-input-\" + utils_1.Utils.guid();\r\n        this.input.classList.add('select-dropdown', 'dropdown-trigger');\r\n        this.input.type = 'text';\r\n        this.input.readOnly = true;\r\n        this.input.setAttribute('data-target', this.dropdownOptions.id);\r\n        this.input.ariaReadOnly = 'true';\r\n        this.input.ariaRequired = this.el.hasAttribute(\"required\").toString(); //setAttribute(\"aria-required\", this.el.hasAttribute(\"required\"));\r\n        if (this.el.disabled)\r\n            this.input.disabled = true; // 'true');\r\n        // Place Label after input\r\n        if (this.labelEl) {\r\n            this.input.after(this.labelEl);\r\n            this.labelEl.setAttribute('for', this.input.id);\r\n            this.labelEl.id = \"m_select-label-\" + utils_1.Utils.guid();\r\n            this.dropdownOptions.setAttribute(\"aria-labelledby\", this.labelEl.id);\r\n        }\r\n        // Makes new element to assume HTML's select label and aria-attributes, if exists\r\n        /*\r\n        if (this.el.hasAttribute(\"aria-labelledby\")){\r\n          console.log(1);\r\n          this.labelEl = <HTMLLabelElement>document.getElementById(this.el.getAttribute(\"aria-labelledby\"));\r\n        }\r\n        else if (this.el.id != \"\"){\r\n          console.log(2);\r\n          const label = document.createElement('label');\r\n          label.setAttribute('for', this.el.id);\r\n          if (label){\r\n            this.labelEl = label;\r\n            this.labelEl.removeAttribute(\"for\");\r\n            this._labelFor = true;\r\n          }\r\n        }\r\n        */\r\n        // Tries to find a valid label in parent element\r\n        // if (!this.labelEl) {\r\n        //   this.labelEl = this.el.parentElement.querySelector('label');\r\n        // }\r\n        // if (this.labelEl && this.labelEl.id == \"\") {\r\n        //   this.labelEl.id = \"m_select-label-\" + Utils.guid();\r\n        // }\r\n        // if (this.labelEl) {\r\n        //   this.labelEl.setAttribute(\"for\", this.input.id);\r\n        //   this.dropdownOptions.setAttribute(\"aria-labelledby\", this.labelEl.id);\r\n        // }\r\n        // else\r\n        //   this.dropdownOptions.ariaLabel = '';\r\n        const attrs = this.el.attributes;\r\n        for (let i = 0; i < attrs.length; ++i) {\r\n            const attr = attrs[i];\r\n            if (attr.name.startsWith(\"aria-\"))\r\n                this.input.setAttribute(attr.name, attr.value);\r\n        }\r\n        // Adds aria-attributes to input element\r\n        this.input.setAttribute('role', 'combobox');\r\n        this.input.ariaExpanded = 'false';\r\n        this.input.setAttribute(\"aria-owns\", this.dropdownOptions.id);\r\n        this.input.setAttribute(\"aria-controls\", this.dropdownOptions.id);\r\n        this.input.placeholder = \" \";\r\n        this.wrapper.prepend(this.input);\r\n        this._setValueToInput();\r\n        // Add caret\r\n        const dropdownIcon = document.createElementNS('http://www.w3.org/2000/svg', 'svg'); //document.createElement('svg')\r\n        dropdownIcon.classList.add('caret');\r\n        dropdownIcon.setAttribute('height', '24');\r\n        dropdownIcon.setAttribute('width', '24');\r\n        dropdownIcon.setAttribute('viewBox', '0 0 24 24');\r\n        dropdownIcon.ariaHidden = 'true';\r\n        dropdownIcon.innerHTML = `<path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/>`;\r\n        this.wrapper.prepend(dropdownIcon);\r\n        // Initialize dropdown\r\n        if (!this.el.disabled) {\r\n            const dropdownOptions = Object.assign({}, this.options.dropdownOptions); // TODO:\r\n            dropdownOptions.coverTrigger = false;\r\n            const userOnOpenEnd = dropdownOptions.onOpenEnd;\r\n            const userOnCloseEnd = dropdownOptions.onCloseEnd;\r\n            // Add callback for centering selected option when dropdown content is scrollable\r\n            dropdownOptions.onOpenEnd = (el) => {\r\n                const selectedOption = this.dropdownOptions.querySelector('.selected');\r\n                if (selectedOption) {\r\n                    // Focus selected option in dropdown\r\n                    utils_1.Utils.keyDown = true;\r\n                    this.dropdown.focusedIndex = [...selectedOption.parentNode.children].indexOf(selectedOption);\r\n                    this.dropdown._focusFocusedItem();\r\n                    utils_1.Utils.keyDown = false;\r\n                    // Handle scrolling to selected option\r\n                    if (this.dropdown.isScrollable) {\r\n                        let scrollOffset = selectedOption.getBoundingClientRect().top -\r\n                            this.dropdownOptions.getBoundingClientRect().top; // scroll to selected option\r\n                        scrollOffset -= this.dropdownOptions.clientHeight / 2; // center in dropdown\r\n                        this.dropdownOptions.scrollTop = scrollOffset;\r\n                    }\r\n                }\r\n                this.input.ariaExpanded = 'true';\r\n                // Handle user declared onOpenEnd if needed\r\n                if (userOnOpenEnd && typeof userOnOpenEnd === 'function')\r\n                    userOnOpenEnd.call(this.dropdown, this.el);\r\n            };\r\n            // Add callback for reseting \"expanded\" state\r\n            dropdownOptions.onCloseEnd = (el) => {\r\n                this.input.ariaExpanded = 'false';\r\n                // Handle user declared onOpenEnd if needed\r\n                if (userOnCloseEnd && typeof userOnCloseEnd === 'function')\r\n                    userOnCloseEnd.call(this.dropdown, this.el);\r\n            };\r\n            // Prevent dropdown from closing too early\r\n            dropdownOptions.closeOnClick = false;\r\n            this.dropdown = dropdown_1.Dropdown.init(this.input, dropdownOptions);\r\n        }\r\n        // Add initial selections\r\n        this._setSelectedStates();\r\n        // ! Workaround for Label: move label up again\r\n        if (this.labelEl)\r\n            this.input.after(this.labelEl);\r\n    }\r\n    _addOptionToValues(realOption, virtualOption) {\r\n        this._values.push({ el: realOption, optionEl: virtualOption });\r\n    }\r\n    _removeDropdown() {\r\n        this.wrapper.querySelector('.caret').remove();\r\n        this.input.remove();\r\n        this.dropdownOptions.remove();\r\n        this.wrapper.before(this.el);\r\n        this.wrapper.remove();\r\n    }\r\n    _createAndAppendOptionWithIcon(realOption, type) {\r\n        var _a;\r\n        const li = document.createElement('li');\r\n        li.setAttribute('role', 'option');\r\n        if (realOption.disabled) {\r\n            li.classList.add('disabled');\r\n            li.ariaDisabled = 'true';\r\n        }\r\n        if (type === 'optgroup-option')\r\n            li.classList.add(type);\r\n        // Text / Checkbox\r\n        const span = document.createElement('span');\r\n        if (this.isMultiple)\r\n            span.innerHTML = `<label><input type=\"checkbox\"${realOption.disabled ? ' disabled=\"disabled\"' : ''}><span>${realOption.innerHTML}</span></label>`;\r\n        else\r\n            span.innerHTML = realOption.innerHTML;\r\n        li.appendChild(span);\r\n        // add Icon\r\n        const iconUrl = realOption.getAttribute('data-icon');\r\n        const classes = (_a = realOption.getAttribute('class')) === null || _a === void 0 ? void 0 : _a.split();\r\n        if (iconUrl) {\r\n            const img = document.createElement('img');\r\n            if (classes)\r\n                img.classList.add(classes);\r\n            img.src = iconUrl;\r\n            img.ariaHidden = 'true';\r\n            li.prepend(img);\r\n        }\r\n        // Check for multiple type\r\n        this.dropdownOptions.append(li);\r\n        return li;\r\n    }\r\n    _selectValue(value) {\r\n        value.el.selected = true;\r\n        value.optionEl.classList.add('selected');\r\n        value.optionEl.ariaSelected = 'true'; // setAttribute(\"aria-selected\", true);\r\n        const checkbox = value.optionEl.querySelector('input[type=\"checkbox\"]');\r\n        if (checkbox)\r\n            checkbox.checked = true;\r\n    }\r\n    _deselectValue(value) {\r\n        value.el.selected = false;\r\n        value.optionEl.classList.remove('selected');\r\n        value.optionEl.ariaSelected = 'false'; //setAttribute(\"aria-selected\", false);\r\n        const checkbox = value.optionEl.querySelector('input[type=\"checkbox\"]');\r\n        if (checkbox)\r\n            checkbox.checked = false;\r\n    }\r\n    _deselectAll() {\r\n        this._values.forEach(value => this._deselectValue(value));\r\n    }\r\n    _isValueSelected(value) {\r\n        const realValues = this.getSelectedValues();\r\n        return realValues.some((realValue) => realValue === value.el.value);\r\n    }\r\n    _toggleEntryFromArray(value) {\r\n        if (this._isValueSelected(value))\r\n            this._deselectValue(value);\r\n        else\r\n            this._selectValue(value);\r\n    }\r\n    _getSelectedOptions() {\r\n        // remove null, false, ... values\r\n        return Array.prototype.filter.call(this.el.selectedOptions, (realOption) => realOption);\r\n    }\r\n    _setValueToInput() {\r\n        const realOptions = this._getSelectedOptions();\r\n        const values = this._values.filter((value) => realOptions.indexOf(value.el) >= 0);\r\n        const texts = values.map((value) => value.optionEl.querySelector('span').innerText.trim());\r\n        // Set input-text to first Option with empty value which indicates a description like \"choose your option\"\r\n        if (texts.length === 0) {\r\n            const firstDisabledOption = this.el.querySelector('option:disabled');\r\n            if (firstDisabledOption && firstDisabledOption.value === '') {\r\n                this.input.value = firstDisabledOption.innerText;\r\n                return;\r\n            }\r\n        }\r\n        this.input.value = texts.join(', ');\r\n    }\r\n    _setSelectedStates() {\r\n        this._values.forEach((value) => {\r\n            const optionIsSelected = value.el.selected;\r\n            const cb = value.optionEl.querySelector('input[type=\"checkbox\"]');\r\n            if (cb)\r\n                cb.checked = optionIsSelected;\r\n            if (optionIsSelected) {\r\n                this._activateOption(this.dropdownOptions, value.optionEl);\r\n            }\r\n            else {\r\n                value.optionEl.classList.remove('selected');\r\n                value.optionEl.ariaSelected = 'false'; // attr(\"aria-selected\", 'false');\r\n            }\r\n        });\r\n    }\r\n    _activateOption(ul, li) {\r\n        if (!li)\r\n            return;\r\n        if (!this.isMultiple)\r\n            ul.querySelectorAll('li.selected').forEach(li => li.classList.remove('selected'));\r\n        li.classList.add('selected');\r\n        li.ariaSelected = 'true';\r\n    }\r\n    getSelectedValues() {\r\n        return this._getSelectedOptions().map((realOption) => realOption.value);\r\n    }\r\n}\r\nexports.FormSelect = FormSelect;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTtnQkFDcEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUM1RDtpQkFDSTtnQkFDSCxLQUFLLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQzVDLEtBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQyxDQUFDLGtDQUFrQzthQUMxRTtRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGVBQWUsQ0FBQyxFQUFlLEVBQUUsRUFBZTtRQUM5QyxJQUFJLENBQUMsRUFBRTtZQUFFLE9BQU87UUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVO1lBQUUsRUFBRSxDQUFDLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDeEcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDN0IsRUFBRSxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUM7SUFDM0IsQ0FBQztJQUVELGlCQUFpQjtRQUNmLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUUsQ0FBQztDQUNGO0FBeGNELGdDQXdjQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9zZWxlY3QudHM/NWFkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IERyb3Bkb3duLCBEcm9wZG93bk9wdGlvbnMgfSBmcm9tIFwiLi9kcm9wZG93blwiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZvcm1TZWxlY3RPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge1xyXG4gIC8qKlxyXG4gICAqIENsYXNzZXMgdG8gYmUgYWRkZWQgdG8gdGhlIHNlbGVjdCB3cmFwcGVyIGVsZW1lbnQuXHJcbiAgICogQGRlZmF1bHQgXCJcIlxyXG4gICAqL1xyXG4gIGNsYXNzZXM6IHN0cmluZztcclxuICAvKipcclxuICAgKiBQYXNzIG9wdGlvbnMgb2JqZWN0IHRvIHNlbGVjdCBkcm9wZG93biBpbml0aWFsaXphdGlvbi5cclxuICAgKiBAZGVmYXVsdCB7fVxyXG4gICAqL1xyXG4gIGRyb3Bkb3duT3B0aW9uczogUGFydGlhbDxEcm9wZG93bk9wdGlvbnM+O1xyXG59XHJcblxyXG5sZXQgX2RlZmF1bHRzOiBGb3JtU2VsZWN0T3B0aW9ucyA9IHtcclxuICBjbGFzc2VzOiAnJyxcclxuICBkcm9wZG93bk9wdGlvbnM6IHt9XHJcbn07XHJcblxyXG50eXBlIFZhbHVlU3RydWN0ID0ge1xyXG4gIGVsOiBIVE1MT3B0aW9uRWxlbWVudCxcclxuICBvcHRpb25FbDogSFRNTEVsZW1lbnQsXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtU2VsZWN0IGV4dGVuZHMgQ29tcG9uZW50PEZvcm1TZWxlY3RPcHRpb25zPiB7XHJcbiAgZGVjbGFyZSBlbDogSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgLyoqIElmIHRoaXMgaXMgYSBtdWx0aXBsZSBzZWxlY3QuICovXHJcbiAgaXNNdWx0aXBsZTogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBMYWJlbCBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgc2VsZWN0IGVsZW1lbnQuXHJcbiAgICogSXMgXCJudWxsXCIsIGlmIG5vdCBkZXRlY3RlZC5cclxuICAgKi9cclxuICBsYWJlbEVsOiBIVE1MTGFiZWxFbGVtZW50O1xyXG4gIC8qKiBEcm9wZG93biBVTCBlbGVtZW50LiAqL1xyXG4gIGRyb3Bkb3duT3B0aW9uczogSFRNTFVMaXN0RWxlbWVudDtcclxuICAvKiogVGV4dCBpbnB1dCB0aGF0IHNob3dzIGN1cnJlbnQgc2VsZWN0ZWQgb3B0aW9uLiAqL1xyXG4gIGlucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gIC8qKiBJbnN0YW5jZSBvZiB0aGUgZHJvcGRvd24gcGx1Z2luIGZvciB0aGlzIHNlbGVjdC4gKi9cclxuICBkcm9wZG93bjogRHJvcGRvd247XHJcbiAgLyoqIFRoZSBzZWxlY3Qgd3JhcHBlciBlbGVtZW50LiAqL1xyXG4gIHdyYXBwZXI6IEhUTUxEaXZFbGVtZW50O1xyXG4gIHNlbGVjdE9wdGlvbnM6IChIVE1MT3B0aW9uRWxlbWVudHxIVE1MT3B0R3JvdXBFbGVtZW50KVtdO1xyXG4gIHByaXZhdGUgX3ZhbHVlczogVmFsdWVTdHJ1Y3RbXTtcclxuXHJcbiAgY29uc3RydWN0b3IoZWw6IEhUTUxTZWxlY3RFbGVtZW50LCBvcHRpb25zOiBGb3JtU2VsZWN0T3B0aW9ucykge1xyXG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIEZvcm1TZWxlY3QpO1xyXG4gICAgaWYgKHRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdicm93c2VyLWRlZmF1bHQnKSkgcmV0dXJuO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0Zvcm1TZWxlY3QgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgLi4uRm9ybVNlbGVjdC5kZWZhdWx0cyxcclxuICAgICAgLi4ub3B0aW9uc1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5pc011bHRpcGxlID0gdGhpcy5lbC5tdWx0aXBsZTtcclxuICAgIHRoaXMuZWwudGFiSW5kZXggPSAtMTtcclxuICAgIHRoaXMuX3ZhbHVlcyA9IFtdO1xyXG4gICAgLy90aGlzLmxhYmVsRWwgPSBudWxsO1xyXG4gICAgLy90aGlzLl9sYWJlbEZvciA9IGZhbHNlO1xyXG4gICAgdGhpcy5fc2V0dXBEcm9wZG93bigpO1xyXG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCk6IEZvcm1TZWxlY3RPcHRpb25zIHtcclxuICAgIHJldHVybiBfZGVmYXVsdHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZSBvZiBGb3JtU2VsZWN0LlxyXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWw6IEhUTUxTZWxlY3RFbGVtZW50LCBvcHRpb25zPzogUGFydGlhbDxGb3JtU2VsZWN0T3B0aW9ucz4pOiBGb3JtU2VsZWN0O1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBGb3JtU2VsZWN0LlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbHM6IEluaXRFbGVtZW50czxIVE1MU2VsZWN0RWxlbWVudCB8IE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8Rm9ybVNlbGVjdE9wdGlvbnM+KTogRm9ybVNlbGVjdFtdO1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBGb3JtU2VsZWN0LlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxTZWxlY3RFbGVtZW50IHwgSW5pdEVsZW1lbnRzPEhUTUxTZWxlY3RFbGVtZW50IHwgTUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPEZvcm1TZWxlY3RPcHRpb25zPiA9IHt9KTogRm9ybVNlbGVjdCB8IEZvcm1TZWxlY3RbXSB7XHJcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIEZvcm1TZWxlY3QpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEluc3RhbmNlKGVsOiBIVE1MRWxlbWVudCk6IEZvcm1TZWxlY3Qge1xyXG4gICAgcmV0dXJuIChlbCBhcyBhbnkpLk1fRm9ybVNlbGVjdDtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICAvLyBSZXR1cm5zIGxhYmVsIHRvIGl0cyBvcmlnaW5hbCBvd25lclxyXG4gICAgLy9pZiAodGhpcy5fbGFiZWxGb3IpIHRoaXMubGFiZWxFbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgdGhpcy5lbC5pZCk7XHJcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB0aGlzLl9yZW1vdmVEcm9wZG93bigpO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0Zvcm1TZWxlY3QgPSB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xyXG4gICAgdGhpcy5kcm9wZG93bk9wdGlvbnMucXVlcnlTZWxlY3RvckFsbCgnbGk6bm90KC5vcHRncm91cCknKS5mb3JFYWNoKChlbCkgPT4ge1xyXG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9wdGlvbkNsaWNrKTtcclxuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGUua2V5ID09PSBcIiBcIiB8fCBlLmtleSA9PT0gXCJFbnRlclwiKSB0aGlzLl9oYW5kbGVPcHRpb25DbGljayhlKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlU2VsZWN0Q2hhbmdlKTtcclxuICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrKTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xyXG4gICAgdGhpcy5kcm9wZG93bk9wdGlvbnMucXVlcnlTZWxlY3RvckFsbCgnbGk6bm90KC5vcHRncm91cCknKS5mb3JFYWNoKChlbCkgPT4ge1xyXG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9wdGlvbkNsaWNrKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVTZWxlY3RDaGFuZ2UpO1xyXG4gICAgdGhpcy5pbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2spO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVNlbGVjdENoYW5nZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX3NldFZhbHVlVG9JbnB1dCgpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZU9wdGlvbkNsaWNrID0gKGU6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCB2aXJ0dWFsT3B0aW9uID0gKGUudGFyZ2V0IGFzIEhUTUxMSUVsZW1lbnQpLmNsb3Nlc3QoJ2xpJyk7XHJcbiAgICB0aGlzLl9zZWxlY3RPcHRpb25FbGVtZW50KHZpcnR1YWxPcHRpb24pO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICB9XHJcblxyXG4gIF9hcnJheXNFcXVhbDxULCBFPihhOiBUW10sIGI6IChFfFQpW10pIHtcclxuICAgIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcclxuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIF9zZWxlY3RPcHRpb25FbGVtZW50KHZpcnR1YWxPcHRpb246IEhUTUxFbGVtZW50KSB7XHJcbiAgICBpZiAoIXZpcnR1YWxPcHRpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpICYmICF2aXJ0dWFsT3B0aW9uLmNsYXNzTGlzdC5jb250YWlucygnb3B0Z3JvdXAnKSkge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX3ZhbHVlcy5maW5kKCh2YWx1ZSkgPT4gdmFsdWUub3B0aW9uRWwgPT09IHZpcnR1YWxPcHRpb24pO1xyXG4gICAgICBjb25zdCBwcmV2aW91c1NlbGVjdGVkVmFsdWVzID0gdGhpcy5nZXRTZWxlY3RlZFZhbHVlcygpO1xyXG4gICAgICBpZiAodGhpcy5pc011bHRpcGxlKSB7XHJcbiAgICAgICAgLy8gTXVsdGktU2VsZWN0XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlRW50cnlGcm9tQXJyYXkodmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIFNpbmdsZS1TZWxlY3RcclxuICAgICAgICB0aGlzLl9kZXNlbGVjdEFsbCgpO1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdFZhbHVlKHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgICAvLyBSZWZyZXNoIElucHV0LVRleHRcclxuICAgICAgdGhpcy5fc2V0VmFsdWVUb0lucHV0KCk7XHJcbiAgICAgIC8vIFRyaWdnZXIgQ2hhbmdlLUV2ZW50IG9ubHkgd2hlbiBkYXRhIGlzIGRpZmZlcmVudFxyXG4gICAgICBjb25zdCBhY3R1YWxTZWxlY3RlZFZhbHVlcyA9IHRoaXMuZ2V0U2VsZWN0ZWRWYWx1ZXMoKTtcclxuICAgICAgY29uc3Qgc2VsZWN0aW9uSGFzQ2hhbmdlZCA9ICF0aGlzLl9hcnJheXNFcXVhbChcclxuICAgICAgICBwcmV2aW91c1NlbGVjdGVkVmFsdWVzLFxyXG4gICAgICAgIGFjdHVhbFNlbGVjdGVkVmFsdWVzXHJcbiAgICAgICk7XHJcbiAgICAgIGlmIChzZWxlY3Rpb25IYXNDaGFuZ2VkKSB0aGlzLmVsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSk7IC8vIHRyaWdnZXIoJ2NoYW5nZScpO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzLmlzTXVsdGlwbGUpIHRoaXMuZHJvcGRvd24uY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVJbnB1dENsaWNrID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuZHJvcGRvd24gJiYgdGhpcy5kcm9wZG93bi5pc09wZW4pIHtcclxuICAgICAgdGhpcy5fc2V0VmFsdWVUb0lucHV0KCk7XHJcbiAgICAgIHRoaXMuX3NldFNlbGVjdGVkU3RhdGVzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0dXBEcm9wZG93bigpIHtcclxuICAgIC8vIEdldCBMYWJlbFxyXG4gICAgdGhpcy5sYWJlbEVsID0gdGhpcy5lbC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJyk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIFdyYXBwZXJcclxuICAgIHRoaXMud3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdC13cmFwcGVyJywgJ2lucHV0LWZpZWxkJyk7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmNsYXNzZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCguLi50aGlzLm9wdGlvbnMuY2xhc3Nlcy5zcGxpdCgnICcpKTtcclxuICAgIH1cclxuICAgIHRoaXMuZWwuYmVmb3JlKHRoaXMud3JhcHBlcik7XHJcblxyXG4gICAgLy8gTW92ZSBhY3R1YWwgc2VsZWN0IGVsZW1lbnQgaW50byBvdmVyZmxvdyBoaWRkZW4gd3JhcHBlclxyXG4gICAgY29uc3QgaGlkZVNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgaGlkZVNlbGVjdC5jbGFzc0xpc3QuYWRkKCdoaWRlLXNlbGVjdCcpO1xyXG4gICAgdGhpcy53cmFwcGVyLmFwcGVuZChoaWRlU2VsZWN0KTtcclxuICAgIGhpZGVTZWxlY3QuYXBwZW5kQ2hpbGQodGhpcy5lbCk7XHJcblxyXG4gICAgaWYgKHRoaXMuZWwuZGlzYWJsZWQpIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xyXG5cclxuICAgIHRoaXMuc2VsZWN0T3B0aW9ucyA9IDwoSFRNTE9wdEdyb3VwRWxlbWVudHxIVE1MT3B0aW9uRWxlbWVudClbXT5BcnJheS5mcm9tKHRoaXMuZWwuY2hpbGRyZW4pLmZpbHRlcihlbCA9PiBbJ09QVElPTicsJ09QVEdST1VQJ10uaW5jbHVkZXMoZWwudGFnTmFtZSkpO1xyXG5cclxuICAgIC8vIENyZWF0ZSBkcm9wZG93blxyXG4gICAgdGhpcy5kcm9wZG93bk9wdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xyXG4gICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuaWQgPSBgc2VsZWN0LW9wdGlvbnMtJHtVdGlscy5ndWlkKCl9YDtcclxuICAgIHRoaXMuZHJvcGRvd25PcHRpb25zLmNsYXNzTGlzdC5hZGQoJ2Ryb3Bkb3duLWNvbnRlbnQnLCAnc2VsZWN0LWRyb3Bkb3duJyk7XHJcbiAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnbGlzdGJveCcpO1xyXG4gICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuYXJpYU11bHRpU2VsZWN0YWJsZSA9IHRoaXMuaXNNdWx0aXBsZS50b1N0cmluZygpO1xyXG4gICAgaWYgKHRoaXMuaXNNdWx0aXBsZSkgdGhpcy5kcm9wZG93bk9wdGlvbnMuY2xhc3NMaXN0LmFkZCgnbXVsdGlwbGUtc2VsZWN0LWRyb3Bkb3duJyk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGRyb3Bkb3duIHN0cnVjdHVyZVxyXG4gICAgaWYgKHRoaXMuc2VsZWN0T3B0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0T3B0aW9ucy5mb3JFYWNoKChyZWFsT3B0aW9uKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlYWxPcHRpb24udGFnTmFtZSA9PT0gJ09QVElPTicpIHtcclxuICAgICAgICAgIC8vIE9wdGlvblxyXG4gICAgICAgICAgY29uc3QgdmlydHVhbE9wdGlvbiA9IHRoaXMuX2NyZWF0ZUFuZEFwcGVuZE9wdGlvbldpdGhJY29uKHJlYWxPcHRpb24sIHRoaXMuaXNNdWx0aXBsZSA/ICdtdWx0aXBsZScgOiB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgdGhpcy5fYWRkT3B0aW9uVG9WYWx1ZXMocmVhbE9wdGlvbiBhcyBIVE1MT3B0aW9uRWxlbWVudCwgdmlydHVhbE9wdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJlYWxPcHRpb24udGFnTmFtZSA9PT0gJ09QVEdST1VQJykge1xyXG4gICAgICAgICAgLy8gT3B0Z3JvdXBcclxuICAgICAgICAgIGNvbnN0IGdyb3VwSWQgPSBcIm9wdC1ncm91cC1cIitVdGlscy5ndWlkKCk7XHJcbiAgICAgICAgICBjb25zdCBncm91cFBhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgICBncm91cFBhcmVudC5jbGFzc0xpc3QuYWRkKCdvcHRncm91cCcpO1xyXG4gICAgICAgICAgZ3JvdXBQYXJlbnQudGFiSW5kZXggPSAtMTtcclxuICAgICAgICAgIGdyb3VwUGFyZW50LnNldEF0dHJpYnV0ZSgncm9sZScsICdncm91cCcpO1xyXG4gICAgICAgICAgZ3JvdXBQYXJlbnQuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknLCBncm91cElkKTtcclxuICAgICAgICAgIGdyb3VwUGFyZW50LmlubmVySFRNTCA9IGA8c3BhbiBpZD1cIiR7Z3JvdXBJZH1cIiByb2xlPVwicHJlc2VudGF0aW9uXCI+JHtyZWFsT3B0aW9uLmdldEF0dHJpYnV0ZSgnbGFiZWwnKX08L3NwYW4+YDtcclxuICAgICAgICAgIHRoaXMuZHJvcGRvd25PcHRpb25zLmFwcGVuZChncm91cFBhcmVudCk7XHJcblxyXG4gICAgICAgICAgY29uc3QgZ3JvdXBDaGlsZHJlbiA9IFtdO1xyXG4gICAgICAgICAgY29uc3Qgc2VsZWN0T3B0aW9ucyA9IDxIVE1MT3B0aW9uRWxlbWVudFtdPkFycmF5LmZyb20ocmVhbE9wdGlvbi5jaGlsZHJlbikuZmlsdGVyKGVsID0+IGVsLnRhZ05hbWUgPT09ICdPUFRJT04nKTtcclxuICAgICAgICAgIHNlbGVjdE9wdGlvbnMuZm9yRWFjaChyZWFsT3B0aW9uID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdmlydHVhbE9wdGlvbiA9IHRoaXMuX2NyZWF0ZUFuZEFwcGVuZE9wdGlvbldpdGhJY29uKHJlYWxPcHRpb24sICdvcHRncm91cC1vcHRpb24nKTtcclxuICAgICAgICAgICAgY29uc3QgY2hpbGRJZCA9IFwib3B0LWNoaWxkLVwiK1V0aWxzLmd1aWQoKTtcclxuICAgICAgICAgICAgdmlydHVhbE9wdGlvbi5pZCA9IGNoaWxkSWQ7XHJcbiAgICAgICAgICAgIGdyb3VwQ2hpbGRyZW4ucHVzaChjaGlsZElkKTtcclxuICAgICAgICAgICAgdGhpcy5fYWRkT3B0aW9uVG9WYWx1ZXMocmVhbE9wdGlvbiwgdmlydHVhbE9wdGlvbik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGdyb3VwUGFyZW50LnNldEF0dHJpYnV0ZShcImFyaWEtb3duc1wiLCBncm91cENoaWxkcmVuLmpvaW4oXCIgXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy53cmFwcGVyLmFwcGVuZCh0aGlzLmRyb3Bkb3duT3B0aW9ucyk7XHJcblxyXG4gICAgLy8gQWRkIGlucHV0IGRyb3Bkb3duXHJcbiAgICB0aGlzLmlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgIHRoaXMuaW5wdXQuaWQgPSBcIm1fc2VsZWN0LWlucHV0LVwiICsgVXRpbHMuZ3VpZCgpO1xyXG4gICAgdGhpcy5pbnB1dC5jbGFzc0xpc3QuYWRkKCdzZWxlY3QtZHJvcGRvd24nLCAnZHJvcGRvd24tdHJpZ2dlcicpO1xyXG4gICAgdGhpcy5pbnB1dC50eXBlID0gJ3RleHQnO1xyXG4gICAgdGhpcy5pbnB1dC5yZWFkT25seSA9IHRydWU7XHJcbiAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnLCB0aGlzLmRyb3Bkb3duT3B0aW9ucy5pZCk7XHJcbiAgICB0aGlzLmlucHV0LmFyaWFSZWFkT25seSA9ICd0cnVlJztcclxuICAgIHRoaXMuaW5wdXQuYXJpYVJlcXVpcmVkID0gdGhpcy5lbC5oYXNBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiKS50b1N0cmluZygpOyAvL3NldEF0dHJpYnV0ZShcImFyaWEtcmVxdWlyZWRcIiwgdGhpcy5lbC5oYXNBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiKSk7XHJcbiAgICBpZiAodGhpcy5lbC5kaXNhYmxlZCkgdGhpcy5pbnB1dC5kaXNhYmxlZCA9IHRydWU7IC8vICd0cnVlJyk7XHJcblxyXG4gICAgLy8gUGxhY2UgTGFiZWwgYWZ0ZXIgaW5wdXRcclxuICAgIGlmICh0aGlzLmxhYmVsRWwpIHtcclxuICAgICAgdGhpcy5pbnB1dC5hZnRlcih0aGlzLmxhYmVsRWwpO1xyXG4gICAgICB0aGlzLmxhYmVsRWwuc2V0QXR0cmlidXRlKCdmb3InLCB0aGlzLmlucHV0LmlkKTtcclxuICAgICAgdGhpcy5sYWJlbEVsLmlkID0gXCJtX3NlbGVjdC1sYWJlbC1cIiArIFV0aWxzLmd1aWQoKTtcclxuICAgICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIsIHRoaXMubGFiZWxFbC5pZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWFrZXMgbmV3IGVsZW1lbnQgdG8gYXNzdW1lIEhUTUwncyBzZWxlY3QgbGFiZWwgYW5kIGFyaWEtYXR0cmlidXRlcywgaWYgZXhpc3RzXHJcbiAgICAvKlxyXG4gICAgaWYgKHRoaXMuZWwuaGFzQXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIpKXtcclxuICAgICAgY29uc29sZS5sb2coMSk7XHJcbiAgICAgIHRoaXMubGFiZWxFbCA9IDxIVE1MTGFiZWxFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWwuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIpKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMuZWwuaWQgIT0gXCJcIil7XHJcbiAgICAgIGNvbnNvbGUubG9nKDIpO1xyXG4gICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgdGhpcy5lbC5pZCk7XHJcbiAgICAgIGlmIChsYWJlbCl7XHJcbiAgICAgICAgdGhpcy5sYWJlbEVsID0gbGFiZWw7XHJcbiAgICAgICAgdGhpcy5sYWJlbEVsLnJlbW92ZUF0dHJpYnV0ZShcImZvclwiKTtcclxuICAgICAgICB0aGlzLl9sYWJlbEZvciA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgICovXHJcbiAgICAvLyBUcmllcyB0byBmaW5kIGEgdmFsaWQgbGFiZWwgaW4gcGFyZW50IGVsZW1lbnRcclxuICAgIC8vIGlmICghdGhpcy5sYWJlbEVsKSB7XHJcbiAgICAvLyAgIHRoaXMubGFiZWxFbCA9IHRoaXMuZWwucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gaWYgKHRoaXMubGFiZWxFbCAmJiB0aGlzLmxhYmVsRWwuaWQgPT0gXCJcIikge1xyXG4gICAgLy8gICB0aGlzLmxhYmVsRWwuaWQgPSBcIm1fc2VsZWN0LWxhYmVsLVwiICsgVXRpbHMuZ3VpZCgpO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gaWYgKHRoaXMubGFiZWxFbCkge1xyXG4gICAgLy8gICB0aGlzLmxhYmVsRWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIHRoaXMuaW5wdXQuaWQpO1xyXG4gICAgLy8gICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIiwgdGhpcy5sYWJlbEVsLmlkKTtcclxuICAgIC8vIH1cclxuICAgIC8vIGVsc2VcclxuICAgIC8vICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuYXJpYUxhYmVsID0gJyc7XHJcblxyXG4gICAgY29uc3QgYXR0cnMgPSB0aGlzLmVsLmF0dHJpYnV0ZXM7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgKytpKXtcclxuICAgICAgY29uc3QgYXR0ciA9IGF0dHJzW2ldO1xyXG4gICAgICBpZiAoYXR0ci5uYW1lLnN0YXJ0c1dpdGgoXCJhcmlhLVwiKSlcclxuICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZShhdHRyLm5hbWUsIGF0dHIudmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZHMgYXJpYS1hdHRyaWJ1dGVzIHRvIGlucHV0IGVsZW1lbnRcclxuICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2NvbWJvYm94Jyk7XHJcbiAgICB0aGlzLmlucHV0LmFyaWFFeHBhbmRlZCA9ICdmYWxzZSc7XHJcbiAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZShcImFyaWEtb3duc1wiLCB0aGlzLmRyb3Bkb3duT3B0aW9ucy5pZCk7XHJcbiAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZShcImFyaWEtY29udHJvbHNcIiwgdGhpcy5kcm9wZG93bk9wdGlvbnMuaWQpO1xyXG4gICAgdGhpcy5pbnB1dC5wbGFjZWhvbGRlciA9IFwiIFwiO1xyXG5cclxuICAgIHRoaXMud3JhcHBlci5wcmVwZW5kKHRoaXMuaW5wdXQpO1xyXG4gICAgdGhpcy5fc2V0VmFsdWVUb0lucHV0KCk7XHJcblxyXG4gICAgLy8gQWRkIGNhcmV0XHJcbiAgICBjb25zdCBkcm9wZG93bkljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpOyAvL2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N2ZycpXHJcbiAgICBkcm9wZG93bkljb24uY2xhc3NMaXN0LmFkZCgnY2FyZXQnKTtcclxuICAgIGRyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsICcyNCcpO1xyXG4gICAgZHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnMjQnKTtcclxuICAgIGRyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwIDI0IDI0Jyk7XHJcbiAgICBkcm9wZG93bkljb24uYXJpYUhpZGRlbiA9ICd0cnVlJztcclxuICAgIGRyb3Bkb3duSWNvbi5pbm5lckhUTUwgPSBgPHBhdGggZD1cIk03IDEwbDUgNSA1LTV6XCIvPjxwYXRoIGQ9XCJNMCAwaDI0djI0SDB6XCIgZmlsbD1cIm5vbmVcIi8+YDtcclxuICAgIHRoaXMud3JhcHBlci5wcmVwZW5kKGRyb3Bkb3duSWNvbik7XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSBkcm9wZG93blxyXG4gICAgaWYgKCF0aGlzLmVsLmRpc2FibGVkKSB7XHJcbiAgICAgIGNvbnN0IGRyb3Bkb3duT3B0aW9ucyA9IHsuLi50aGlzLm9wdGlvbnMuZHJvcGRvd25PcHRpb25zfTsgLy8gVE9ETzpcclxuICAgICAgZHJvcGRvd25PcHRpb25zLmNvdmVyVHJpZ2dlciA9IGZhbHNlO1xyXG4gICAgICBjb25zdCB1c2VyT25PcGVuRW5kID0gZHJvcGRvd25PcHRpb25zLm9uT3BlbkVuZDtcclxuICAgICAgY29uc3QgdXNlck9uQ2xvc2VFbmQgPSBkcm9wZG93bk9wdGlvbnMub25DbG9zZUVuZDtcclxuICAgICAgLy8gQWRkIGNhbGxiYWNrIGZvciBjZW50ZXJpbmcgc2VsZWN0ZWQgb3B0aW9uIHdoZW4gZHJvcGRvd24gY29udGVudCBpcyBzY3JvbGxhYmxlXHJcbiAgICAgIGRyb3Bkb3duT3B0aW9ucy5vbk9wZW5FbmQgPSAoZWwpID0+IHtcclxuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IHRoaXMuZHJvcGRvd25PcHRpb25zLnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3RlZCcpO1xyXG4gICAgICAgIGlmIChzZWxlY3RlZE9wdGlvbikge1xyXG4gICAgICAgICAgLy8gRm9jdXMgc2VsZWN0ZWQgb3B0aW9uIGluIGRyb3Bkb3duXHJcbiAgICAgICAgICBVdGlscy5rZXlEb3duID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuZHJvcGRvd24uZm9jdXNlZEluZGV4ID0gWy4uLnNlbGVjdGVkT3B0aW9uLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2Yoc2VsZWN0ZWRPcHRpb24pO1xyXG4gICAgICAgICAgdGhpcy5kcm9wZG93bi5fZm9jdXNGb2N1c2VkSXRlbSgpO1xyXG4gICAgICAgICAgVXRpbHMua2V5RG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgLy8gSGFuZGxlIHNjcm9sbGluZyB0byBzZWxlY3RlZCBvcHRpb25cclxuICAgICAgICAgIGlmICh0aGlzLmRyb3Bkb3duLmlzU2Nyb2xsYWJsZSkge1xyXG4gICAgICAgICAgICBsZXQgc2Nyb2xsT2Zmc2V0ID1cclxuICAgICAgICAgICAgICBzZWxlY3RlZE9wdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLVxyXG4gICAgICAgICAgICAgICh0aGlzLmRyb3Bkb3duT3B0aW9ucyBhcyBIVE1MRWxlbWVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOyAvLyBzY3JvbGwgdG8gc2VsZWN0ZWQgb3B0aW9uXHJcbiAgICAgICAgICAgIHNjcm9sbE9mZnNldCAtPSB0aGlzLmRyb3Bkb3duT3B0aW9ucy5jbGllbnRIZWlnaHQgLyAyOyAvLyBjZW50ZXIgaW4gZHJvcGRvd25cclxuICAgICAgICAgICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuc2Nyb2xsVG9wID0gc2Nyb2xsT2Zmc2V0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlucHV0LmFyaWFFeHBhbmRlZCA9ICd0cnVlJztcclxuICAgICAgICAvLyBIYW5kbGUgdXNlciBkZWNsYXJlZCBvbk9wZW5FbmQgaWYgbmVlZGVkXHJcbiAgICAgICAgaWYgKHVzZXJPbk9wZW5FbmQgJiYgdHlwZW9mIHVzZXJPbk9wZW5FbmQgPT09ICdmdW5jdGlvbicpXHJcbiAgICAgICAgICB1c2VyT25PcGVuRW5kLmNhbGwodGhpcy5kcm9wZG93biwgdGhpcy5lbCk7XHJcbiAgICAgIH07XHJcbiAgICAgIC8vIEFkZCBjYWxsYmFjayBmb3IgcmVzZXRpbmcgXCJleHBhbmRlZFwiIHN0YXRlXHJcbiAgICAgIGRyb3Bkb3duT3B0aW9ucy5vbkNsb3NlRW5kID0gKGVsKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pbnB1dC5hcmlhRXhwYW5kZWQgPSAnZmFsc2UnO1xyXG4gICAgICAgIC8vIEhhbmRsZSB1c2VyIGRlY2xhcmVkIG9uT3BlbkVuZCBpZiBuZWVkZWRcclxuICAgICAgICBpZiAodXNlck9uQ2xvc2VFbmQgJiYgdHlwZW9mIHVzZXJPbkNsb3NlRW5kID09PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgdXNlck9uQ2xvc2VFbmQuY2FsbCh0aGlzLmRyb3Bkb3duLCB0aGlzLmVsKTtcclxuICAgICAgfTtcclxuICAgICAgLy8gUHJldmVudCBkcm9wZG93biBmcm9tIGNsb3NpbmcgdG9vIGVhcmx5XHJcbiAgICAgIGRyb3Bkb3duT3B0aW9ucy5jbG9zZU9uQ2xpY2sgPSBmYWxzZTtcclxuICAgICAgdGhpcy5kcm9wZG93biA9IERyb3Bkb3duLmluaXQodGhpcy5pbnB1dCwgZHJvcGRvd25PcHRpb25zKTtcclxuICAgIH1cclxuICAgIC8vIEFkZCBpbml0aWFsIHNlbGVjdGlvbnNcclxuICAgIHRoaXMuX3NldFNlbGVjdGVkU3RhdGVzKCk7XHJcblxyXG4gICAgLy8gISBXb3JrYXJvdW5kIGZvciBMYWJlbDogbW92ZSBsYWJlbCB1cCBhZ2FpblxyXG4gICAgaWYgKHRoaXMubGFiZWxFbCkgdGhpcy5pbnB1dC5hZnRlcih0aGlzLmxhYmVsRWwpO1xyXG4gIH1cclxuXHJcbiAgX2FkZE9wdGlvblRvVmFsdWVzKHJlYWxPcHRpb246IEhUTUxPcHRpb25FbGVtZW50LCB2aXJ0dWFsT3B0aW9uOiBIVE1MRWxlbWVudCkge1xyXG4gICAgdGhpcy5fdmFsdWVzLnB1c2goeyBlbDogcmVhbE9wdGlvbiwgb3B0aW9uRWw6IHZpcnR1YWxPcHRpb24gfSk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRHJvcGRvd24oKSB7XHJcbiAgICB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvcignLmNhcmV0JykucmVtb3ZlKCk7XHJcbiAgICB0aGlzLmlucHV0LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5kcm9wZG93bk9wdGlvbnMucmVtb3ZlKCk7XHJcbiAgICB0aGlzLndyYXBwZXIuYmVmb3JlKHRoaXMuZWwpO1xyXG4gICAgdGhpcy53cmFwcGVyLnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUFuZEFwcGVuZE9wdGlvbldpdGhJY29uKHJlYWxPcHRpb24sIHR5cGU6IHN0cmluZykge1xyXG4gICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgbGkuc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xyXG4gICAgaWYgKHJlYWxPcHRpb24uZGlzYWJsZWQpe1xyXG4gICAgICBsaS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xyXG4gICAgICBsaS5hcmlhRGlzYWJsZWQgPSAndHJ1ZSc7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZSA9PT0gJ29wdGdyb3VwLW9wdGlvbicpIGxpLmNsYXNzTGlzdC5hZGQodHlwZSk7XHJcbiAgICAvLyBUZXh0IC8gQ2hlY2tib3hcclxuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICBpZiAodGhpcy5pc011bHRpcGxlKVxyXG4gICAgICBzcGFuLmlubmVySFRNTCA9IGA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiJHtcclxuICAgICAgICByZWFsT3B0aW9uLmRpc2FibGVkID8gJyBkaXNhYmxlZD1cImRpc2FibGVkXCInIDogJydcclxuICAgICAgfT48c3Bhbj4ke3JlYWxPcHRpb24uaW5uZXJIVE1MfTwvc3Bhbj48L2xhYmVsPmA7XHJcbiAgICBlbHNlXHJcbiAgICAgIHNwYW4uaW5uZXJIVE1MID0gcmVhbE9wdGlvbi5pbm5lckhUTUw7XHJcbiAgICBsaS5hcHBlbmRDaGlsZChzcGFuKTtcclxuICAgIC8vIGFkZCBJY29uXHJcbiAgICBjb25zdCBpY29uVXJsID0gcmVhbE9wdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWNvbicpO1xyXG4gICAgY29uc3QgY2xhc3NlcyA9IHJlYWxPcHRpb24uZ2V0QXR0cmlidXRlKCdjbGFzcycpPy5zcGxpdCgpO1xyXG4gICAgaWYgKGljb25VcmwpIHtcclxuICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgIGlmIChjbGFzc2VzKSBpbWcuY2xhc3NMaXN0LmFkZChjbGFzc2VzKTtcclxuICAgICAgaW1nLnNyYyA9IGljb25Vcmw7XHJcbiAgICAgIGltZy5hcmlhSGlkZGVuID0gJ3RydWUnO1xyXG4gICAgICBsaS5wcmVwZW5kKGltZyk7XHJcbiAgICB9XHJcbiAgICAvLyBDaGVjayBmb3IgbXVsdGlwbGUgdHlwZVxyXG4gICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuYXBwZW5kKGxpKTtcclxuICAgIHJldHVybiBsaTtcclxuICB9XHJcblxyXG4gIF9zZWxlY3RWYWx1ZSh2YWx1ZTogVmFsdWVTdHJ1Y3QpIHtcclxuICAgIHZhbHVlLmVsLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgIHZhbHVlLm9wdGlvbkVsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XHJcbiAgICB2YWx1ZS5vcHRpb25FbC5hcmlhU2VsZWN0ZWQgPSAndHJ1ZSc7IC8vIHNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgdHJ1ZSk7XHJcbiAgICBjb25zdCBjaGVja2JveCA9IDxIVE1MSW5wdXRFbGVtZW50PnZhbHVlLm9wdGlvbkVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xyXG4gICAgaWYgKGNoZWNrYm94KSBjaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIF9kZXNlbGVjdFZhbHVlKHZhbHVlOiBWYWx1ZVN0cnVjdCkge1xyXG4gICAgdmFsdWUuZWwuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgIHZhbHVlLm9wdGlvbkVsLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XHJcbiAgICB2YWx1ZS5vcHRpb25FbC5hcmlhU2VsZWN0ZWQgPSAnZmFsc2UnOyAvL3NldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgZmFsc2UpO1xyXG4gICAgY29uc3QgY2hlY2tib3ggPSA8SFRNTElucHV0RWxlbWVudD52YWx1ZS5vcHRpb25FbC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcclxuICAgIGlmIChjaGVja2JveCkgY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgX2Rlc2VsZWN0QWxsKCkge1xyXG4gICAgdGhpcy5fdmFsdWVzLmZvckVhY2godmFsdWUgPT4gdGhpcy5fZGVzZWxlY3RWYWx1ZSh2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgX2lzVmFsdWVTZWxlY3RlZCh2YWx1ZTogVmFsdWVTdHJ1Y3QpIHtcclxuICAgIGNvbnN0IHJlYWxWYWx1ZXMgPSB0aGlzLmdldFNlbGVjdGVkVmFsdWVzKCk7XHJcbiAgICByZXR1cm4gcmVhbFZhbHVlcy5zb21lKChyZWFsVmFsdWUpID0+IHJlYWxWYWx1ZSA9PT0gdmFsdWUuZWwudmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUVudHJ5RnJvbUFycmF5KHZhbHVlOiBWYWx1ZVN0cnVjdCkge1xyXG4gICAgaWYgKHRoaXMuX2lzVmFsdWVTZWxlY3RlZCh2YWx1ZSkpXHJcbiAgICAgIHRoaXMuX2Rlc2VsZWN0VmFsdWUodmFsdWUpO1xyXG4gICAgZWxzZVxyXG4gICAgICB0aGlzLl9zZWxlY3RWYWx1ZSh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBfZ2V0U2VsZWN0ZWRPcHRpb25zKCk6IEhUTUxPcHRpb25FbGVtZW50W10ge1xyXG4gICAgLy8gcmVtb3ZlIG51bGwsIGZhbHNlLCAuLi4gdmFsdWVzXHJcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKHRoaXMuZWwuc2VsZWN0ZWRPcHRpb25zLCAocmVhbE9wdGlvbjogSFRNTE9wdGlvbkVsZW1lbnQpID0+IHJlYWxPcHRpb24pO1xyXG4gIH1cclxuXHJcbiAgX3NldFZhbHVlVG9JbnB1dCgpIHtcclxuICAgIGNvbnN0IHJlYWxPcHRpb25zID0gdGhpcy5fZ2V0U2VsZWN0ZWRPcHRpb25zKCk7XHJcbiAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLl92YWx1ZXMuZmlsdGVyKCh2YWx1ZSkgPT4gcmVhbE9wdGlvbnMuaW5kZXhPZih2YWx1ZS5lbCkgPj0gMCk7XHJcbiAgICBjb25zdCB0ZXh0cyA9IHZhbHVlcy5tYXAoKHZhbHVlKSA9PiB2YWx1ZS5vcHRpb25FbC5xdWVyeVNlbGVjdG9yKCdzcGFuJykuaW5uZXJUZXh0LnRyaW0oKSk7XHJcbiAgICAvLyBTZXQgaW5wdXQtdGV4dCB0byBmaXJzdCBPcHRpb24gd2l0aCBlbXB0eSB2YWx1ZSB3aGljaCBpbmRpY2F0ZXMgYSBkZXNjcmlwdGlvbiBsaWtlIFwiY2hvb3NlIHlvdXIgb3B0aW9uXCJcclxuICAgIGlmICh0ZXh0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgY29uc3QgZmlyc3REaXNhYmxlZE9wdGlvbiA9IDxIVE1MT3B0aW9uRWxlbWVudD50aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ29wdGlvbjpkaXNhYmxlZCcpO1xyXG4gICAgICBpZiAoZmlyc3REaXNhYmxlZE9wdGlvbiAmJiBmaXJzdERpc2FibGVkT3B0aW9uLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSBmaXJzdERpc2FibGVkT3B0aW9uLmlubmVyVGV4dDtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuaW5wdXQudmFsdWUgPSB0ZXh0cy5qb2luKCcsICcpO1xyXG4gIH1cclxuXHJcbiAgX3NldFNlbGVjdGVkU3RhdGVzKCkge1xyXG4gICAgdGhpcy5fdmFsdWVzLmZvckVhY2goKHZhbHVlKSA9PiB7XHJcbiAgICAgIGNvbnN0IG9wdGlvbklzU2VsZWN0ZWQgPSB2YWx1ZS5lbC5zZWxlY3RlZDtcclxuICAgICAgY29uc3QgY2IgPSA8SFRNTElucHV0RWxlbWVudD52YWx1ZS5vcHRpb25FbC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcclxuICAgICAgaWYgKGNiKSBjYi5jaGVja2VkID0gb3B0aW9uSXNTZWxlY3RlZDtcclxuICAgICAgaWYgKG9wdGlvbklzU2VsZWN0ZWQpIHtcclxuICAgICAgICB0aGlzLl9hY3RpdmF0ZU9wdGlvbih0aGlzLmRyb3Bkb3duT3B0aW9ucywgdmFsdWUub3B0aW9uRWwpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHZhbHVlLm9wdGlvbkVsLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XHJcbiAgICAgICAgdmFsdWUub3B0aW9uRWwuYXJpYVNlbGVjdGVkID0gJ2ZhbHNlJzsgLy8gYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwgJ2ZhbHNlJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2FjdGl2YXRlT3B0aW9uKHVsOiBIVE1MRWxlbWVudCwgbGk6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBpZiAoIWxpKSByZXR1cm47XHJcbiAgICBpZiAoIXRoaXMuaXNNdWx0aXBsZSkgdWwucXVlcnlTZWxlY3RvckFsbCgnbGkuc2VsZWN0ZWQnKS5mb3JFYWNoKGxpID0+IGxpLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJykpO1xyXG4gICAgbGkuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgIGxpLmFyaWFTZWxlY3RlZCA9ICd0cnVlJztcclxuICB9XHJcblxyXG4gIGdldFNlbGVjdGVkVmFsdWVzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2dldFNlbGVjdGVkT3B0aW9ucygpLm1hcCgocmVhbE9wdGlvbikgPT4gcmVhbE9wdGlvbi52YWx1ZSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/select.ts\n");

/***/ }),

/***/ "./src/sidenav.ts":
/*!************************!*\
  !*** ./src/sidenav.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Sidenav = void 0;\r\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\nconst _defaults = {\r\n    edge: 'left',\r\n    draggable: true,\r\n    dragTargetWidth: '10px',\r\n    inDuration: 250,\r\n    outDuration: 200,\r\n    onOpenStart: null,\r\n    onOpenEnd: null,\r\n    onCloseStart: null,\r\n    onCloseEnd: null,\r\n    preventScrolling: true\r\n};\r\nclass Sidenav extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Sidenav);\r\n        this._handleDragTargetDrag = (e) => {\r\n            // Check if draggable\r\n            if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {\r\n                return;\r\n            }\r\n            // If not being dragged, set initial drag start variables\r\n            if (!this.isDragged) {\r\n                this._startDrag(e);\r\n            }\r\n            // Run touchmove updates\r\n            this._dragMoveUpdate(e);\r\n            // Calculate raw deltaX\r\n            let totalDeltaX = this._xPos - this._startingXpos;\r\n            // dragDirection is the attempted user drag direction\r\n            const dragDirection = totalDeltaX > 0 ? 'right' : 'left';\r\n            // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction\r\n            totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));\r\n            if (this.options.edge === dragDirection) {\r\n                totalDeltaX = 0;\r\n            }\r\n            /**\r\n             * transformX is the drag displacement\r\n             * transformPrefix is the initial transform placement\r\n             * Invert values if Sidenav is right edge\r\n             */\r\n            let transformX = totalDeltaX;\r\n            let transformPrefix = 'translateX(-100%)';\r\n            if (this.options.edge === 'right') {\r\n                transformPrefix = 'translateX(100%)';\r\n                transformX = -transformX;\r\n            }\r\n            // Calculate open/close percentage of sidenav, with open = 1 and close = 0\r\n            this.percentOpen = Math.min(1, totalDeltaX / this._width);\r\n            // Set transform and opacity styles\r\n            this.el.style.transform = `${transformPrefix} translateX(${transformX}px)`;\r\n            this._overlay.style.opacity = this.percentOpen.toString();\r\n        };\r\n        this._handleDragTargetRelease = () => {\r\n            if (this.isDragged) {\r\n                if (this.percentOpen > 0.2) {\r\n                    this.open();\r\n                }\r\n                else {\r\n                    this._animateOut();\r\n                }\r\n                this.isDragged = false;\r\n                this._verticallyScrolling = false;\r\n            }\r\n        };\r\n        this._handleCloseDrag = (e) => {\r\n            if (this.isOpen) {\r\n                // Check if draggable\r\n                if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {\r\n                    return;\r\n                }\r\n                // If not being dragged, set initial drag start variables\r\n                if (!this.isDragged) {\r\n                    this._startDrag(e);\r\n                }\r\n                // Run touchmove updates\r\n                this._dragMoveUpdate(e);\r\n                // Calculate raw deltaX\r\n                let totalDeltaX = this._xPos - this._startingXpos;\r\n                // dragDirection is the attempted user drag direction\r\n                let dragDirection = totalDeltaX > 0 ? 'right' : 'left';\r\n                // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction\r\n                totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));\r\n                if (this.options.edge !== dragDirection) {\r\n                    totalDeltaX = 0;\r\n                }\r\n                let transformX = -totalDeltaX;\r\n                if (this.options.edge === 'right') {\r\n                    transformX = -transformX;\r\n                }\r\n                // Calculate open/close percentage of sidenav, with open = 1 and close = 0\r\n                this.percentOpen = Math.min(1, 1 - totalDeltaX / this._width);\r\n                // Set transform and opacity styles\r\n                this.el.style.transform = `translateX(${transformX}px)`;\r\n                this._overlay.style.opacity = this.percentOpen.toString();\r\n            }\r\n        };\r\n        this._handleCloseRelease = () => {\r\n            if (this.isOpen && this.isDragged) {\r\n                if (this.percentOpen > 0.8) {\r\n                    this._animateIn();\r\n                }\r\n                else {\r\n                    this.close();\r\n                }\r\n                this.isDragged = false;\r\n                this._verticallyScrolling = false;\r\n            }\r\n        };\r\n        // Handles closing of Sidenav when element with class .sidenav-close\r\n        this._handleCloseTriggerClick = (e) => {\r\n            const closeTrigger = e.target.closest('.sidenav-close');\r\n            if (closeTrigger && !this._isCurrentlyFixed()) {\r\n                this.close();\r\n            }\r\n        };\r\n        this._handleWindowResize = () => {\r\n            // Only handle horizontal resizes\r\n            if (this.lastWindowWidth !== window.innerWidth) {\r\n                if (window.innerWidth > 992) {\r\n                    this.open();\r\n                }\r\n                else {\r\n                    this.close();\r\n                }\r\n            }\r\n            this.lastWindowWidth = window.innerWidth;\r\n            this.lastWindowHeight = window.innerHeight;\r\n        };\r\n        /**\r\n         * Opens Sidenav.\r\n         */\r\n        this.open = () => {\r\n            if (this.isOpen === true)\r\n                return;\r\n            this.isOpen = true;\r\n            // Run onOpenStart callback\r\n            if (typeof this.options.onOpenStart === 'function') {\r\n                this.options.onOpenStart.call(this, this.el);\r\n            }\r\n            // Handle fixed Sidenav\r\n            if (this._isCurrentlyFixed()) {\r\n                animejs_1.default.remove(this.el);\r\n                (0, animejs_1.default)({\r\n                    targets: this.el,\r\n                    translateX: 0,\r\n                    duration: 0,\r\n                    easing: 'easeOutQuad'\r\n                });\r\n                this._enableBodyScrolling();\r\n                this._overlay.style.display = 'none';\r\n            }\r\n            // Handle non-fixed Sidenav\r\n            else {\r\n                if (this.options.preventScrolling) {\r\n                    this._preventBodyScrolling();\r\n                }\r\n                if (!this.isDragged || this.percentOpen != 1) {\r\n                    this._animateIn();\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * Closes Sidenav.\r\n         */\r\n        this.close = () => {\r\n            if (this.isOpen === false)\r\n                return;\r\n            this.isOpen = false;\r\n            // Run onCloseStart callback\r\n            if (typeof this.options.onCloseStart === 'function') {\r\n                this.options.onCloseStart.call(this, this.el);\r\n            }\r\n            // Handle fixed Sidenav\r\n            if (this._isCurrentlyFixed()) {\r\n                const transformX = this.options.edge === 'left' ? '-105%' : '105%';\r\n                this.el.style.transform = `translateX(${transformX})`;\r\n            }\r\n            // Handle non-fixed Sidenav\r\n            else {\r\n                this._enableBodyScrolling();\r\n                if (!this.isDragged || this.percentOpen != 0) {\r\n                    this._animateOut();\r\n                }\r\n                else {\r\n                    this._overlay.style.display = 'none';\r\n                }\r\n            }\r\n        };\r\n        this.el.M_Sidenav = this;\r\n        this.options = Object.assign(Object.assign({}, Sidenav.defaults), options);\r\n        this.id = this.el.id;\r\n        this.isOpen = false;\r\n        this.isFixed = this.el.classList.contains('sidenav-fixed');\r\n        this.isDragged = false;\r\n        // Window size variables for window resize checks\r\n        this.lastWindowWidth = window.innerWidth;\r\n        this.lastWindowHeight = window.innerHeight;\r\n        this._createOverlay();\r\n        this._createDragTarget();\r\n        this._setupEventHandlers();\r\n        this._setupClasses();\r\n        this._setupFixed();\r\n        Sidenav._sidenavs.push(this);\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Sidenav.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Sidenav);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Sidenav;\r\n    }\r\n    destroy() {\r\n        this._removeEventHandlers();\r\n        this._enableBodyScrolling();\r\n        this._overlay.parentNode.removeChild(this._overlay);\r\n        this.dragTarget.parentNode.removeChild(this.dragTarget);\r\n        this.el.M_Sidenav = undefined;\r\n        this.el.style.transform = '';\r\n        const index = Sidenav._sidenavs.indexOf(this);\r\n        if (index >= 0) {\r\n            Sidenav._sidenavs.splice(index, 1);\r\n        }\r\n    }\r\n    _createOverlay() {\r\n        this._overlay = document.createElement('div');\r\n        this._overlay.classList.add('sidenav-overlay');\r\n        this._overlay.addEventListener('click', this.close);\r\n        document.body.appendChild(this._overlay);\r\n    }\r\n    _setupEventHandlers() {\r\n        if (Sidenav._sidenavs.length === 0) {\r\n            document.body.addEventListener('click', this._handleTriggerClick);\r\n        }\r\n        var passiveIfSupported = null;\r\n        this.dragTarget.addEventListener('touchmove', this._handleDragTargetDrag, passiveIfSupported);\r\n        this.dragTarget.addEventListener('touchend', this._handleDragTargetRelease);\r\n        this._overlay.addEventListener('touchmove', this._handleCloseDrag, passiveIfSupported);\r\n        this._overlay.addEventListener('touchend', this._handleCloseRelease);\r\n        this.el.addEventListener('touchmove', this._handleCloseDrag, passiveIfSupported);\r\n        this.el.addEventListener('touchend', this._handleCloseRelease);\r\n        this.el.addEventListener('click', this._handleCloseTriggerClick);\r\n        // Add resize for side nav fixed\r\n        if (this.isFixed) {\r\n            window.addEventListener('resize', this._handleWindowResize);\r\n        }\r\n    }\r\n    _removeEventHandlers() {\r\n        if (Sidenav._sidenavs.length === 1) {\r\n            document.body.removeEventListener('click', this._handleTriggerClick);\r\n        }\r\n        this.dragTarget.removeEventListener('touchmove', this._handleDragTargetDrag);\r\n        this.dragTarget.removeEventListener('touchend', this._handleDragTargetRelease);\r\n        this._overlay.removeEventListener('touchmove', this._handleCloseDrag);\r\n        this._overlay.removeEventListener('touchend', this._handleCloseRelease);\r\n        this.el.removeEventListener('touchmove', this._handleCloseDrag);\r\n        this.el.removeEventListener('touchend', this._handleCloseRelease);\r\n        this.el.removeEventListener('click', this._handleCloseTriggerClick);\r\n        // Remove resize for side nav fixed\r\n        if (this.isFixed) {\r\n            window.removeEventListener('resize', this._handleWindowResize);\r\n        }\r\n    }\r\n    _handleTriggerClick(e) {\r\n        const trigger = e.target.closest('.sidenav-trigger');\r\n        if (e.target && trigger) {\r\n            const sidenavId = utils_1.Utils.getIdFromTrigger(trigger);\r\n            const sidenavInstance = document.getElementById(sidenavId).M_Sidenav;\r\n            if (sidenavInstance) {\r\n                sidenavInstance.open(trigger);\r\n            }\r\n            e.preventDefault();\r\n        }\r\n    }\r\n    // Set variables needed at the beginning of drag and stop any current transition.\r\n    _startDrag(e) {\r\n        const clientX = e.targetTouches[0].clientX;\r\n        this.isDragged = true;\r\n        this._startingXpos = clientX;\r\n        this._xPos = this._startingXpos;\r\n        this._time = Date.now();\r\n        this._width = this.el.getBoundingClientRect().width;\r\n        this._overlay.style.display = 'block';\r\n        this._initialScrollTop = this.isOpen ? this.el.scrollTop : utils_1.Utils.getDocumentScrollTop();\r\n        this._verticallyScrolling = false;\r\n        animejs_1.default.remove(this.el);\r\n        animejs_1.default.remove(this._overlay);\r\n    }\r\n    //Set variables needed at each drag move update tick\r\n    _dragMoveUpdate(e) {\r\n        const clientX = e.targetTouches[0].clientX;\r\n        const currentScrollTop = this.isOpen ? this.el.scrollTop : utils_1.Utils.getDocumentScrollTop();\r\n        this.deltaX = Math.abs(this._xPos - clientX);\r\n        this._xPos = clientX;\r\n        this.velocityX = this.deltaX / (Date.now() - this._time);\r\n        this._time = Date.now();\r\n        if (this._initialScrollTop !== currentScrollTop) {\r\n            this._verticallyScrolling = true;\r\n        }\r\n    }\r\n    _setupClasses() {\r\n        if (this.options.edge === 'right') {\r\n            this.el.classList.add('right-aligned');\r\n            this.dragTarget.classList.add('right-aligned');\r\n        }\r\n    }\r\n    _removeClasses() {\r\n        this.el.classList.remove('right-aligned');\r\n        this.dragTarget.classList.remove('right-aligned');\r\n    }\r\n    _setupFixed() {\r\n        if (this._isCurrentlyFixed())\r\n            this.open();\r\n    }\r\n    _isCurrentlyFixed() {\r\n        return this.isFixed && window.innerWidth > 992;\r\n    }\r\n    _createDragTarget() {\r\n        const dragTarget = document.createElement('div');\r\n        dragTarget.classList.add('drag-target');\r\n        dragTarget.style.width = this.options.dragTargetWidth;\r\n        document.body.appendChild(dragTarget);\r\n        this.dragTarget = dragTarget;\r\n    }\r\n    _preventBodyScrolling() {\r\n        document.body.style.overflow = 'hidden';\r\n    }\r\n    _enableBodyScrolling() {\r\n        document.body.style.overflow = '';\r\n    }\r\n    _animateIn() {\r\n        this._animateSidenavIn();\r\n        this._animateOverlayIn();\r\n    }\r\n    _animateSidenavIn() {\r\n        let slideOutPercent = this.options.edge === 'left' ? -1 : 1;\r\n        if (this.isDragged) {\r\n            slideOutPercent =\r\n                this.options.edge === 'left'\r\n                    ? slideOutPercent + this.percentOpen\r\n                    : slideOutPercent - this.percentOpen;\r\n        }\r\n        animejs_1.default.remove(this.el);\r\n        (0, animejs_1.default)({\r\n            targets: this.el,\r\n            translateX: [`${slideOutPercent * 100}%`, 0],\r\n            duration: this.options.inDuration,\r\n            easing: 'easeOutQuad',\r\n            complete: () => {\r\n                // Run onOpenEnd callback\r\n                if (typeof this.options.onOpenEnd === 'function') {\r\n                    this.options.onOpenEnd.call(this, this.el);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    _animateOverlayIn() {\r\n        let start = 0;\r\n        if (this.isDragged) {\r\n            start = this.percentOpen;\r\n        }\r\n        else {\r\n            this._overlay.style.display = 'block';\r\n        }\r\n        animejs_1.default.remove(this._overlay);\r\n        (0, animejs_1.default)({\r\n            targets: this._overlay,\r\n            opacity: [start, 1],\r\n            duration: this.options.inDuration,\r\n            easing: 'easeOutQuad'\r\n        });\r\n    }\r\n    _animateOut() {\r\n        this._animateSidenavOut();\r\n        this._animateOverlayOut();\r\n    }\r\n    _animateSidenavOut() {\r\n        const endPercent = this.options.edge === 'left' ? -1 : 1;\r\n        let slideOutPercent = 0;\r\n        if (this.isDragged) {\r\n            slideOutPercent =\r\n                this.options.edge === 'left'\r\n                    ? endPercent + this.percentOpen\r\n                    : endPercent - this.percentOpen;\r\n        }\r\n        animejs_1.default.remove(this.el);\r\n        (0, animejs_1.default)({\r\n            targets: this.el,\r\n            translateX: [`${slideOutPercent * 100}%`, `${endPercent * 105}%`],\r\n            duration: this.options.outDuration,\r\n            easing: 'easeOutQuad',\r\n            complete: () => {\r\n                // Run onOpenEnd callback\r\n                if (typeof this.options.onCloseEnd === 'function') {\r\n                    this.options.onCloseEnd.call(this, this.el);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    _animateOverlayOut() {\r\n        animejs_1.default.remove(this._overlay);\r\n        (0, animejs_1.default)({\r\n            targets: this._overlay,\r\n            opacity: 0,\r\n            duration: this.options.outDuration,\r\n            easing: 'easeOutQuad',\r\n            complete: () => {\r\n                this._overlay.style.display = 'none';\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.Sidenav = Sidenav;\r\n(() => {\r\n    Sidenav._sidenavs = [];\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUJBQUksRUFBQztZQUNILE9BQU8sRUFBRSxJQUFJLENBQUMsUUFBUTtZQUN0QixPQUFPLEVBQUUsQ0FBQztZQUNWLFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVc7WUFDbEMsTUFBTSxFQUFFLGFBQWE7WUFDckIsUUFBUSxFQUFFLEdBQUcsRUFBRTtnQkFDYixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1lBQ3ZDLENBQUM7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDO0NBS0Y7QUEzZEQsMEJBMmRDO0FBSEM7SUFDRSxPQUFPLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztBQUN6QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL3NpZGVuYXYudHM/ODJiMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xyXG5cclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50LCBPcGVuYWJsZSB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTaWRlbmF2T3B0aW9ucyBleHRlbmRzIEJhc2VPcHRpb25zIHtcclxuICAvKipcclxuICAgKiBTaWRlIG9mIHNjcmVlbiBvbiB3aGljaCBTaWRlbmF2IGFwcGVhcnMuXHJcbiAgICogQGRlZmF1bHQgJ2xlZnQnXHJcbiAgICovXHJcbiAgZWRnZTogJ2xlZnQnIHwgJ3JpZ2h0JztcclxuICAvKipcclxuICAgKiBBbGxvdyBzd2lwZSBnZXN0dXJlcyB0byBvcGVuL2Nsb3NlIFNpZGVuYXYuXHJcbiAgICogQGRlZmF1bHQgdHJ1ZVxyXG4gICAqL1xyXG4gIGRyYWdnYWJsZTogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBXaWR0aCBvZiB0aGUgYXJlYSB3aGVyZSB5b3UgY2FuIHN0YXJ0IGRyYWdnaW5nLlxyXG4gICAqIEBkZWZhdWx0ICcxMHB4J1xyXG4gICAqL1xyXG4gIGRyYWdUYXJnZXRXaWR0aDogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIExlbmd0aCBpbiBtcyBvZiBlbnRlciB0cmFuc2l0aW9uLlxyXG4gICAqIEBkZWZhdWx0IDI1MFxyXG4gICAqL1xyXG4gIGluRHVyYXRpb246IG51bWJlcjtcclxuICAvKipcclxuICAgKiBMZW5ndGggaW4gbXMgb2YgZXhpdCB0cmFuc2l0aW9uLlxyXG4gICAqIEBkZWZhdWx0IDIwMFxyXG4gICAqL1xyXG4gIG91dER1cmF0aW9uOiBudW1iZXI7XHJcbiAgLyoqXHJcbiAgICogUHJldmVudCBwYWdlIGZyb20gc2Nyb2xsaW5nIHdoaWxlIHNpZGVuYXYgaXMgb3Blbi5cclxuICAgKiBAZGVmYXVsdCB0cnVlXHJcbiAgICovXHJcbiAgcHJldmVudFNjcm9sbGluZzogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBzaWRlbmF2IHN0YXJ0cyBlbnRlcmluZy5cclxuICAgKi9cclxuICBvbk9wZW5TdGFydDogKGVsZW06IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHNpZGVuYXYgZmluaXNoZXMgZW50ZXJpbmcuXHJcbiAgICovXHJcbiAgb25PcGVuRW5kOiAoZWxlbTogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gc2lkZW5hdiBzdGFydHMgZXhpdGluZy5cclxuICAgKi9cclxuICBvbkNsb3NlU3RhcnQ6IChlbGVtOiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcclxuICAvKipcclxuICAgKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBzaWRlbmF2IGZpbmlzaGVzIGV4aXRpbmcuXHJcbiAgICovXHJcbiAgb25DbG9zZUVuZDogKGVsZW06IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG59XHJcblxyXG5jb25zdCBfZGVmYXVsdHM6IFNpZGVuYXZPcHRpb25zID0ge1xyXG4gIGVkZ2U6ICdsZWZ0JyxcclxuICBkcmFnZ2FibGU6IHRydWUsXHJcbiAgZHJhZ1RhcmdldFdpZHRoOiAnMTBweCcsXHJcbiAgaW5EdXJhdGlvbjogMjUwLFxyXG4gIG91dER1cmF0aW9uOiAyMDAsXHJcbiAgb25PcGVuU3RhcnQ6IG51bGwsXHJcbiAgb25PcGVuRW5kOiBudWxsLFxyXG4gIG9uQ2xvc2VTdGFydDogbnVsbCxcclxuICBvbkNsb3NlRW5kOiBudWxsLFxyXG4gIHByZXZlbnRTY3JvbGxpbmc6IHRydWVcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBTaWRlbmF2IGV4dGVuZHMgQ29tcG9uZW50PFNpZGVuYXZPcHRpb25zPiBpbXBsZW1lbnRzIE9wZW5hYmxlIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIC8qKiBEZXNjcmliZXMgb3Blbi9jbG9zZSBzdGF0ZSBvZiBTaWRlbmF2LiAqL1xyXG4gIGlzT3BlbjogYm9vbGVhbjtcclxuICAvKiogRGVzY3JpYmVzIGlmIHNpZGVuYXYgaXMgZml4ZWQuICovXHJcbiAgaXNGaXhlZDogYm9vbGVhbjtcclxuICAvKiogRGVzY3JpYmVzIGlmIFNpZGVuYXYgaXMgYmVpbmcgZHJhZ2dlZC4gKi9cclxuICBpc0RyYWdnZWQ6IGJvb2xlYW47XHJcbiAgbGFzdFdpbmRvd1dpZHRoOiBudW1iZXI7XHJcbiAgbGFzdFdpbmRvd0hlaWdodDogbnVtYmVyO1xyXG4gIHN0YXRpYyBfc2lkZW5hdnM6IFNpZGVuYXZbXTtcclxuICBwcml2YXRlIF9vdmVybGF5OiBIVE1MRWxlbWVudDtcclxuICBkcmFnVGFyZ2V0OiBFbGVtZW50O1xyXG4gIHByaXZhdGUgX3N0YXJ0aW5nWHBvczogbnVtYmVyO1xyXG4gIHByaXZhdGUgX3hQb3M6IG51bWJlcjtcclxuICBwcml2YXRlIF90aW1lOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBfd2lkdGg6IG51bWJlcjtcclxuICBwcml2YXRlIF9pbml0aWFsU2Nyb2xsVG9wOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBfdmVydGljYWxseVNjcm9sbGluZzogYm9vbGVhbjtcclxuICBwcml2YXRlIGRlbHRhWDogbnVtYmVyO1xyXG4gIHByaXZhdGUgdmVsb2NpdHlYOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBwZXJjZW50T3BlbjogbnVtYmVyO1xyXG5cclxuICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8U2lkZW5hdk9wdGlvbnM+KSB7XHJcbiAgICBzdXBlcihlbCwgb3B0aW9ucywgU2lkZW5hdik7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fU2lkZW5hdiA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICAuLi5TaWRlbmF2LmRlZmF1bHRzLFxyXG4gICAgICAuLi5vcHRpb25zXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaWQgPSB0aGlzLmVsLmlkO1xyXG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgIHRoaXMuaXNGaXhlZCA9IHRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaWRlbmF2LWZpeGVkJyk7XHJcbiAgICB0aGlzLmlzRHJhZ2dlZCA9IGZhbHNlO1xyXG4gICAgLy8gV2luZG93IHNpemUgdmFyaWFibGVzIGZvciB3aW5kb3cgcmVzaXplIGNoZWNrc1xyXG4gICAgdGhpcy5sYXN0V2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIHRoaXMubGFzdFdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIHRoaXMuX2NyZWF0ZU92ZXJsYXkoKTtcclxuICAgIHRoaXMuX2NyZWF0ZURyYWdUYXJnZXQoKTtcclxuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xyXG4gICAgdGhpcy5fc2V0dXBDbGFzc2VzKCk7XHJcbiAgICB0aGlzLl9zZXR1cEZpeGVkKCk7XHJcbiAgICBTaWRlbmF2Ll9zaWRlbmF2cy5wdXNoKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBkZWZhdWx0cygpOiBTaWRlbmF2T3B0aW9ucyB7XHJcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgU2lkZW5hdi5cclxuICAgKiBAcGFyYW0gZWwgSFRNTCBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsOiBIVE1MRWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8U2lkZW5hdk9wdGlvbnM+KTogU2lkZW5hdjtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgU2lkZW5hdi5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zPzogUGFydGlhbDxTaWRlbmF2T3B0aW9ucz4pOiBTaWRlbmF2W107XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFNpZGVuYXYuXHJcbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsczogSFRNTEVsZW1lbnQgfCBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPFNpZGVuYXZPcHRpb25zPiA9IHt9KTogU2lkZW5hdiB8IFNpZGVuYXZbXSB7XHJcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIFNpZGVuYXYpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEluc3RhbmNlKGVsOiBIVE1MRWxlbWVudCk6IFNpZGVuYXYge1xyXG4gICAgcmV0dXJuIChlbCBhcyBhbnkpLk1fU2lkZW5hdjtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB0aGlzLl9lbmFibGVCb2R5U2Nyb2xsaW5nKCk7XHJcbiAgICB0aGlzLl9vdmVybGF5LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fb3ZlcmxheSk7XHJcbiAgICB0aGlzLmRyYWdUYXJnZXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRyYWdUYXJnZXQpO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1NpZGVuYXYgPSB1bmRlZmluZWQ7XHJcbiAgICAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUudHJhbnNmb3JtID0gJyc7XHJcbiAgICBjb25zdCBpbmRleCA9IFNpZGVuYXYuX3NpZGVuYXZzLmluZGV4T2YodGhpcyk7XHJcbiAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICBTaWRlbmF2Ll9zaWRlbmF2cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZU92ZXJsYXkoKSB7XHJcbiAgICB0aGlzLl9vdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLl9vdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3NpZGVuYXYtb3ZlcmxheScpO1xyXG4gICAgdGhpcy5fb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9vdmVybGF5KTtcclxuICB9XHJcblxyXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XHJcbiAgICBpZiAoU2lkZW5hdi5fc2lkZW5hdnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2spO1xyXG4gICAgfVxyXG4gICAgdmFyIHBhc3NpdmVJZlN1cHBvcnRlZDogYm9vbGVhbiA9IG51bGw7XHJcbiAgICB0aGlzLmRyYWdUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRHJhZ1RhcmdldERyYWcsIHBhc3NpdmVJZlN1cHBvcnRlZCk7XHJcbiAgICB0aGlzLmRyYWdUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEcmFnVGFyZ2V0UmVsZWFzZSk7XHJcbiAgICB0aGlzLl9vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUNsb3NlRHJhZywgcGFzc2l2ZUlmU3VwcG9ydGVkKTtcclxuICAgIHRoaXMuX292ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2UpO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVDbG9zZURyYWcsIHBhc3NpdmVJZlN1cHBvcnRlZCk7XHJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ2xvc2VSZWxlYXNlKTtcclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbG9zZVRyaWdnZXJDbGljayk7XHJcbiAgICAvLyBBZGQgcmVzaXplIGZvciBzaWRlIG5hdiBmaXhlZFxyXG4gICAgaWYgKHRoaXMuaXNGaXhlZCkge1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xyXG4gICAgaWYgKFNpZGVuYXYuX3NpZGVuYXZzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcclxuICAgIH1cclxuICAgIHRoaXMuZHJhZ1RhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVEcmFnVGFyZ2V0RHJhZyk7XHJcbiAgICB0aGlzLmRyYWdUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEcmFnVGFyZ2V0UmVsZWFzZSk7XHJcbiAgICB0aGlzLl9vdmVybGF5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZUNsb3NlRHJhZyk7XHJcbiAgICB0aGlzLl9vdmVybGF5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ2xvc2VSZWxlYXNlKTtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2xvc2VEcmFnKTtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2UpO1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsb3NlVHJpZ2dlckNsaWNrKTtcclxuXHJcbiAgICAvLyBSZW1vdmUgcmVzaXplIGZvciBzaWRlIG5hdiBmaXhlZFxyXG4gICAgaWYgKHRoaXMuaXNGaXhlZCkge1xyXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVUcmlnZ2VyQ2xpY2soZSkge1xyXG4gICAgY29uc3QgdHJpZ2dlciA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5zaWRlbmF2LXRyaWdnZXInKTtcclxuICAgIGlmIChlLnRhcmdldCAmJiB0cmlnZ2VyKSB7XHJcbiAgICAgIGNvbnN0IHNpZGVuYXZJZCA9IFV0aWxzLmdldElkRnJvbVRyaWdnZXIodHJpZ2dlcik7XHJcbiAgICAgIGNvbnN0IHNpZGVuYXZJbnN0YW5jZSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzaWRlbmF2SWQpIGFzIGFueSkuTV9TaWRlbmF2O1xyXG4gICAgICBpZiAoc2lkZW5hdkluc3RhbmNlKSB7XHJcbiAgICAgICAgc2lkZW5hdkluc3RhbmNlLm9wZW4odHJpZ2dlcik7XHJcbiAgICAgIH1cclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gU2V0IHZhcmlhYmxlcyBuZWVkZWQgYXQgdGhlIGJlZ2lubmluZyBvZiBkcmFnIGFuZCBzdG9wIGFueSBjdXJyZW50IHRyYW5zaXRpb24uXHJcbiAgX3N0YXJ0RHJhZyhlKSB7XHJcbiAgICBjb25zdCBjbGllbnRYID0gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFg7XHJcbiAgICB0aGlzLmlzRHJhZ2dlZCA9IHRydWU7XHJcbiAgICB0aGlzLl9zdGFydGluZ1hwb3MgPSBjbGllbnRYO1xyXG4gICAgdGhpcy5feFBvcyA9IHRoaXMuX3N0YXJ0aW5nWHBvcztcclxuICAgIHRoaXMuX3RpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgdGhpcy5fd2lkdGggPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xyXG4gICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIHRoaXMuX2luaXRpYWxTY3JvbGxUb3AgPSB0aGlzLmlzT3BlbiA/IHRoaXMuZWwuc2Nyb2xsVG9wIDogVXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKTtcclxuICAgIHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcgPSBmYWxzZTtcclxuICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xyXG4gICAgYW5pbS5yZW1vdmUodGhpcy5fb3ZlcmxheSk7XHJcbiAgfVxyXG5cclxuICAvL1NldCB2YXJpYWJsZXMgbmVlZGVkIGF0IGVhY2ggZHJhZyBtb3ZlIHVwZGF0ZSB0aWNrXHJcbiAgX2RyYWdNb3ZlVXBkYXRlKGUpIHtcclxuICAgIGNvbnN0IGNsaWVudFggPSBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WDtcclxuICAgIGNvbnN0IGN1cnJlbnRTY3JvbGxUb3AgPSB0aGlzLmlzT3BlbiA/IHRoaXMuZWwuc2Nyb2xsVG9wIDogVXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKTtcclxuICAgIHRoaXMuZGVsdGFYID0gTWF0aC5hYnModGhpcy5feFBvcyAtIGNsaWVudFgpO1xyXG4gICAgdGhpcy5feFBvcyA9IGNsaWVudFg7XHJcbiAgICB0aGlzLnZlbG9jaXR5WCA9IHRoaXMuZGVsdGFYIC8gKERhdGUubm93KCkgLSB0aGlzLl90aW1lKTtcclxuICAgIHRoaXMuX3RpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgaWYgKHRoaXMuX2luaXRpYWxTY3JvbGxUb3AgIT09IGN1cnJlbnRTY3JvbGxUb3ApIHtcclxuICAgICAgdGhpcy5fdmVydGljYWxseVNjcm9sbGluZyA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRHJhZ1RhcmdldERyYWcgPSAoZSkgPT4ge1xyXG4gICAgLy8gQ2hlY2sgaWYgZHJhZ2dhYmxlXHJcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5kcmFnZ2FibGUgfHwgdGhpcy5faXNDdXJyZW50bHlGaXhlZCgpIHx8IHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gSWYgbm90IGJlaW5nIGRyYWdnZWQsIHNldCBpbml0aWFsIGRyYWcgc3RhcnQgdmFyaWFibGVzXHJcbiAgICBpZiAoIXRoaXMuaXNEcmFnZ2VkKSB7XHJcbiAgICAgIHRoaXMuX3N0YXJ0RHJhZyhlKTtcclxuICAgIH1cclxuICAgIC8vIFJ1biB0b3VjaG1vdmUgdXBkYXRlc1xyXG4gICAgdGhpcy5fZHJhZ01vdmVVcGRhdGUoZSk7XHJcbiAgICAvLyBDYWxjdWxhdGUgcmF3IGRlbHRhWFxyXG4gICAgbGV0IHRvdGFsRGVsdGFYID0gdGhpcy5feFBvcyAtIHRoaXMuX3N0YXJ0aW5nWHBvcztcclxuICAgIC8vIGRyYWdEaXJlY3Rpb24gaXMgdGhlIGF0dGVtcHRlZCB1c2VyIGRyYWcgZGlyZWN0aW9uXHJcbiAgICBjb25zdCBkcmFnRGlyZWN0aW9uID0gdG90YWxEZWx0YVggPiAwID8gJ3JpZ2h0JyA6ICdsZWZ0JztcclxuICAgIC8vIERvbid0IGFsbG93IHRvdGFsRGVsdGFYIHRvIGV4Y2VlZCBTaWRlbmF2IHdpZHRoIG9yIGJlIGRyYWdnZWQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvblxyXG4gICAgdG90YWxEZWx0YVggPSBNYXRoLm1pbih0aGlzLl93aWR0aCwgTWF0aC5hYnModG90YWxEZWx0YVgpKTtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMuZWRnZSA9PT0gZHJhZ0RpcmVjdGlvbikge1xyXG4gICAgICB0b3RhbERlbHRhWCA9IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIHRyYW5zZm9ybVggaXMgdGhlIGRyYWcgZGlzcGxhY2VtZW50XHJcbiAgICAgKiB0cmFuc2Zvcm1QcmVmaXggaXMgdGhlIGluaXRpYWwgdHJhbnNmb3JtIHBsYWNlbWVudFxyXG4gICAgICogSW52ZXJ0IHZhbHVlcyBpZiBTaWRlbmF2IGlzIHJpZ2h0IGVkZ2VcclxuICAgICAqL1xyXG4gICAgbGV0IHRyYW5zZm9ybVggPSB0b3RhbERlbHRhWDtcclxuICAgIGxldCB0cmFuc2Zvcm1QcmVmaXggPSAndHJhbnNsYXRlWCgtMTAwJSknO1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5lZGdlID09PSAncmlnaHQnKSB7XHJcbiAgICAgIHRyYW5zZm9ybVByZWZpeCA9ICd0cmFuc2xhdGVYKDEwMCUpJztcclxuICAgICAgdHJhbnNmb3JtWCA9IC10cmFuc2Zvcm1YO1xyXG4gICAgfVxyXG4gICAgLy8gQ2FsY3VsYXRlIG9wZW4vY2xvc2UgcGVyY2VudGFnZSBvZiBzaWRlbmF2LCB3aXRoIG9wZW4gPSAxIGFuZCBjbG9zZSA9IDBcclxuICAgIHRoaXMucGVyY2VudE9wZW4gPSBNYXRoLm1pbigxLCB0b3RhbERlbHRhWCAvIHRoaXMuX3dpZHRoKTtcclxuICAgIC8vIFNldCB0cmFuc2Zvcm0gYW5kIG9wYWNpdHkgc3R5bGVzXHJcbiAgICAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUudHJhbnNmb3JtID0gYCR7dHJhbnNmb3JtUHJlZml4fSB0cmFuc2xhdGVYKCR7dHJhbnNmb3JtWH1weClgO1xyXG4gICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gdGhpcy5wZXJjZW50T3Blbi50b1N0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZURyYWdUYXJnZXRSZWxlYXNlID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNEcmFnZ2VkKSB7XHJcbiAgICAgIGlmICh0aGlzLnBlcmNlbnRPcGVuID4gMC4yKSB7XHJcbiAgICAgICAgdGhpcy5vcGVuKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fYW5pbWF0ZU91dCgpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuaXNEcmFnZ2VkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVDbG9zZURyYWcgPSAoZSkgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNPcGVuKSB7XHJcbiAgICAgIC8vIENoZWNrIGlmIGRyYWdnYWJsZVxyXG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5kcmFnZ2FibGUgfHwgdGhpcy5faXNDdXJyZW50bHlGaXhlZCgpIHx8IHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgLy8gSWYgbm90IGJlaW5nIGRyYWdnZWQsIHNldCBpbml0aWFsIGRyYWcgc3RhcnQgdmFyaWFibGVzXHJcbiAgICAgIGlmICghdGhpcy5pc0RyYWdnZWQpIHtcclxuICAgICAgICB0aGlzLl9zdGFydERyYWcoZSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gUnVuIHRvdWNobW92ZSB1cGRhdGVzXHJcbiAgICAgIHRoaXMuX2RyYWdNb3ZlVXBkYXRlKGUpO1xyXG4gICAgICAvLyBDYWxjdWxhdGUgcmF3IGRlbHRhWFxyXG4gICAgICBsZXQgdG90YWxEZWx0YVggPSB0aGlzLl94UG9zIC0gdGhpcy5fc3RhcnRpbmdYcG9zO1xyXG4gICAgICAvLyBkcmFnRGlyZWN0aW9uIGlzIHRoZSBhdHRlbXB0ZWQgdXNlciBkcmFnIGRpcmVjdGlvblxyXG4gICAgICBsZXQgZHJhZ0RpcmVjdGlvbiA9IHRvdGFsRGVsdGFYID4gMCA/ICdyaWdodCcgOiAnbGVmdCc7XHJcbiAgICAgIC8vIERvbid0IGFsbG93IHRvdGFsRGVsdGFYIHRvIGV4Y2VlZCBTaWRlbmF2IHdpZHRoIG9yIGJlIGRyYWdnZWQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvblxyXG4gICAgICB0b3RhbERlbHRhWCA9IE1hdGgubWluKHRoaXMuX3dpZHRoLCBNYXRoLmFicyh0b3RhbERlbHRhWCkpO1xyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmVkZ2UgIT09IGRyYWdEaXJlY3Rpb24pIHtcclxuICAgICAgICB0b3RhbERlbHRhWCA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgbGV0IHRyYW5zZm9ybVggPSAtdG90YWxEZWx0YVg7XHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgIHRyYW5zZm9ybVggPSAtdHJhbnNmb3JtWDtcclxuICAgICAgfVxyXG4gICAgICAvLyBDYWxjdWxhdGUgb3Blbi9jbG9zZSBwZXJjZW50YWdlIG9mIHNpZGVuYXYsIHdpdGggb3BlbiA9IDEgYW5kIGNsb3NlID0gMFxyXG4gICAgICB0aGlzLnBlcmNlbnRPcGVuID0gTWF0aC5taW4oMSwgMSAtIHRvdGFsRGVsdGFYIC8gdGhpcy5fd2lkdGgpO1xyXG4gICAgICAvLyBTZXQgdHJhbnNmb3JtIGFuZCBvcGFjaXR5IHN0eWxlc1xyXG4gICAgICAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHt0cmFuc2Zvcm1YfXB4KWA7XHJcbiAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUub3BhY2l0eSA9IHRoaXMucGVyY2VudE9wZW4udG9TdHJpbmcoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVDbG9zZVJlbGVhc2UgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5pc09wZW4gJiYgdGhpcy5pc0RyYWdnZWQpIHtcclxuICAgICAgaWYgKHRoaXMucGVyY2VudE9wZW4gPiAwLjgpIHtcclxuICAgICAgICB0aGlzLl9hbmltYXRlSW4oKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5pc0RyYWdnZWQgPSBmYWxzZTtcclxuICAgICAgdGhpcy5fdmVydGljYWxseVNjcm9sbGluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gSGFuZGxlcyBjbG9zaW5nIG9mIFNpZGVuYXYgd2hlbiBlbGVtZW50IHdpdGggY2xhc3MgLnNpZGVuYXYtY2xvc2VcclxuICBfaGFuZGxlQ2xvc2VUcmlnZ2VyQ2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgY29uc3QgY2xvc2VUcmlnZ2VyID0gZS50YXJnZXQuY2xvc2VzdCgnLnNpZGVuYXYtY2xvc2UnKTtcclxuICAgIGlmIChjbG9zZVRyaWdnZXIgJiYgIXRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlV2luZG93UmVzaXplID0gKCkgPT4ge1xyXG4gICAgLy8gT25seSBoYW5kbGUgaG9yaXpvbnRhbCByZXNpemVzXHJcbiAgICBpZiAodGhpcy5sYXN0V2luZG93V2lkdGggIT09IHdpbmRvdy5pbm5lcldpZHRoKSB7XHJcbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDk5Mikge1xyXG4gICAgICAgIHRoaXMub3BlbigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5sYXN0V2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIHRoaXMubGFzdFdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICB9XHJcblxyXG4gIF9zZXR1cENsYXNzZXMoKSB7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmVkZ2UgPT09ICdyaWdodCcpIHtcclxuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdyaWdodC1hbGlnbmVkJyk7XHJcbiAgICAgIHRoaXMuZHJhZ1RhcmdldC5jbGFzc0xpc3QuYWRkKCdyaWdodC1hbGlnbmVkJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlQ2xhc3NlcygpIHtcclxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncmlnaHQtYWxpZ25lZCcpO1xyXG4gICAgdGhpcy5kcmFnVGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3JpZ2h0LWFsaWduZWQnKTtcclxuICB9XHJcblxyXG4gIF9zZXR1cEZpeGVkKCkge1xyXG4gICAgaWYgKHRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSkgdGhpcy5vcGVuKCk7XHJcbiAgfVxyXG5cclxuICBfaXNDdXJyZW50bHlGaXhlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmlzRml4ZWQgJiYgd2luZG93LmlubmVyV2lkdGggPiA5OTI7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlRHJhZ1RhcmdldCgpIHtcclxuICAgIGNvbnN0IGRyYWdUYXJnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGRyYWdUYXJnZXQuY2xhc3NMaXN0LmFkZCgnZHJhZy10YXJnZXQnKTtcclxuICAgIGRyYWdUYXJnZXQuc3R5bGUud2lkdGggPSB0aGlzLm9wdGlvbnMuZHJhZ1RhcmdldFdpZHRoO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkcmFnVGFyZ2V0KTtcclxuICAgIHRoaXMuZHJhZ1RhcmdldCA9IGRyYWdUYXJnZXQ7XHJcbiAgfVxyXG5cclxuICBfcHJldmVudEJvZHlTY3JvbGxpbmcoKSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgfVxyXG5cclxuICBfZW5hYmxlQm9keVNjcm9sbGluZygpIHtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9wZW5zIFNpZGVuYXYuXHJcbiAgICovXHJcbiAgb3BlbiA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLmlzT3BlbiA9PT0gdHJ1ZSkgcmV0dXJuO1xyXG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xyXG4gICAgLy8gUnVuIG9uT3BlblN0YXJ0IGNhbGxiYWNrXHJcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcclxuICAgIH1cclxuICAgIC8vIEhhbmRsZSBmaXhlZCBTaWRlbmF2XHJcbiAgICBpZiAodGhpcy5faXNDdXJyZW50bHlGaXhlZCgpKSB7XHJcbiAgICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xyXG4gICAgICBhbmltKHtcclxuICAgICAgICB0YXJnZXRzOiB0aGlzLmVsLFxyXG4gICAgICAgIHRyYW5zbGF0ZVg6IDAsXHJcbiAgICAgICAgZHVyYXRpb246IDAsXHJcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLl9lbmFibGVCb2R5U2Nyb2xsaW5nKCk7XHJcbiAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH1cclxuICAgIC8vIEhhbmRsZSBub24tZml4ZWQgU2lkZW5hdlxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucHJldmVudFNjcm9sbGluZykge1xyXG4gICAgICAgIHRoaXMuX3ByZXZlbnRCb2R5U2Nyb2xsaW5nKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy5pc0RyYWdnZWQgfHwgdGhpcy5wZXJjZW50T3BlbiAhPSAxKSB7XHJcbiAgICAgICAgdGhpcy5fYW5pbWF0ZUluKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsb3NlcyBTaWRlbmF2LlxyXG4gICAqL1xyXG4gIGNsb3NlID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNPcGVuID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgIC8vIFJ1biBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcclxuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XHJcbiAgICB9XHJcbiAgICAvLyBIYW5kbGUgZml4ZWQgU2lkZW5hdlxyXG4gICAgaWYgKHRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSkge1xyXG4gICAgICBjb25zdCB0cmFuc2Zvcm1YID0gdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0JyA/ICctMTA1JScgOiAnMTA1JSc7XHJcbiAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3RyYW5zZm9ybVh9KWA7XHJcbiAgICB9XHJcbiAgICAvLyBIYW5kbGUgbm9uLWZpeGVkIFNpZGVuYXZcclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLl9lbmFibGVCb2R5U2Nyb2xsaW5nKCk7XHJcbiAgICAgIGlmICghdGhpcy5pc0RyYWdnZWQgfHwgdGhpcy5wZXJjZW50T3BlbiAhPSAwKSB7XHJcbiAgICAgICAgdGhpcy5fYW5pbWF0ZU91dCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2FuaW1hdGVJbigpIHtcclxuICAgIHRoaXMuX2FuaW1hdGVTaWRlbmF2SW4oKTtcclxuICAgIHRoaXMuX2FuaW1hdGVPdmVybGF5SW4oKTtcclxuICB9XHJcblxyXG4gIF9hbmltYXRlU2lkZW5hdkluKCkge1xyXG4gICAgbGV0IHNsaWRlT3V0UGVyY2VudCA9IHRoaXMub3B0aW9ucy5lZGdlID09PSAnbGVmdCcgPyAtMSA6IDE7XHJcbiAgICBpZiAodGhpcy5pc0RyYWdnZWQpIHtcclxuICAgICAgc2xpZGVPdXRQZXJjZW50ID1cclxuICAgICAgICB0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ2xlZnQnXHJcbiAgICAgICAgICA/IHNsaWRlT3V0UGVyY2VudCArIHRoaXMucGVyY2VudE9wZW5cclxuICAgICAgICAgIDogc2xpZGVPdXRQZXJjZW50IC0gdGhpcy5wZXJjZW50T3BlbjtcclxuICAgIH1cclxuICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xyXG4gICAgYW5pbSh7XHJcbiAgICAgIHRhcmdldHM6IHRoaXMuZWwsXHJcbiAgICAgIHRyYW5zbGF0ZVg6IFtgJHtzbGlkZU91dFBlcmNlbnQgKiAxMDB9JWAsIDBdLFxyXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXHJcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcclxuICAgICAgY29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAvLyBSdW4gb25PcGVuRW5kIGNhbGxiYWNrXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuRW5kID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuRW5kLmNhbGwodGhpcywgdGhpcy5lbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9hbmltYXRlT3ZlcmxheUluKCkge1xyXG4gICAgbGV0IHN0YXJ0ID0gMDtcclxuICAgIGlmICh0aGlzLmlzRHJhZ2dlZCkge1xyXG4gICAgICBzdGFydCA9IHRoaXMucGVyY2VudE9wZW47XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIH1cclxuICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xyXG4gICAgYW5pbSh7XHJcbiAgICAgIHRhcmdldHM6IHRoaXMuX292ZXJsYXksXHJcbiAgICAgIG9wYWNpdHk6IFtzdGFydCwgMV0sXHJcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcclxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9hbmltYXRlT3V0KCkge1xyXG4gICAgdGhpcy5fYW5pbWF0ZVNpZGVuYXZPdXQoKTtcclxuICAgIHRoaXMuX2FuaW1hdGVPdmVybGF5T3V0KCk7XHJcbiAgfVxyXG5cclxuICBfYW5pbWF0ZVNpZGVuYXZPdXQoKSB7XHJcbiAgICBjb25zdCBlbmRQZXJjZW50ID0gdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0JyA/IC0xIDogMTtcclxuICAgIGxldCBzbGlkZU91dFBlcmNlbnQgPSAwO1xyXG4gICAgaWYgKHRoaXMuaXNEcmFnZ2VkKSB7XHJcbiAgICAgIHNsaWRlT3V0UGVyY2VudCA9XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0J1xyXG4gICAgICAgICAgPyBlbmRQZXJjZW50ICsgdGhpcy5wZXJjZW50T3BlblxyXG4gICAgICAgICAgOiBlbmRQZXJjZW50IC0gdGhpcy5wZXJjZW50T3BlbjtcclxuICAgIH1cclxuXHJcbiAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcclxuICAgIGFuaW0oe1xyXG4gICAgICB0YXJnZXRzOiB0aGlzLmVsLFxyXG4gICAgICB0cmFuc2xhdGVYOiBbYCR7c2xpZGVPdXRQZXJjZW50ICogMTAwfSVgLCBgJHtlbmRQZXJjZW50ICogMTA1fSVgXSxcclxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcclxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxyXG4gICAgICBjb21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgIC8vIFJ1biBvbk9wZW5FbmQgY2FsbGJhY2tcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfYW5pbWF0ZU92ZXJsYXlPdXQoKSB7XHJcbiAgICBhbmltLnJlbW92ZSh0aGlzLl9vdmVybGF5KTtcclxuICAgIGFuaW0oe1xyXG4gICAgICB0YXJnZXRzOiB0aGlzLl9vdmVybGF5LFxyXG4gICAgICBvcGFjaXR5OiAwLFxyXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxyXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXHJcbiAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyAge1xyXG4gICAgU2lkZW5hdi5fc2lkZW5hdnMgPSBbXTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/sidenav.ts\n");

/***/ }),

/***/ "./src/slider.ts":
/*!***********************!*\
  !*** ./src/slider.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Slider = void 0;\r\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\nlet _defaults = {\r\n    indicators: true,\r\n    height: 400,\r\n    duration: 500,\r\n    interval: 6000,\r\n    pauseOnFocus: true,\r\n    pauseOnHover: true,\r\n    indicatorLabelFunc: null // Function which will generate a label for the indicators (ARIA)\r\n};\r\nclass Slider extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Slider);\r\n        this._handleIndicatorClick = (e) => {\r\n            const el = e.target.parentElement;\r\n            const currIndex = [...el.parentNode.children].indexOf(el);\r\n            this._focusCurrent = true;\r\n            this.set(currIndex);\r\n        };\r\n        this._handleAutoPauseHover = () => {\r\n            this._hovered = true;\r\n            if (this.interval != null) {\r\n                this._pause(true);\r\n            }\r\n        };\r\n        this._handleAutoPauseFocus = () => {\r\n            this._focused = true;\r\n            if (this.interval != null) {\r\n                this._pause(true);\r\n            }\r\n        };\r\n        this._handleAutoStartHover = () => {\r\n            this._hovered = false;\r\n            if (!(this.options.pauseOnFocus && this._focused) && this.eventPause) {\r\n                this.start();\r\n            }\r\n        };\r\n        this._handleAutoStartFocus = () => {\r\n            this._focused = false;\r\n            if (!(this.options.pauseOnHover && this._hovered) && this.eventPause) {\r\n                this.start();\r\n            }\r\n        };\r\n        this._handleInterval = () => {\r\n            const activeElem = this._slider.querySelector('.active');\r\n            let newActiveIndex = [...activeElem.parentNode.children].indexOf(activeElem);\r\n            if (this._slides.length === newActiveIndex + 1)\r\n                newActiveIndex = 0; // loop to start\r\n            else\r\n                newActiveIndex += 1;\r\n            this.set(newActiveIndex);\r\n        };\r\n        /**\r\n         * Pause slider autoslide.\r\n         */\r\n        this.pause = () => {\r\n            this._pause(false);\r\n        };\r\n        /**\r\n         * Start slider autoslide.\r\n         */\r\n        this.start = () => {\r\n            clearInterval(this.interval);\r\n            this.interval = setInterval(this._handleInterval, this.options.duration + this.options.interval);\r\n            this.eventPause = false;\r\n        };\r\n        /**\r\n         * Move to next slider.\r\n         */\r\n        this.next = () => {\r\n            let newIndex = this.activeIndex + 1;\r\n            // Wrap around indices.\r\n            if (newIndex >= this._slides.length)\r\n                newIndex = 0;\r\n            else if (newIndex < 0)\r\n                newIndex = this._slides.length - 1;\r\n            this.set(newIndex);\r\n        };\r\n        /**\r\n         * Move to prev slider.\r\n         */\r\n        this.prev = () => {\r\n            let newIndex = this.activeIndex - 1;\r\n            // Wrap around indices.\r\n            if (newIndex >= this._slides.length)\r\n                newIndex = 0;\r\n            else if (newIndex < 0)\r\n                newIndex = this._slides.length - 1;\r\n            this.set(newIndex);\r\n        };\r\n        this.el.M_Slider = this;\r\n        this.options = Object.assign(Object.assign({}, Slider.defaults), options);\r\n        // init props\r\n        this.interval = null;\r\n        this.eventPause = false;\r\n        this._hovered = false;\r\n        this._focused = false;\r\n        this._focusCurrent = false;\r\n        // setup\r\n        this._slider = this.el.querySelector('.slides');\r\n        this._slides = Array.from(this._slider.querySelectorAll('li'));\r\n        this.activeIndex = this._slides.findIndex(li => li.classList.contains('active'));\r\n        if (this.activeIndex !== -1) {\r\n            this._activeSlide = this._slides[this.activeIndex];\r\n        }\r\n        this._setSliderHeight();\r\n        // Sets element id if it does not have one\r\n        if (this._slider.hasAttribute('id'))\r\n            this._sliderId = this._slider.getAttribute('id');\r\n        else {\r\n            this._sliderId = 'slider-' + utils_1.Utils.guid();\r\n            this._slider.setAttribute('id', this._sliderId);\r\n        }\r\n        const placeholderBase64 = 'data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\r\n        // Set initial positions of captions\r\n        this._slides.forEach(slide => {\r\n            // Caption\r\n            //const caption = <HTMLElement|null>slide.querySelector('.caption');\r\n            //if (caption) this._animateCaptionIn(caption, 0);\r\n            // Set Images as Background Images\r\n            const img = slide.querySelector('img');\r\n            if (img) {\r\n                if (img.src !== placeholderBase64) {\r\n                    img.style.backgroundImage = 'url(' + img.src + ')';\r\n                    img.src = placeholderBase64;\r\n                }\r\n            }\r\n            // Sets slide as focusable by code\r\n            if (!slide.hasAttribute('tabindex'))\r\n                slide.setAttribute('tabindex', '-1');\r\n            // Removes initial visibility from \"inactive\" slides\r\n            slide.style.visibility = 'hidden';\r\n        });\r\n        this._setupIndicators();\r\n        // Show active slide\r\n        if (this._activeSlide) {\r\n            this._activeSlide.style.display = 'block';\r\n            this._activeSlide.style.visibility = 'visible';\r\n        }\r\n        else {\r\n            this.activeIndex = 0;\r\n            this._slides[0].classList.add('active');\r\n            this._slides[0].style.visibility = 'visible';\r\n            this._activeSlide = this._slides[0];\r\n            this._animateSlide(this._slides[0], true);\r\n            /*anim({\r\n              targets: this._slides[0],\r\n              opacity: 1,\r\n              duration: this.options.duration,\r\n              easing: 'easeOutQuad'\r\n            });\r\n            */\r\n            // Update indicators\r\n            if (this.options.indicators) {\r\n                this._indicators[this.activeIndex].children[0].classList.add('active');\r\n            }\r\n        }\r\n        // Adjust height to current slide\r\n        // TODO: ??? Code does not do what it says in comment\r\n        /*\r\n        this._activeSlide.querySelectorAll('img').forEach(el => {\r\n          anim({\r\n            targets: this._activeSlide.querySelector('.caption'),\r\n            opacity: 1,\r\n            translateX: 0,\r\n            translateY: 0,\r\n            duration: this.options.duration,\r\n            easing: 'easeOutQuad'\r\n          });\r\n        });\r\n        */\r\n        this._setupEventHandlers();\r\n        // auto scroll\r\n        this.start();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Slider.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Slider);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Slider;\r\n    }\r\n    destroy() {\r\n        this.pause();\r\n        this._removeIndicators();\r\n        this._removeEventHandlers();\r\n        this.el.M_Slider = undefined;\r\n    }\r\n    _setupEventHandlers() {\r\n        if (this.options.pauseOnFocus) {\r\n            this.el.addEventListener('focusin', this._handleAutoPauseFocus);\r\n            this.el.addEventListener('focusout', this._handleAutoStartFocus);\r\n        }\r\n        if (this.options.pauseOnHover) {\r\n            this.el.addEventListener('mouseenter', this._handleAutoPauseHover);\r\n            this.el.addEventListener('mouseleave', this._handleAutoStartHover);\r\n        }\r\n        if (this.options.indicators) {\r\n            this._indicators.forEach((el) => {\r\n                el.addEventListener('click', this._handleIndicatorClick);\r\n            });\r\n        }\r\n    }\r\n    _removeEventHandlers() {\r\n        if (this.options.pauseOnFocus) {\r\n            this.el.removeEventListener('focusin', this._handleAutoPauseFocus);\r\n            this.el.removeEventListener('focusout', this._handleAutoStartFocus);\r\n        }\r\n        if (this.options.pauseOnHover) {\r\n            this.el.removeEventListener('mouseenter', this._handleAutoPauseHover);\r\n            this.el.removeEventListener('mouseleave', this._handleAutoStartHover);\r\n        }\r\n        if (this.options.indicators) {\r\n            this._indicators.forEach((el) => {\r\n                el.removeEventListener('click', this._handleIndicatorClick);\r\n            });\r\n        }\r\n    }\r\n    _animateSlide(slide, isDirectionIn) {\r\n        let dx = 0, dy = 0;\r\n        (0, animejs_1.default)({\r\n            targets: slide,\r\n            opacity: isDirectionIn ? [0, 1] : [1, 0],\r\n            duration: this.options.duration,\r\n            easing: 'easeOutQuad'\r\n        });\r\n        const caption = slide.querySelector('.caption');\r\n        if (!caption)\r\n            return;\r\n        if (caption.classList.contains('center-align'))\r\n            dy = -100;\r\n        else if (caption.classList.contains('right-align'))\r\n            dx = 100;\r\n        else if (caption.classList.contains('left-align'))\r\n            dx = -100;\r\n        (0, animejs_1.default)({\r\n            targets: caption,\r\n            opacity: isDirectionIn ? [0, 1] : [1, 0],\r\n            translateX: isDirectionIn ? [dx, 0] : [0, dx],\r\n            translateY: isDirectionIn ? [dy, 0] : [0, dy],\r\n            duration: this.options.duration,\r\n            delay: this.options.duration,\r\n            easing: 'easeOutQuad'\r\n        });\r\n    }\r\n    _setSliderHeight() {\r\n        // If fullscreen, do nothing\r\n        if (!this.el.classList.contains('fullscreen')) {\r\n            if (this.options.indicators) {\r\n                // Add height if indicators are present\r\n                this.el.style.height = (this.options.height + 40) + 'px'; //.css('height', this.options.height + 40 + 'px');\r\n            }\r\n            else {\r\n                this.el.style.height = this.options.height + 'px';\r\n            }\r\n            this._slider.style.height = this.options.height + 'px';\r\n        }\r\n    }\r\n    _setupIndicators() {\r\n        if (this.options.indicators) {\r\n            const ul = document.createElement('ul');\r\n            ul.classList.add('indicators');\r\n            const arrLi = [];\r\n            this._slides.forEach((el, i) => {\r\n                const label = this.options.indicatorLabelFunc\r\n                    ? this.options.indicatorLabelFunc.call(this, i + 1, i === 0)\r\n                    : `${i + 1}`;\r\n                const li = document.createElement('li');\r\n                li.classList.add('indicator-item');\r\n                li.innerHTML = `<button type=\"button\" class=\"indicator-item-btn\" aria-label=\"${label}\" aria-controls=\"${this._sliderId}\"></button>`;\r\n                arrLi.push(li);\r\n                ul.append(li);\r\n            });\r\n            this.el.append(ul);\r\n            this._indicators = arrLi;\r\n        }\r\n    }\r\n    _removeIndicators() {\r\n        this.el.querySelector('ul.indicators').remove(); //find('ul.indicators').remove();\r\n    }\r\n    set(index) {\r\n        // Wrap around indices.\r\n        if (index >= this._slides.length)\r\n            index = 0;\r\n        else if (index < 0)\r\n            index = this._slides.length - 1;\r\n        // Only do if index changes\r\n        if (this.activeIndex === index)\r\n            return;\r\n        this._activeSlide = this._slides[this.activeIndex];\r\n        const _caption = this._activeSlide.querySelector('.caption');\r\n        this._activeSlide.classList.remove('active');\r\n        // Enables every slide\r\n        this._slides.forEach(slide => slide.style.visibility = 'visible');\r\n        //--- Hide active Slide + Caption\r\n        // TODO: What does this do?\r\n        (0, animejs_1.default)({\r\n            targets: this._activeSlide,\r\n            opacity: 0,\r\n            duration: this.options.duration,\r\n            easing: 'easeOutQuad',\r\n            complete: () => {\r\n                this._slides.forEach(el => {\r\n                    if (el.classList.contains('active'))\r\n                        return;\r\n                    (0, animejs_1.default)({\r\n                        targets: el,\r\n                        opacity: 0,\r\n                        translateX: 0,\r\n                        translateY: 0,\r\n                        duration: 0,\r\n                        easing: 'easeOutQuad'\r\n                    });\r\n                    // Disables invisible slides (for assistive technologies)\r\n                    el.style.visibility = 'hidden';\r\n                });\r\n            }\r\n        });\r\n        // Hide active Caption\r\n        //this._animateCaptionIn(_caption, this.options.duration);\r\n        _caption.style.opacity = '0';\r\n        // Update indicators\r\n        if (this.options.indicators) {\r\n            const activeIndicator = this._indicators[this.activeIndex].children[0];\r\n            const nextIndicator = this._indicators[index].children[0];\r\n            activeIndicator.classList.remove('active');\r\n            nextIndicator.classList.add('active');\r\n            if (typeof this.options.indicatorLabelFunc === \"function\") {\r\n                activeIndicator.ariaLabel = this.options.indicatorLabelFunc.call(this, this.activeIndex, false);\r\n                nextIndicator.ariaLabel = this.options.indicatorLabelFunc.call(this, index, true);\r\n            }\r\n        }\r\n        //--- Show new Slide + Caption\r\n        this._animateSlide(this._slides[index], true);\r\n        this._slides[index].classList.add('active');\r\n        // TODO: Why focus? => causes uncontrollable page scroll\r\n        /*\r\n        if (this._focusCurrent) {\r\n          this._slides[index].focus();\r\n          this._focusCurrent = false;\r\n        }\r\n        */\r\n        this.activeIndex = index;\r\n        // Reset interval, if allowed. This check prevents autostart\r\n        // when slider is paused, since it can be changed though indicators.\r\n        if (this.interval != null) {\r\n            this.start();\r\n        }\r\n    }\r\n    _pause(fromEvent) {\r\n        clearInterval(this.interval);\r\n        this.eventPause = fromEvent;\r\n        this.interval = null;\r\n    }\r\n}\r\nexports.Slider = Slider;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdEMsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsa0JBQWtCLEtBQUssVUFBVSxFQUFDO2dCQUN4RCxlQUFlLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNoRyxhQUFhLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7YUFDbkY7U0FDRjtRQUVELDhCQUE4QjtRQUM5QixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFOUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRTVDLHdEQUF3RDtRQUN4RDs7Ozs7VUFLRTtRQUVGLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBRXpCLDREQUE0RDtRQUM1RCxvRUFBb0U7UUFDcEUsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksRUFBRTtZQUN6QixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDZDtJQUNILENBQUM7SUFFRCxNQUFNLENBQUMsU0FBa0I7UUFDdkIsYUFBYSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM3QixJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUM1QixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztJQUN2QixDQUFDO0NBMENGO0FBamFELHdCQWlhQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9zbGlkZXIudHM/Y2FjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xyXG5cclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNsaWRlck9wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogU2V0IHRvIGZhbHNlIHRvIGhpZGUgc2xpZGUgaW5kaWNhdG9ycy5cclxuICAgKiBAZGVmYXVsdCB0cnVlXHJcbiAgICovXHJcbiAgaW5kaWNhdG9yczogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBTZXQgaGVpZ2h0IG9mIHNsaWRlci5cclxuICAgKiBAZGVmYXVsdCA0MDBcclxuICAgKi9cclxuICBoZWlnaHQ6IG51bWJlcjtcclxuICAvKipcclxuICAgKiBTZXQgdGhlIGR1cmF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uIGFuaW1hdGlvbiBpbiBtcy5cclxuICAgKiBAZGVmYXVsdCA1MDBcclxuICAgKi9cclxuICBkdXJhdGlvbjogbnVtYmVyO1xyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUgZHVyYXRpb24gYmV0d2VlbiB0cmFuc2l0aW9ucyBpbiBtcy5cclxuICAgKiBAZGVmYXVsdCA2MDAwXHJcbiAgICovXHJcbiAgaW50ZXJ2YWw6IG51bWJlcjtcclxuICAvKipcclxuICAgKiBJZiBzbGlkZXIgc2hvdWxkIHBhdXNlIHdoZW4ga2V5Ym9hcmQgZm9jdXMgaXMgcmVjZWl2ZWQuXHJcbiAgICogQGRlZmF1bHQgdHJ1ZVxyXG4gICAqL1xyXG4gIHBhdXNlT25Gb2N1czogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBJZiBzbGlkZXIgc2hvdWxkIHBhdXNlIHdoZW4gaXMgaG92ZXJlZCBieSBhIHBvaW50ZXIuXHJcbiAgICogQGRlZmF1bHQgdHJ1ZVxyXG4gICAqL1xyXG4gIHBhdXNlT25Ib3ZlcjogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBPcHRpb25hbCBmdW5jdGlvbiB1c2VkIHRvIGdlbmVyYXRlIEFSSUEgbGFiZWwgdG8gaW5kaWNhdG9ycyAoZm9yIGFjY2Vzc2liaWxpdHkgcHVycG9zZXMpLlxyXG4gICAqIEBwYXJhbSBpbmRleCBDdXJyZW50IGluZGV4LCBzdGFydGluZyBmcm9tIFwiMVwiLlxyXG4gICAqIEBwYXJhbSBjdXJyZW50IEEgd2hpY2ggaW5kaWNhdGVzIHdoZXRoZXIgaXQgaXMgdGhlIGN1cnJlbnQgZWxlbWVudCBvciBub3RcclxuICAgKiBAcmV0dXJucyBhIHN0cmluZyB0byBiZSB1c2VkIGFzIGxhYmVsIGluZGljYXRvci5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgaW5kaWNhdG9yTGFiZWxGdW5jOiAoaW5kZXg6IG51bWJlciwgY3VycmVudDogYm9vbGVhbikgPT4gc3RyaW5nXHJcbn1cclxuXHJcbmxldCBfZGVmYXVsdHM6IFNsaWRlck9wdGlvbnMgPSB7XHJcbiAgaW5kaWNhdG9yczogdHJ1ZSxcclxuICBoZWlnaHQ6IDQwMCxcclxuICBkdXJhdGlvbjogNTAwLFxyXG4gIGludGVydmFsOiA2MDAwLFxyXG4gIHBhdXNlT25Gb2N1czogdHJ1ZSxcclxuICBwYXVzZU9uSG92ZXI6IHRydWUsXHJcbiAgaW5kaWNhdG9yTGFiZWxGdW5jOiBudWxsIC8vIEZ1bmN0aW9uIHdoaWNoIHdpbGwgZ2VuZXJhdGUgYSBsYWJlbCBmb3IgdGhlIGluZGljYXRvcnMgKEFSSUEpXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgU2xpZGVyIGV4dGVuZHMgQ29tcG9uZW50PFNsaWRlck9wdGlvbnM+IHtcclxuICAvKiogSW5kZXggb2YgY3VycmVudCBzbGlkZS4gKi9cclxuICBhY3RpdmVJbmRleDogbnVtYmVyO1xyXG4gIGludGVydmFsOiBzdHJpbmcgfCBudW1iZXIgfCBOb2RlSlMuVGltZW91dDtcclxuICBldmVudFBhdXNlOiBhbnk7XHJcbiAgX3NsaWRlcjogSFRNTFVMaXN0RWxlbWVudDtcclxuICBfc2xpZGVzOiBIVE1MTElFbGVtZW50W107XHJcbiAgX2FjdGl2ZVNsaWRlOiBIVE1MTElFbGVtZW50O1xyXG4gIF9pbmRpY2F0b3JzOiBIVE1MTElFbGVtZW50W107XHJcbiAgX2hvdmVyZWQ6IGJvb2xlYW47XHJcbiAgX2ZvY3VzZWQ6IGJvb2xlYW47XHJcbiAgX2ZvY3VzQ3VycmVudDogYm9vbGVhbjtcclxuICBfc2xpZGVySWQ6IHN0cmluZztcclxuXHJcbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPFNsaWRlck9wdGlvbnM+KSB7XHJcbiAgICBzdXBlcihlbCwgb3B0aW9ucywgU2xpZGVyKTtcclxuICAgICh0aGlzLmVsIGFzIGFueSkuTV9TbGlkZXIgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgLi4uU2xpZGVyLmRlZmF1bHRzLFxyXG4gICAgICAuLi5vcHRpb25zXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGluaXQgcHJvcHNcclxuICAgIHRoaXMuaW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgdGhpcy5ldmVudFBhdXNlID0gZmFsc2U7XHJcbiAgICB0aGlzLl9ob3ZlcmVkID0gZmFsc2U7XHJcbiAgICB0aGlzLl9mb2N1c2VkID0gZmFsc2U7XHJcbiAgICB0aGlzLl9mb2N1c0N1cnJlbnQgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBzZXR1cFxyXG4gICAgdGhpcy5fc2xpZGVyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVzJyk7XHJcbiAgICB0aGlzLl9zbGlkZXMgPSBBcnJheS5mcm9tKHRoaXMuX3NsaWRlci5xdWVyeVNlbGVjdG9yQWxsKCdsaScpKTtcclxuICAgIHRoaXMuYWN0aXZlSW5kZXggPSB0aGlzLl9zbGlkZXMuZmluZEluZGV4KGxpID0+IGxpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpO1xyXG5cclxuICAgIGlmICh0aGlzLmFjdGl2ZUluZGV4ICE9PSAtMSkge1xyXG4gICAgICB0aGlzLl9hY3RpdmVTbGlkZSA9IHRoaXMuX3NsaWRlc1t0aGlzLmFjdGl2ZUluZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9zZXRTbGlkZXJIZWlnaHQoKTtcclxuXHJcbiAgICAvLyBTZXRzIGVsZW1lbnQgaWQgaWYgaXQgZG9lcyBub3QgaGF2ZSBvbmVcclxuICAgIGlmICh0aGlzLl9zbGlkZXIuaGFzQXR0cmlidXRlKCdpZCcpKVxyXG4gICAgICB0aGlzLl9zbGlkZXJJZCA9IHRoaXMuX3NsaWRlci5nZXRBdHRyaWJ1dGUoJ2lkJyk7XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5fc2xpZGVySWQgPSAnc2xpZGVyLScgKyBVdGlscy5ndWlkKCk7XHJcbiAgICAgIHRoaXMuX3NsaWRlci5zZXRBdHRyaWJ1dGUoJ2lkJywgdGhpcy5fc2xpZGVySWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHBsYWNlaG9sZGVyQmFzZTY0ID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFCQVAvLy93QUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT0nO1xyXG4gICAgLy8gU2V0IGluaXRpYWwgcG9zaXRpb25zIG9mIGNhcHRpb25zXHJcbiAgICB0aGlzLl9zbGlkZXMuZm9yRWFjaChzbGlkZSA9PiB7XHJcbiAgICAgIC8vIENhcHRpb25cclxuICAgICAgLy9jb25zdCBjYXB0aW9uID0gPEhUTUxFbGVtZW50fG51bGw+c2xpZGUucXVlcnlTZWxlY3RvcignLmNhcHRpb24nKTtcclxuICAgICAgLy9pZiAoY2FwdGlvbikgdGhpcy5fYW5pbWF0ZUNhcHRpb25JbihjYXB0aW9uLCAwKTtcclxuICAgICAgLy8gU2V0IEltYWdlcyBhcyBCYWNrZ3JvdW5kIEltYWdlc1xyXG4gICAgICBjb25zdCBpbWcgPSBzbGlkZS5xdWVyeVNlbGVjdG9yKCdpbWcnKTtcclxuICAgICAgaWYgKGltZykge1xyXG4gICAgICAgIGlmIChpbWcuc3JjICE9PSBwbGFjZWhvbGRlckJhc2U2NCkge1xyXG4gICAgICAgICAgaW1nLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJysgaW1nLnNyYyArJyknO1xyXG4gICAgICAgICAgaW1nLnNyYyA9IHBsYWNlaG9sZGVyQmFzZTY0O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvLyBTZXRzIHNsaWRlIGFzIGZvY3VzYWJsZSBieSBjb2RlXHJcbiAgICAgIGlmICghc2xpZGUuaGFzQXR0cmlidXRlKCd0YWJpbmRleCcpKVxyXG4gICAgICAgIHNsaWRlLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcclxuICAgICAgLy8gUmVtb3ZlcyBpbml0aWFsIHZpc2liaWxpdHkgZnJvbSBcImluYWN0aXZlXCIgc2xpZGVzXHJcbiAgICAgIHNsaWRlLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3NldHVwSW5kaWNhdG9ycygpO1xyXG5cclxuICAgIC8vIFNob3cgYWN0aXZlIHNsaWRlXHJcbiAgICBpZiAodGhpcy5fYWN0aXZlU2xpZGUpIHtcclxuICAgICAgdGhpcy5fYWN0aXZlU2xpZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgIHRoaXMuX2FjdGl2ZVNsaWRlLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IDA7XHJcbiAgICAgIHRoaXMuX3NsaWRlc1swXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgdGhpcy5fc2xpZGVzWzBdLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XHJcbiAgICAgIHRoaXMuX2FjdGl2ZVNsaWRlID0gdGhpcy5fc2xpZGVzWzBdO1xyXG4gICAgICB0aGlzLl9hbmltYXRlU2xpZGUodGhpcy5fc2xpZGVzWzBdLCB0cnVlKTtcclxuICAgICAgLyphbmltKHtcclxuICAgICAgICB0YXJnZXRzOiB0aGlzLl9zbGlkZXNbMF0sXHJcbiAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxyXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xyXG4gICAgICB9KTtcclxuICAgICAgKi9cclxuICAgICAgLy8gVXBkYXRlIGluZGljYXRvcnNcclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XHJcbiAgICAgICAgdGhpcy5faW5kaWNhdG9yc1t0aGlzLmFjdGl2ZUluZGV4XS5jaGlsZHJlblswXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkanVzdCBoZWlnaHQgdG8gY3VycmVudCBzbGlkZVxyXG4gICAgLy8gVE9ETzogPz8/IENvZGUgZG9lcyBub3QgZG8gd2hhdCBpdCBzYXlzIGluIGNvbW1lbnRcclxuICAgIC8qXHJcbiAgICB0aGlzLl9hY3RpdmVTbGlkZS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKS5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgYW5pbSh7XHJcbiAgICAgICAgdGFyZ2V0czogdGhpcy5fYWN0aXZlU2xpZGUucXVlcnlTZWxlY3RvcignLmNhcHRpb24nKSxcclxuICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgIHRyYW5zbGF0ZVg6IDAsXHJcbiAgICAgICAgdHJhbnNsYXRlWTogMCxcclxuICAgICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxyXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgKi9cclxuXHJcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcclxuICAgIC8vIGF1dG8gc2Nyb2xsXHJcbiAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xyXG4gICAgcmV0dXJuIF9kZWZhdWx0cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlIG9mIFNsaWRlci5cclxuICAgKiBAcGFyYW0gZWwgSFRNTCBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsOiBIVE1MRWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8U2xpZGVyT3B0aW9ucz4pOiBTbGlkZXI7XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFNsaWRlci5cclxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXHJcbiAgICovXHJcbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zPzogUGFydGlhbDxTbGlkZXJPcHRpb25zPik6IFNsaWRlcltdO1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBTbGlkZXIuXHJcbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsczogSFRNTEVsZW1lbnQgfCBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPFNsaWRlck9wdGlvbnM+ID0ge30pOiBTbGlkZXIgfCBTbGlkZXJbXSB7XHJcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIFNsaWRlcik7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxFbGVtZW50KTogU2xpZGVyIHtcclxuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX1NsaWRlcjtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLnBhdXNlKCk7XHJcbiAgICB0aGlzLl9yZW1vdmVJbmRpY2F0b3JzKCk7XHJcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fU2xpZGVyID0gdW5kZWZpbmVkO1xyXG4gIH1cclxuXHJcbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMucGF1c2VPbkZvY3VzKSB7XHJcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRoaXMuX2hhbmRsZUF1dG9QYXVzZUZvY3VzKTtcclxuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX2hhbmRsZUF1dG9TdGFydEZvY3VzKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm9wdGlvbnMucGF1c2VPbkhvdmVyKSB7XHJcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZUF1dG9QYXVzZUhvdmVyKTtcclxuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlQXV0b1N0YXJ0SG92ZXIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XHJcbiAgICAgIHRoaXMuX2luZGljYXRvcnMuZm9yRWFjaCgoZWwpID0+IHtcclxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUluZGljYXRvckNsaWNrKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMucGF1c2VPbkZvY3VzKSB7XHJcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRoaXMuX2hhbmRsZUF1dG9QYXVzZUZvY3VzKTtcclxuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX2hhbmRsZUF1dG9TdGFydEZvY3VzKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm9wdGlvbnMucGF1c2VPbkhvdmVyKSB7XHJcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZUF1dG9QYXVzZUhvdmVyKTtcclxuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlQXV0b1N0YXJ0SG92ZXIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XHJcbiAgICAgIHRoaXMuX2luZGljYXRvcnMuZm9yRWFjaCgoZWwpID0+IHtcclxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUluZGljYXRvckNsaWNrKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlSW5kaWNhdG9yQ2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgY29uc3QgZWwgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5wYXJlbnRFbGVtZW50O1xyXG4gICAgY29uc3QgY3VyckluZGV4ID0gWy4uLmVsLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YoZWwpO1xyXG4gICAgdGhpcy5fZm9jdXNDdXJyZW50ID0gdHJ1ZTtcclxuICAgIHRoaXMuc2V0KGN1cnJJbmRleCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQXV0b1BhdXNlSG92ZXIgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9ob3ZlcmVkID0gdHJ1ZTtcclxuICAgIGlmICh0aGlzLmludGVydmFsICE9IG51bGwpIHtcclxuICAgICAgdGhpcy5fcGF1c2UodHJ1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQXV0b1BhdXNlRm9jdXMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9mb2N1c2VkID0gdHJ1ZTtcclxuICAgIGlmICh0aGlzLmludGVydmFsICE9IG51bGwpIHtcclxuICAgICAgdGhpcy5fcGF1c2UodHJ1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQXV0b1N0YXJ0SG92ZXIgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9ob3ZlcmVkID0gZmFsc2U7XHJcbiAgICBpZiAoISh0aGlzLm9wdGlvbnMucGF1c2VPbkZvY3VzICYmIHRoaXMuX2ZvY3VzZWQpICYmIHRoaXMuZXZlbnRQYXVzZSkge1xyXG4gICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQXV0b1N0YXJ0Rm9jdXMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9mb2N1c2VkID0gZmFsc2U7XHJcbiAgICBpZiAoISh0aGlzLm9wdGlvbnMucGF1c2VPbkhvdmVyICYmIHRoaXMuX2hvdmVyZWQpICYmIHRoaXMuZXZlbnRQYXVzZSkge1xyXG4gICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlSW50ZXJ2YWwgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBhY3RpdmVFbGVtID0gdGhpcy5fc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKTtcclxuICAgIGxldCBuZXdBY3RpdmVJbmRleCA9IFsuLi5hY3RpdmVFbGVtLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YoYWN0aXZlRWxlbSk7XHJcbiAgICBpZiAodGhpcy5fc2xpZGVzLmxlbmd0aCA9PT0gbmV3QWN0aXZlSW5kZXggKyAxKVxyXG4gICAgICBuZXdBY3RpdmVJbmRleCA9IDA7IC8vIGxvb3AgdG8gc3RhcnRcclxuICAgIGVsc2VcclxuICAgICAgbmV3QWN0aXZlSW5kZXggKz0gMTtcclxuICAgIHRoaXMuc2V0KG5ld0FjdGl2ZUluZGV4KTtcclxuICB9XHJcblxyXG4gIF9hbmltYXRlU2xpZGUoc2xpZGU6IEhUTUxFbGVtZW50LCBpc0RpcmVjdGlvbkluOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICBsZXQgZHggPSAwLCBkeSA9IDA7XHJcbiAgICBhbmltKHtcclxuICAgICAgdGFyZ2V0czogc2xpZGUsXHJcbiAgICAgIG9wYWNpdHk6IGlzRGlyZWN0aW9uSW4gPyBbMCwgMV0gOiBbMSwgMF0sXHJcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXHJcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgY2FwdGlvbiA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXB0aW9uJyk7XHJcbiAgICBpZiAoIWNhcHRpb24pIHJldHVybjtcclxuICAgIGlmIChjYXB0aW9uLmNsYXNzTGlzdC5jb250YWlucygnY2VudGVyLWFsaWduJykpIGR5ID0gLTEwMDtcclxuICAgIGVsc2UgaWYgKGNhcHRpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdyaWdodC1hbGlnbicpKSBkeCA9IDEwMDtcclxuICAgIGVsc2UgaWYgKGNhcHRpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdsZWZ0LWFsaWduJykpIGR4ID0gLTEwMDtcclxuICAgIGFuaW0oe1xyXG4gICAgICB0YXJnZXRzOiBjYXB0aW9uLFxyXG4gICAgICBvcGFjaXR5OiBpc0RpcmVjdGlvbkluID8gWzAsIDFdIDogWzEsIDBdLFxyXG4gICAgICB0cmFuc2xhdGVYOiBpc0RpcmVjdGlvbkluID8gW2R4LCAwXSA6IFswLCBkeF0sXHJcbiAgICAgIHRyYW5zbGF0ZVk6IGlzRGlyZWN0aW9uSW4gPyBbZHksIDBdIDogWzAsIGR5XSxcclxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcclxuICAgICAgZGVsYXk6IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcclxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9zZXRTbGlkZXJIZWlnaHQoKSB7XHJcbiAgICAvLyBJZiBmdWxsc2NyZWVuLCBkbyBub3RoaW5nXHJcbiAgICBpZiAoIXRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdmdWxsc2NyZWVuJykpIHtcclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XHJcbiAgICAgICAgLy8gQWRkIGhlaWdodCBpZiBpbmRpY2F0b3JzIGFyZSBwcmVzZW50XHJcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSAodGhpcy5vcHRpb25zLmhlaWdodCArIDQwKSsncHgnOyAvLy5jc3MoJ2hlaWdodCcsIHRoaXMub3B0aW9ucy5oZWlnaHQgKyA0MCArICdweCcpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZWwuc3R5bGUuaGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhlaWdodCsncHgnO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuX3NsaWRlci5zdHlsZS5oZWlnaHQgPSB0aGlzLm9wdGlvbnMuaGVpZ2h0KydweCc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0dXBJbmRpY2F0b3JzKCkge1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XHJcbiAgICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcclxuICAgICAgdWwuY2xhc3NMaXN0LmFkZCgnaW5kaWNhdG9ycycpO1xyXG5cclxuICAgICAgY29uc3QgYXJyTGkgPSBbXTtcclxuICAgICAgdGhpcy5fc2xpZGVzLmZvckVhY2goKGVsLCBpKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLm9wdGlvbnMuaW5kaWNhdG9yTGFiZWxGdW5jXHJcbiAgICAgICAgICA/IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JMYWJlbEZ1bmMuY2FsbCh0aGlzLCBpICsgMSwgaSA9PT0gMClcclxuICAgICAgICAgIDogYCR7aSArIDF9YDtcclxuICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgbGkuY2xhc3NMaXN0LmFkZCgnaW5kaWNhdG9yLWl0ZW0nKTtcclxuICAgICAgICBsaS5pbm5lckhUTUwgPSBgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJpbmRpY2F0b3ItaXRlbS1idG5cIiBhcmlhLWxhYmVsPVwiJHtsYWJlbH1cIiBhcmlhLWNvbnRyb2xzPVwiJHt0aGlzLl9zbGlkZXJJZH1cIj48L2J1dHRvbj5gO1xyXG4gICAgICAgIGFyckxpLnB1c2gobGkpO1xyXG4gICAgICAgIHVsLmFwcGVuZChsaSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5lbC5hcHBlbmQodWwpO1xyXG4gICAgICB0aGlzLl9pbmRpY2F0b3JzID0gYXJyTGk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlSW5kaWNhdG9ycygpIHtcclxuICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvcigndWwuaW5kaWNhdG9ycycpLnJlbW92ZSgpOyAvL2ZpbmQoJ3VsLmluZGljYXRvcnMnKS5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIHNldChpbmRleDogbnVtYmVyKSB7XHJcbiAgICAvLyBXcmFwIGFyb3VuZCBpbmRpY2VzLlxyXG4gICAgaWYgKGluZGV4ID49IHRoaXMuX3NsaWRlcy5sZW5ndGgpIGluZGV4ID0gMDtcclxuICAgIGVsc2UgaWYgKGluZGV4IDwgMCkgaW5kZXggPSB0aGlzLl9zbGlkZXMubGVuZ3RoIC0gMTtcclxuXHJcbiAgICAvLyBPbmx5IGRvIGlmIGluZGV4IGNoYW5nZXNcclxuICAgIGlmICh0aGlzLmFjdGl2ZUluZGV4ID09PSBpbmRleCkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuX2FjdGl2ZVNsaWRlID0gdGhpcy5fc2xpZGVzW3RoaXMuYWN0aXZlSW5kZXhdO1xyXG4gICAgY29uc3QgX2NhcHRpb24gPSA8SFRNTEVsZW1lbnR8bnVsbD50aGlzLl9hY3RpdmVTbGlkZS5xdWVyeVNlbGVjdG9yKCcuY2FwdGlvbicpO1xyXG5cclxuICAgIHRoaXMuX2FjdGl2ZVNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgLy8gRW5hYmxlcyBldmVyeSBzbGlkZVxyXG4gICAgdGhpcy5fc2xpZGVzLmZvckVhY2goc2xpZGUgPT4gc2xpZGUuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJyk7XHJcblxyXG4gICAgLy8tLS0gSGlkZSBhY3RpdmUgU2xpZGUgKyBDYXB0aW9uXHJcbiAgICAvLyBUT0RPOiBXaGF0IGRvZXMgdGhpcyBkbz9cclxuICAgIGFuaW0oe1xyXG4gICAgICB0YXJnZXRzOiB0aGlzLl9hY3RpdmVTbGlkZSxcclxuICAgICAgb3BhY2l0eTogMCxcclxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcclxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxyXG4gICAgICBjb21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3NsaWRlcy5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSByZXR1cm47XHJcbiAgICAgICAgICBhbmltKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogZWwsXHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDAsXHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZVg6IDAsXHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6IDAsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLCAvLyBBbmltYXRpb24gd2l0aCBkdXJhdGlvbiAwLi4uIHdoeSB1c2UgYW5pbSBhdCBhbGwgdGhlbj9cclxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIC8vIERpc2FibGVzIGludmlzaWJsZSBzbGlkZXMgKGZvciBhc3Npc3RpdmUgdGVjaG5vbG9naWVzKVxyXG4gICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBIaWRlIGFjdGl2ZSBDYXB0aW9uXHJcbiAgICAvL3RoaXMuX2FuaW1hdGVDYXB0aW9uSW4oX2NhcHRpb24sIHRoaXMub3B0aW9ucy5kdXJhdGlvbik7XHJcbiAgICBfY2FwdGlvbi5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG5cclxuICAgIC8vIFVwZGF0ZSBpbmRpY2F0b3JzXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcclxuICAgICAgY29uc3QgYWN0aXZlSW5kaWNhdG9yID0gdGhpcy5faW5kaWNhdG9yc1t0aGlzLmFjdGl2ZUluZGV4XS5jaGlsZHJlblswXTtcclxuICAgICAgY29uc3QgbmV4dEluZGljYXRvciA9IHRoaXMuX2luZGljYXRvcnNbaW5kZXhdLmNoaWxkcmVuWzBdO1xyXG4gICAgICBhY3RpdmVJbmRpY2F0b3IuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgIG5leHRJbmRpY2F0b3IuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmluZGljYXRvckxhYmVsRnVuYyA9PT0gXCJmdW5jdGlvblwiKXtcclxuICAgICAgICBhY3RpdmVJbmRpY2F0b3IuYXJpYUxhYmVsID0gdGhpcy5vcHRpb25zLmluZGljYXRvckxhYmVsRnVuYy5jYWxsKHRoaXMsIHRoaXMuYWN0aXZlSW5kZXgsIGZhbHNlKTtcclxuICAgICAgICBuZXh0SW5kaWNhdG9yLmFyaWFMYWJlbCA9IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JMYWJlbEZ1bmMuY2FsbCh0aGlzLCBpbmRleCwgdHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLy0tLSBTaG93IG5ldyBTbGlkZSArIENhcHRpb25cclxuICAgIHRoaXMuX2FuaW1hdGVTbGlkZSh0aGlzLl9zbGlkZXNbaW5kZXhdLCB0cnVlKTtcclxuXHJcbiAgICB0aGlzLl9zbGlkZXNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cclxuICAgIC8vIFRPRE86IFdoeSBmb2N1cz8gPT4gY2F1c2VzIHVuY29udHJvbGxhYmxlIHBhZ2Ugc2Nyb2xsXHJcbiAgICAvKlxyXG4gICAgaWYgKHRoaXMuX2ZvY3VzQ3VycmVudCkge1xyXG4gICAgICB0aGlzLl9zbGlkZXNbaW5kZXhdLmZvY3VzKCk7XHJcbiAgICAgIHRoaXMuX2ZvY3VzQ3VycmVudCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgKi9cclxuXHJcbiAgICB0aGlzLmFjdGl2ZUluZGV4ID0gaW5kZXg7XHJcblxyXG4gICAgLy8gUmVzZXQgaW50ZXJ2YWwsIGlmIGFsbG93ZWQuIFRoaXMgY2hlY2sgcHJldmVudHMgYXV0b3N0YXJ0XHJcbiAgICAvLyB3aGVuIHNsaWRlciBpcyBwYXVzZWQsIHNpbmNlIGl0IGNhbiBiZSBjaGFuZ2VkIHRob3VnaCBpbmRpY2F0b3JzLlxyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWwgIT0gbnVsbCkge1xyXG4gICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfcGF1c2UoZnJvbUV2ZW50OiBib29sZWFuKSB7XHJcbiAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xyXG4gICAgdGhpcy5ldmVudFBhdXNlID0gZnJvbUV2ZW50O1xyXG4gICAgdGhpcy5pbnRlcnZhbCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQYXVzZSBzbGlkZXIgYXV0b3NsaWRlLlxyXG4gICAqL1xyXG4gIHBhdXNlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fcGF1c2UoZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RhcnQgc2xpZGVyIGF1dG9zbGlkZS5cclxuICAgKi9cclxuICBzdGFydCA9ICgpID0+IHtcclxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XHJcbiAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoXHJcbiAgICAgIHRoaXMuX2hhbmRsZUludGVydmFsLFxyXG4gICAgICB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKyB0aGlzLm9wdGlvbnMuaW50ZXJ2YWxcclxuICAgICk7XHJcbiAgICB0aGlzLmV2ZW50UGF1c2UgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1vdmUgdG8gbmV4dCBzbGlkZXIuXHJcbiAgICovXHJcbiAgbmV4dCA9ICgpID0+IHtcclxuICAgIGxldCBuZXdJbmRleCA9IHRoaXMuYWN0aXZlSW5kZXggKyAxO1xyXG4gICAgLy8gV3JhcCBhcm91bmQgaW5kaWNlcy5cclxuICAgIGlmIChuZXdJbmRleCA+PSB0aGlzLl9zbGlkZXMubGVuZ3RoKSBuZXdJbmRleCA9IDA7XHJcbiAgICBlbHNlIGlmIChuZXdJbmRleCA8IDApIG5ld0luZGV4ID0gdGhpcy5fc2xpZGVzLmxlbmd0aCAtIDE7XHJcbiAgICB0aGlzLnNldChuZXdJbmRleCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNb3ZlIHRvIHByZXYgc2xpZGVyLlxyXG4gICAqL1xyXG4gIHByZXYgPSAoKSA9PiB7XHJcbiAgICBsZXQgbmV3SW5kZXggPSB0aGlzLmFjdGl2ZUluZGV4IC0gMTtcclxuICAgIC8vIFdyYXAgYXJvdW5kIGluZGljZXMuXHJcbiAgICBpZiAobmV3SW5kZXggPj0gdGhpcy5fc2xpZGVzLmxlbmd0aCkgbmV3SW5kZXggPSAwO1xyXG4gICAgZWxzZSBpZiAobmV3SW5kZXggPCAwKSBuZXdJbmRleCA9IHRoaXMuX3NsaWRlcy5sZW5ndGggLSAxO1xyXG4gICAgdGhpcy5zZXQobmV3SW5kZXgpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/slider.ts\n");

/***/ }),

/***/ "./src/tabs.ts":
/*!*********************!*\
  !*** ./src/tabs.ts ***!
  \*********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Tabs = void 0;\r\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\r\nconst carousel_1 = __webpack_require__(/*! ./carousel */ \"./src/carousel.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\n;\r\nlet _defaults = {\r\n    duration: 300,\r\n    onShow: null,\r\n    swipeable: false,\r\n    responsiveThreshold: Infinity // breakpoint for swipeable\r\n};\r\nclass Tabs extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Tabs);\r\n        this._handleWindowResize = () => {\r\n            this._setTabsAndTabWidth();\r\n            if (this._tabWidth !== 0 && this._tabsWidth !== 0) {\r\n                this._indicator.style.left = this._calcLeftPos(this._activeTabLink) + 'px';\r\n                this._indicator.style.right = this._calcRightPos(this._activeTabLink) + 'px';\r\n            }\r\n        };\r\n        this._handleTabClick = (e) => {\r\n            const tabLink = e.target;\r\n            const tab = tabLink.parentElement;\r\n            // Handle click on tab link only\r\n            if (!tabLink || !tab.classList.contains('tab'))\r\n                return;\r\n            // is disabled?\r\n            if (tab.classList.contains('disabled')) {\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n            // Act as regular link if target attribute is specified.\r\n            if (tabLink.hasAttribute('target'))\r\n                return;\r\n            // Make the old tab inactive.\r\n            this._activeTabLink.classList.remove('active');\r\n            const _oldContent = this._content;\r\n            // Update the variables with the new link and content\r\n            this._activeTabLink = tabLink;\r\n            if (tabLink.hash)\r\n                this._content = document.querySelector(tabLink.hash);\r\n            this._tabLinks = this.el.querySelectorAll('li.tab > a');\r\n            // Make the tab active\r\n            this._activeTabLink.classList.add('active');\r\n            const prevIndex = this._index;\r\n            this._index = Math.max(Array.from(this._tabLinks).indexOf(tabLink), 0);\r\n            // Swap content\r\n            if (this.options.swipeable) {\r\n                if (this._tabsCarousel) {\r\n                    this._tabsCarousel.set(this._index, () => {\r\n                        if (typeof this.options.onShow === 'function')\r\n                            this.options.onShow.call(this, this._content);\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                if (this._content) {\r\n                    this._content.style.display = 'block';\r\n                    this._content.classList.add('active');\r\n                    if (typeof this.options.onShow === 'function')\r\n                        this.options.onShow.call(this, this._content);\r\n                    if (_oldContent && _oldContent !== this._content) {\r\n                        _oldContent.style.display = 'none';\r\n                        _oldContent.classList.remove('active');\r\n                    }\r\n                }\r\n            }\r\n            // Update widths after content is swapped (scrollbar bugfix)\r\n            this._setTabsAndTabWidth();\r\n            this._animateIndicator(prevIndex);\r\n            e.preventDefault();\r\n        };\r\n        this.el.M_Tabs = this;\r\n        this.options = Object.assign(Object.assign({}, Tabs.defaults), options);\r\n        this._tabLinks = this.el.querySelectorAll('li.tab > a');\r\n        this._index = 0;\r\n        this._setupActiveTabLink();\r\n        if (this.options.swipeable) {\r\n            this._setupSwipeableTabs();\r\n        }\r\n        else {\r\n            this._setupNormalTabs();\r\n        }\r\n        // Setup tabs indicator after content to ensure accurate widths\r\n        this._setTabsAndTabWidth();\r\n        this._createIndicator();\r\n        this._setupEventHandlers();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Tabs.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Tabs);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Tabs;\r\n    }\r\n    destroy() {\r\n        this._removeEventHandlers();\r\n        this._indicator.parentNode.removeChild(this._indicator);\r\n        if (this.options.swipeable) {\r\n            this._teardownSwipeableTabs();\r\n        }\r\n        else {\r\n            this._teardownNormalTabs();\r\n        }\r\n        this.el.M_Tabs = undefined;\r\n    }\r\n    /**\r\n     * The index of tab that is currently shown.\r\n     */\r\n    get index() { return this._index; }\r\n    _setupEventHandlers() {\r\n        window.addEventListener('resize', this._handleWindowResize);\r\n        this.el.addEventListener('click', this._handleTabClick);\r\n    }\r\n    _removeEventHandlers() {\r\n        window.removeEventListener('resize', this._handleWindowResize);\r\n        this.el.removeEventListener('click', this._handleTabClick);\r\n    }\r\n    _createIndicator() {\r\n        const indicator = document.createElement('li');\r\n        indicator.classList.add('indicator');\r\n        this.el.appendChild(indicator);\r\n        this._indicator = indicator;\r\n        this._indicator.style.left = this._calcLeftPos(this._activeTabLink) + 'px';\r\n        this._indicator.style.right = this._calcRightPos(this._activeTabLink) + 'px';\r\n    }\r\n    _setupActiveTabLink() {\r\n        // If the location.hash matches one of the links, use that as the active tab.\r\n        this._activeTabLink = Array.from(this._tabLinks).find((a) => a.getAttribute('href') === location.hash);\r\n        // If no match is found, use the first link or any with class 'active' as the initial active tab.\r\n        if (!this._activeTabLink) {\r\n            this._activeTabLink = this.el.querySelector('li.tab a.active');\r\n        }\r\n        if (this._activeTabLink.length === 0) {\r\n            this._activeTabLink = this.el.querySelector('li.tab a');\r\n        }\r\n        Array.from(this._tabLinks).forEach((a) => a.classList.remove('active'));\r\n        this._activeTabLink.classList.add('active');\r\n        this._index = Math.max(Array.from(this._tabLinks).indexOf(this._activeTabLink), 0);\r\n        if (this._activeTabLink && this._activeTabLink.hash) {\r\n            this._content = document.querySelector(this._activeTabLink.hash);\r\n            this._content.classList.add('active');\r\n        }\r\n    }\r\n    _setupSwipeableTabs() {\r\n        // Change swipeable according to responsive threshold\r\n        if (window.innerWidth > this.options.responsiveThreshold)\r\n            this.options.swipeable = false;\r\n        const tabsContent = [];\r\n        this._tabLinks.forEach(a => {\r\n            if (a.hash) {\r\n                const currContent = document.querySelector(a.hash);\r\n                currContent.classList.add('carousel-item');\r\n                tabsContent.push(currContent);\r\n            }\r\n        });\r\n        // Create Carousel-Wrapper around Tab-Contents\r\n        const tabsWrapper = document.createElement('div');\r\n        tabsWrapper.classList.add('tabs-content', 'carousel', 'carousel-slider');\r\n        // Wrap around\r\n        tabsContent[0].parentElement.insertBefore(tabsWrapper, tabsContent[0]);\r\n        tabsContent.forEach(tabContent => {\r\n            tabsWrapper.appendChild(tabContent);\r\n            tabContent.style.display = '';\r\n        });\r\n        // Keep active tab index to set initial carousel slide\r\n        const tab = this._activeTabLink.parentElement;\r\n        const activeTabIndex = Array.from(tab.parentNode.children).indexOf(tab);\r\n        this._tabsCarousel = carousel_1.Carousel.init(tabsWrapper, {\r\n            fullWidth: true,\r\n            noWrap: true,\r\n            onCycleTo: (item) => {\r\n                const prevIndex = this._index;\r\n                this._index = Array.from(item.parentNode.children).indexOf(item);\r\n                this._activeTabLink.classList.remove('active');\r\n                this._activeTabLink = Array.from(this._tabLinks)[this._index];\r\n                this._activeTabLink.classList.add('active');\r\n                this._animateIndicator(prevIndex);\r\n                if (typeof this.options.onShow === 'function')\r\n                    this.options.onShow.call(this, this._content);\r\n            }\r\n        });\r\n        // Set initial carousel slide to active tab\r\n        this._tabsCarousel.set(activeTabIndex);\r\n    }\r\n    _teardownSwipeableTabs() {\r\n        const tabsWrapper = this._tabsCarousel.el;\r\n        this._tabsCarousel.destroy();\r\n        // Unwrap\r\n        tabsWrapper.after(tabsWrapper.children);\r\n        tabsWrapper.remove();\r\n    }\r\n    _setupNormalTabs() {\r\n        // Hide Tabs Content\r\n        Array.from(this._tabLinks).forEach((a) => {\r\n            if (a === this._activeTabLink)\r\n                return;\r\n            if (a.hash) {\r\n                const currContent = document.querySelector(a.hash);\r\n                if (currContent)\r\n                    currContent.style.display = 'none';\r\n            }\r\n        });\r\n    }\r\n    _teardownNormalTabs() {\r\n        // show Tabs Content\r\n        this._tabLinks.forEach((a) => {\r\n            if (a.hash) {\r\n                const currContent = document.querySelector(a.hash);\r\n                if (currContent)\r\n                    currContent.style.display = '';\r\n            }\r\n        });\r\n    }\r\n    _setTabsAndTabWidth() {\r\n        this._tabsWidth = this.el.getBoundingClientRect().width;\r\n        this._tabWidth = Math.max(this._tabsWidth, this.el.scrollWidth) / this._tabLinks.length;\r\n    }\r\n    _calcRightPos(el) {\r\n        return Math.ceil(this._tabsWidth - el.offsetLeft - el.getBoundingClientRect().width);\r\n    }\r\n    _calcLeftPos(el) {\r\n        return Math.floor(el.offsetLeft);\r\n    }\r\n    /**\r\n     * Recalculate tab indicator position. This is useful when\r\n     * the indicator position is not correct.\r\n     */\r\n    updateTabIndicator() {\r\n        this._setTabsAndTabWidth();\r\n        this._animateIndicator(this._index);\r\n    }\r\n    _animateIndicator(prevIndex) {\r\n        let leftDelay = 0, rightDelay = 0;\r\n        if (this._index - prevIndex >= 0)\r\n            leftDelay = 90;\r\n        else\r\n            rightDelay = 90;\r\n        const animOptions = {\r\n            targets: this._indicator,\r\n            left: {\r\n                value: this._calcLeftPos(this._activeTabLink),\r\n                delay: leftDelay\r\n            },\r\n            right: {\r\n                value: this._calcRightPos(this._activeTabLink),\r\n                delay: rightDelay\r\n            },\r\n            duration: this.options.duration,\r\n            easing: 'easeOutQuad'\r\n        };\r\n        animejs_1.default.remove(this._indicator);\r\n        (0, animejs_1.default)(animOptions);\r\n    }\r\n    /**\r\n     * Show tab content that corresponds to the tab with the id.\r\n     * @param tabId The id of the tab that you want to switch to.\r\n     */\r\n    select(tabId) {\r\n        const tab = Array.from(this._tabLinks).find((a) => a.getAttribute('href') === '#' + tabId);\r\n        if (tab)\r\n            tab.click();\r\n    }\r\n}\r\nexports.Tabs = Tabs;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdGFicy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxnSEFBMkI7QUFFM0IsOEVBQXNDO0FBQ3RDLGlGQUE2RTtBQXlCNUUsQ0FBQztBQUVGLElBQUksU0FBUyxHQUFnQjtJQUMzQixRQUFRLEVBQUUsR0FBRztJQUNiLE1BQU0sRUFBRSxJQUFJO0lBQ1osU0FBUyxFQUFFLEtBQUs7SUFDaEIsbUJBQW1CLEVBQUUsUUFBUSxDQUFDLDJCQUEyQjtDQUMxRCxDQUFDO0FBRUYsTUFBYSxJQUFLLFNBQVEscUJBQXNCO0lBVTlDLFlBQVksRUFBZSxFQUFFLE9BQTZCO1FBQ3hELEtBQUssQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBOEUzQix3QkFBbUIsR0FBRyxHQUFHLEVBQUU7WUFDekIsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7WUFDM0IsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLENBQUMsRUFBRTtnQkFDakQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFDLElBQUksQ0FBQztnQkFDekUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFDLElBQUksQ0FBQzthQUM1RTtRQUNILENBQUM7UUFFRCxvQkFBZSxHQUFHLENBQUMsQ0FBYSxFQUFFLEVBQUU7WUFDbEMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFDLE1BQTJCLENBQUM7WUFDOUMsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQztZQUNsQyxnQ0FBZ0M7WUFDaEMsSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztnQkFBRSxPQUFPO1lBQ3ZELGVBQWU7WUFDZixJQUFJLEdBQUcsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxFQUFFO2dCQUN0QyxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ25CLE9BQU87YUFDUjtZQUNELHdEQUF3RDtZQUN4RCxJQUFJLE9BQU8sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDO2dCQUFFLE9BQU87WUFDM0MsNkJBQTZCO1lBQzdCLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMvQyxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ2xDLHFEQUFxRDtZQUVuRCxJQUFJLENBQUMsY0FBYyxHQUFHLE9BQU8sQ0FBQztZQUM5QixJQUFJLE9BQU8sQ0FBQyxJQUFJO2dCQUNkLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdkQsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3hELHNCQUFzQjtZQUN0QixJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDNUMsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUM5QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRXpFLGVBQWU7WUFDZixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFO2dCQUMxQixJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7b0JBQ3RCLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO3dCQUN2QyxJQUFJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEtBQUssVUFBVTs0QkFDM0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQ2xELENBQUMsQ0FBQyxDQUFDO2lCQUNKO2FBQ0Y7aUJBQU07Z0JBQ0wsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO29CQUNqQixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO29CQUN0QyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQ3RDLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sS0FBSyxVQUFVO3dCQUMzQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDaEQsSUFBSSxXQUFXLElBQUksV0FBVyxLQUFLLElBQUksQ0FBQyxRQUFRLEVBQUU7d0JBQ2hELFdBQVcsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQzt3QkFDbkMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7cUJBQ3hDO2lCQUNGO2FBQ0Y7WUFDRCw0REFBNEQ7WUFDNUQsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7WUFDM0IsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ2xDLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUNyQixDQUFDO1FBdklFLElBQUksQ0FBQyxFQUFVLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUUvQixJQUFJLENBQUMsT0FBTyxtQ0FDUCxJQUFJLENBQUMsUUFBUSxHQUNiLE9BQU8sQ0FDWCxDQUFDO1FBRUYsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3hELElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQzNCLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUU7WUFDMUIsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7U0FDNUI7YUFBTTtZQUNMLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1NBQ3pCO1FBQ0QsK0RBQStEO1FBQy9ELElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQzNCLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFRCxNQUFNLEtBQUssUUFBUTtRQUNqQixPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0lBY0Q7Ozs7T0FJRztJQUNILE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBeUMsRUFBRSxVQUFnQyxFQUFFO1FBQ3ZGLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFRCxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQWU7UUFDaEMsT0FBUSxFQUFVLENBQUMsTUFBTSxDQUFDO0lBQzVCLENBQUM7SUFFRCxPQUFPO1FBQ0wsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN4RCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFO1lBQzFCLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1NBQy9CO2FBQ0k7WUFDSCxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztTQUM1QjtRQUNBLElBQUksQ0FBQyxFQUFVLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztJQUN0QyxDQUFDO0lBRUQ7O09BRUc7SUFDSCxJQUFJLEtBQUssS0FBSSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBRWxDLG1CQUFtQjtRQUNqQixNQUFNLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQzVELElBQUksQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBRUQsb0JBQW9CO1FBQ2xCLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDL0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQzdELENBQUM7SUE4REQsZ0JBQWdCO1FBQ2QsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvQyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNyQyxJQUFJLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUM1QixJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUMsSUFBSSxDQUFDO1FBQ3pFLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBQyxJQUFJLENBQUM7SUFDN0UsQ0FBQztJQUVELG1CQUFtQjtRQUNqQiw2RUFBNkU7UUFDN0UsSUFBSSxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFvQixFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxLQUFLLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxSCxpR0FBaUc7UUFDakcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDeEIsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1NBQ2hFO1FBQ0QsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDcEMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUN6RDtRQUNELEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQW9CLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDM0YsSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRTFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ25GLElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRTtZQUNuRCxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNqRSxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDdkM7SUFDSCxDQUFDO0lBRUgsbUJBQW1CO1FBQ2pCLHFEQUFxRDtRQUNyRCxJQUFJLE1BQU0sQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUI7WUFDdEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBRS9CLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUN6QixJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUU7Z0JBQ1YsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ25ELFdBQVcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUMzQyxXQUFXLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2FBQy9CO1FBQ0gsQ0FBQyxDQUFDLENBQUM7UUFFTCw4Q0FBOEM7UUFDOUMsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsRCxXQUFXLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsVUFBVSxFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFFekUsY0FBYztRQUNkLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2RSxXQUFXLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQy9CLFdBQVcsQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDcEMsVUFBVSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2hDLENBQUMsQ0FBQyxDQUFDO1FBRUgsc0RBQXNEO1FBQ3RELE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDO1FBQzlDLE1BQU0sY0FBYyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFeEUsSUFBSSxDQUFDLGFBQWEsR0FBRyxtQkFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDOUMsU0FBUyxFQUFFLElBQUk7WUFDZixNQUFNLEVBQUUsSUFBSTtZQUNaLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFO2dCQUNsQixNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO2dCQUM5QixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2pFLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDL0MsSUFBSSxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzlELElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDNUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUNsQyxJQUFJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEtBQUssVUFBVTtvQkFDM0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDbEQsQ0FBQztTQUNGLENBQUMsQ0FBQztRQUNILDJDQUEyQztRQUMzQyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQsc0JBQXNCO1FBQ3BCLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDO1FBQzFDLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDN0IsU0FBUztRQUNULFdBQVcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3hDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsZ0JBQWdCO1FBQ2Qsb0JBQW9CO1FBQ3BCLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO1lBQ3ZDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxjQUFjO2dCQUFFLE9BQU87WUFDdEMsSUFBd0IsQ0FBRSxDQUFDLElBQUksRUFBRTtnQkFDL0IsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBcUIsQ0FBRSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN4RSxJQUFJLFdBQVc7b0JBQWdCLFdBQVksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQzthQUNwRTtRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELG1CQUFtQjtRQUNqQixvQkFBb0I7UUFDcEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUMzQixJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUU7Z0JBQ1YsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFnQixDQUFDO2dCQUNsRSxJQUFJLFdBQVc7b0JBQUUsV0FBVyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO2FBQ2pEO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsbUJBQW1CO1FBQ2pCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLEtBQUssQ0FBQztRQUN4RCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO0lBQzFGLENBQUM7SUFFRCxhQUFhLENBQUMsRUFBRTtRQUNkLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDLHFCQUFxQixFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkYsQ0FBQztJQUVELFlBQVksQ0FBQyxFQUFFO1FBQ2IsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsa0JBQWtCO1FBQ2hCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQzNCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELGlCQUFpQixDQUFDLFNBQVM7UUFDekIsSUFBSSxTQUFTLEdBQUcsQ0FBQyxFQUFFLFVBQVUsR0FBRyxDQUFDLENBQUM7UUFFbEMsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsSUFBSSxDQUFDO1lBQzlCLFNBQVMsR0FBRyxFQUFFLENBQUM7O1lBRWYsVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUVsQixNQUFNLFdBQVcsR0FBRztZQUNsQixPQUFPLEVBQUUsSUFBSSxDQUFDLFVBQVU7WUFDeEIsSUFBSSxFQUFFO2dCQUNKLEtBQUssRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUM7Z0JBQzdDLEtBQUssRUFBRSxTQUFTO2FBQ2pCO1lBQ0QsS0FBSyxFQUFFO2dCQUNMLEtBQUssRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUM7Z0JBQzlDLEtBQUssRUFBRSxVQUFVO2FBQ2xCO1lBQ0QsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUTtZQUMvQixNQUFNLEVBQUUsYUFBYTtTQUN0QixDQUFDO1FBQ0YsaUJBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzdCLHFCQUFJLEVBQUMsV0FBVyxDQUFDLENBQUM7SUFDcEIsQ0FBQztJQUVEOzs7T0FHRztJQUNILE1BQU0sQ0FBQyxLQUFhO1FBQ2xCLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQW9CLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxHQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzVHLElBQUksR0FBRztZQUFzQixHQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDNUMsQ0FBQztDQUNGO0FBclRELG9CQXFUQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy90YWJzLnRzP2ZmMzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcclxuXHJcbmltcG9ydCB7IENhcm91c2VsIH0gZnJvbSBcIi4vY2Fyb3VzZWxcIjtcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBCYXNlT3B0aW9ucywgSW5pdEVsZW1lbnRzLCBNRWxlbWVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUYWJzT3B0aW9ucyBleHRlbmRzIEJhc2VPcHRpb25zIHtcclxuICAvKipcclxuICAgKiBUcmFuc2l0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cclxuICAgKiBAZGVmYXVsdCAzMDBcclxuICAgKi9cclxuICBkdXJhdGlvbjogbnVtYmVyO1xyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIGZvciB3aGVuIGEgbmV3IHRhYiBjb250ZW50IGlzIHNob3duLlxyXG4gICAqIEBkZWZhdWx0IG51bGxcclxuICAgKi9cclxuICBvblNob3c6IChuZXdDb250ZW50OiBFbGVtZW50KSA9PiB2b2lkO1xyXG4gIC8qKlxyXG4gICAqIFNldCB0byB0cnVlIHRvIGVuYWJsZSBzd2lwZWFibGUgdGFicy5cclxuICAgKiBUaGlzIGFsc28gdXNlcyB0aGUgcmVzcG9uc2l2ZVRocmVzaG9sZCBvcHRpb24uXHJcbiAgICogQGRlZmF1bHQgZmFsc2VcclxuICAgKi9cclxuICBzd2lwZWFibGU6IGJvb2xlYW47XHJcbiAgLyoqXHJcbiAgICogVGhlIG1heGltdW0gd2lkdGggb2YgdGhlIHNjcmVlbiwgaW4gcGl4ZWxzLFxyXG4gICAqIHdoZXJlIHRoZSBzd2lwZWFibGUgZnVuY3Rpb25hbGl0eSBpbml0aWFsaXplcy5cclxuICAgKiBAZGVmYXVsdCBpbmZpbml0eVxyXG4gICAqL1xyXG4gIHJlc3BvbnNpdmVUaHJlc2hvbGQ6IG51bWJlcjtcclxufTtcclxuXHJcbmxldCBfZGVmYXVsdHM6IFRhYnNPcHRpb25zID0ge1xyXG4gIGR1cmF0aW9uOiAzMDAsXHJcbiAgb25TaG93OiBudWxsLFxyXG4gIHN3aXBlYWJsZTogZmFsc2UsXHJcbiAgcmVzcG9uc2l2ZVRocmVzaG9sZDogSW5maW5pdHkgLy8gYnJlYWtwb2ludCBmb3Igc3dpcGVhYmxlXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgVGFicyBleHRlbmRzIENvbXBvbmVudDxUYWJzT3B0aW9ucz4ge1xyXG4gIF90YWJMaW5rczogTm9kZUxpc3RPZjxIVE1MQW5jaG9yRWxlbWVudD47XHJcbiAgX2luZGV4OiBudW1iZXI7XHJcbiAgX2luZGljYXRvcjogYW55O1xyXG4gIF90YWJXaWR0aDogbnVtYmVyO1xyXG4gIF90YWJzV2lkdGg6IG51bWJlcjtcclxuICBfdGFic0Nhcm91c2VsOiBhbnk7XHJcbiAgX2FjdGl2ZVRhYkxpbms6IGFueTtcclxuICBfY29udGVudDogYW55O1xyXG5cclxuICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8VGFic09wdGlvbnM+KSB7XHJcbiAgICBzdXBlcihlbCwgb3B0aW9ucywgVGFicyk7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fVGFicyA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICAuLi5UYWJzLmRlZmF1bHRzLFxyXG4gICAgICAuLi5vcHRpb25zXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuX3RhYkxpbmtzID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCdsaS50YWIgPiBhJyk7XHJcbiAgICB0aGlzLl9pbmRleCA9IDA7XHJcbiAgICB0aGlzLl9zZXR1cEFjdGl2ZVRhYkxpbmsoKTtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMuc3dpcGVhYmxlKSB7XHJcbiAgICAgIHRoaXMuX3NldHVwU3dpcGVhYmxlVGFicygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc2V0dXBOb3JtYWxUYWJzKCk7XHJcbiAgICB9XHJcbiAgICAvLyBTZXR1cCB0YWJzIGluZGljYXRvciBhZnRlciBjb250ZW50IHRvIGVuc3VyZSBhY2N1cmF0ZSB3aWR0aHNcclxuICAgIHRoaXMuX3NldFRhYnNBbmRUYWJXaWR0aCgpO1xyXG4gICAgdGhpcy5fY3JlYXRlSW5kaWNhdG9yKCk7XHJcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKTogVGFic09wdGlvbnMge1xyXG4gICAgcmV0dXJuIF9kZWZhdWx0cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlIG9mIFRhYnMuXHJcbiAgICogQHBhcmFtIGVsIEhUTUwgZWxlbWVudC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBQYXJ0aWFsPFRhYnNPcHRpb25zPik6IFRhYnM7XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFRhYnMuXHJcbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8VGFic09wdGlvbnM+KTogVGFic1tdO1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBUYWJzLlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxFbGVtZW50IHwgSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxUYWJzT3B0aW9ucz4gPSB7fSk6IFRhYnMgfCBUYWJzW10ge1xyXG4gICAgcmV0dXJuIHN1cGVyLmluaXQoZWxzLCBvcHRpb25zLCBUYWJzKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBUYWJzIHtcclxuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX1RhYnM7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xyXG4gICAgdGhpcy5faW5kaWNhdG9yLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5faW5kaWNhdG9yKTtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMuc3dpcGVhYmxlKSB7XHJcbiAgICAgIHRoaXMuX3RlYXJkb3duU3dpcGVhYmxlVGFicygpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuX3RlYXJkb3duTm9ybWFsVGFicygpO1xyXG4gICAgfVxyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1RhYnMgPSB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUaGUgaW5kZXggb2YgdGFiIHRoYXQgaXMgY3VycmVudGx5IHNob3duLlxyXG4gICAqL1xyXG4gIGdldCBpbmRleCgpeyByZXR1cm4gdGhpcy5faW5kZXg7IH1cclxuXHJcbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemUpO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRhYkNsaWNrKTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVdpbmRvd1Jlc2l6ZSk7XHJcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVGFiQ2xpY2spO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVdpbmRvd1Jlc2l6ZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX3NldFRhYnNBbmRUYWJXaWR0aCgpO1xyXG4gICAgaWYgKHRoaXMuX3RhYldpZHRoICE9PSAwICYmIHRoaXMuX3RhYnNXaWR0aCAhPT0gMCkge1xyXG4gICAgICB0aGlzLl9pbmRpY2F0b3Iuc3R5bGUubGVmdCA9IHRoaXMuX2NhbGNMZWZ0UG9zKHRoaXMuX2FjdGl2ZVRhYkxpbmspKydweCc7XHJcbiAgICAgIHRoaXMuX2luZGljYXRvci5zdHlsZS5yaWdodCA9IHRoaXMuX2NhbGNSaWdodFBvcyh0aGlzLl9hY3RpdmVUYWJMaW5rKSsncHgnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVRhYkNsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgIGNvbnN0IHRhYkxpbmsgPSBlLnRhcmdldCBhcyBIVE1MQW5jaG9yRWxlbWVudDtcclxuICAgIGNvbnN0IHRhYiA9IHRhYkxpbmsucGFyZW50RWxlbWVudDtcclxuICAgIC8vIEhhbmRsZSBjbGljayBvbiB0YWIgbGluayBvbmx5XHJcbiAgICBpZiAoIXRhYkxpbmsgfHwgIXRhYi5jbGFzc0xpc3QuY29udGFpbnMoJ3RhYicpKSByZXR1cm47XHJcbiAgICAvLyBpcyBkaXNhYmxlZD9cclxuICAgIGlmICh0YWIuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gQWN0IGFzIHJlZ3VsYXIgbGluayBpZiB0YXJnZXQgYXR0cmlidXRlIGlzIHNwZWNpZmllZC5cclxuICAgIGlmICh0YWJMaW5rLmhhc0F0dHJpYnV0ZSgndGFyZ2V0JykpIHJldHVybjtcclxuICAgIC8vIE1ha2UgdGhlIG9sZCB0YWIgaW5hY3RpdmUuXHJcbiAgICB0aGlzLl9hY3RpdmVUYWJMaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgY29uc3QgX29sZENvbnRlbnQgPSB0aGlzLl9jb250ZW50O1xyXG4gICAgLy8gVXBkYXRlIHRoZSB2YXJpYWJsZXMgd2l0aCB0aGUgbmV3IGxpbmsgYW5kIGNvbnRlbnRcclxuXHJcbiAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsgPSB0YWJMaW5rO1xyXG4gICAgICBpZiAodGFiTGluay5oYXNoKVxyXG4gICAgICAgIHRoaXMuX2NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhYkxpbmsuaGFzaCk7XHJcbiAgICAgIHRoaXMuX3RhYkxpbmtzID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCdsaS50YWIgPiBhJyk7XHJcbiAgICAgIC8vIE1ha2UgdGhlIHRhYiBhY3RpdmVcclxuICAgICAgdGhpcy5fYWN0aXZlVGFiTGluay5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgY29uc3QgcHJldkluZGV4ID0gdGhpcy5faW5kZXg7XHJcbiAgICAgIHRoaXMuX2luZGV4ID0gTWF0aC5tYXgoQXJyYXkuZnJvbSh0aGlzLl90YWJMaW5rcykuaW5kZXhPZih0YWJMaW5rKSwgMCk7XHJcblxyXG4gICAgLy8gU3dhcCBjb250ZW50XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLnN3aXBlYWJsZSkge1xyXG4gICAgICBpZiAodGhpcy5fdGFic0Nhcm91c2VsKSB7XHJcbiAgICAgICAgdGhpcy5fdGFic0Nhcm91c2VsLnNldCh0aGlzLl9pbmRleCwgKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TaG93ID09PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25TaG93LmNhbGwodGhpcywgdGhpcy5fY29udGVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XHJcbiAgICAgICAgdGhpcy5fY29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB0aGlzLl9jb250ZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uU2hvdyA9PT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICAgIHRoaXMub3B0aW9ucy5vblNob3cuY2FsbCh0aGlzLCB0aGlzLl9jb250ZW50KTtcclxuICAgICAgICBpZiAoX29sZENvbnRlbnQgJiYgX29sZENvbnRlbnQgIT09IHRoaXMuX2NvbnRlbnQpIHtcclxuICAgICAgICAgIF9vbGRDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICBfb2xkQ29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIFVwZGF0ZSB3aWR0aHMgYWZ0ZXIgY29udGVudCBpcyBzd2FwcGVkIChzY3JvbGxiYXIgYnVnZml4KVxyXG4gICAgdGhpcy5fc2V0VGFic0FuZFRhYldpZHRoKCk7XHJcbiAgICB0aGlzLl9hbmltYXRlSW5kaWNhdG9yKHByZXZJbmRleCk7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlSW5kaWNhdG9yKCkge1xyXG4gICAgY29uc3QgaW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgIGluZGljYXRvci5jbGFzc0xpc3QuYWRkKCdpbmRpY2F0b3InKTtcclxuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yKTtcclxuICAgIHRoaXMuX2luZGljYXRvciA9IGluZGljYXRvcjtcclxuICAgIHRoaXMuX2luZGljYXRvci5zdHlsZS5sZWZ0ID0gdGhpcy5fY2FsY0xlZnRQb3ModGhpcy5fYWN0aXZlVGFiTGluaykrJ3B4JztcclxuICAgIHRoaXMuX2luZGljYXRvci5zdHlsZS5yaWdodCA9IHRoaXMuX2NhbGNSaWdodFBvcyh0aGlzLl9hY3RpdmVUYWJMaW5rKSsncHgnO1xyXG4gIH1cclxuXHJcbiAgX3NldHVwQWN0aXZlVGFiTGluaygpIHtcclxuICAgIC8vIElmIHRoZSBsb2NhdGlvbi5oYXNoIG1hdGNoZXMgb25lIG9mIHRoZSBsaW5rcywgdXNlIHRoYXQgYXMgdGhlIGFjdGl2ZSB0YWIuXHJcbiAgICB0aGlzLl9hY3RpdmVUYWJMaW5rID0gQXJyYXkuZnJvbSh0aGlzLl90YWJMaW5rcykuZmluZCgoYTogSFRNTEFuY2hvckVsZW1lbnQpID0+IGEuZ2V0QXR0cmlidXRlKCdocmVmJykgPT09IGxvY2F0aW9uLmhhc2gpO1xyXG4gICAgLy8gSWYgbm8gbWF0Y2ggaXMgZm91bmQsIHVzZSB0aGUgZmlyc3QgbGluayBvciBhbnkgd2l0aCBjbGFzcyAnYWN0aXZlJyBhcyB0aGUgaW5pdGlhbCBhY3RpdmUgdGFiLlxyXG4gICAgaWYgKCF0aGlzLl9hY3RpdmVUYWJMaW5rKSB7XHJcbiAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xpLnRhYiBhLmFjdGl2ZScpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuX2FjdGl2ZVRhYkxpbmsubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xpLnRhYiBhJyk7XHJcbiAgICB9XHJcbiAgICBBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKS5mb3JFYWNoKChhOiBIVE1MQW5jaG9yRWxlbWVudCkgPT4gYS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XHJcbiAgICB0aGlzLl9hY3RpdmVUYWJMaW5rLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgdGhpcy5faW5kZXggPSBNYXRoLm1heChBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKS5pbmRleE9mKHRoaXMuX2FjdGl2ZVRhYkxpbmspLCAwKTtcclxuICAgICAgaWYgKHRoaXMuX2FjdGl2ZVRhYkxpbmsgJiYgdGhpcy5fYWN0aXZlVGFiTGluay5oYXNoKSB7XHJcbiAgICAgICAgdGhpcy5fY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fYWN0aXZlVGFiTGluay5oYXNoKTtcclxuICAgICAgICB0aGlzLl9jb250ZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gIF9zZXR1cFN3aXBlYWJsZVRhYnMoKSB7XHJcbiAgICAvLyBDaGFuZ2Ugc3dpcGVhYmxlIGFjY29yZGluZyB0byByZXNwb25zaXZlIHRocmVzaG9sZFxyXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gdGhpcy5vcHRpb25zLnJlc3BvbnNpdmVUaHJlc2hvbGQpXHJcbiAgICAgIHRoaXMub3B0aW9ucy5zd2lwZWFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgIGNvbnN0IHRhYnNDb250ZW50ID0gW107XHJcbiAgICAgIHRoaXMuX3RhYkxpbmtzLmZvckVhY2goYSA9PiB7XHJcbiAgICAgICAgaWYgKGEuaGFzaCkge1xyXG4gICAgICAgICAgY29uc3QgY3VyckNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGEuaGFzaCk7XHJcbiAgICAgICAgICBjdXJyQ29udGVudC5jbGFzc0xpc3QuYWRkKCdjYXJvdXNlbC1pdGVtJyk7XHJcbiAgICAgICAgICB0YWJzQ29udGVudC5wdXNoKGN1cnJDb250ZW50KTsgIFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIENhcm91c2VsLVdyYXBwZXIgYXJvdW5kIFRhYi1Db250ZW50c1xyXG4gICAgY29uc3QgdGFic1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRhYnNXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ3RhYnMtY29udGVudCcsICdjYXJvdXNlbCcsICdjYXJvdXNlbC1zbGlkZXInKTtcclxuXHJcbiAgICAvLyBXcmFwIGFyb3VuZFxyXG4gICAgdGFic0NvbnRlbnRbMF0ucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUodGFic1dyYXBwZXIsIHRhYnNDb250ZW50WzBdKTtcclxuICAgIHRhYnNDb250ZW50LmZvckVhY2godGFiQ29udGVudCA9PiB7XHJcbiAgICAgIHRhYnNXcmFwcGVyLmFwcGVuZENoaWxkKHRhYkNvbnRlbnQpO1xyXG4gICAgICB0YWJDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEtlZXAgYWN0aXZlIHRhYiBpbmRleCB0byBzZXQgaW5pdGlhbCBjYXJvdXNlbCBzbGlkZVxyXG4gICAgY29uc3QgdGFiID0gdGhpcy5fYWN0aXZlVGFiTGluay5wYXJlbnRFbGVtZW50O1xyXG4gICAgY29uc3QgYWN0aXZlVGFiSW5kZXggPSBBcnJheS5mcm9tKHRhYi5wYXJlbnROb2RlLmNoaWxkcmVuKS5pbmRleE9mKHRhYik7XHJcblxyXG4gICAgdGhpcy5fdGFic0Nhcm91c2VsID0gQ2Fyb3VzZWwuaW5pdCh0YWJzV3JhcHBlciwge1xyXG4gICAgICBmdWxsV2lkdGg6IHRydWUsXHJcbiAgICAgIG5vV3JhcDogdHJ1ZSxcclxuICAgICAgb25DeWNsZVRvOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHByZXZJbmRleCA9IHRoaXMuX2luZGV4O1xyXG4gICAgICAgIHRoaXMuX2luZGV4ID0gQXJyYXkuZnJvbShpdGVtLnBhcmVudE5vZGUuY2hpbGRyZW4pLmluZGV4T2YoaXRlbSk7XHJcbiAgICAgICAgdGhpcy5fYWN0aXZlVGFiTGluay5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICB0aGlzLl9hY3RpdmVUYWJMaW5rID0gQXJyYXkuZnJvbSh0aGlzLl90YWJMaW5rcylbdGhpcy5faW5kZXhdO1xyXG4gICAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgdGhpcy5fYW5pbWF0ZUluZGljYXRvcihwcmV2SW5kZXgpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uU2hvdyA9PT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICAgIHRoaXMub3B0aW9ucy5vblNob3cuY2FsbCh0aGlzLCB0aGlzLl9jb250ZW50KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBTZXQgaW5pdGlhbCBjYXJvdXNlbCBzbGlkZSB0byBhY3RpdmUgdGFiXHJcbiAgICB0aGlzLl90YWJzQ2Fyb3VzZWwuc2V0KGFjdGl2ZVRhYkluZGV4KTtcclxuICB9XHJcblxyXG4gIF90ZWFyZG93blN3aXBlYWJsZVRhYnMoKSB7XHJcbiAgICBjb25zdCB0YWJzV3JhcHBlciA9IHRoaXMuX3RhYnNDYXJvdXNlbC5lbDtcclxuICAgIHRoaXMuX3RhYnNDYXJvdXNlbC5kZXN0cm95KCk7XHJcbiAgICAvLyBVbndyYXBcclxuICAgIHRhYnNXcmFwcGVyLmFmdGVyKHRhYnNXcmFwcGVyLmNoaWxkcmVuKTtcclxuICAgIHRhYnNXcmFwcGVyLnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgX3NldHVwTm9ybWFsVGFicygpIHtcclxuICAgIC8vIEhpZGUgVGFicyBDb250ZW50XHJcbiAgICBBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKS5mb3JFYWNoKChhKSA9PiB7XHJcbiAgICAgIGlmIChhID09PSB0aGlzLl9hY3RpdmVUYWJMaW5rKSByZXR1cm47XHJcbiAgICAgIGlmICgoPEhUTUxBbmNob3JFbGVtZW50PmEpLmhhc2gpIHtcclxuICAgICAgICBjb25zdCBjdXJyQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoKDxIVE1MQW5jaG9yRWxlbWVudD5hKS5oYXNoKTtcclxuICAgICAgICBpZiAoY3VyckNvbnRlbnQpICg8SFRNTEVsZW1lbnQ+Y3VyckNvbnRlbnQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3RlYXJkb3duTm9ybWFsVGFicygpIHtcclxuICAgIC8vIHNob3cgVGFicyBDb250ZW50XHJcbiAgICB0aGlzLl90YWJMaW5rcy5mb3JFYWNoKChhKSA9PiB7XHJcbiAgICAgIGlmIChhLmhhc2gpIHtcclxuICAgICAgICBjb25zdCBjdXJyQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYS5oYXNoKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBpZiAoY3VyckNvbnRlbnQpIGN1cnJDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfc2V0VGFic0FuZFRhYldpZHRoKCkge1xyXG4gICAgdGhpcy5fdGFic1dpZHRoID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgIHRoaXMuX3RhYldpZHRoID0gTWF0aC5tYXgodGhpcy5fdGFic1dpZHRoLCB0aGlzLmVsLnNjcm9sbFdpZHRoKSAvIHRoaXMuX3RhYkxpbmtzLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIF9jYWxjUmlnaHRQb3MoZWwpIHtcclxuICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5fdGFic1dpZHRoIC0gZWwub2Zmc2V0TGVmdCAtIGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcclxuICB9XHJcblxyXG4gIF9jYWxjTGVmdFBvcyhlbCkge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoZWwub2Zmc2V0TGVmdCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWNhbGN1bGF0ZSB0YWIgaW5kaWNhdG9yIHBvc2l0aW9uLiBUaGlzIGlzIHVzZWZ1bCB3aGVuXHJcbiAgICogdGhlIGluZGljYXRvciBwb3NpdGlvbiBpcyBub3QgY29ycmVjdC5cclxuICAgKi9cclxuICB1cGRhdGVUYWJJbmRpY2F0b3IoKSB7XHJcbiAgICB0aGlzLl9zZXRUYWJzQW5kVGFiV2lkdGgoKTtcclxuICAgIHRoaXMuX2FuaW1hdGVJbmRpY2F0b3IodGhpcy5faW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgX2FuaW1hdGVJbmRpY2F0b3IocHJldkluZGV4KSB7XHJcbiAgICBsZXQgbGVmdERlbGF5ID0gMCwgcmlnaHREZWxheSA9IDA7XHJcblxyXG4gICAgaWYgKHRoaXMuX2luZGV4IC0gcHJldkluZGV4ID49IDApXHJcbiAgICAgIGxlZnREZWxheSA9IDkwO1xyXG4gICAgZWxzZVxyXG4gICAgICByaWdodERlbGF5ID0gOTA7XHJcblxyXG4gICAgY29uc3QgYW5pbU9wdGlvbnMgPSB7XHJcbiAgICAgIHRhcmdldHM6IHRoaXMuX2luZGljYXRvcixcclxuICAgICAgbGVmdDoge1xyXG4gICAgICAgIHZhbHVlOiB0aGlzLl9jYWxjTGVmdFBvcyh0aGlzLl9hY3RpdmVUYWJMaW5rKSxcclxuICAgICAgICBkZWxheTogbGVmdERlbGF5XHJcbiAgICAgIH0sXHJcbiAgICAgIHJpZ2h0OiB7XHJcbiAgICAgICAgdmFsdWU6IHRoaXMuX2NhbGNSaWdodFBvcyh0aGlzLl9hY3RpdmVUYWJMaW5rKSxcclxuICAgICAgICBkZWxheTogcmlnaHREZWxheVxyXG4gICAgICB9LFxyXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxyXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcclxuICAgIH07XHJcbiAgICBhbmltLnJlbW92ZSh0aGlzLl9pbmRpY2F0b3IpO1xyXG4gICAgYW5pbShhbmltT3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTaG93IHRhYiBjb250ZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHRhYiB3aXRoIHRoZSBpZC5cclxuICAgKiBAcGFyYW0gdGFiSWQgVGhlIGlkIG9mIHRoZSB0YWIgdGhhdCB5b3Ugd2FudCB0byBzd2l0Y2ggdG8uXHJcbiAgICovXHJcbiAgc2VsZWN0KHRhYklkOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHRhYiA9IEFycmF5LmZyb20odGhpcy5fdGFiTGlua3MpLmZpbmQoKGE6IEhUTUxBbmNob3JFbGVtZW50KSA9PiBhLmdldEF0dHJpYnV0ZSgnaHJlZicpID09PSAnIycrdGFiSWQpO1xyXG4gICAgaWYgKHRhYikgKDxIVE1MQW5jaG9yRWxlbWVudD50YWIpLmNsaWNrKCk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/tabs.ts\n");

/***/ }),

/***/ "./src/tapTarget.ts":
/*!**************************!*\
  !*** ./src/tapTarget.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.TapTarget = void 0;\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\n;\r\nlet _defaults = {\r\n    onOpen: null,\r\n    onClose: null\r\n};\r\nclass TapTarget extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, TapTarget);\r\n        this._handleThrottledResize = utils_1.Utils.throttle(function () { this._handleResize(); }, 200).bind(this);\r\n        this._handleTargetClick = () => {\r\n            this.open();\r\n        };\r\n        this._handleOriginClick = () => {\r\n            this.close();\r\n        };\r\n        this._handleResize = () => {\r\n            this._calculatePositioning();\r\n        };\r\n        this._handleDocumentClick = (e) => {\r\n            if (!e.target.closest('.tap-target-wrapper')) {\r\n                this.close();\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n        };\r\n        /**\r\n         * Open Tap Target.\r\n         */\r\n        this.open = () => {\r\n            if (this.isOpen)\r\n                return;\r\n            // onOpen callback\r\n            if (typeof this.options.onOpen === 'function') {\r\n                this.options.onOpen.call(this, this._origin);\r\n            }\r\n            this.isOpen = true;\r\n            this.wrapper.classList.add('open');\r\n            document.body.addEventListener('click', this._handleDocumentClick, true);\r\n            document.body.addEventListener('touchend', this._handleDocumentClick);\r\n        };\r\n        /**\r\n         * Close Tap Target.\r\n         */\r\n        this.close = () => {\r\n            if (!this.isOpen)\r\n                return;\r\n            // onClose callback\r\n            if (typeof this.options.onClose === 'function') {\r\n                this.options.onClose.call(this, this._origin);\r\n            }\r\n            this.isOpen = false;\r\n            this.wrapper.classList.remove('open');\r\n            document.body.removeEventListener('click', this._handleDocumentClick, true);\r\n            document.body.removeEventListener('touchend', this._handleDocumentClick);\r\n        };\r\n        this.el.M_TapTarget = this;\r\n        this.options = Object.assign(Object.assign({}, TapTarget.defaults), options);\r\n        this.isOpen = false;\r\n        // setup\r\n        this._origin = document.querySelector(`#${el.dataset.target}`);\r\n        this._setup();\r\n        this._calculatePositioning();\r\n        this._setupEventHandlers();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of TapTarget.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, TapTarget);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_TapTarget;\r\n    }\r\n    destroy() {\r\n        this._removeEventHandlers();\r\n        this.el.TapTarget = undefined;\r\n    }\r\n    _setupEventHandlers() {\r\n        this.el.addEventListener('click', this._handleTargetClick);\r\n        this.originEl.addEventListener('click', this._handleOriginClick);\r\n        // Resize\r\n        window.addEventListener('resize', this._handleThrottledResize);\r\n    }\r\n    _removeEventHandlers() {\r\n        this.el.removeEventListener('click', this._handleTargetClick);\r\n        this.originEl.removeEventListener('click', this._handleOriginClick);\r\n        window.removeEventListener('resize', this._handleThrottledResize);\r\n    }\r\n    _setup() {\r\n        // Creating tap target\r\n        this.wrapper = this.el.parentElement;\r\n        this.waveEl = this.wrapper.querySelector('.tap-target-wave');\r\n        this.originEl = this.wrapper.querySelector('.tap-target-origin');\r\n        this.contentEl = this.el.querySelector('.tap-target-content');\r\n        // Creating wrapper\r\n        if (!this.wrapper.classList.contains('.tap-target-wrapper')) {\r\n            this.wrapper = document.createElement('div');\r\n            this.wrapper.classList.add('tap-target-wrapper');\r\n            this.el.before(this.wrapper);\r\n            this.wrapper.append(this.el);\r\n        }\r\n        // Creating content\r\n        if (!this.contentEl) {\r\n            this.contentEl = document.createElement('div');\r\n            this.contentEl.classList.add('tap-target-content');\r\n            this.el.append(this.contentEl);\r\n        }\r\n        // Creating foreground wave\r\n        if (!this.waveEl) {\r\n            this.waveEl = document.createElement('div');\r\n            this.waveEl.classList.add('tap-target-wave');\r\n            // Creating origin\r\n            if (!this.originEl) {\r\n                this.originEl = this._origin.cloneNode(true); // .clone(true, true);\r\n                this.originEl.classList.add('tap-target-origin');\r\n                this.originEl.removeAttribute('id');\r\n                this.originEl.removeAttribute('style');\r\n                this.waveEl.append(this.originEl);\r\n            }\r\n            this.wrapper.append(this.waveEl);\r\n        }\r\n    }\r\n    _offset(el) {\r\n        const box = el.getBoundingClientRect();\r\n        const docElem = document.documentElement;\r\n        return {\r\n            top: box.top + window.pageYOffset - docElem.clientTop,\r\n            left: box.left + window.pageXOffset - docElem.clientLeft\r\n        };\r\n    }\r\n    _calculatePositioning() {\r\n        // Element or parent is fixed position?\r\n        let isFixed = getComputedStyle(this._origin).position === 'fixed';\r\n        if (!isFixed) {\r\n            let currentElem = this._origin;\r\n            const parents = [];\r\n            while ((currentElem = currentElem.parentNode) && currentElem !== document)\r\n                parents.push(currentElem);\r\n            for (let i = 0; i < parents.length; i++) {\r\n                isFixed = getComputedStyle(parents[i]).position === 'fixed';\r\n                if (isFixed)\r\n                    break;\r\n            }\r\n        }\r\n        // Calculating origin\r\n        const originWidth = this._origin.offsetWidth;\r\n        const originHeight = this._origin.offsetHeight;\r\n        const originTop = isFixed ? this._offset(this._origin).top - utils_1.Utils.getDocumentScrollTop() : this._offset(this._origin).top;\r\n        const originLeft = isFixed ? this._offset(this._origin).left - utils_1.Utils.getDocumentScrollLeft() : this._offset(this._origin).left;\r\n        // Calculating screen\r\n        const windowWidth = window.innerWidth;\r\n        const windowHeight = window.innerHeight;\r\n        const scrollBarWidth = windowWidth - document.documentElement.clientWidth;\r\n        const centerX = windowWidth / 2;\r\n        const centerY = windowHeight / 2;\r\n        const isLeft = originLeft <= centerX;\r\n        const isRight = originLeft > centerX;\r\n        const isTop = originTop <= centerY;\r\n        const isBottom = originTop > centerY;\r\n        const isCenterX = originLeft >= windowWidth * 0.25 && originLeft <= windowWidth * 0.75;\r\n        // Calculating tap target\r\n        const tapTargetWidth = this.el.offsetWidth;\r\n        const tapTargetHeight = this.el.offsetHeight;\r\n        const tapTargetTop = originTop + originHeight / 2 - tapTargetHeight / 2;\r\n        const tapTargetLeft = originLeft + originWidth / 2 - tapTargetWidth / 2;\r\n        const tapTargetPosition = isFixed ? 'fixed' : 'absolute';\r\n        // Calculating content\r\n        const tapTargetTextWidth = isCenterX ? tapTargetWidth : tapTargetWidth / 2 + originWidth;\r\n        const tapTargetTextHeight = tapTargetHeight / 2;\r\n        const tapTargetTextTop = isTop ? tapTargetHeight / 2 : 0;\r\n        const tapTargetTextBottom = 0;\r\n        const tapTargetTextLeft = isLeft && !isCenterX ? tapTargetWidth / 2 - originWidth : 0;\r\n        const tapTargetTextRight = 0;\r\n        const tapTargetTextPadding = originWidth;\r\n        const tapTargetTextAlign = isBottom ? 'bottom' : 'top';\r\n        // Calculating wave\r\n        const tapTargetWaveWidth = originWidth > originHeight ? originWidth * 2 : originWidth * 2;\r\n        const tapTargetWaveHeight = tapTargetWaveWidth;\r\n        const tapTargetWaveTop = tapTargetHeight / 2 - tapTargetWaveHeight / 2;\r\n        const tapTargetWaveLeft = tapTargetWidth / 2 - tapTargetWaveWidth / 2;\r\n        // Setting tap target\r\n        this.wrapper.style.top = isTop ? tapTargetTop + 'px' : '';\r\n        this.wrapper.style.right = isRight ? windowWidth - tapTargetLeft - tapTargetWidth - scrollBarWidth + 'px' : '';\r\n        this.wrapper.style.bottom = isBottom ? windowHeight - tapTargetTop - tapTargetHeight + 'px' : '';\r\n        this.wrapper.style.left = isLeft ? tapTargetLeft + 'px' : '';\r\n        this.wrapper.style.position = tapTargetPosition;\r\n        // Setting content\r\n        this.contentEl.style.width = tapTargetTextWidth + 'px';\r\n        this.contentEl.style.height = tapTargetTextHeight + 'px';\r\n        this.contentEl.style.top = tapTargetTextTop + 'px';\r\n        this.contentEl.style.right = tapTargetTextRight + 'px';\r\n        this.contentEl.style.bottom = tapTargetTextBottom + 'px';\r\n        this.contentEl.style.left = tapTargetTextLeft + 'px';\r\n        this.contentEl.style.padding = tapTargetTextPadding + 'px';\r\n        this.contentEl.style.verticalAlign = tapTargetTextAlign;\r\n        // Setting wave\r\n        this.waveEl.style.top = tapTargetWaveTop + 'px';\r\n        this.waveEl.style.left = tapTargetWaveLeft + 'px';\r\n        this.waveEl.style.width = tapTargetWaveWidth + 'px';\r\n        this.waveEl.style.height = tapTargetWaveHeight + 'px';\r\n    }\r\n}\r\nexports.TapTarget = TapTarget;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLGdCQUFnQixHQUFHLElBQUksQ0FBQztRQUNuRCxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsa0JBQWtCLEdBQUcsSUFBSSxDQUFDO1FBQ3ZELElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxtQkFBbUIsR0FBRyxJQUFJLENBQUM7UUFDekQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLGlCQUFpQixHQUFHLElBQUksQ0FBQztRQUNyRCxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsb0JBQW9CLEdBQUcsSUFBSSxDQUFDO1FBQzNELElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLGFBQWEsR0FBRyxrQkFBa0IsQ0FBQztRQUV4RCxlQUFlO1FBQ2YsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLGdCQUFnQixHQUFDLElBQUksQ0FBQztRQUM5QyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsaUJBQWlCLEdBQUMsSUFBSSxDQUFDO1FBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxrQkFBa0IsR0FBQyxJQUFJLENBQUM7UUFDbEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLG1CQUFtQixHQUFDLElBQUksQ0FBQztJQUN0RCxDQUFDO0NBK0JGO0FBM1BELDhCQTJQQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy90YXBUYXJnZXQudHM/ZmIyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgQmFzZU9wdGlvbnMsIEluaXRFbGVtZW50cywgTUVsZW1lbnQsIE9wZW5hYmxlIH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRhcFRhcmdldE9wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIHdoZW4gVGFwIFRhcmdldCBpcyBvcGVuZWQuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uT3BlbjogKG9yaWdpbjogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XHJcbiAgLyoqXHJcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIHdoZW4gVGFwIFRhcmdldCBpcyBjbG9zZWQuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uQ2xvc2U6IChvcmlnaW46IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG59O1xyXG5cclxubGV0IF9kZWZhdWx0czogVGFwVGFyZ2V0T3B0aW9ucyA9IHtcclxuICBvbk9wZW46IG51bGwsXHJcbiAgb25DbG9zZTogbnVsbFxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhcFRhcmdldCBleHRlbmRzIENvbXBvbmVudDxUYXBUYXJnZXRPcHRpb25zPiBpbXBsZW1lbnRzIE9wZW5hYmxlIHtcclxuICAvKipcclxuICAgKiBJZiB0aGUgdGFwIHRhcmdldCBpcyBvcGVuLlxyXG4gICAqL1xyXG4gIGlzT3BlbjogYm9vbGVhbjtcclxuXHJcbiAgcHJpdmF0ZSB3cmFwcGVyOiBIVE1MRWxlbWVudDtcclxuICBwcml2YXRlIF9vcmlnaW46IEhUTUxFbGVtZW50O1xyXG4gIHByaXZhdGUgb3JpZ2luRWw6IEhUTUxFbGVtZW50O1xyXG4gIHByaXZhdGUgd2F2ZUVsOiBIVE1MRWxlbWVudCAmIEVsZW1lbnQgJiBOb2RlO1xyXG4gIHByaXZhdGUgY29udGVudEVsOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPFRhcFRhcmdldE9wdGlvbnM+KSB7XHJcbiAgICBzdXBlcihlbCwgb3B0aW9ucywgVGFwVGFyZ2V0KTtcclxuICAgICh0aGlzLmVsIGFzIGFueSkuTV9UYXBUYXJnZXQgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgLi4uVGFwVGFyZ2V0LmRlZmF1bHRzLFxyXG4gICAgICAuLi5vcHRpb25zXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcbiAgICAvLyBzZXR1cFxyXG4gICAgdGhpcy5fb3JpZ2luID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7ZWwuZGF0YXNldC50YXJnZXR9YCk7XHJcbiAgICB0aGlzLl9zZXR1cCgpO1xyXG4gICAgdGhpcy5fY2FsY3VsYXRlUG9zaXRpb25pbmcoKTtcclxuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBkZWZhdWx0cygpOiBUYXBUYXJnZXRPcHRpb25zIHtcclxuICAgIHJldHVybiBfZGVmYXVsdHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZSBvZiBUYXBUYXJnZXQuXHJcbiAgICogQHBhcmFtIGVsIEhUTUwgZWxlbWVudC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBQYXJ0aWFsPFRhcFRhcmdldE9wdGlvbnM+KTogVGFwVGFyZ2V0O1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBUYXBUYXJnZXQuXHJcbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8VGFwVGFyZ2V0T3B0aW9ucz4pOiBUYXBUYXJnZXRbXTtcclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgVGFwVGFyZ2V0LlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxFbGVtZW50IHwgSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxUYXBUYXJnZXRPcHRpb25zPiA9IHt9KTogVGFwVGFyZ2V0IHwgVGFwVGFyZ2V0W10ge1xyXG4gICAgcmV0dXJuIHN1cGVyLmluaXQoZWxzLCBvcHRpb25zLCBUYXBUYXJnZXQpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEluc3RhbmNlKGVsOiBIVE1MRWxlbWVudCk6IFRhcFRhcmdldCB7XHJcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9UYXBUYXJnZXQ7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5UYXBUYXJnZXQgPSB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRhcmdldENsaWNrKTtcclxuICAgIHRoaXMub3JpZ2luRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVPcmlnaW5DbGljayk7XHJcbiAgICAvLyBSZXNpemVcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemUpO1xyXG4gIH1cclxuXHJcbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XHJcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVGFyZ2V0Q2xpY2spO1xyXG4gICAgdGhpcy5vcmlnaW5FbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9yaWdpbkNsaWNrKTtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemUpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVRocm90dGxlZFJlc2l6ZTogKCkgPT4gdm9pZCA9IFV0aWxzLnRocm90dGxlKGZ1bmN0aW9uKCl7IHRoaXMuX2hhbmRsZVJlc2l6ZSgpOyB9LCAyMDApLmJpbmQodGhpcyk7XHJcblxyXG4gIF9oYW5kbGVUYXJnZXRDbGljayA9ICgpID0+IHtcclxuICAgIHRoaXMub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZU9yaWdpbkNsaWNrID0gKCkgPT4ge1xyXG4gICAgdGhpcy5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVJlc2l6ZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX2NhbGN1bGF0ZVBvc2l0aW9uaW5nKCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRG9jdW1lbnRDbGljayA9IChlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4ge1xyXG4gICAgaWYgKCEoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmNsb3Nlc3QoJy50YXAtdGFyZ2V0LXdyYXBwZXInKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXR1cCgpIHtcclxuICAgIC8vIENyZWF0aW5nIHRhcCB0YXJnZXRcclxuICAgIHRoaXMud3JhcHBlciA9IHRoaXMuZWwucGFyZW50RWxlbWVudDtcclxuICAgIHRoaXMud2F2ZUVsID0gdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy50YXAtdGFyZ2V0LXdhdmUnKTtcclxuICAgIHRoaXMub3JpZ2luRWwgPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvcignLnRhcC10YXJnZXQtb3JpZ2luJyk7XHJcbiAgICB0aGlzLmNvbnRlbnRFbCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLnRhcC10YXJnZXQtY29udGVudCcpO1xyXG4gICAgLy8gQ3JlYXRpbmcgd3JhcHBlclxyXG4gICAgaWYgKCF0aGlzLndyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCcudGFwLXRhcmdldC13cmFwcGVyJykpIHtcclxuICAgICAgdGhpcy53cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKCd0YXAtdGFyZ2V0LXdyYXBwZXInKTtcclxuICAgICAgdGhpcy5lbC5iZWZvcmUodGhpcy53cmFwcGVyKTtcclxuICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZCh0aGlzLmVsKTtcclxuICAgIH1cclxuICAgIC8vIENyZWF0aW5nIGNvbnRlbnRcclxuICAgIGlmICghdGhpcy5jb250ZW50RWwpIHtcclxuICAgICAgdGhpcy5jb250ZW50RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdGhpcy5jb250ZW50RWwuY2xhc3NMaXN0LmFkZCgndGFwLXRhcmdldC1jb250ZW50Jyk7XHJcbiAgICAgIHRoaXMuZWwuYXBwZW5kKHRoaXMuY29udGVudEVsKTtcclxuICAgIH1cclxuICAgIC8vIENyZWF0aW5nIGZvcmVncm91bmQgd2F2ZVxyXG4gICAgaWYgKCF0aGlzLndhdmVFbCkge1xyXG4gICAgICB0aGlzLndhdmVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB0aGlzLndhdmVFbC5jbGFzc0xpc3QuYWRkKCd0YXAtdGFyZ2V0LXdhdmUnKTtcclxuICAgICAgLy8gQ3JlYXRpbmcgb3JpZ2luXHJcbiAgICAgIGlmICghdGhpcy5vcmlnaW5FbCkge1xyXG4gICAgICAgIHRoaXMub3JpZ2luRWwgPSA8SFRNTEVsZW1lbnQ+dGhpcy5fb3JpZ2luLmNsb25lTm9kZSh0cnVlKTsgLy8gLmNsb25lKHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMub3JpZ2luRWwuY2xhc3NMaXN0LmFkZCgndGFwLXRhcmdldC1vcmlnaW4nKTtcclxuICAgICAgICB0aGlzLm9yaWdpbkVsLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcclxuICAgICAgICB0aGlzLm9yaWdpbkVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgICAgICB0aGlzLndhdmVFbC5hcHBlbmQodGhpcy5vcmlnaW5FbCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZCh0aGlzLndhdmVFbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vZmZzZXQoZWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBjb25zdCBib3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0b3A6IGJveC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSBkb2NFbGVtLmNsaWVudFRvcCxcclxuICAgICAgbGVmdDogYm94LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQgLSBkb2NFbGVtLmNsaWVudExlZnRcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBfY2FsY3VsYXRlUG9zaXRpb25pbmcoKSB7XHJcbiAgICAvLyBFbGVtZW50IG9yIHBhcmVudCBpcyBmaXhlZCBwb3NpdGlvbj9cclxuICAgIGxldCBpc0ZpeGVkID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9vcmlnaW4pLnBvc2l0aW9uID09PSAnZml4ZWQnO1xyXG4gICAgaWYgKCFpc0ZpeGVkKSB7XHJcblxyXG4gICAgICBsZXQgY3VycmVudEVsZW06IGFueSA9IHRoaXMuX29yaWdpbjtcclxuICAgICAgY29uc3QgcGFyZW50cyA9IFtdO1xyXG4gICAgICB3aGlsZSAoKGN1cnJlbnRFbGVtID0gY3VycmVudEVsZW0ucGFyZW50Tm9kZSkgJiYgY3VycmVudEVsZW0gIT09IGRvY3VtZW50KVxyXG4gICAgICAgIHBhcmVudHMucHVzaChjdXJyZW50RWxlbSk7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpc0ZpeGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnRzW2ldKS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJztcclxuICAgICAgICBpZiAoaXNGaXhlZCkgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIENhbGN1bGF0aW5nIG9yaWdpblxyXG4gICAgY29uc3Qgb3JpZ2luV2lkdGggPSB0aGlzLl9vcmlnaW4ub2Zmc2V0V2lkdGg7XHJcbiAgICBjb25zdCBvcmlnaW5IZWlnaHQgPSB0aGlzLl9vcmlnaW4ub2Zmc2V0SGVpZ2h0O1xyXG4gICAgY29uc3Qgb3JpZ2luVG9wID0gaXNGaXhlZCA/IHRoaXMuX29mZnNldCh0aGlzLl9vcmlnaW4pLnRvcCAtIFV0aWxzLmdldERvY3VtZW50U2Nyb2xsVG9wKCkgOiB0aGlzLl9vZmZzZXQodGhpcy5fb3JpZ2luKS50b3A7XHJcbiAgICBjb25zdCBvcmlnaW5MZWZ0ID0gaXNGaXhlZCA/IHRoaXMuX29mZnNldCh0aGlzLl9vcmlnaW4pLmxlZnQgLSBVdGlscy5nZXREb2N1bWVudFNjcm9sbExlZnQoKSA6IHRoaXMuX29mZnNldCh0aGlzLl9vcmlnaW4pLmxlZnQ7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRpbmcgc2NyZWVuXHJcbiAgICBjb25zdCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgY29uc3Qgc2Nyb2xsQmFyV2lkdGggPSB3aW5kb3dXaWR0aCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcclxuICAgIGNvbnN0IGNlbnRlclggPSB3aW5kb3dXaWR0aCAvIDI7XHJcbiAgICBjb25zdCBjZW50ZXJZID0gd2luZG93SGVpZ2h0IC8gMjtcclxuICAgIGNvbnN0IGlzTGVmdCA9IG9yaWdpbkxlZnQgPD0gY2VudGVyWDtcclxuICAgIGNvbnN0IGlzUmlnaHQgPSBvcmlnaW5MZWZ0ID4gY2VudGVyWDtcclxuICAgIGNvbnN0IGlzVG9wID0gb3JpZ2luVG9wIDw9IGNlbnRlclk7XHJcbiAgICBjb25zdCBpc0JvdHRvbSA9IG9yaWdpblRvcCA+IGNlbnRlclk7XHJcbiAgICBjb25zdCBpc0NlbnRlclggPSBvcmlnaW5MZWZ0ID49IHdpbmRvd1dpZHRoICogMC4yNSAmJiBvcmlnaW5MZWZ0IDw9IHdpbmRvd1dpZHRoICogMC43NTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGluZyB0YXAgdGFyZ2V0XHJcbiAgICBjb25zdCB0YXBUYXJnZXRXaWR0aCA9IHRoaXMuZWwub2Zmc2V0V2lkdGg7XHJcbiAgICBjb25zdCB0YXBUYXJnZXRIZWlnaHQgPSB0aGlzLmVsLm9mZnNldEhlaWdodDtcclxuICAgIGNvbnN0IHRhcFRhcmdldFRvcCA9IG9yaWdpblRvcCArIG9yaWdpbkhlaWdodCAvIDIgLSB0YXBUYXJnZXRIZWlnaHQgLyAyO1xyXG4gICAgY29uc3QgdGFwVGFyZ2V0TGVmdCA9IG9yaWdpbkxlZnQgKyBvcmlnaW5XaWR0aCAvIDIgLSB0YXBUYXJnZXRXaWR0aCAvIDI7XHJcbiAgICBjb25zdCB0YXBUYXJnZXRQb3NpdGlvbiA9IGlzRml4ZWQgPyAnZml4ZWQnIDogJ2Fic29sdXRlJztcclxuXHJcbiAgICAvLyBDYWxjdWxhdGluZyBjb250ZW50XHJcbiAgICBjb25zdCB0YXBUYXJnZXRUZXh0V2lkdGggPSBpc0NlbnRlclggPyB0YXBUYXJnZXRXaWR0aCA6IHRhcFRhcmdldFdpZHRoIC8gMiArIG9yaWdpbldpZHRoO1xyXG4gICAgY29uc3QgdGFwVGFyZ2V0VGV4dEhlaWdodCA9IHRhcFRhcmdldEhlaWdodCAvIDI7XHJcbiAgICBjb25zdCB0YXBUYXJnZXRUZXh0VG9wID0gaXNUb3AgPyB0YXBUYXJnZXRIZWlnaHQgLyAyIDogMDtcclxuICAgIGNvbnN0IHRhcFRhcmdldFRleHRCb3R0b20gPSAwO1xyXG4gICAgY29uc3QgdGFwVGFyZ2V0VGV4dExlZnQgPSBpc0xlZnQgJiYgIWlzQ2VudGVyWCA/IHRhcFRhcmdldFdpZHRoIC8gMiAtIG9yaWdpbldpZHRoIDogMDtcclxuICAgIGNvbnN0IHRhcFRhcmdldFRleHRSaWdodCA9IDA7XHJcbiAgICBjb25zdCB0YXBUYXJnZXRUZXh0UGFkZGluZyA9IG9yaWdpbldpZHRoO1xyXG4gICAgY29uc3QgdGFwVGFyZ2V0VGV4dEFsaWduID0gaXNCb3R0b20gPyAnYm90dG9tJyA6ICd0b3AnO1xyXG5cclxuICAgIC8vIENhbGN1bGF0aW5nIHdhdmVcclxuICAgIGNvbnN0IHRhcFRhcmdldFdhdmVXaWR0aCA9IG9yaWdpbldpZHRoID4gb3JpZ2luSGVpZ2h0ID8gb3JpZ2luV2lkdGggKiAyIDogb3JpZ2luV2lkdGggKiAyO1xyXG4gICAgY29uc3QgdGFwVGFyZ2V0V2F2ZUhlaWdodCA9IHRhcFRhcmdldFdhdmVXaWR0aDtcclxuICAgIGNvbnN0IHRhcFRhcmdldFdhdmVUb3AgPSB0YXBUYXJnZXRIZWlnaHQgLyAyIC0gdGFwVGFyZ2V0V2F2ZUhlaWdodCAvIDI7XHJcbiAgICBjb25zdCB0YXBUYXJnZXRXYXZlTGVmdCA9IHRhcFRhcmdldFdpZHRoIC8gMiAtIHRhcFRhcmdldFdhdmVXaWR0aCAvIDI7XHJcblxyXG4gICAgLy8gU2V0dGluZyB0YXAgdGFyZ2V0XHJcbiAgICB0aGlzLndyYXBwZXIuc3R5bGUudG9wID0gaXNUb3AgPyB0YXBUYXJnZXRUb3AgKyAncHgnIDogJyc7XHJcbiAgICB0aGlzLndyYXBwZXIuc3R5bGUucmlnaHQgPSBpc1JpZ2h0ID8gd2luZG93V2lkdGggLSB0YXBUYXJnZXRMZWZ0IC0gdGFwVGFyZ2V0V2lkdGggLSBzY3JvbGxCYXJXaWR0aCArICdweCcgOiAnJztcclxuICAgIHRoaXMud3JhcHBlci5zdHlsZS5ib3R0b20gPSBpc0JvdHRvbSA/IHdpbmRvd0hlaWdodCAtIHRhcFRhcmdldFRvcCAtIHRhcFRhcmdldEhlaWdodCArICdweCcgOiAnJztcclxuICAgIHRoaXMud3JhcHBlci5zdHlsZS5sZWZ0ID0gaXNMZWZ0ID8gdGFwVGFyZ2V0TGVmdCArICdweCcgOiAnJztcclxuICAgIHRoaXMud3JhcHBlci5zdHlsZS5wb3NpdGlvbiA9IHRhcFRhcmdldFBvc2l0aW9uO1xyXG5cclxuICAgIC8vIFNldHRpbmcgY29udGVudFxyXG4gICAgdGhpcy5jb250ZW50RWwuc3R5bGUud2lkdGggPSB0YXBUYXJnZXRUZXh0V2lkdGggKyAncHgnO1xyXG4gICAgdGhpcy5jb250ZW50RWwuc3R5bGUuaGVpZ2h0ID0gdGFwVGFyZ2V0VGV4dEhlaWdodCArICdweCc7XHJcbiAgICB0aGlzLmNvbnRlbnRFbC5zdHlsZS50b3AgPSB0YXBUYXJnZXRUZXh0VG9wICsgJ3B4JztcclxuICAgIHRoaXMuY29udGVudEVsLnN0eWxlLnJpZ2h0ID0gdGFwVGFyZ2V0VGV4dFJpZ2h0ICsgJ3B4JztcclxuICAgIHRoaXMuY29udGVudEVsLnN0eWxlLmJvdHRvbSA9IHRhcFRhcmdldFRleHRCb3R0b20gKyAncHgnO1xyXG4gICAgdGhpcy5jb250ZW50RWwuc3R5bGUubGVmdCA9IHRhcFRhcmdldFRleHRMZWZ0ICsgJ3B4JztcclxuICAgIHRoaXMuY29udGVudEVsLnN0eWxlLnBhZGRpbmcgPSB0YXBUYXJnZXRUZXh0UGFkZGluZyArICdweCc7XHJcbiAgICB0aGlzLmNvbnRlbnRFbC5zdHlsZS52ZXJ0aWNhbEFsaWduID0gdGFwVGFyZ2V0VGV4dEFsaWduO1xyXG5cclxuICAgIC8vIFNldHRpbmcgd2F2ZVxyXG4gICAgdGhpcy53YXZlRWwuc3R5bGUudG9wID0gdGFwVGFyZ2V0V2F2ZVRvcCsncHgnO1xyXG4gICAgdGhpcy53YXZlRWwuc3R5bGUubGVmdCA9IHRhcFRhcmdldFdhdmVMZWZ0KydweCc7XHJcbiAgICB0aGlzLndhdmVFbC5zdHlsZS53aWR0aCA9IHRhcFRhcmdldFdhdmVXaWR0aCsncHgnO1xyXG4gICAgdGhpcy53YXZlRWwuc3R5bGUuaGVpZ2h0ID0gdGFwVGFyZ2V0V2F2ZUhlaWdodCsncHgnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT3BlbiBUYXAgVGFyZ2V0LlxyXG4gICAqL1xyXG4gIG9wZW4gPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5pc09wZW4pIHJldHVybjtcclxuICAgIC8vIG9uT3BlbiBjYWxsYmFja1xyXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW4uY2FsbCh0aGlzLCB0aGlzLl9vcmlnaW4pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xyXG4gICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcclxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrLCB0cnVlKTtcclxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBDbG9zZSBUYXAgVGFyZ2V0LlxyXG4gICAqL1xyXG4gIGNsb3NlID0gKCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLmlzT3BlbikgcmV0dXJuO1xyXG4gICAgLy8gb25DbG9zZSBjYWxsYmFja1xyXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB0aGlzLm9wdGlvbnMub25DbG9zZS5jYWxsKHRoaXMsIHRoaXMuX29yaWdpbik7XHJcbiAgICB9XHJcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrLCB0cnVlKTtcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrKTtcclxuICB9O1xyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/tapTarget.ts\n");

/***/ }),

/***/ "./src/timepicker.ts":
/*!***************************!*\
  !*** ./src/timepicker.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Timepicker = void 0;\r\nconst modal_1 = __webpack_require__(/*! ./modal */ \"./src/modal.ts\");\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\nlet _defaults = {\r\n    dialRadius: 135,\r\n    outerRadius: 105,\r\n    innerRadius: 70,\r\n    tickRadius: 20,\r\n    duration: 350,\r\n    container: null,\r\n    defaultTime: 'now',\r\n    fromNow: 0,\r\n    showClearBtn: false,\r\n    // internationalization\r\n    i18n: {\r\n        cancel: 'Cancel',\r\n        clear: 'Clear',\r\n        done: 'Ok'\r\n    },\r\n    autoClose: false,\r\n    twelveHour: true,\r\n    vibrate: true,\r\n    // Callbacks\r\n    onOpenStart: null,\r\n    onOpenEnd: null,\r\n    onCloseStart: null,\r\n    onCloseEnd: null,\r\n    onSelect: null\r\n};\r\nclass Timepicker extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Timepicker);\r\n        this._handleInputClick = () => {\r\n            this.open();\r\n        };\r\n        this._handleInputKeydown = (e) => {\r\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\r\n                e.preventDefault();\r\n                this.open();\r\n            }\r\n        };\r\n        this._handleTimeInputEnterKey = (e) => {\r\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\r\n                e.preventDefault();\r\n                this._inputFromTextField();\r\n            }\r\n        };\r\n        this._handleClockClickStart = (e) => {\r\n            e.preventDefault();\r\n            let clockPlateBR = this.plate.getBoundingClientRect();\r\n            let offset = { x: clockPlateBR.left, y: clockPlateBR.top };\r\n            this.x0 = offset.x + this.options.dialRadius;\r\n            this.y0 = offset.y + this.options.dialRadius;\r\n            this.moved = false;\r\n            let clickPos = Timepicker._Pos(e);\r\n            this.dx = clickPos.x - this.x0;\r\n            this.dy = clickPos.y - this.y0;\r\n            // Set clock hands\r\n            this.setHand(this.dx, this.dy, false);\r\n            // Mousemove on document\r\n            document.addEventListener('mousemove', this._handleDocumentClickMove);\r\n            document.addEventListener('touchmove', this._handleDocumentClickMove);\r\n            // Mouseup on document\r\n            document.addEventListener('mouseup', this._handleDocumentClickEnd);\r\n            document.addEventListener('touchend', this._handleDocumentClickEnd);\r\n        };\r\n        this._handleDocumentClickMove = (e) => {\r\n            e.preventDefault();\r\n            let clickPos = Timepicker._Pos(e);\r\n            let x = clickPos.x - this.x0;\r\n            let y = clickPos.y - this.y0;\r\n            this.moved = true;\r\n            this.setHand(x, y, false);\r\n        };\r\n        this._handleDocumentClickEnd = (e) => {\r\n            e.preventDefault();\r\n            document.removeEventListener('mouseup', this._handleDocumentClickEnd);\r\n            document.removeEventListener('touchend', this._handleDocumentClickEnd);\r\n            let clickPos = Timepicker._Pos(e);\r\n            let x = clickPos.x - this.x0;\r\n            let y = clickPos.y - this.y0;\r\n            if (this.moved && x === this.dx && y === this.dy) {\r\n                this.setHand(x, y);\r\n            }\r\n            if (this.currentView === 'hours') {\r\n                this.showView('minutes', this.options.duration / 2);\r\n            }\r\n            else if (this.options.autoClose) {\r\n                this.minutesView.classList.add('timepicker-dial-out');\r\n                setTimeout(() => {\r\n                    this.done();\r\n                }, this.options.duration / 2);\r\n            }\r\n            if (typeof this.options.onSelect === 'function') {\r\n                this.options.onSelect.call(this, this.hours, this.minutes);\r\n            }\r\n            // Unbind mousemove event\r\n            document.removeEventListener('mousemove', this._handleDocumentClickMove);\r\n            document.removeEventListener('touchmove', this._handleDocumentClickMove);\r\n        };\r\n        this._handleAmPmClick = (e) => {\r\n            const btnClicked = e.target;\r\n            this.amOrPm = btnClicked.classList.contains('am-btn') ? 'AM' : 'PM';\r\n            this._updateAmPmView();\r\n        };\r\n        /**\r\n         * Show hours or minutes view on timepicker.\r\n         * @param view The name of the view you want to switch to, 'hours' or 'minutes'.\r\n         */\r\n        this.showView = (view, delay = null) => {\r\n            if (view === 'minutes' && getComputedStyle(this.hoursView).visibility === 'visible') {\r\n                // raiseCallback(this.options.beforeHourSelect);\r\n            }\r\n            let isHours = view === 'hours', nextView = isHours ? this.hoursView : this.minutesView, hideView = isHours ? this.minutesView : this.hoursView;\r\n            this.currentView = view;\r\n            if (isHours) {\r\n                this.inputHours.classList.add('text-primary');\r\n                this.inputMinutes.classList.remove('text-primary');\r\n            }\r\n            else {\r\n                this.inputHours.classList.remove('text-primary');\r\n                this.inputMinutes.classList.add('text-primary');\r\n            }\r\n            // Transition view\r\n            hideView.classList.add('timepicker-dial-out');\r\n            nextView.style.visibility = 'visible';\r\n            nextView.classList.remove('timepicker-dial-out');\r\n            // Reset clock hand\r\n            this.resetClock(delay);\r\n            // After transitions ended\r\n            clearTimeout(this.toggleViewTimer);\r\n            this.toggleViewTimer = setTimeout(() => {\r\n                hideView.style.visibility = 'hidden';\r\n            }, this.options.duration);\r\n        };\r\n        this._inputFromTextField = () => {\r\n            const isHours = this.currentView === 'hours';\r\n            if (isHours) {\r\n                const value = parseInt(this.inputHours.value);\r\n                if (value > 0 && value < 13) {\r\n                    this.drawClockFromTimeInput(value, isHours);\r\n                    this.showView('minutes', this.options.duration / 2);\r\n                    this.hours = value;\r\n                    this.inputMinutes.focus();\r\n                }\r\n                else {\r\n                    const hour = new Date().getHours();\r\n                    this.inputHours.value = (hour % 12).toString();\r\n                }\r\n            }\r\n            else {\r\n                const value = parseInt(this.inputMinutes.value);\r\n                if (value >= 0 && value < 60) {\r\n                    this.inputMinutes.value = Timepicker._addLeadingZero(value);\r\n                    this.drawClockFromTimeInput(value, isHours);\r\n                    this.minutes = value;\r\n                    this.modalEl.querySelector('.confirmation-btns :nth-child(2)').focus();\r\n                }\r\n                else {\r\n                    const minutes = new Date().getMinutes();\r\n                    this.inputMinutes.value = Timepicker._addLeadingZero(minutes);\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * Open timepicker.\r\n         */\r\n        this.open = () => {\r\n            if (this.isOpen)\r\n                return;\r\n            this.isOpen = true;\r\n            this._updateTimeFromInput();\r\n            this.showView('hours');\r\n            this.modal.open(undefined);\r\n        };\r\n        /**\r\n         * Close timepicker.\r\n         */\r\n        this.close = () => {\r\n            if (!this.isOpen)\r\n                return;\r\n            this.isOpen = false;\r\n            this.modal.close();\r\n        };\r\n        this.done = (e = null, clearValue = null) => {\r\n            // Set input value\r\n            let last = this.el.value;\r\n            let value = clearValue\r\n                ? ''\r\n                : Timepicker._addLeadingZero(this.hours) + ':' + Timepicker._addLeadingZero(this.minutes);\r\n            this.time = value;\r\n            if (!clearValue && this.options.twelveHour) {\r\n                value = `${value} ${this.amOrPm}`;\r\n            }\r\n            this.el.value = value;\r\n            // Trigger change event\r\n            if (value !== last) {\r\n                this.el.dispatchEvent(new Event('change'));\r\n            }\r\n            this.close();\r\n            this.el.focus();\r\n        };\r\n        this.clear = () => {\r\n            this.done(null, true);\r\n        };\r\n        this.el.M_Timepicker = this;\r\n        this.options = Object.assign(Object.assign({}, Timepicker.defaults), options);\r\n        this.id = utils_1.Utils.guid();\r\n        this._insertHTMLIntoDOM();\r\n        this._setupModal();\r\n        this._setupVariables();\r\n        this._setupEventHandlers();\r\n        this._clockSetup();\r\n        this._pickerSetup();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Timepicker.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Timepicker);\r\n    }\r\n    static _addLeadingZero(num) {\r\n        return (num < 10 ? '0' : '') + num;\r\n    }\r\n    static _createSVGEl(name) {\r\n        let svgNS = 'http://www.w3.org/2000/svg';\r\n        return document.createElementNS(svgNS, name);\r\n    }\r\n    static _Pos(e) {\r\n        if (e.type.startsWith(\"touch\") && e.targetTouches.length >= 1) {\r\n            return { x: e.targetTouches[0].clientX, y: e.targetTouches[0].clientY };\r\n        }\r\n        // mouse event\r\n        return { x: e.clientX, y: e.clientY };\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Timepicker;\r\n    }\r\n    destroy() {\r\n        this._removeEventHandlers();\r\n        this.modal.destroy();\r\n        this.modalEl.remove();\r\n        this.el.M_Timepicker = undefined;\r\n    }\r\n    _setupEventHandlers() {\r\n        this.el.addEventListener('click', this._handleInputClick);\r\n        this.el.addEventListener('keydown', this._handleInputKeydown);\r\n        this.plate.addEventListener('mousedown', this._handleClockClickStart);\r\n        this.plate.addEventListener('touchstart', this._handleClockClickStart);\r\n        this.digitalClock.addEventListener('keyup', this._inputFromTextField);\r\n        this.inputHours.addEventListener('click', () => this.showView('hours'));\r\n        this.inputMinutes.addEventListener('click', () => this.showView('minutes'));\r\n    }\r\n    _removeEventHandlers() {\r\n        this.el.removeEventListener('click', this._handleInputClick);\r\n        this.el.removeEventListener('keydown', this._handleInputKeydown);\r\n    }\r\n    _insertHTMLIntoDOM() {\r\n        const template = document.createElement('template');\r\n        template.innerHTML = Timepicker._template.trim();\r\n        this.modalEl = template.content.firstChild;\r\n        this.modalEl.id = 'modal-' + this.id;\r\n        // Append popover to input by default\r\n        const optEl = this.options.container;\r\n        const containerEl = optEl instanceof HTMLElement ? optEl : document.querySelector(optEl);\r\n        if (this.options.container && !!containerEl) {\r\n            containerEl.append(this.modalEl);\r\n        }\r\n        else {\r\n            this.el.parentElement.appendChild(this.modalEl);\r\n        }\r\n    }\r\n    _setupModal() {\r\n        this.modal = modal_1.Modal.init(this.modalEl, {\r\n            onOpenStart: this.options.onOpenStart,\r\n            onOpenEnd: this.options.onOpenEnd,\r\n            onCloseStart: this.options.onCloseStart,\r\n            onCloseEnd: () => {\r\n                if (typeof this.options.onCloseEnd === 'function') {\r\n                    this.options.onCloseEnd.call(this);\r\n                }\r\n                this.isOpen = false;\r\n            }\r\n        });\r\n    }\r\n    _setupVariables() {\r\n        this.currentView = 'hours';\r\n        this.vibrate = navigator.vibrate\r\n            ? 'vibrate'\r\n            : navigator.webkitVibrate\r\n                ? 'webkitVibrate'\r\n                : null;\r\n        this._canvas = this.modalEl.querySelector('.timepicker-canvas');\r\n        this.plate = this.modalEl.querySelector('.timepicker-plate');\r\n        this.digitalClock = this.modalEl.querySelector('.timepicker-display-column');\r\n        this.hoursView = this.modalEl.querySelector('.timepicker-hours');\r\n        this.minutesView = this.modalEl.querySelector('.timepicker-minutes');\r\n        this.inputHours = this.modalEl.querySelector('.timepicker-input-hours');\r\n        this.inputMinutes = this.modalEl.querySelector('.timepicker-input-minutes');\r\n        this.spanAmPm = this.modalEl.querySelector('.timepicker-span-am-pm');\r\n        this.footer = this.modalEl.querySelector('.timepicker-footer');\r\n        this.amOrPm = 'PM';\r\n    }\r\n    _createButton(text, visibility) {\r\n        const button = document.createElement('button');\r\n        button.classList.add('btn-flat', 'waves-effect');\r\n        button.style.visibility = visibility;\r\n        button.type = 'button';\r\n        button.tabIndex = this.options.twelveHour ? 3 : 1;\r\n        button.innerText = text;\r\n        return button;\r\n    }\r\n    _pickerSetup() {\r\n        const clearButton = this._createButton(this.options.i18n.clear, this.options.showClearBtn ? '' : 'hidden');\r\n        clearButton.classList.add('timepicker-clear');\r\n        clearButton.addEventListener('click', this.clear);\r\n        this.footer.appendChild(clearButton);\r\n        const confirmationBtnsContainer = document.createElement('div');\r\n        confirmationBtnsContainer.classList.add('confirmation-btns');\r\n        this.footer.append(confirmationBtnsContainer);\r\n        const cancelButton = this._createButton(this.options.i18n.cancel, '');\r\n        cancelButton.classList.add('timepicker-close');\r\n        cancelButton.addEventListener('click', this.close);\r\n        confirmationBtnsContainer.appendChild(cancelButton);\r\n        const doneButton = this._createButton(this.options.i18n.done, '');\r\n        doneButton.classList.add('timepicker-close');\r\n        doneButton.addEventListener('click', this.done);\r\n        confirmationBtnsContainer.appendChild(doneButton);\r\n    }\r\n    _clockSetup() {\r\n        if (this.options.twelveHour) {\r\n            // AM Button\r\n            this._amBtn = document.createElement('div');\r\n            this._amBtn.classList.add('am-btn');\r\n            this._amBtn.innerText = 'AM';\r\n            this._amBtn.addEventListener('click', this._handleAmPmClick);\r\n            this.spanAmPm.appendChild(this._amBtn);\r\n            // PM Button\r\n            this._pmBtn = document.createElement('div');\r\n            this._pmBtn.classList.add('pm-btn');\r\n            this._pmBtn.innerText = 'PM';\r\n            this._pmBtn.addEventListener('click', this._handleAmPmClick);\r\n            this.spanAmPm.appendChild(this._pmBtn);\r\n        }\r\n        this._buildHoursView();\r\n        this._buildMinutesView();\r\n        this._buildSVGClock();\r\n    }\r\n    _buildSVGClock() {\r\n        // Draw clock hands and others\r\n        let dialRadius = this.options.dialRadius;\r\n        let tickRadius = this.options.tickRadius;\r\n        let diameter = dialRadius * 2;\r\n        let svg = Timepicker._createSVGEl('svg');\r\n        svg.setAttribute('class', 'timepicker-svg');\r\n        svg.setAttribute('width', diameter.toString());\r\n        svg.setAttribute('height', diameter.toString());\r\n        let g = Timepicker._createSVGEl('g');\r\n        g.setAttribute('transform', 'translate(' + dialRadius + ',' + dialRadius + ')');\r\n        let bearing = Timepicker._createSVGEl('circle');\r\n        bearing.setAttribute('class', 'timepicker-canvas-bearing');\r\n        bearing.setAttribute('cx', '0');\r\n        bearing.setAttribute('cy', '0');\r\n        bearing.setAttribute('r', '4');\r\n        let hand = Timepicker._createSVGEl('line');\r\n        hand.setAttribute('x1', '0');\r\n        hand.setAttribute('y1', '0');\r\n        let bg = Timepicker._createSVGEl('circle');\r\n        bg.setAttribute('class', 'timepicker-canvas-bg');\r\n        bg.setAttribute('r', tickRadius.toString());\r\n        g.appendChild(hand);\r\n        g.appendChild(bg);\r\n        g.appendChild(bearing);\r\n        svg.appendChild(g);\r\n        this._canvas.appendChild(svg);\r\n        this.hand = hand;\r\n        this.bg = bg;\r\n        this.bearing = bearing;\r\n        this.g = g;\r\n    }\r\n    _buildHoursView() {\r\n        const $tick = document.createElement('div');\r\n        $tick.classList.add('timepicker-tick');\r\n        // Hours view\r\n        if (this.options.twelveHour) {\r\n            for (let i = 1; i < 13; i += 1) {\r\n                const tick = $tick.cloneNode(true);\r\n                const radian = (i / 6) * Math.PI;\r\n                const radius = this.options.outerRadius;\r\n                tick.style.left = this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px';\r\n                tick.style.top = this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px';\r\n                tick.innerHTML = i === 0 ? '00' : i.toString();\r\n                this.hoursView.appendChild(tick);\r\n                // tick.on(mousedownEvent, mousedown);\r\n            }\r\n        }\r\n        else {\r\n            for (let i = 0; i < 24; i += 1) {\r\n                const tick = $tick.cloneNode(true);\r\n                const radian = (i / 6) * Math.PI;\r\n                const inner = i > 0 && i < 13;\r\n                const radius = inner ? this.options.innerRadius : this.options.outerRadius;\r\n                tick.style.left = this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px';\r\n                tick.style.top = this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px';\r\n                tick.innerHTML = i === 0 ? '00' : i.toString();\r\n                this.hoursView.appendChild(tick);\r\n                // tick.on(mousedownEvent, mousedown);\r\n            }\r\n        }\r\n    }\r\n    _buildMinutesView() {\r\n        const _tick = document.createElement('div');\r\n        _tick.classList.add('timepicker-tick');\r\n        // Minutes view\r\n        for (let i = 0; i < 60; i += 5) {\r\n            const tick = _tick.cloneNode(true);\r\n            const radian = (i / 30) * Math.PI;\r\n            tick.style.left =\r\n                this.options.dialRadius +\r\n                    Math.sin(radian) * this.options.outerRadius -\r\n                    this.options.tickRadius +\r\n                    'px';\r\n            tick.style.top =\r\n                this.options.dialRadius -\r\n                    Math.cos(radian) * this.options.outerRadius -\r\n                    this.options.tickRadius +\r\n                    'px';\r\n            tick.innerHTML = Timepicker._addLeadingZero(i);\r\n            this.minutesView.appendChild(tick);\r\n        }\r\n    }\r\n    _updateAmPmView() {\r\n        if (this.options.twelveHour) {\r\n            if (this.amOrPm === 'PM') {\r\n                this._amBtn.classList.remove('text-primary');\r\n                this._pmBtn.classList.add('text-primary');\r\n            }\r\n            else if (this.amOrPm === 'AM') {\r\n                this._amBtn.classList.add('text-primary');\r\n                this._pmBtn.classList.remove('text-primary');\r\n            }\r\n        }\r\n    }\r\n    _updateTimeFromInput() {\r\n        // Get the time\r\n        let value = ((this.el.value || this.options.defaultTime || '') + '').split(':');\r\n        if (this.options.twelveHour && !(typeof value[1] === 'undefined')) {\r\n            if (value[1].toUpperCase().indexOf('AM') > 0) {\r\n                this.amOrPm = 'AM';\r\n            }\r\n            else {\r\n                this.amOrPm = 'PM';\r\n            }\r\n            value[1] = value[1].replace('AM', '').replace('PM', '');\r\n        }\r\n        if (value[0] === 'now') {\r\n            let now = new Date(+new Date() + this.options.fromNow);\r\n            value = [now.getHours().toString(), now.getMinutes().toString()];\r\n            if (this.options.twelveHour) {\r\n                this.amOrPm = parseInt(value[0]) >= 12 && parseInt(value[0]) < 24 ? 'PM' : 'AM';\r\n            }\r\n        }\r\n        this.hours = +value[0] || 0;\r\n        this.minutes = +value[1] || 0;\r\n        this.inputHours.value = this.hours;\r\n        this.inputMinutes.value = Timepicker._addLeadingZero(this.minutes);\r\n        this._updateAmPmView();\r\n    }\r\n    resetClock(delay) {\r\n        var _a;\r\n        let view = this.currentView, value = this[view], isHours = view === 'hours', unit = Math.PI / (isHours ? 6 : 30), radian = value * unit, radius = isHours && value > 0 && value < 13 ? this.options.innerRadius : this.options.outerRadius, x = Math.sin(radian) * radius, y = -Math.cos(radian) * radius, self = this;\r\n        if (delay) {\r\n            (_a = this.canvas) === null || _a === void 0 ? void 0 : _a.classList.add('timepicker-canvas-out');\r\n            setTimeout(() => {\r\n                var _a;\r\n                (_a = self.canvas) === null || _a === void 0 ? void 0 : _a.classList.remove('timepicker-canvas-out');\r\n                self.setHand(x, y);\r\n            }, delay);\r\n        }\r\n        else {\r\n            this.setHand(x, y);\r\n        }\r\n    }\r\n    drawClockFromTimeInput(value, isHours) {\r\n        const unit = Math.PI / (isHours ? 6 : 30);\r\n        const radian = value * unit;\r\n        let radius;\r\n        if (this.options.twelveHour) {\r\n            radius = this.options.outerRadius;\r\n        }\r\n        let cx1 = Math.sin(radian) * (radius - this.options.tickRadius), cy1 = -Math.cos(radian) * (radius - this.options.tickRadius), cx2 = Math.sin(radian) * radius, cy2 = -Math.cos(radian) * radius;\r\n        this.hand.setAttribute('x2', cx1.toString());\r\n        this.hand.setAttribute('y2', cy1.toString());\r\n        this.bg.setAttribute('cx', cx2.toString());\r\n        this.bg.setAttribute('cy', cy2.toString());\r\n    }\r\n    setHand(x, y, roundBy5 = false) {\r\n        let radian = Math.atan2(x, -y), isHours = this.currentView === 'hours', unit = Math.PI / (isHours || roundBy5 ? 6 : 30), z = Math.sqrt(x * x + y * y), inner = isHours && z < (this.options.outerRadius + this.options.innerRadius) / 2, radius = inner ? this.options.innerRadius : this.options.outerRadius;\r\n        if (this.options.twelveHour) {\r\n            radius = this.options.outerRadius;\r\n        }\r\n        // Radian should in range [0, 2PI]\r\n        if (radian < 0) {\r\n            radian = Math.PI * 2 + radian;\r\n        }\r\n        // Get the round value\r\n        let value = Math.round(radian / unit);\r\n        // Get the round radian\r\n        radian = value * unit;\r\n        // Correct the hours or minutes\r\n        if (this.options.twelveHour) {\r\n            if (isHours) {\r\n                if (value === 0)\r\n                    value = 12;\r\n            }\r\n            else {\r\n                if (roundBy5)\r\n                    value *= 5;\r\n                if (value === 60)\r\n                    value = 0;\r\n            }\r\n        }\r\n        else {\r\n            if (isHours) {\r\n                if (value === 12) {\r\n                    value = 0;\r\n                }\r\n                value = inner ? (value === 0 ? 12 : value) : value === 0 ? 0 : value + 12;\r\n            }\r\n            else {\r\n                if (roundBy5) {\r\n                    value *= 5;\r\n                }\r\n                if (value === 60) {\r\n                    value = 0;\r\n                }\r\n            }\r\n        }\r\n        // Once hours or minutes changed, vibrate the device\r\n        if (this[this.currentView] !== value) {\r\n            if (this.vibrate && this.options.vibrate) {\r\n                // Do not vibrate too frequently\r\n                if (!this.vibrateTimer) {\r\n                    navigator[this.vibrate](10);\r\n                    this.vibrateTimer = setTimeout(() => {\r\n                        this.vibrateTimer = null;\r\n                    }, 100);\r\n                }\r\n            }\r\n        }\r\n        this[this.currentView] = value;\r\n        if (isHours) {\r\n            this.inputHours.value = value.toString();\r\n        }\r\n        else {\r\n            this.inputMinutes.value = Timepicker._addLeadingZero(value);\r\n        }\r\n        // Set clock hand and others' position\r\n        let cx1 = Math.sin(radian) * (radius - this.options.tickRadius), cy1 = -Math.cos(radian) * (radius - this.options.tickRadius), cx2 = Math.sin(radian) * radius, cy2 = -Math.cos(radian) * radius;\r\n        this.hand.setAttribute('x2', cx1.toString());\r\n        this.hand.setAttribute('y2', cy1.toString());\r\n        this.bg.setAttribute('cx', cx2.toString());\r\n        this.bg.setAttribute('cy', cy2.toString());\r\n    }\r\n}\r\nexports.Timepicker = Timepicker;\r\n(() => {\r\n    Timepicker._template = `\r\n      <div class=\"modal timepicker-modal\">\r\n        <div class=\"modal-content timepicker-container\">\r\n          <div class=\"timepicker-digital-display\">\r\n            <div class=\"timepicker-text-container\">\r\n              <div class=\"timepicker-display-column\">\r\n                <input type=\"text\" maxlength=\"2\" autofocus class=\"timepicker-input-hours text-primary\" />\r\n                :\r\n                <input type=\"text\" maxlength=\"2\" class=\"timepicker-input-minutes\" />\r\n              </div>\r\n              <div class=\"timepicker-display-column timepicker-display-am-pm\">\r\n                <div class=\"timepicker-span-am-pm\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"timepicker-analog-display\">\r\n            <div class=\"timepicker-plate\">\r\n              <div class=\"timepicker-canvas\"></div>\r\n              <div class=\"timepicker-dial timepicker-hours\"></div>\r\n              <div class=\"timepicker-dial timepicker-minutes timepicker-dial-out\"></div>\r\n            </div>\r\n            <div class=\"timepicker-footer\"></div>\r\n          </div>\r\n        </div>\r\n      </div`;\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QzFDO2FBQ0k7WUFDSCxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzdEO1FBRUQsc0NBQXNDO1FBQ3RDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFDN0QsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUM1RCxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLEVBQy9CLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsTUFBTSxDQUFDO1FBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUM3QyxDQUFDO0NBd0VGO0FBNXJCRCxnQ0E0ckJDO0FBM0JDO0lBQ0UsVUFBVSxDQUFDLFNBQVMsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBd0JmLENBQUM7QUFDWCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL3RpbWVwaWNrZXIudHM/NDBjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RhbCB9IGZyb20gXCIuL21vZGFsXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBCYXNlT3B0aW9ucywgSW5pdEVsZW1lbnRzLCBNRWxlbWVudCwgSTE4bk9wdGlvbnMgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFZpZXdzID0gXCJob3Vyc1wiIHwgXCJtaW51dGVzXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVwaWNrZXJPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge1xyXG4gIC8qKlxyXG4gICAqIERpYWwgcmFkaXVzLlxyXG4gICAqIEBkZWZhdWx0IDEzNVxyXG4gICAqL1xyXG4gIGRpYWxSYWRpdXM6IG51bWJlcjtcclxuICAvKipcclxuICAgKiBPdXRlciByYWRpdXMuXHJcbiAgICogQGRlZmF1bHQgMTA1XHJcbiAgICovXHJcbiAgb3V0ZXJSYWRpdXM6IG51bWJlcjtcclxuICAvKipcclxuICAgKiBJbm5lciByYWRpdXMuXHJcbiAgICogQGRlZmF1bHQgNzBcclxuICAgKi9cclxuICBpbm5lclJhZGl1czogbnVtYmVyO1xyXG4gIC8qKlxyXG4gICAqIFRpY2sgcmFkaXVzLlxyXG4gICAqIEBkZWZhdWx0IDIwXHJcbiAgICovXHJcbiAgdGlja1JhZGl1czogbnVtYmVyO1xyXG4gIC8qKlxyXG4gICAqIER1cmF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uIGZyb20vdG8gdGhlIGhvdXJzL21pbnV0ZXMgdmlldy5cclxuICAgKiBAZGVmYXVsdCAzNTBcclxuICAgKi9cclxuICBkdXJhdGlvbjogbnVtYmVyO1xyXG4gIC8qKlxyXG4gICAqIFNwZWNpZnkgYSBET00gZWxlbWVudCBPUiBzZWxlY3RvciBmb3IgYSBET00gZWxlbWVudCB0byByZW5kZXJcclxuICAgKiB0aGUgdGltZSBwaWNrZXIgaW4sIGJ5IGRlZmF1bHQgaXQgd2lsbCBiZSBwbGFjZWQgYmVmb3JlIHRoZSBpbnB1dC5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IHN0cmluZyB8IG51bGw7XHJcbiAgLyoqXHJcbiAgICogU2hvdyB0aGUgY2xlYXIgYnV0dG9uIGluIHRoZSBUaW1lcGlja2VyLlxyXG4gICAqIEBkZWZhdWx0IGZhbHNlXHJcbiAgICovXHJcbiAgc2hvd0NsZWFyQnRuOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIERlZmF1bHQgdGltZSB0byBzZXQgb24gdGhlIHRpbWVwaWNrZXIgJ25vdycgb3IgJzEzOjE0Jy5cclxuICAgKiBAZGVmYXVsdCAnbm93JztcclxuICAgKi9cclxuICBkZWZhdWx0VGltZTogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIE1pbGxpc2Vjb25kIG9mZnNldCBmcm9tIHRoZSBkZWZhdWx0VGltZS5cclxuICAgKiBAZGVmYXVsdCAwXHJcbiAgICovXHJcbiAgZnJvbU5vdzogbnVtYmVyO1xyXG4gIC8qKlxyXG4gICAqIEludGVybmF0aW9uYWxpemF0aW9uIG9wdGlvbnMuXHJcbiAgICovXHJcbiAgaTE4bjogUGFydGlhbDxJMThuT3B0aW9ucz47XHJcbiAgLyoqXHJcbiAgICogQXV0b21hdGljYWxseSBjbG9zZSBwaWNrZXIgd2hlbiBtaW51dGUgaXMgc2VsZWN0ZWQuXHJcbiAgICogQGRlZmF1bHQgZmFsc2U7XHJcbiAgICovXHJcbiAgYXV0b0Nsb3NlOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIFVzZSAxMiBob3VyIEFNL1BNIGNsb2NrIGluc3RlYWQgb2YgMjQgaG91ciBjbG9jay5cclxuICAgKiBAZGVmYXVsdCB0cnVlXHJcbiAgICovXHJcbiAgdHdlbHZlSG91cjogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBWaWJyYXRlIGRldmljZSB3aGVuIGRyYWdnaW5nIGNsb2NrIGhhbmQuXHJcbiAgICogQGRlZmF1bHQgdHJ1ZVxyXG4gICAqL1xyXG4gIHZpYnJhdGU6IGJvb2xlYW47XHJcbiAgLyoqXHJcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGJlZm9yZSBtb2RhbCBpcyBvcGVuZWQuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uT3BlblN0YXJ0OiAoZWw6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBhZnRlciBtb2RhbCBpcyBvcGVuZWQuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uT3BlbkVuZDogKGVsOiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcclxuICAvKipcclxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYmVmb3JlIG1vZGFsIGlzIGNsb3NlZC5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgb25DbG9zZVN0YXJ0OiAoZWw6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBhZnRlciBtb2RhbCBpcyBjbG9zZWQuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uQ2xvc2VFbmQ6IChlbDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XHJcbiAgLyoqXHJcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gd2hlbiBhIHRpbWUgaXMgc2VsZWN0ZWQuXHJcbiAgICogQGRlZmF1bHQgbnVsbFxyXG4gICAqL1xyXG4gIG9uU2VsZWN0OiAoaG91cjogbnVtYmVyLCBtaW51dGU6IG51bWJlcikgPT4gdm9pZDtcclxufVxyXG5cclxubGV0IF9kZWZhdWx0czogVGltZXBpY2tlck9wdGlvbnMgPSB7XHJcbiAgZGlhbFJhZGl1czogMTM1LFxyXG4gIG91dGVyUmFkaXVzOiAxMDUsXHJcbiAgaW5uZXJSYWRpdXM6IDcwLFxyXG4gIHRpY2tSYWRpdXM6IDIwLFxyXG4gIGR1cmF0aW9uOiAzNTAsXHJcbiAgY29udGFpbmVyOiBudWxsLFxyXG4gIGRlZmF1bHRUaW1lOiAnbm93JywgLy8gZGVmYXVsdCB0aW1lLCAnbm93JyBvciAnMTM6MTQnIGUuZy5cclxuICBmcm9tTm93OiAwLCAvLyBNaWxsaXNlY29uZCBvZmZzZXQgZnJvbSB0aGUgZGVmYXVsdFRpbWVcclxuICBzaG93Q2xlYXJCdG46IGZhbHNlLFxyXG4gIC8vIGludGVybmF0aW9uYWxpemF0aW9uXHJcbiAgaTE4bjoge1xyXG4gICAgY2FuY2VsOiAnQ2FuY2VsJyxcclxuICAgIGNsZWFyOiAnQ2xlYXInLFxyXG4gICAgZG9uZTogJ09rJ1xyXG4gIH0sXHJcbiAgYXV0b0Nsb3NlOiBmYWxzZSwgLy8gYXV0byBjbG9zZSB3aGVuIG1pbnV0ZSBpcyBzZWxlY3RlZFxyXG4gIHR3ZWx2ZUhvdXI6IHRydWUsIC8vIGNoYW5nZSB0byAxMiBob3VyIEFNL1BNIGNsb2NrIGZyb20gMjQgaG91clxyXG4gIHZpYnJhdGU6IHRydWUsIC8vIHZpYnJhdGUgdGhlIGRldmljZSB3aGVuIGRyYWdnaW5nIGNsb2NrIGhhbmRcclxuICAvLyBDYWxsYmFja3NcclxuICBvbk9wZW5TdGFydDogbnVsbCxcclxuICBvbk9wZW5FbmQ6IG51bGwsXHJcbiAgb25DbG9zZVN0YXJ0OiBudWxsLFxyXG4gIG9uQ2xvc2VFbmQ6IG51bGwsXHJcbiAgb25TZWxlY3Q6IG51bGxcclxufTtcclxuXHJcbnR5cGUgUG9pbnQgPSB7XHJcbiAgeDogbnVtYmVyLFxyXG4gIHk6IG51bWJlclxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFRpbWVwaWNrZXIgZXh0ZW5kcyBDb21wb25lbnQ8VGltZXBpY2tlck9wdGlvbnM+IHtcclxuICBkZWNsYXJlIGVsOiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbW9kYWw6IE1vZGFsO1xyXG4gIG1vZGFsRWw6IEhUTUxFbGVtZW50O1xyXG4gIHBsYXRlOiBhbnk7XHJcbiAgZGlnaXRhbENsb2NrOiBhbnk7XHJcbiAgaW5wdXRIb3VyczogSFRNTElucHV0RWxlbWVudDtcclxuICBpbnB1dE1pbnV0ZXM6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgeDA6IG51bWJlcjtcclxuICB5MDogbnVtYmVyO1xyXG4gIG1vdmVkOiBib29sZWFuO1xyXG4gIGR4OiBudW1iZXI7XHJcbiAgZHk6IG51bWJlcjtcclxuICAvKipcclxuICAgKiBDdXJyZW50IHZpZXcgb24gdGhlIHRpbWVwaWNrZXIuXHJcbiAgICogQGRlZmF1bHQgJ2hvdXJzJ1xyXG4gICAqL1xyXG4gIGN1cnJlbnRWaWV3OiBWaWV3cztcclxuICBoYW5kOiBhbnk7XHJcbiAgbWludXRlc1ZpZXc6IEhUTUxFbGVtZW50O1xyXG4gIGhvdXJzOiBhbnk7XHJcbiAgbWludXRlczogYW55O1xyXG4gIC8qKiBUaGUgc2VsZWN0ZWQgdGltZS4gKi9cclxuICB0aW1lOiBzdHJpbmc7XHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIHRpbWUgaXMgQU0gb3IgUE0gb24gdHdlbHZlLWhvdXIgY2xvY2suXHJcbiAgICogQGRlZmF1bHQgJ1BNJ1xyXG4gICAqL1xyXG4gIGFtT3JQbTogXCJBTVwiIHwgXCJQTVwiO1xyXG4gIHN0YXRpYyBfdGVtcGxhdGU6IGFueTtcclxuICAvKiogSWYgdGhlIHBpY2tlciBpcyBvcGVuLiAqL1xyXG4gIGlzT3BlbjogYm9vbGVhbjtcclxuICAvKiogVmlicmF0ZSBkZXZpY2Ugd2hlbiBkcmFnZ2luZyBjbG9jayBoYW5kLiAqL1xyXG4gIHZpYnJhdGU6IFwidmlicmF0ZVwiIHwgXCJ3ZWJraXRWaWJyYXRlXCIgfCBudWxsO1xyXG4gIF9jYW52YXM6IEhUTUxFbGVtZW50O1xyXG4gIGhvdXJzVmlldzogYW55O1xyXG4gIHNwYW5BbVBtOiBIVE1MU3BhbkVsZW1lbnQ7XHJcbiAgZm9vdGVyOiBIVE1MRWxlbWVudDtcclxuICBwcml2YXRlIF9hbUJ0bjogSFRNTEVsZW1lbnQ7XHJcbiAgcHJpdmF0ZSBfcG1CdG46IEhUTUxFbGVtZW50O1xyXG4gIGJnOiBFbGVtZW50O1xyXG4gIGJlYXJpbmc6IEVsZW1lbnQ7XHJcbiAgZzogRWxlbWVudDtcclxuICB0b2dnbGVWaWV3VGltZXI6IHN0cmluZyB8IG51bWJlciB8IE5vZGVKUy5UaW1lb3V0O1xyXG4gIGNhbnZhczogYW55O1xyXG4gIHZpYnJhdGVUaW1lcjogYW55O1xyXG5cclxuICBjb25zdHJ1Y3RvcihlbDogSFRNTElucHV0RWxlbWVudCwgb3B0aW9uczogUGFydGlhbDxUaW1lcGlja2VyT3B0aW9ucz4pIHtcclxuICAgIHN1cGVyKGVsLCBvcHRpb25zLCBUaW1lcGlja2VyKTtcclxuICAgICh0aGlzLmVsIGFzIGFueSkuTV9UaW1lcGlja2VyID0gdGhpcztcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMgPSB7XHJcbiAgICAgIC4uLlRpbWVwaWNrZXIuZGVmYXVsdHMsXHJcbiAgICAgIC4uLm9wdGlvbnNcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pZCA9IFV0aWxzLmd1aWQoKTtcclxuICAgIHRoaXMuX2luc2VydEhUTUxJbnRvRE9NKCk7XHJcbiAgICB0aGlzLl9zZXR1cE1vZGFsKCk7XHJcbiAgICB0aGlzLl9zZXR1cFZhcmlhYmxlcygpO1xyXG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB0aGlzLl9jbG9ja1NldHVwKCk7XHJcbiAgICB0aGlzLl9waWNrZXJTZXR1cCgpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBkZWZhdWx0cygpOiBUaW1lcGlja2VyT3B0aW9ucyB7XHJcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgVGltZXBpY2tlci5cclxuICAgKiBAcGFyYW0gZWwgSFRNTCBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsOiBIVE1MSW5wdXRFbGVtZW50LCBvcHRpb25zPzogUGFydGlhbDxUaW1lcGlja2VyT3B0aW9ucz4pOiBUaW1lcGlja2VyO1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBUaW1lcGlja2VyLlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbHM6IEluaXRFbGVtZW50czxIVE1MSW5wdXRFbGVtZW50IHwgTUVsZW1lbnQ+LCBvcHRpb25zPzogUGFydGlhbDxUaW1lcGlja2VyT3B0aW9ucz4pOiBUaW1lcGlja2VyW107XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFRpbWVwaWNrZXIuXHJcbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsczogSFRNTElucHV0RWxlbWVudCB8IEluaXRFbGVtZW50czxIVE1MSW5wdXRFbGVtZW50IHwgTUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPFRpbWVwaWNrZXJPcHRpb25zPiA9IHt9KTogVGltZXBpY2tlciB8IFRpbWVwaWNrZXJbXSB7XHJcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIFRpbWVwaWNrZXIpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIF9hZGRMZWFkaW5nWmVybyhudW06IG51bWJlcikge1xyXG4gICAgcmV0dXJuIChudW0gPCAxMCA/ICcwJyA6ICcnKSArIG51bTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBfY3JlYXRlU1ZHRWwobmFtZTogc3RyaW5nKSB7XHJcbiAgICBsZXQgc3ZnTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgbmFtZSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgX1BvcyhlOiBUb3VjaEV2ZW50IHwgTW91c2VFdmVudCk6IFBvaW50IHtcclxuICAgIGlmIChlLnR5cGUuc3RhcnRzV2l0aChcInRvdWNoXCIpICYmIChlIGFzIFRvdWNoRXZlbnQpLnRhcmdldFRvdWNoZXMubGVuZ3RoID49IDEpIHtcclxuICAgICAgcmV0dXJuIHsgeDogKGUgYXMgVG91Y2hFdmVudCkudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYLCB5OiAoZSBhcyBUb3VjaEV2ZW50KS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFkgfTtcclxuICAgIH1cclxuICAgIC8vIG1vdXNlIGV2ZW50XHJcbiAgICByZXR1cm4geyB4OiAoZSBhcyBNb3VzZUV2ZW50KS5jbGllbnRYLCB5OiAoZSBhcyBNb3VzZUV2ZW50KS5jbGllbnRZIH07XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxFbGVtZW50KTogVGltZXBpY2tlciB7XHJcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9UaW1lcGlja2VyO1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcclxuICAgIHRoaXMubW9kYWwuZGVzdHJveSgpO1xyXG4gICAgdGhpcy5tb2RhbEVsLnJlbW92ZSgpO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1RpbWVwaWNrZXIgPSB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2spO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duKTtcclxuICAgIHRoaXMucGxhdGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2xvY2tDbGlja1N0YXJ0KTtcclxuICAgIHRoaXMucGxhdGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZUNsb2NrQ2xpY2tTdGFydCk7XHJcbiAgICB0aGlzLmRpZ2l0YWxDbG9jay5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2lucHV0RnJvbVRleHRGaWVsZCk7XHJcbiAgICB0aGlzLmlucHV0SG91cnMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnNob3dWaWV3KCdob3VycycpKTtcclxuICAgIHRoaXMuaW5wdXRNaW51dGVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zaG93VmlldygnbWludXRlcycpKTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2spO1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVJbnB1dENsaWNrID0gKCkgPT4ge1xyXG4gICAgdGhpcy5vcGVuKCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlSW5wdXRLZXlkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgIGlmIChVdGlscy5rZXlzLkVOVEVSLmluY2x1ZGVzKGUua2V5KSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMub3BlbigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVRpbWVJbnB1dEVudGVyS2V5ID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgIGlmIChVdGlscy5rZXlzLkVOVEVSLmluY2x1ZGVzKGUua2V5KSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2lucHV0RnJvbVRleHRGaWVsZCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUNsb2NrQ2xpY2tTdGFydCA9IChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBsZXQgY2xvY2tQbGF0ZUJSID0gdGhpcy5wbGF0ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGxldCBvZmZzZXQgPSB7IHg6IGNsb2NrUGxhdGVCUi5sZWZ0LCB5OiBjbG9ja1BsYXRlQlIudG9wIH07XHJcblxyXG4gICAgdGhpcy54MCA9IG9mZnNldC54ICsgdGhpcy5vcHRpb25zLmRpYWxSYWRpdXM7XHJcbiAgICB0aGlzLnkwID0gb2Zmc2V0LnkgKyB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cztcclxuICAgIHRoaXMubW92ZWQgPSBmYWxzZTtcclxuICAgIGxldCBjbGlja1BvcyA9IFRpbWVwaWNrZXIuX1BvcyhlKTtcclxuICAgIHRoaXMuZHggPSBjbGlja1Bvcy54IC0gdGhpcy54MDtcclxuICAgIHRoaXMuZHkgPSBjbGlja1Bvcy55IC0gdGhpcy55MDtcclxuXHJcbiAgICAvLyBTZXQgY2xvY2sgaGFuZHNcclxuICAgIHRoaXMuc2V0SGFuZCh0aGlzLmR4LCB0aGlzLmR5LCBmYWxzZSk7XHJcbiAgICAvLyBNb3VzZW1vdmUgb24gZG9jdW1lbnRcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlKTtcclxuICAgIC8vIE1vdXNldXAgb24gZG9jdW1lbnRcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrRW5kKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0VuZCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRG9jdW1lbnRDbGlja01vdmUgPSAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbGV0IGNsaWNrUG9zID0gVGltZXBpY2tlci5fUG9zKGUpO1xyXG4gICAgbGV0IHggPSBjbGlja1Bvcy54IC0gdGhpcy54MDtcclxuICAgIGxldCB5ID0gY2xpY2tQb3MueSAtIHRoaXMueTA7XHJcbiAgICB0aGlzLm1vdmVkID0gdHJ1ZTtcclxuICAgIHRoaXMuc2V0SGFuZCh4LCB5LCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRG9jdW1lbnRDbGlja0VuZCA9IChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0VuZCk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tFbmQpO1xyXG4gICAgbGV0IGNsaWNrUG9zID0gVGltZXBpY2tlci5fUG9zKGUpO1xyXG4gICAgbGV0IHggPSBjbGlja1Bvcy54IC0gdGhpcy54MDtcclxuICAgIGxldCB5ID0gY2xpY2tQb3MueSAtIHRoaXMueTA7XHJcbiAgICBpZiAodGhpcy5tb3ZlZCAmJiB4ID09PSB0aGlzLmR4ICYmIHkgPT09IHRoaXMuZHkpIHtcclxuICAgICAgdGhpcy5zZXRIYW5kKHgsIHkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuY3VycmVudFZpZXcgPT09ICdob3VycycpIHtcclxuICAgICAgdGhpcy5zaG93VmlldygnbWludXRlcycsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAvIDIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLmF1dG9DbG9zZSkge1xyXG4gICAgICB0aGlzLm1pbnV0ZXNWaWV3LmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItZGlhbC1vdXQnKTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kb25lKCk7XHJcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAvIDIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TZWxlY3QgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgdGhpcy5vcHRpb25zLm9uU2VsZWN0LmNhbGwodGhpcywgdGhpcy5ob3VycywgdGhpcy5taW51dGVzKTtcclxuICAgIH1cclxuICAgIC8vIFVuYmluZCBtb3VzZW1vdmUgZXZlbnRcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tNb3ZlKTtcclxuICB9XHJcblxyXG4gIF9pbnNlcnRIVE1MSW50b0RPTSgpIHtcclxuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcclxuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IFRpbWVwaWNrZXIuX3RlbXBsYXRlLnRyaW0oKTtcclxuICAgIHRoaXMubW9kYWxFbCA9IDxIVE1MRWxlbWVudD50ZW1wbGF0ZS5jb250ZW50LmZpcnN0Q2hpbGQ7XHJcbiAgICB0aGlzLm1vZGFsRWwuaWQgPSAnbW9kYWwtJyArIHRoaXMuaWQ7XHJcblxyXG4gICAgLy8gQXBwZW5kIHBvcG92ZXIgdG8gaW5wdXQgYnkgZGVmYXVsdFxyXG4gICAgY29uc3Qgb3B0RWwgPSB0aGlzLm9wdGlvbnMuY29udGFpbmVyO1xyXG4gICAgY29uc3QgY29udGFpbmVyRWwgPSBvcHRFbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gb3B0RWwgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdEVsKTtcclxuXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRhaW5lciAmJiAhIWNvbnRhaW5lckVsKSB7XHJcbiAgICAgIGNvbnRhaW5lckVsLmFwcGVuZCh0aGlzLm1vZGFsRWwpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuZWwucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsRWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldHVwTW9kYWwoKSB7XHJcbiAgICB0aGlzLm1vZGFsID0gTW9kYWwuaW5pdCh0aGlzLm1vZGFsRWwsIHtcclxuICAgICAgb25PcGVuU3RhcnQ6IHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCxcclxuICAgICAgb25PcGVuRW5kOiB0aGlzLm9wdGlvbnMub25PcGVuRW5kLFxyXG4gICAgICBvbkNsb3NlU3RhcnQ6IHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQsXHJcbiAgICAgIG9uQ2xvc2VFbmQ6ICgpID0+IHtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9zZXR1cFZhcmlhYmxlcygpIHtcclxuICAgIHRoaXMuY3VycmVudFZpZXcgPSAnaG91cnMnO1xyXG4gICAgdGhpcy52aWJyYXRlID0gbmF2aWdhdG9yLnZpYnJhdGVcclxuICAgICAgPyAndmlicmF0ZSdcclxuICAgICAgOiAobmF2aWdhdG9yIGFzIGFueSkud2Via2l0VmlicmF0ZVxyXG4gICAgICA/ICd3ZWJraXRWaWJyYXRlJ1xyXG4gICAgICA6IG51bGw7XHJcbiAgICB0aGlzLl9jYW52YXMgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItY2FudmFzJyk7XHJcbiAgICB0aGlzLnBsYXRlID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLXBsYXRlJyk7XHJcbiAgICB0aGlzLmRpZ2l0YWxDbG9jayA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1kaXNwbGF5LWNvbHVtbicpO1xyXG4gICAgdGhpcy5ob3Vyc1ZpZXcgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItaG91cnMnKTtcclxuICAgIHRoaXMubWludXRlc1ZpZXcgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItbWludXRlcycpO1xyXG4gICAgdGhpcy5pbnB1dEhvdXJzID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLWlucHV0LWhvdXJzJyk7XHJcbiAgICB0aGlzLmlucHV0TWludXRlcyA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1pbnB1dC1taW51dGVzJyk7XHJcbiAgICB0aGlzLnNwYW5BbVBtID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLXNwYW4tYW0tcG0nKTtcclxuICAgIHRoaXMuZm9vdGVyID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLWZvb3RlcicpO1xyXG4gICAgdGhpcy5hbU9yUG0gPSAnUE0nO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfY3JlYXRlQnV0dG9uKHRleHQ6IHN0cmluZywgdmlzaWJpbGl0eTogc3RyaW5nKTogSFRNTEJ1dHRvbkVsZW1lbnQge1xyXG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYnRuLWZsYXQnLCAnd2F2ZXMtZWZmZWN0Jyk7XHJcbiAgICBidXR0b24uc3R5bGUudmlzaWJpbGl0eSA9IHZpc2liaWxpdHk7XHJcbiAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xyXG4gICAgYnV0dG9uLnRhYkluZGV4ID0gdGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIgPyAzIDogMTtcclxuICAgIGJ1dHRvbi5pbm5lclRleHQgPSB0ZXh0O1xyXG4gICAgcmV0dXJuIGJ1dHRvbjtcclxuICB9XHJcblxyXG4gIF9waWNrZXJTZXR1cCgpIHtcclxuICAgIGNvbnN0IGNsZWFyQnV0dG9uID0gdGhpcy5fY3JlYXRlQnV0dG9uKHRoaXMub3B0aW9ucy5pMThuLmNsZWFyLCB0aGlzLm9wdGlvbnMuc2hvd0NsZWFyQnRuID8gJycgOiAnaGlkZGVuJyk7XHJcbiAgICBjbGVhckJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0aW1lcGlja2VyLWNsZWFyJyk7XHJcbiAgICBjbGVhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xlYXIpO1xyXG4gICAgdGhpcy5mb290ZXIuYXBwZW5kQ2hpbGQoY2xlYXJCdXR0b24pO1xyXG5cclxuICAgIGNvbnN0IGNvbmZpcm1hdGlvbkJ0bnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbmZpcm1hdGlvbkJ0bnNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY29uZmlybWF0aW9uLWJ0bnMnKTtcclxuICAgIHRoaXMuZm9vdGVyLmFwcGVuZChjb25maXJtYXRpb25CdG5zQ29udGFpbmVyKTtcclxuXHJcbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24odGhpcy5vcHRpb25zLmkxOG4uY2FuY2VsLCAnJyk7XHJcbiAgICBjYW5jZWxCdXR0b24uY2xhc3NMaXN0LmFkZCgndGltZXBpY2tlci1jbG9zZScpO1xyXG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZSk7XHJcbiAgICBjb25maXJtYXRpb25CdG5zQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhbmNlbEJ1dHRvbik7XHJcblxyXG4gICAgY29uc3QgZG9uZUJ1dHRvbiA9IHRoaXMuX2NyZWF0ZUJ1dHRvbih0aGlzLm9wdGlvbnMuaTE4bi5kb25lLCAnJyk7XHJcbiAgICBkb25lQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItY2xvc2UnKTtcclxuICAgIGRvbmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRvbmUpO1xyXG4gICAgY29uZmlybWF0aW9uQnRuc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkb25lQnV0dG9uKTtcclxuICB9XHJcblxyXG4gIF9jbG9ja1NldHVwKCkge1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XHJcbiAgICAgIC8vIEFNIEJ1dHRvblxyXG4gICAgICB0aGlzLl9hbUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICB0aGlzLl9hbUJ0bi5jbGFzc0xpc3QuYWRkKCdhbS1idG4nKTtcclxuICAgICAgdGhpcy5fYW1CdG4uaW5uZXJUZXh0ID0gJ0FNJztcclxuICAgICAgdGhpcy5fYW1CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVBbVBtQ2xpY2spO1xyXG4gICAgICB0aGlzLnNwYW5BbVBtLmFwcGVuZENoaWxkKHRoaXMuX2FtQnRuKTtcclxuICAgICAgLy8gUE0gQnV0dG9uXHJcbiAgICAgIHRoaXMuX3BtQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHRoaXMuX3BtQnRuLmNsYXNzTGlzdC5hZGQoJ3BtLWJ0bicpO1xyXG4gICAgICB0aGlzLl9wbUJ0bi5pbm5lclRleHQgPSAnUE0nO1xyXG4gICAgICB0aGlzLl9wbUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUFtUG1DbGljayk7XHJcbiAgICAgIHRoaXMuc3BhbkFtUG0uYXBwZW5kQ2hpbGQodGhpcy5fcG1CdG4pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fYnVpbGRIb3Vyc1ZpZXcoKTtcclxuICAgIHRoaXMuX2J1aWxkTWludXRlc1ZpZXcoKTtcclxuICAgIHRoaXMuX2J1aWxkU1ZHQ2xvY2soKTtcclxuICB9XHJcblxyXG4gIF9idWlsZFNWR0Nsb2NrKCkge1xyXG4gICAgLy8gRHJhdyBjbG9jayBoYW5kcyBhbmQgb3RoZXJzXHJcbiAgICBsZXQgZGlhbFJhZGl1cyA9IHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzO1xyXG4gICAgbGV0IHRpY2tSYWRpdXMgPSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cztcclxuICAgIGxldCBkaWFtZXRlciA9IGRpYWxSYWRpdXMgKiAyO1xyXG4gICAgbGV0IHN2ZyA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdzdmcnKTtcclxuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpbWVwaWNrZXItc3ZnJyk7XHJcbiAgICBzdmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGRpYW1ldGVyLnRvU3RyaW5nKCkpO1xyXG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgZGlhbWV0ZXIudG9TdHJpbmcoKSk7XHJcbiAgICBsZXQgZyA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdnJyk7XHJcbiAgICBnLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgZGlhbFJhZGl1cyArICcsJyArIGRpYWxSYWRpdXMgKyAnKScpO1xyXG4gICAgbGV0IGJlYXJpbmcgPSBUaW1lcGlja2VyLl9jcmVhdGVTVkdFbCgnY2lyY2xlJyk7XHJcbiAgICBiZWFyaW5nLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGltZXBpY2tlci1jYW52YXMtYmVhcmluZycpO1xyXG4gICAgYmVhcmluZy5zZXRBdHRyaWJ1dGUoJ2N4JywgJzAnKTtcclxuICAgIGJlYXJpbmcuc2V0QXR0cmlidXRlKCdjeScsICcwJyk7XHJcbiAgICBiZWFyaW5nLnNldEF0dHJpYnV0ZSgncicsICc0Jyk7XHJcbiAgICBsZXQgaGFuZCA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdsaW5lJyk7XHJcbiAgICBoYW5kLnNldEF0dHJpYnV0ZSgneDEnLCAnMCcpO1xyXG4gICAgaGFuZC5zZXRBdHRyaWJ1dGUoJ3kxJywgJzAnKTtcclxuICAgIGxldCBiZyA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdjaXJjbGUnKTtcclxuICAgIGJnLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGltZXBpY2tlci1jYW52YXMtYmcnKTtcclxuICAgIGJnLnNldEF0dHJpYnV0ZSgncicsIHRpY2tSYWRpdXMudG9TdHJpbmcoKSk7XHJcbiAgICBnLmFwcGVuZENoaWxkKGhhbmQpO1xyXG4gICAgZy5hcHBlbmRDaGlsZChiZyk7XHJcbiAgICBnLmFwcGVuZENoaWxkKGJlYXJpbmcpO1xyXG4gICAgc3ZnLmFwcGVuZENoaWxkKGcpO1xyXG4gICAgdGhpcy5fY2FudmFzLmFwcGVuZENoaWxkKHN2Zyk7XHJcbiAgICB0aGlzLmhhbmQgPSBoYW5kO1xyXG4gICAgdGhpcy5iZyA9IGJnO1xyXG4gICAgdGhpcy5iZWFyaW5nID0gYmVhcmluZztcclxuICAgIHRoaXMuZyA9IGc7XHJcbiAgfVxyXG5cclxuICBfYnVpbGRIb3Vyc1ZpZXcoKSB7XHJcbiAgICBjb25zdCAkdGljayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgJHRpY2suY2xhc3NMaXN0LmFkZCgndGltZXBpY2tlci10aWNrJyk7XHJcbiAgICAvLyBIb3VycyB2aWV3XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIpIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCAxMzsgaSArPSAxKSB7XHJcbiAgICAgICAgY29uc3QgdGljayA9IDxIVE1MRWxlbWVudD4kdGljay5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgY29uc3QgcmFkaWFuID0gKGkgLyA2KSAqIE1hdGguUEk7XHJcbiAgICAgICAgY29uc3QgcmFkaXVzID0gdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzO1xyXG4gICAgICAgIHRpY2suc3R5bGUubGVmdCA9IHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzICsgTWF0aC5zaW4ocmFkaWFuKSAqIHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICsgJ3B4JztcclxuICAgICAgICB0aWNrLnN0eWxlLnRvcCA9IHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzIC0gTWF0aC5jb3MocmFkaWFuKSAqIHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICsgJ3B4JztcclxuICAgICAgICB0aWNrLmlubmVySFRNTCA9IGkgPT09IDAgPyAnMDAnIDogaS50b1N0cmluZygpO1xyXG4gICAgICAgIHRoaXMuaG91cnNWaWV3LmFwcGVuZENoaWxkKHRpY2spO1xyXG4gICAgICAgIC8vIHRpY2sub24obW91c2Vkb3duRXZlbnQsIG1vdXNlZG93bik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI0OyBpICs9IDEpIHtcclxuICAgICAgICBjb25zdCB0aWNrID0gPEhUTUxFbGVtZW50PiR0aWNrLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICBjb25zdCByYWRpYW4gPSAoaSAvIDYpICogTWF0aC5QSTtcclxuICAgICAgICBjb25zdCBpbm5lciA9IGkgPiAwICYmIGkgPCAxMztcclxuICAgICAgICBjb25zdCByYWRpdXMgPSBpbm5lciA/IHRoaXMub3B0aW9ucy5pbm5lclJhZGl1cyA6IHRoaXMub3B0aW9ucy5vdXRlclJhZGl1cztcclxuICAgICAgICB0aWNrLnN0eWxlLmxlZnQgPSB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cyArIE1hdGguc2luKHJhZGlhbikgKiByYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArICdweCc7XHJcbiAgICAgICAgdGljay5zdHlsZS50b3AgPSB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cyAtIE1hdGguY29zKHJhZGlhbikgKiByYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArICdweCc7XHJcbiAgICAgICAgdGljay5pbm5lckhUTUwgPSBpID09PSAwID8gJzAwJyA6IGkudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLmhvdXJzVmlldy5hcHBlbmRDaGlsZCh0aWNrKTtcclxuICAgICAgICAvLyB0aWNrLm9uKG1vdXNlZG93bkV2ZW50LCBtb3VzZWRvd24pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfYnVpbGRNaW51dGVzVmlldygpIHtcclxuICAgIGNvbnN0IF90aWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBfdGljay5jbGFzc0xpc3QuYWRkKCd0aW1lcGlja2VyLXRpY2snKTtcclxuICAgIC8vIE1pbnV0ZXMgdmlld1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2MDsgaSArPSA1KSB7XHJcbiAgICAgIGNvbnN0IHRpY2sgPSA8SFRNTEVsZW1lbnQ+X3RpY2suY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICBjb25zdCByYWRpYW4gPSAoaSAvIDMwKSAqIE1hdGguUEk7XHJcbiAgICAgIHRpY2suc3R5bGUubGVmdCA9XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgK1xyXG4gICAgICAgIE1hdGguc2luKHJhZGlhbikgKiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMgLVxyXG4gICAgICAgIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICtcclxuICAgICAgICAncHgnO1xyXG4gICAgICB0aWNrLnN0eWxlLnRvcCA9XHJcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cyAtXHJcbiAgICAgICAgICBNYXRoLmNvcyhyYWRpYW4pICogdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzIC1cclxuICAgICAgICAgIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICtcclxuICAgICAgICAgICdweCc7XHJcbiAgICAgIHRpY2suaW5uZXJIVE1MID0gVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8oaSk7XHJcbiAgICAgIHRoaXMubWludXRlc1ZpZXcuYXBwZW5kQ2hpbGQodGljayk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQW1QbUNsaWNrID0gKGUpID0+IHtcclxuICAgIGNvbnN0IGJ0bkNsaWNrZWQgPSA8SFRNTEVsZW1lbnQ+ZS50YXJnZXQ7XHJcbiAgICB0aGlzLmFtT3JQbSA9IGJ0bkNsaWNrZWQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbS1idG4nKSA/ICdBTScgOiAnUE0nO1xyXG4gICAgdGhpcy5fdXBkYXRlQW1QbVZpZXcoKTtcclxuICB9XHJcblxyXG4gIF91cGRhdGVBbVBtVmlldygpIHtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xyXG4gICAgICBpZiAodGhpcy5hbU9yUG0gPT09ICdQTScpIHtcclxuICAgICAgICB0aGlzLl9hbUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LXByaW1hcnknKTtcclxuICAgICAgICB0aGlzLl9wbUJ0bi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXByaW1hcnknKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICh0aGlzLmFtT3JQbSA9PT0gJ0FNJykge1xyXG4gICAgICAgIHRoaXMuX2FtQnRuLmNsYXNzTGlzdC5hZGQoJ3RleHQtcHJpbWFyeScpO1xyXG4gICAgICAgIHRoaXMuX3BtQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtcHJpbWFyeScpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlVGltZUZyb21JbnB1dCgpIHtcclxuICAgIC8vIEdldCB0aGUgdGltZVxyXG4gICAgbGV0IHZhbHVlID0gKCh0aGlzLmVsLnZhbHVlIHx8IHRoaXMub3B0aW9ucy5kZWZhdWx0VGltZSB8fCAnJykgKyAnJykuc3BsaXQoJzonKTtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91ciAmJiAhKHR5cGVvZiB2YWx1ZVsxXSA9PT0gJ3VuZGVmaW5lZCcpKSB7XHJcbiAgICAgIGlmICh2YWx1ZVsxXS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ0FNJykgPiAwKSB7XHJcbiAgICAgICAgdGhpcy5hbU9yUG0gPSAnQU0nO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYW1PclBtID0gJ1BNJztcclxuICAgICAgfVxyXG4gICAgICB2YWx1ZVsxXSA9IHZhbHVlWzFdLnJlcGxhY2UoJ0FNJywgJycpLnJlcGxhY2UoJ1BNJywgJycpO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlWzBdID09PSAnbm93Jykge1xyXG4gICAgICBsZXQgbm93ID0gbmV3IERhdGUoK25ldyBEYXRlKCkgKyB0aGlzLm9wdGlvbnMuZnJvbU5vdyk7XHJcbiAgICAgIHZhbHVlID0gW25vdy5nZXRIb3VycygpLnRvU3RyaW5nKCksIG5vdy5nZXRNaW51dGVzKCkudG9TdHJpbmcoKV07XHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xyXG4gICAgICAgIHRoaXMuYW1PclBtID0gcGFyc2VJbnQodmFsdWVbMF0pID49IDEyICYmIHBhcnNlSW50KHZhbHVlWzBdKSA8IDI0ID8gJ1BNJyA6ICdBTSc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuaG91cnMgPSArdmFsdWVbMF0gfHwgMDtcclxuICAgIHRoaXMubWludXRlcyA9ICt2YWx1ZVsxXSB8fCAwO1xyXG4gICAgdGhpcy5pbnB1dEhvdXJzLnZhbHVlID0gdGhpcy5ob3VycztcclxuICAgIHRoaXMuaW5wdXRNaW51dGVzLnZhbHVlID0gVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8odGhpcy5taW51dGVzKTtcclxuXHJcbiAgICB0aGlzLl91cGRhdGVBbVBtVmlldygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2hvdyBob3VycyBvciBtaW51dGVzIHZpZXcgb24gdGltZXBpY2tlci5cclxuICAgKiBAcGFyYW0gdmlldyBUaGUgbmFtZSBvZiB0aGUgdmlldyB5b3Ugd2FudCB0byBzd2l0Y2ggdG8sICdob3Vycycgb3IgJ21pbnV0ZXMnLlxyXG4gICAqL1xyXG4gIHNob3dWaWV3ID0gKHZpZXc6IFZpZXdzLCBkZWxheTogbnVtYmVyID0gbnVsbCkgPT4ge1xyXG4gICAgaWYgKHZpZXcgPT09ICdtaW51dGVzJyAmJiBnZXRDb21wdXRlZFN0eWxlKHRoaXMuaG91cnNWaWV3KS52aXNpYmlsaXR5ID09PSAndmlzaWJsZScpIHtcclxuICAgICAgLy8gcmFpc2VDYWxsYmFjayh0aGlzLm9wdGlvbnMuYmVmb3JlSG91clNlbGVjdCk7XHJcbiAgICB9XHJcbiAgICBsZXQgaXNIb3VycyA9IHZpZXcgPT09ICdob3VycycsXHJcbiAgICAgIG5leHRWaWV3ID0gaXNIb3VycyA/IHRoaXMuaG91cnNWaWV3IDogdGhpcy5taW51dGVzVmlldyxcclxuICAgICAgaGlkZVZpZXcgPSBpc0hvdXJzID8gdGhpcy5taW51dGVzVmlldyA6IHRoaXMuaG91cnNWaWV3O1xyXG4gICAgdGhpcy5jdXJyZW50VmlldyA9IHZpZXc7XHJcblxyXG4gICAgaWYgKGlzSG91cnMpIHtcclxuICAgICAgdGhpcy5pbnB1dEhvdXJzLmNsYXNzTGlzdC5hZGQoJ3RleHQtcHJpbWFyeScpO1xyXG4gICAgICB0aGlzLmlucHV0TWludXRlcy5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LXByaW1hcnknKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLmlucHV0SG91cnMuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1wcmltYXJ5Jyk7XHJcbiAgICAgIHRoaXMuaW5wdXRNaW51dGVzLmNsYXNzTGlzdC5hZGQoJ3RleHQtcHJpbWFyeScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRyYW5zaXRpb24gdmlld1xyXG4gICAgaGlkZVZpZXcuY2xhc3NMaXN0LmFkZCgndGltZXBpY2tlci1kaWFsLW91dCcpO1xyXG5cclxuICAgIG5leHRWaWV3LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XHJcbiAgICBuZXh0Vmlldy5jbGFzc0xpc3QucmVtb3ZlKCd0aW1lcGlja2VyLWRpYWwtb3V0Jyk7XHJcblxyXG4gICAgLy8gUmVzZXQgY2xvY2sgaGFuZFxyXG4gICAgdGhpcy5yZXNldENsb2NrKGRlbGF5KTtcclxuICAgIC8vIEFmdGVyIHRyYW5zaXRpb25zIGVuZGVkXHJcbiAgICBjbGVhclRpbWVvdXQodGhpcy50b2dnbGVWaWV3VGltZXIpO1xyXG4gICAgdGhpcy50b2dnbGVWaWV3VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgaGlkZVZpZXcuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgfSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uKTtcclxuICB9XHJcblxyXG4gIHJlc2V0Q2xvY2soZGVsYXkpIHtcclxuICAgIGxldCB2aWV3ID0gdGhpcy5jdXJyZW50VmlldyxcclxuICAgICAgdmFsdWUgPSB0aGlzW3ZpZXddLFxyXG4gICAgICBpc0hvdXJzID0gdmlldyA9PT0gJ2hvdXJzJyxcclxuICAgICAgdW5pdCA9IE1hdGguUEkgLyAoaXNIb3VycyA/IDYgOiAzMCksXHJcbiAgICAgIHJhZGlhbiA9IHZhbHVlICogdW5pdCxcclxuICAgICAgcmFkaXVzID1cclxuICAgICAgICBpc0hvdXJzICYmIHZhbHVlID4gMCAmJiB2YWx1ZSA8IDEzID8gdGhpcy5vcHRpb25zLmlubmVyUmFkaXVzIDogdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzLFxyXG4gICAgICB4ID0gTWF0aC5zaW4ocmFkaWFuKSAqIHJhZGl1cyxcclxuICAgICAgeSA9IC1NYXRoLmNvcyhyYWRpYW4pICogcmFkaXVzLFxyXG4gICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgICBpZiAoZGVsYXkpIHtcclxuICAgICAgdGhpcy5jYW52YXM/LmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItY2FudmFzLW91dCcpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBzZWxmLmNhbnZhcz8uY2xhc3NMaXN0LnJlbW92ZSgndGltZXBpY2tlci1jYW52YXMtb3V0Jyk7XHJcbiAgICAgICAgc2VsZi5zZXRIYW5kKHgsIHkpO1xyXG4gICAgICB9LCBkZWxheSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5zZXRIYW5kKHgsIHkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2lucHV0RnJvbVRleHRGaWVsZCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGlzSG91cnMgPSB0aGlzLmN1cnJlbnRWaWV3ID09PSAnaG91cnMnO1xyXG4gICAgaWYgKGlzSG91cnMpIHtcclxuICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUludCh0aGlzLmlucHV0SG91cnMudmFsdWUpO1xyXG4gICAgICBpZiAodmFsdWUgPiAwICYmIHZhbHVlIDwgMTMpIHtcclxuICAgICAgICB0aGlzLmRyYXdDbG9ja0Zyb21UaW1lSW5wdXQodmFsdWUsIGlzSG91cnMpO1xyXG4gICAgICAgIHRoaXMuc2hvd1ZpZXcoJ21pbnV0ZXMnLCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gLyAyKTtcclxuICAgICAgICB0aGlzLmhvdXJzID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMuZm9jdXMoKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBob3VyID0gbmV3IERhdGUoKS5nZXRIb3VycygpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRIb3Vycy52YWx1ZSA9IChob3VyICUgMTIpLnRvU3RyaW5nKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KHRoaXMuaW5wdXRNaW51dGVzLnZhbHVlKTtcclxuICAgICAgaWYgKHZhbHVlID49IDAgJiYgdmFsdWUgPCA2MCkge1xyXG4gICAgICAgIHRoaXMuaW5wdXRNaW51dGVzLnZhbHVlID0gVGltZXBpY2tlci5fYWRkTGVhZGluZ1plcm8odmFsdWUpO1xyXG4gICAgICAgIHRoaXMuZHJhd0Nsb2NrRnJvbVRpbWVJbnB1dCh2YWx1ZSwgaXNIb3Vycyk7XHJcbiAgICAgICAgdGhpcy5taW51dGVzID0gdmFsdWU7XHJcbiAgICAgICAgKDxIVE1MRWxlbWVudD50aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLmNvbmZpcm1hdGlvbi1idG5zIDpudGgtY2hpbGQoMiknKSkuZm9jdXMoKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBtaW51dGVzID0gbmV3IERhdGUoKS5nZXRNaW51dGVzKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMudmFsdWUgPSBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyhtaW51dGVzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZHJhd0Nsb2NrRnJvbVRpbWVJbnB1dCh2YWx1ZSwgaXNIb3Vycykge1xyXG4gICAgY29uc3QgdW5pdCA9IE1hdGguUEkgLyAoaXNIb3VycyA/IDYgOiAzMCk7XHJcbiAgICBjb25zdCByYWRpYW4gPSB2YWx1ZSAqIHVuaXQ7XHJcbiAgICBsZXQgcmFkaXVzO1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XHJcbiAgICAgIHJhZGl1cyA9IHRoaXMub3B0aW9ucy5vdXRlclJhZGl1cztcclxuICAgIH1cclxuICAgIGxldCBjeDEgPSBNYXRoLnNpbihyYWRpYW4pICogKHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzKSxcclxuICAgICAgY3kxID0gLU1hdGguY29zKHJhZGlhbikgKiAocmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMpLFxyXG4gICAgICBjeDIgPSBNYXRoLnNpbihyYWRpYW4pICogcmFkaXVzLFxyXG4gICAgICBjeTIgPSAtTWF0aC5jb3MocmFkaWFuKSAqIHJhZGl1cztcclxuICAgIHRoaXMuaGFuZC5zZXRBdHRyaWJ1dGUoJ3gyJywgY3gxLnRvU3RyaW5nKCkpO1xyXG4gICAgdGhpcy5oYW5kLnNldEF0dHJpYnV0ZSgneTInLCBjeTEudG9TdHJpbmcoKSk7XHJcbiAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZSgnY3gnLCBjeDIudG9TdHJpbmcoKSk7XHJcbiAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZSgnY3knLCBjeTIudG9TdHJpbmcoKSk7XHJcbiAgfVxyXG5cclxuICBzZXRIYW5kKHgsIHksIHJvdW5kQnk1OiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgIGxldCByYWRpYW4gPSBNYXRoLmF0YW4yKHgsIC15KSxcclxuICAgICAgaXNIb3VycyA9IHRoaXMuY3VycmVudFZpZXcgPT09ICdob3VycycsXHJcbiAgICAgIHVuaXQgPSBNYXRoLlBJIC8gKGlzSG91cnMgfHwgcm91bmRCeTUgPyA2IDogMzApLFxyXG4gICAgICB6ID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpLFxyXG4gICAgICBpbm5lciA9IGlzSG91cnMgJiYgeiA8ICh0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMgKyB0aGlzLm9wdGlvbnMuaW5uZXJSYWRpdXMpIC8gMixcclxuICAgICAgcmFkaXVzID0gaW5uZXIgPyB0aGlzLm9wdGlvbnMuaW5uZXJSYWRpdXMgOiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXM7XHJcblxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XHJcbiAgICAgIHJhZGl1cyA9IHRoaXMub3B0aW9ucy5vdXRlclJhZGl1cztcclxuICAgIH1cclxuXHJcbiAgICAvLyBSYWRpYW4gc2hvdWxkIGluIHJhbmdlIFswLCAyUEldXHJcbiAgICBpZiAocmFkaWFuIDwgMCkge1xyXG4gICAgICByYWRpYW4gPSBNYXRoLlBJICogMiArIHJhZGlhbjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGhlIHJvdW5kIHZhbHVlXHJcbiAgICBsZXQgdmFsdWUgPSBNYXRoLnJvdW5kKHJhZGlhbiAvIHVuaXQpO1xyXG5cclxuICAgIC8vIEdldCB0aGUgcm91bmQgcmFkaWFuXHJcbiAgICByYWRpYW4gPSB2YWx1ZSAqIHVuaXQ7XHJcblxyXG4gICAgLy8gQ29ycmVjdCB0aGUgaG91cnMgb3IgbWludXRlc1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XHJcbiAgICAgIGlmIChpc0hvdXJzKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSAwKSB2YWx1ZSA9IDEyO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChyb3VuZEJ5NSkgdmFsdWUgKj0gNTtcclxuICAgICAgICBpZiAodmFsdWUgPT09IDYwKSB2YWx1ZSA9IDA7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChpc0hvdXJzKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSAxMikge1xyXG4gICAgICAgICAgdmFsdWUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YWx1ZSA9IGlubmVyID8gKHZhbHVlID09PSAwID8gMTIgOiB2YWx1ZSkgOiB2YWx1ZSA9PT0gMCA/IDAgOiB2YWx1ZSArIDEyO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChyb3VuZEJ5NSkge1xyXG4gICAgICAgICAgdmFsdWUgKj0gNTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSA2MCkge1xyXG4gICAgICAgICAgdmFsdWUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE9uY2UgaG91cnMgb3IgbWludXRlcyBjaGFuZ2VkLCB2aWJyYXRlIHRoZSBkZXZpY2VcclxuICAgIGlmICh0aGlzW3RoaXMuY3VycmVudFZpZXddICE9PSB2YWx1ZSkge1xyXG4gICAgICBpZiAodGhpcy52aWJyYXRlICYmIHRoaXMub3B0aW9ucy52aWJyYXRlKSB7XHJcbiAgICAgICAgLy8gRG8gbm90IHZpYnJhdGUgdG9vIGZyZXF1ZW50bHlcclxuICAgICAgICBpZiAoIXRoaXMudmlicmF0ZVRpbWVyKSB7XHJcbiAgICAgICAgICBuYXZpZ2F0b3JbdGhpcy52aWJyYXRlXSgxMCk7XHJcbiAgICAgICAgICB0aGlzLnZpYnJhdGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnZpYnJhdGVUaW1lciA9IG51bGw7XHJcbiAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXNbdGhpcy5jdXJyZW50Vmlld10gPSB2YWx1ZTtcclxuICAgIGlmIChpc0hvdXJzKSB7XHJcbiAgICAgIHRoaXMuaW5wdXRIb3Vycy52YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMudmFsdWUgPSBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IGNsb2NrIGhhbmQgYW5kIG90aGVycycgcG9zaXRpb25cclxuICAgIGxldCBjeDEgPSBNYXRoLnNpbihyYWRpYW4pICogKHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzKSxcclxuICAgICAgY3kxID0gLU1hdGguY29zKHJhZGlhbikgKiAocmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMpLFxyXG4gICAgICBjeDIgPSBNYXRoLnNpbihyYWRpYW4pICogcmFkaXVzLFxyXG4gICAgICBjeTIgPSAtTWF0aC5jb3MocmFkaWFuKSAqIHJhZGl1cztcclxuICAgIHRoaXMuaGFuZC5zZXRBdHRyaWJ1dGUoJ3gyJywgY3gxLnRvU3RyaW5nKCkpO1xyXG4gICAgdGhpcy5oYW5kLnNldEF0dHJpYnV0ZSgneTInLCBjeTEudG9TdHJpbmcoKSk7XHJcbiAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZSgnY3gnLCBjeDIudG9TdHJpbmcoKSk7XHJcbiAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZSgnY3knLCBjeTIudG9TdHJpbmcoKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPcGVuIHRpbWVwaWNrZXIuXHJcbiAgICovXHJcbiAgb3BlbiA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLmlzT3BlbikgcmV0dXJuO1xyXG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xyXG4gICAgdGhpcy5fdXBkYXRlVGltZUZyb21JbnB1dCgpO1xyXG4gICAgdGhpcy5zaG93VmlldygnaG91cnMnKTtcclxuICAgIHRoaXMubW9kYWwub3Blbih1bmRlZmluZWQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xvc2UgdGltZXBpY2tlci5cclxuICAgKi9cclxuICBjbG9zZSA9ICgpID0+IHtcclxuICAgIGlmICghdGhpcy5pc09wZW4pIHJldHVybjtcclxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcbiAgICB0aGlzLm1vZGFsLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBkb25lID0gKGUgPSBudWxsLCBjbGVhclZhbHVlID0gbnVsbCkgPT4ge1xyXG4gICAgLy8gU2V0IGlucHV0IHZhbHVlXHJcbiAgICBsZXQgbGFzdCA9IHRoaXMuZWwudmFsdWU7XHJcbiAgICBsZXQgdmFsdWUgPSBjbGVhclZhbHVlXHJcbiAgICAgID8gJydcclxuICAgICAgOiBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyh0aGlzLmhvdXJzKSArICc6JyArIFRpbWVwaWNrZXIuX2FkZExlYWRpbmdaZXJvKHRoaXMubWludXRlcyk7XHJcbiAgICB0aGlzLnRpbWUgPSB2YWx1ZTtcclxuICAgIGlmICghY2xlYXJWYWx1ZSAmJiB0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xyXG4gICAgICB2YWx1ZSA9IGAke3ZhbHVlfSAke3RoaXMuYW1PclBtfWA7XHJcbiAgICB9XHJcbiAgICB0aGlzLmVsLnZhbHVlID0gdmFsdWU7XHJcbiAgICAvLyBUcmlnZ2VyIGNoYW5nZSBldmVudFxyXG4gICAgaWYgKHZhbHVlICE9PSBsYXN0KSB7XHJcbiAgICAgIHRoaXMuZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScpKTtcclxuICAgIH1cclxuICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIHRoaXMuZWwuZm9jdXMoKTtcclxuICB9XHJcblxyXG4gIGNsZWFyID0gKCkgPT4ge1xyXG4gICAgdGhpcy5kb25lKG51bGwsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHtcclxuICAgIFRpbWVwaWNrZXIuX3RlbXBsYXRlID0gYFxyXG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwgdGltZXBpY2tlci1tb2RhbFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50IHRpbWVwaWNrZXItY29udGFpbmVyXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaWdpdGFsLWRpc3BsYXlcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItdGV4dC1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaXNwbGF5LWNvbHVtblwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbWF4bGVuZ3RoPVwiMlwiIGF1dG9mb2N1cyBjbGFzcz1cInRpbWVwaWNrZXItaW5wdXQtaG91cnMgdGV4dC1wcmltYXJ5XCIgLz5cclxuICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG1heGxlbmd0aD1cIjJcIiBjbGFzcz1cInRpbWVwaWNrZXItaW5wdXQtbWludXRlc1wiIC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItZGlzcGxheS1jb2x1bW4gdGltZXBpY2tlci1kaXNwbGF5LWFtLXBtXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1zcGFuLWFtLXBtXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1hbmFsb2ctZGlzcGxheVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1wbGF0ZVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLWNhbnZhc1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLWRpYWwgdGltZXBpY2tlci1ob3Vyc1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLWRpYWwgdGltZXBpY2tlci1taW51dGVzIHRpbWVwaWNrZXItZGlhbC1vdXRcIj48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLWZvb3RlclwiPjwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2YDtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/timepicker.ts\n");

/***/ }),

/***/ "./src/toasts.ts":
/*!***********************!*\
  !*** ./src/toasts.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Toast = void 0;\r\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\r\nlet _defaults = {\r\n    text: '',\r\n    displayLength: 4000,\r\n    inDuration: 300,\r\n    outDuration: 375,\r\n    classes: '',\r\n    completeCallback: null,\r\n    activationPercent: 0.8\r\n};\r\nclass Toast {\r\n    constructor(options) {\r\n        this.options = Object.assign(Object.assign({}, Toast.defaults), options);\r\n        this.message = this.options.text;\r\n        this.panning = false;\r\n        this.timeRemaining = this.options.displayLength;\r\n        if (Toast._toasts.length === 0) {\r\n            Toast._createContainer();\r\n        }\r\n        // Create new toast\r\n        Toast._toasts.push(this);\r\n        let toastElement = this._createToast();\r\n        toastElement.M_Toast = this;\r\n        this.el = toastElement;\r\n        this._animateIn();\r\n        this._setTimer();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Toast;\r\n    }\r\n    static _createContainer() {\r\n        const container = document.createElement('div');\r\n        container.setAttribute('id', 'toast-container');\r\n        // Add event handler\r\n        container.addEventListener('touchstart', Toast._onDragStart);\r\n        container.addEventListener('touchmove', Toast._onDragMove);\r\n        container.addEventListener('touchend', Toast._onDragEnd);\r\n        container.addEventListener('mousedown', Toast._onDragStart);\r\n        document.addEventListener('mousemove', Toast._onDragMove);\r\n        document.addEventListener('mouseup', Toast._onDragEnd);\r\n        document.body.appendChild(container);\r\n        Toast._container = container;\r\n    }\r\n    static _removeContainer() {\r\n        document.removeEventListener('mousemove', Toast._onDragMove);\r\n        document.removeEventListener('mouseup', Toast._onDragEnd);\r\n        Toast._container.remove();\r\n        Toast._container = null;\r\n    }\r\n    static _onDragStart(e) {\r\n        if (e.target && e.target.closest('.toast')) {\r\n            const toastElem = e.target.closest('.toast');\r\n            const toast = toastElem.M_Toast;\r\n            toast.panning = true;\r\n            Toast._draggedToast = toast;\r\n            toast.el.classList.add('panning');\r\n            toast.el.style.transition = '';\r\n            toast.startingXPos = Toast._xPos(e);\r\n            toast.time = Date.now();\r\n            toast.xPos = Toast._xPos(e);\r\n        }\r\n    }\r\n    static _onDragMove(e) {\r\n        if (!!Toast._draggedToast) {\r\n            e.preventDefault();\r\n            const toast = Toast._draggedToast;\r\n            toast.deltaX = Math.abs(toast.xPos - Toast._xPos(e));\r\n            toast.xPos = Toast._xPos(e);\r\n            toast.velocityX = toast.deltaX / (Date.now() - toast.time);\r\n            toast.time = Date.now();\r\n            const totalDeltaX = toast.xPos - toast.startingXPos;\r\n            const activationDistance = toast.el.offsetWidth * toast.options.activationPercent;\r\n            toast.el.style.transform = `translateX(${totalDeltaX}px)`;\r\n            toast.el.style.opacity = (1 - Math.abs(totalDeltaX / activationDistance)).toString();\r\n        }\r\n    }\r\n    static _onDragEnd() {\r\n        if (!!Toast._draggedToast) {\r\n            let toast = Toast._draggedToast;\r\n            toast.panning = false;\r\n            toast.el.classList.remove('panning');\r\n            let totalDeltaX = toast.xPos - toast.startingXPos;\r\n            let activationDistance = toast.el.offsetWidth * toast.options.activationPercent;\r\n            let shouldBeDismissed = Math.abs(totalDeltaX) > activationDistance || toast.velocityX > 1;\r\n            // Remove toast\r\n            if (shouldBeDismissed) {\r\n                toast.wasSwiped = true;\r\n                toast.dismiss();\r\n                // Animate toast back to original position\r\n            }\r\n            else {\r\n                toast.el.style.transition = 'transform .2s, opacity .2s';\r\n                toast.el.style.transform = '';\r\n                toast.el.style.opacity = '';\r\n            }\r\n            Toast._draggedToast = null;\r\n        }\r\n    }\r\n    static _xPos(e) {\r\n        if (e.type.startsWith(\"touch\") && e.targetTouches.length >= 1) {\r\n            return e.targetTouches[0].clientX;\r\n        }\r\n        // mouse event\r\n        return e.clientX;\r\n    }\r\n    /**\r\n     * dismiss all toasts.\r\n     */\r\n    static dismissAll() {\r\n        for (let toastIndex in Toast._toasts) {\r\n            Toast._toasts[toastIndex].dismiss();\r\n        }\r\n    }\r\n    _createToast() {\r\n        const toast = document.createElement('div');\r\n        toast.classList.add('toast');\r\n        toast.setAttribute('role', 'alert');\r\n        toast.setAttribute('aria-live', 'assertive');\r\n        toast.setAttribute('aria-atomic', 'true');\r\n        // Add custom classes onto toast\r\n        if (this.options.classes.length > 0) {\r\n            toast.classList.add(...this.options.classes.split(' '));\r\n        }\r\n        // Set text content\r\n        else\r\n            toast.innerText = this.message;\r\n        // Append toast\r\n        Toast._container.appendChild(toast);\r\n        return toast;\r\n    }\r\n    _animateIn() {\r\n        // Animate toast in\r\n        (0, animejs_1.default)({\r\n            targets: this.el,\r\n            top: 0,\r\n            opacity: 1,\r\n            duration: this.options.inDuration,\r\n            easing: 'easeOutCubic'\r\n        });\r\n    }\r\n    /**\r\n     * Create setInterval which automatically removes toast when timeRemaining >= 0\r\n     * has been reached.\r\n     */\r\n    _setTimer() {\r\n        if (this.timeRemaining !== Infinity) {\r\n            this.counterInterval = setInterval(() => {\r\n                // If toast is not being dragged, decrease its time remaining\r\n                if (!this.panning) {\r\n                    this.timeRemaining -= 20;\r\n                }\r\n                // Animate toast out\r\n                if (this.timeRemaining <= 0) {\r\n                    this.dismiss();\r\n                }\r\n            }, 20);\r\n        }\r\n    }\r\n    /**\r\n     * Dismiss toast with animation.\r\n     */\r\n    dismiss() {\r\n        window.clearInterval(this.counterInterval);\r\n        let activationDistance = this.el.offsetWidth * this.options.activationPercent;\r\n        if (this.wasSwiped) {\r\n            this.el.style.transition = 'transform .05s, opacity .05s';\r\n            this.el.style.transform = `translateX(${activationDistance}px)`;\r\n            this.el.style.opacity = '0';\r\n        }\r\n        (0, animejs_1.default)({\r\n            targets: this.el,\r\n            opacity: 0,\r\n            marginTop: -40,\r\n            duration: this.options.outDuration,\r\n            easing: 'easeOutExpo',\r\n            complete: () => {\r\n                // Call the optional callback\r\n                if (typeof this.options.completeCallback === 'function') {\r\n                    this.options.completeCallback();\r\n                }\r\n                // Remove toast from DOM\r\n                this.el.remove();\r\n                Toast._toasts.splice(Toast._toasts.indexOf(this), 1);\r\n                if (Toast._toasts.length === 0) {\r\n                    Toast._removeContainer();\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.Toast = Toast;\r\n(() => {\r\n    Toast._toasts = [];\r\n    Toast._container = null;\r\n    Toast._draggedToast = null;\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2pCLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNyRCxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtvQkFDOUIsS0FBSyxDQUFDLGdCQUFnQixFQUFFLENBQUM7aUJBQzFCO1lBQ0gsQ0FBQztTQUNGLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FPRjtBQTVPRCxzQkE0T0M7QUFMQztJQUNFLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO0lBQ25CLEtBQUssQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0lBQ3hCLEtBQUssQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO0FBQzdCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvdG9hc3RzLnRzP2Y5NmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcclxuXHJcbmltcG9ydCB7IEJhc2VPcHRpb25zIH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRvYXN0T3B0aW9ucyBleHRlbmRzIEJhc2VPcHRpb25zIHtcclxuICAvKipcclxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgVG9hc3QuXHJcbiAgICogQGRlZmF1bHQgXCJcIlxyXG4gICAqL1xyXG4gIHRleHQ6IHN0cmluZztcclxuICAvKipcclxuICAgKiBMZW5ndGggaW4gbXMgdGhlIFRvYXN0IHN0YXlzIGJlZm9yZSBkaXNtaXNzYWwuXHJcbiAgICogQGRlZmF1bHQgNDAwMFxyXG4gICAqL1xyXG4gIGRpc3BsYXlMZW5ndGg6IG51bWJlcjtcclxuICAvKipcclxuICAgKiBUcmFuc2l0aW9uIGluIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cclxuICAgKiBAZGVmYXVsdCAzMDBcclxuICAgKi9cclxuICBpbkR1cmF0aW9uOiBudW1iZXI7XHJcbiAgLyoqXHJcbiAgICogVHJhbnNpdGlvbiBvdXQgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAqIEBkZWZhdWx0IDM3NVxyXG4gICAqL1xyXG4gIG91dER1cmF0aW9uOiBudW1iZXI7XHJcbiAgLyoqXHJcbiAgICogQ2xhc3NlcyB0byBiZSBhZGRlZCB0byB0aGUgdG9hc3QgZWxlbWVudC5cclxuICAgKiBAZGVmYXVsdCBcIlwiXHJcbiAgICovXHJcbiAgY2xhc3Nlczogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRvYXN0IGlzIGRpc21pc3NlZC5cclxuICAgKiBAZGVmYXVsdCBudWxsXHJcbiAgICovXHJcbiAgY29tcGxldGVDYWxsYmFjazogKCkgPT4gdm9pZDtcclxuICAvKipcclxuICAgKiBUaGUgcGVyY2VudGFnZSBvZiB0aGUgdG9hc3QncyB3aWR0aCBpdCB0YWtlcyBmb3JhIGRyYWdcclxuICAgKiB0byBkaXNtaXNzIGEgVG9hc3QuXHJcbiAgICogQGRlZmF1bHQgMC44XHJcbiAgICovXHJcbiAgYWN0aXZhdGlvblBlcmNlbnQ6IG51bWJlcjtcclxufVxyXG5cclxubGV0IF9kZWZhdWx0czogVG9hc3RPcHRpb25zID0ge1xyXG4gIHRleHQ6ICcnLFxyXG4gIGRpc3BsYXlMZW5ndGg6IDQwMDAsXHJcbiAgaW5EdXJhdGlvbjogMzAwLFxyXG4gIG91dER1cmF0aW9uOiAzNzUsXHJcbiAgY2xhc3NlczogJycsXHJcbiAgY29tcGxldGVDYWxsYmFjazogbnVsbCxcclxuICBhY3RpdmF0aW9uUGVyY2VudDogMC44XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgVG9hc3Qge1xyXG4gIC8qKiBUaGUgdG9hc3QgZWxlbWVudC4gKi9cclxuICBlbDogSFRNTERpdkVsZW1lbnQ7XHJcbiAgLyoqXHJcbiAgICogVGhlIHJlbWFpbmluZyBhbW91bnQgb2YgdGltZSBpbiBtcyB0aGF0IHRoZSB0b2FzdFxyXG4gICAqIHdpbGwgc3RheSBiZWZvcmUgZGlzbWlzc2FsLlxyXG4gICAqL1xyXG4gIHRpbWVSZW1haW5pbmc6IG51bWJlcjtcclxuICAvKipcclxuICAgKiBEZXNjcmliZXMgdGhlIGN1cnJlbnQgcGFuIHN0YXRlIG9mIHRoZSBUb2FzdC5cclxuICAgKi9cclxuICBwYW5uaW5nOiBib29sZWFuO1xyXG4gIG9wdGlvbnM6IFRvYXN0T3B0aW9ucztcclxuICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgY291bnRlckludGVydmFsOiBOb2RlSlMuVGltZW91dDtcclxuICB3YXNTd2lwZWQ6IGJvb2xlYW47XHJcbiAgc3RhcnRpbmdYUG9zOiBudW1iZXI7XHJcbiAgeFBvczogbnVtYmVyO1xyXG4gIHRpbWU6IG51bWJlcjtcclxuICBkZWx0YVg6IG51bWJlcjtcclxuICB2ZWxvY2l0eVg6IG51bWJlcjtcclxuXHJcbiAgc3RhdGljIF90b2FzdHM6IFRvYXN0W107XHJcbiAgc3RhdGljIF9jb250YWluZXI6IGFueTtcclxuICBzdGF0aWMgX2RyYWdnZWRUb2FzdDogVG9hc3Q7XHJcblxyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFBhcnRpYWw8VG9hc3RPcHRpb25zPikge1xyXG4gICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICAuLi5Ub2FzdC5kZWZhdWx0cyxcclxuICAgICAgLi4ub3B0aW9uc1xyXG4gICAgfTtcclxuICAgIHRoaXMubWVzc2FnZSA9IHRoaXMub3B0aW9ucy50ZXh0O1xyXG4gICAgdGhpcy5wYW5uaW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLnRpbWVSZW1haW5pbmcgPSB0aGlzLm9wdGlvbnMuZGlzcGxheUxlbmd0aDtcclxuICAgIGlmIChUb2FzdC5fdG9hc3RzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBUb2FzdC5fY3JlYXRlQ29udGFpbmVyKCk7XHJcbiAgICB9XHJcbiAgICAvLyBDcmVhdGUgbmV3IHRvYXN0XHJcbiAgICBUb2FzdC5fdG9hc3RzLnB1c2godGhpcyk7XHJcbiAgICBsZXQgdG9hc3RFbGVtZW50ID0gdGhpcy5fY3JlYXRlVG9hc3QoKTtcclxuICAgICh0b2FzdEVsZW1lbnQgYXMgYW55KS5NX1RvYXN0ID0gdGhpcztcclxuICAgIHRoaXMuZWwgPSB0b2FzdEVsZW1lbnQ7XHJcbiAgICB0aGlzLl9hbmltYXRlSW4oKTtcclxuICAgIHRoaXMuX3NldFRpbWVyKCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCk6IFRvYXN0T3B0aW9ucyB7XHJcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEluc3RhbmNlKGVsOiBIVE1MRWxlbWVudCk6IFRvYXN0IHtcclxuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX1RvYXN0O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIF9jcmVhdGVDb250YWluZXIoKSB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RvYXN0LWNvbnRhaW5lcicpO1xyXG4gICAgLy8gQWRkIGV2ZW50IGhhbmRsZXJcclxuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgVG9hc3QuX29uRHJhZ1N0YXJ0KTtcclxuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBUb2FzdC5fb25EcmFnTW92ZSk7XHJcbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBUb2FzdC5fb25EcmFnRW5kKTtcclxuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBUb2FzdC5fb25EcmFnU3RhcnQpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgVG9hc3QuX29uRHJhZ01vdmUpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIFRvYXN0Ll9vbkRyYWdFbmQpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xyXG4gICAgVG9hc3QuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBfcmVtb3ZlQ29udGFpbmVyKCkge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgVG9hc3QuX29uRHJhZ01vdmUpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIFRvYXN0Ll9vbkRyYWdFbmQpO1xyXG4gICAgVG9hc3QuX2NvbnRhaW5lci5yZW1vdmUoKTtcclxuICAgIFRvYXN0Ll9jb250YWluZXIgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIF9vbkRyYWdTdGFydChlOiBUb3VjaEV2ZW50IHwgTW91c2VFdmVudCkge1xyXG4gICAgaWYgKGUudGFyZ2V0ICYmICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy50b2FzdCcpKSB7XHJcbiAgICAgIGNvbnN0IHRvYXN0RWxlbSA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy50b2FzdCcpO1xyXG4gICAgICBjb25zdCB0b2FzdDogVG9hc3QgPSAodG9hc3RFbGVtIGFzIGFueSkuTV9Ub2FzdDtcclxuICAgICAgdG9hc3QucGFubmluZyA9IHRydWU7XHJcbiAgICAgIFRvYXN0Ll9kcmFnZ2VkVG9hc3QgPSB0b2FzdDtcclxuICAgICAgdG9hc3QuZWwuY2xhc3NMaXN0LmFkZCgncGFubmluZycpO1xyXG4gICAgICB0b2FzdC5lbC5zdHlsZS50cmFuc2l0aW9uID0gJyc7XHJcbiAgICAgIHRvYXN0LnN0YXJ0aW5nWFBvcyA9IFRvYXN0Ll94UG9zKGUpO1xyXG4gICAgICB0b2FzdC50aW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgdG9hc3QueFBvcyA9IFRvYXN0Ll94UG9zKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIF9vbkRyYWdNb3ZlKGU6IFRvdWNoRXZlbnQgfCBNb3VzZUV2ZW50KSB7XHJcbiAgICBpZiAoISFUb2FzdC5fZHJhZ2dlZFRvYXN0KSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3QgdG9hc3QgPSBUb2FzdC5fZHJhZ2dlZFRvYXN0O1xyXG4gICAgICB0b2FzdC5kZWx0YVggPSBNYXRoLmFicyh0b2FzdC54UG9zIC0gVG9hc3QuX3hQb3MoZSkpO1xyXG4gICAgICB0b2FzdC54UG9zID0gVG9hc3QuX3hQb3MoZSk7XHJcbiAgICAgIHRvYXN0LnZlbG9jaXR5WCA9IHRvYXN0LmRlbHRhWCAvIChEYXRlLm5vdygpIC0gdG9hc3QudGltZSk7XHJcbiAgICAgIHRvYXN0LnRpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgY29uc3QgdG90YWxEZWx0YVggPSB0b2FzdC54UG9zIC0gdG9hc3Quc3RhcnRpbmdYUG9zO1xyXG4gICAgICBjb25zdCBhY3RpdmF0aW9uRGlzdGFuY2UgPSB0b2FzdC5lbC5vZmZzZXRXaWR0aCAqIHRvYXN0Lm9wdGlvbnMuYWN0aXZhdGlvblBlcmNlbnQ7XHJcbiAgICAgIHRvYXN0LmVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dG90YWxEZWx0YVh9cHgpYDtcclxuICAgICAgdG9hc3QuZWwuc3R5bGUub3BhY2l0eSA9ICgxIC0gTWF0aC5hYnModG90YWxEZWx0YVggLyBhY3RpdmF0aW9uRGlzdGFuY2UpKS50b1N0cmluZygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIF9vbkRyYWdFbmQoKSB7XHJcbiAgICBpZiAoISFUb2FzdC5fZHJhZ2dlZFRvYXN0KSB7XHJcbiAgICAgIGxldCB0b2FzdCA9IFRvYXN0Ll9kcmFnZ2VkVG9hc3Q7XHJcbiAgICAgIHRvYXN0LnBhbm5pbmcgPSBmYWxzZTtcclxuICAgICAgdG9hc3QuZWwuY2xhc3NMaXN0LnJlbW92ZSgncGFubmluZycpO1xyXG5cclxuICAgICAgbGV0IHRvdGFsRGVsdGFYID0gdG9hc3QueFBvcyAtIHRvYXN0LnN0YXJ0aW5nWFBvcztcclxuICAgICAgbGV0IGFjdGl2YXRpb25EaXN0YW5jZSA9IHRvYXN0LmVsLm9mZnNldFdpZHRoICogdG9hc3Qub3B0aW9ucy5hY3RpdmF0aW9uUGVyY2VudDtcclxuICAgICAgbGV0IHNob3VsZEJlRGlzbWlzc2VkID0gTWF0aC5hYnModG90YWxEZWx0YVgpID4gYWN0aXZhdGlvbkRpc3RhbmNlIHx8IHRvYXN0LnZlbG9jaXR5WCA+IDE7XHJcblxyXG4gICAgICAvLyBSZW1vdmUgdG9hc3RcclxuICAgICAgaWYgKHNob3VsZEJlRGlzbWlzc2VkKSB7XHJcbiAgICAgICAgdG9hc3Qud2FzU3dpcGVkID0gdHJ1ZTtcclxuICAgICAgICB0b2FzdC5kaXNtaXNzKCk7XHJcbiAgICAgICAgLy8gQW5pbWF0ZSB0b2FzdCBiYWNrIHRvIG9yaWdpbmFsIHBvc2l0aW9uXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdG9hc3QuZWwuc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gLjJzLCBvcGFjaXR5IC4ycyc7XHJcbiAgICAgICAgdG9hc3QuZWwuc3R5bGUudHJhbnNmb3JtID0gJyc7XHJcbiAgICAgICAgdG9hc3QuZWwuc3R5bGUub3BhY2l0eSA9ICcnO1xyXG4gICAgICB9XHJcbiAgICAgIFRvYXN0Ll9kcmFnZ2VkVG9hc3QgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIF94UG9zKGU6IFRvdWNoRXZlbnQgfCBNb3VzZUV2ZW50KSB7XHJcbiAgICBpZiAoZS50eXBlLnN0YXJ0c1dpdGgoXCJ0b3VjaFwiKSAmJiAoZSBhcyBUb3VjaEV2ZW50KS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+PSAxKSB7XHJcbiAgICAgIHJldHVybiAoZSBhcyBUb3VjaEV2ZW50KS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFg7XHJcbiAgICB9XHJcbiAgICAvLyBtb3VzZSBldmVudFxyXG4gICAgcmV0dXJuIChlIGFzIE1vdXNlRXZlbnQpLmNsaWVudFg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBkaXNtaXNzIGFsbCB0b2FzdHMuXHJcbiAgICovXHJcbiAgc3RhdGljIGRpc21pc3NBbGwoKSB7XHJcbiAgICBmb3IgKGxldCB0b2FzdEluZGV4IGluIFRvYXN0Ll90b2FzdHMpIHtcclxuICAgICAgVG9hc3QuX3RvYXN0c1t0b2FzdEluZGV4XS5kaXNtaXNzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlVG9hc3QoKSB7XHJcbiAgICBjb25zdCB0b2FzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdG9hc3QuY2xhc3NMaXN0LmFkZCgndG9hc3QnKTtcclxuICAgIHRvYXN0LnNldEF0dHJpYnV0ZSgncm9sZScsICdhbGVydCcpO1xyXG4gICAgdG9hc3Quc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XHJcbiAgICB0b2FzdC5zZXRBdHRyaWJ1dGUoJ2FyaWEtYXRvbWljJywgJ3RydWUnKTtcclxuXHJcbiAgICAvLyBBZGQgY3VzdG9tIGNsYXNzZXMgb250byB0b2FzdFxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jbGFzc2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgdG9hc3QuY2xhc3NMaXN0LmFkZCguLi50aGlzLm9wdGlvbnMuY2xhc3Nlcy5zcGxpdCgnICcpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXQgdGV4dCBjb250ZW50XHJcbiAgICBlbHNlIHRvYXN0LmlubmVyVGV4dCA9IHRoaXMubWVzc2FnZTtcclxuXHJcbiAgICAvLyBBcHBlbmQgdG9hc3RcclxuICAgIFRvYXN0Ll9jb250YWluZXIuYXBwZW5kQ2hpbGQodG9hc3QpO1xyXG4gICAgcmV0dXJuIHRvYXN0O1xyXG4gIH1cclxuXHJcbiAgX2FuaW1hdGVJbigpIHtcclxuICAgIC8vIEFuaW1hdGUgdG9hc3QgaW5cclxuICAgIGFuaW0oe1xyXG4gICAgICB0YXJnZXRzOiB0aGlzLmVsLFxyXG4gICAgICB0b3A6IDAsXHJcbiAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcclxuICAgICAgZWFzaW5nOiAnZWFzZU91dEN1YmljJ1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgc2V0SW50ZXJ2YWwgd2hpY2ggYXV0b21hdGljYWxseSByZW1vdmVzIHRvYXN0IHdoZW4gdGltZVJlbWFpbmluZyA+PSAwXHJcbiAgICogaGFzIGJlZW4gcmVhY2hlZC5cclxuICAgKi9cclxuICBfc2V0VGltZXIoKSB7XHJcbiAgICBpZiAodGhpcy50aW1lUmVtYWluaW5nICE9PSBJbmZpbml0eSkge1xyXG4gICAgICB0aGlzLmNvdW50ZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAvLyBJZiB0b2FzdCBpcyBub3QgYmVpbmcgZHJhZ2dlZCwgZGVjcmVhc2UgaXRzIHRpbWUgcmVtYWluaW5nXHJcbiAgICAgICAgaWYgKCF0aGlzLnBhbm5pbmcpIHtcclxuICAgICAgICAgIHRoaXMudGltZVJlbWFpbmluZyAtPSAyMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQW5pbWF0ZSB0b2FzdCBvdXRcclxuICAgICAgICBpZiAodGhpcy50aW1lUmVtYWluaW5nIDw9IDApIHtcclxuICAgICAgICAgIHRoaXMuZGlzbWlzcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgMjApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGlzbWlzcyB0b2FzdCB3aXRoIGFuaW1hdGlvbi5cclxuICAgKi9cclxuICBkaXNtaXNzKCkge1xyXG4gICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5jb3VudGVySW50ZXJ2YWwpO1xyXG4gICAgbGV0IGFjdGl2YXRpb25EaXN0YW5jZSA9IHRoaXMuZWwub2Zmc2V0V2lkdGggKiB0aGlzLm9wdGlvbnMuYWN0aXZhdGlvblBlcmNlbnQ7XHJcblxyXG4gICAgaWYgKHRoaXMud2FzU3dpcGVkKSB7XHJcbiAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gLjA1cywgb3BhY2l0eSAuMDVzJztcclxuICAgICAgdGhpcy5lbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke2FjdGl2YXRpb25EaXN0YW5jZX1weClgO1xyXG4gICAgICB0aGlzLmVsLnN0eWxlLm9wYWNpdHkgPSAnMCc7XHJcbiAgICB9XHJcblxyXG4gICAgYW5pbSh7XHJcbiAgICAgIHRhcmdldHM6IHRoaXMuZWwsXHJcbiAgICAgIG9wYWNpdHk6IDAsXHJcbiAgICAgIG1hcmdpblRvcDogLTQwLFxyXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxyXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0RXhwbycsXHJcbiAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgLy8gQ2FsbCB0aGUgb3B0aW9uYWwgY2FsbGJhY2tcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5jb21wbGV0ZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuY29tcGxldGVDYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmUgdG9hc3QgZnJvbSBET01cclxuICAgICAgICB0aGlzLmVsLnJlbW92ZSgpO1xyXG4gICAgICAgIFRvYXN0Ll90b2FzdHMuc3BsaWNlKFRvYXN0Ll90b2FzdHMuaW5kZXhPZih0aGlzKSwgMSk7XHJcbiAgICAgICAgaWYgKFRvYXN0Ll90b2FzdHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICBUb2FzdC5fcmVtb3ZlQ29udGFpbmVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyB7XHJcbiAgICBUb2FzdC5fdG9hc3RzID0gW107XHJcbiAgICBUb2FzdC5fY29udGFpbmVyID0gbnVsbDtcclxuICAgIFRvYXN0Ll9kcmFnZ2VkVG9hc3QgPSBudWxsO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/toasts.ts\n");

/***/ }),

/***/ "./src/tooltip.ts":
/*!************************!*\
  !*** ./src/tooltip.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Tooltip = void 0;\r\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\r\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\r\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\r\nconst _defaults = {\r\n    exitDelay: 200,\r\n    enterDelay: 0,\r\n    text: '',\r\n    margin: 5,\r\n    inDuration: 250,\r\n    outDuration: 200,\r\n    position: 'bottom',\r\n    transitionMovement: 10,\r\n    opacity: 1\r\n};\r\nclass Tooltip extends component_1.Component {\r\n    constructor(el, options) {\r\n        super(el, options, Tooltip);\r\n        /**\r\n         * Show tooltip.\r\n         */\r\n        this.open = (isManual) => {\r\n            if (this.isOpen)\r\n                return;\r\n            isManual = isManual === undefined ? true : undefined; // Default value true\r\n            this.isOpen = true;\r\n            // Update tooltip content with HTML attribute options\r\n            this.options = Object.assign(Object.assign({}, this.options), this._getAttributeOptions());\r\n            this._updateTooltipContent();\r\n            this._setEnterDelayTimeout(isManual);\r\n        };\r\n        /**\r\n         * Hide tooltip.\r\n         */\r\n        this.close = () => {\r\n            if (!this.isOpen)\r\n                return;\r\n            this.isHovered = false;\r\n            this.isFocused = false;\r\n            this.isOpen = false;\r\n            this._setExitDelayTimeout();\r\n        };\r\n        this._handleMouseEnter = () => {\r\n            this.isHovered = true;\r\n            this.isFocused = false; // Allows close of tooltip when opened by focus.\r\n            this.open(false);\r\n        };\r\n        this._handleMouseLeave = () => {\r\n            this.isHovered = false;\r\n            this.isFocused = false; // Allows close of tooltip when opened by focus.\r\n            this.close();\r\n        };\r\n        this._handleFocus = () => {\r\n            if (utils_1.Utils.tabPressed) {\r\n                this.isFocused = true;\r\n                this.open(false);\r\n            }\r\n        };\r\n        this._handleBlur = () => {\r\n            this.isFocused = false;\r\n            this.close();\r\n        };\r\n        this.el.M_Tooltip = this;\r\n        this.options = Object.assign(Object.assign({}, Tooltip.defaults), options);\r\n        this.isOpen = false;\r\n        this.isHovered = false;\r\n        this.isFocused = false;\r\n        this._appendTooltipEl();\r\n        this._setupEventHandlers();\r\n    }\r\n    static get defaults() {\r\n        return _defaults;\r\n    }\r\n    /**\r\n     * Initializes instances of Tooltip.\r\n     * @param els HTML elements.\r\n     * @param options Component options.\r\n     */\r\n    static init(els, options = {}) {\r\n        return super.init(els, options, Tooltip);\r\n    }\r\n    static getInstance(el) {\r\n        return el.M_Tooltip;\r\n    }\r\n    destroy() {\r\n        this.tooltipEl.remove();\r\n        this._removeEventHandlers();\r\n        this.el.M_Tooltip = undefined;\r\n    }\r\n    _appendTooltipEl() {\r\n        this.tooltipEl = document.createElement('div');\r\n        this.tooltipEl.classList.add('material-tooltip');\r\n        const tooltipContentEl = document.createElement('div');\r\n        tooltipContentEl.classList.add('tooltip-content');\r\n        this._setTooltipContent(tooltipContentEl);\r\n        this.tooltipEl.appendChild(tooltipContentEl);\r\n        document.body.appendChild(this.tooltipEl);\r\n    }\r\n    _setTooltipContent(tooltipContentEl) {\r\n        tooltipContentEl.innerText = this.options.text;\r\n    }\r\n    _updateTooltipContent() {\r\n        this._setTooltipContent(this.tooltipEl.querySelector('.tooltip-content'));\r\n    }\r\n    _setupEventHandlers() {\r\n        this.el.addEventListener('mouseenter', this._handleMouseEnter);\r\n        this.el.addEventListener('mouseleave', this._handleMouseLeave);\r\n        this.el.addEventListener('focus', this._handleFocus, true);\r\n        this.el.addEventListener('blur', this._handleBlur, true);\r\n    }\r\n    _removeEventHandlers() {\r\n        this.el.removeEventListener('mouseenter', this._handleMouseEnter);\r\n        this.el.removeEventListener('mouseleave', this._handleMouseLeave);\r\n        this.el.removeEventListener('focus', this._handleFocus, true);\r\n        this.el.removeEventListener('blur', this._handleBlur, true);\r\n    }\r\n    _setExitDelayTimeout() {\r\n        clearTimeout(this._exitDelayTimeout);\r\n        this._exitDelayTimeout = setTimeout(() => {\r\n            if (this.isHovered || this.isFocused)\r\n                return;\r\n            this._animateOut();\r\n        }, this.options.exitDelay);\r\n    }\r\n    _setEnterDelayTimeout(isManual) {\r\n        clearTimeout(this._enterDelayTimeout);\r\n        this._enterDelayTimeout = setTimeout(() => {\r\n            if (!this.isHovered && !this.isFocused && !isManual)\r\n                return;\r\n            this._animateIn();\r\n        }, this.options.enterDelay);\r\n    }\r\n    _positionTooltip() {\r\n        const tooltip = this.tooltipEl;\r\n        const origin = this.el, originHeight = origin.offsetHeight, originWidth = origin.offsetWidth, tooltipHeight = tooltip.offsetHeight, tooltipWidth = tooltip.offsetWidth, margin = this.options.margin;\r\n        (this.xMovement = 0), (this.yMovement = 0);\r\n        let targetTop = origin.getBoundingClientRect().top + utils_1.Utils.getDocumentScrollTop();\r\n        let targetLeft = origin.getBoundingClientRect().left + utils_1.Utils.getDocumentScrollLeft();\r\n        if (this.options.position === 'top') {\r\n            targetTop += -tooltipHeight - margin;\r\n            targetLeft += originWidth / 2 - tooltipWidth / 2;\r\n            this.yMovement = -this.options.transitionMovement;\r\n        }\r\n        else if (this.options.position === 'right') {\r\n            targetTop += originHeight / 2 - tooltipHeight / 2;\r\n            targetLeft += originWidth + margin;\r\n            this.xMovement = this.options.transitionMovement;\r\n        }\r\n        else if (this.options.position === 'left') {\r\n            targetTop += originHeight / 2 - tooltipHeight / 2;\r\n            targetLeft += -tooltipWidth - margin;\r\n            this.xMovement = -this.options.transitionMovement;\r\n        }\r\n        else {\r\n            targetTop += originHeight + margin;\r\n            targetLeft += originWidth / 2 - tooltipWidth / 2;\r\n            this.yMovement = this.options.transitionMovement;\r\n        }\r\n        const newCoordinates = this._repositionWithinScreen(targetLeft, targetTop, tooltipWidth, tooltipHeight);\r\n        tooltip.style.top = newCoordinates.y + 'px';\r\n        tooltip.style.left = newCoordinates.x + 'px';\r\n    }\r\n    _repositionWithinScreen(x, y, width, height) {\r\n        const scrollLeft = utils_1.Utils.getDocumentScrollLeft();\r\n        const scrollTop = utils_1.Utils.getDocumentScrollTop();\r\n        let newX = x - scrollLeft;\r\n        let newY = y - scrollTop;\r\n        const bounding = {\r\n            left: newX,\r\n            top: newY,\r\n            width: width,\r\n            height: height\r\n        };\r\n        const offset = this.options.margin + this.options.transitionMovement;\r\n        const edges = utils_1.Utils.checkWithinContainer(document.body, bounding, offset);\r\n        if (edges.left) {\r\n            newX = offset;\r\n        }\r\n        else if (edges.right) {\r\n            newX -= newX + width - window.innerWidth;\r\n        }\r\n        if (edges.top) {\r\n            newY = offset;\r\n        }\r\n        else if (edges.bottom) {\r\n            newY -= newY + height - window.innerHeight;\r\n        }\r\n        return {\r\n            x: newX + scrollLeft,\r\n            y: newY + scrollTop\r\n        };\r\n    }\r\n    _animateIn() {\r\n        this._positionTooltip();\r\n        this.tooltipEl.style.visibility = 'visible';\r\n        animejs_1.default.remove(this.tooltipEl);\r\n        (0, animejs_1.default)({\r\n            targets: this.tooltipEl,\r\n            opacity: this.options.opacity || 1,\r\n            translateX: this.xMovement,\r\n            translateY: this.yMovement,\r\n            duration: this.options.inDuration,\r\n            easing: 'easeOutCubic'\r\n        });\r\n    }\r\n    _animateOut() {\r\n        animejs_1.default.remove(this.tooltipEl);\r\n        (0, animejs_1.default)({\r\n            targets: this.tooltipEl,\r\n            opacity: 0,\r\n            translateX: 0,\r\n            translateY: 0,\r\n            duration: this.options.outDuration,\r\n            easing: 'easeOutCubic'\r\n        });\r\n    }\r\n    _getAttributeOptions() {\r\n        const attributeOptions = {};\r\n        const tooltipTextOption = this.el.getAttribute('data-tooltip');\r\n        const positionOption = this.el.getAttribute('data-position');\r\n        if (tooltipTextOption) {\r\n            attributeOptions.text = tooltipTextOption;\r\n        }\r\n        if (positionOption) {\r\n            attributeOptions.position = positionOption;\r\n        }\r\n        return attributeOptions;\r\n    }\r\n}\r\nexports.Tooltip = Tooltip;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQ2xDLE1BQU0sRUFBRSxjQUFjO1NBQ3ZCLENBQUMsQ0FBQztJQUNMLENBQUM7SUEwQkQsb0JBQW9CO1FBQ2xCLE1BQU0sZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO1FBQzVCLE1BQU0saUJBQWlCLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDL0QsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDN0QsSUFBSSxpQkFBaUIsRUFBRTtZQUNwQixnQkFBd0IsQ0FBQyxJQUFJLEdBQUcsaUJBQWlCLENBQUM7U0FDcEQ7UUFDRCxJQUFJLGNBQWMsRUFBRTtZQUNqQixnQkFBd0IsQ0FBQyxRQUFRLEdBQUcsY0FBYyxDQUFDO1NBQ3JEO1FBQ0QsT0FBTyxnQkFBZ0IsQ0FBQztJQUMxQixDQUFDO0NBQ0Y7QUF0UkQsMEJBc1JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL3Rvb2x0aXAudHM/Y2M5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xyXG5cclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5pbXBvcnQgeyBCb3VuZGluZyB9IGZyb20gXCIuL2JvdW5kaW5nXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgQmFzZU9wdGlvbnMsIEluaXRFbGVtZW50cywgTUVsZW1lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVG9vbHRpcE9wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogRGVsYXkgdGltZSBiZWZvcmUgdG9vbHRpcCBkaXNhcHBlYXJzLlxyXG4gICAqIEBkZWZhdWx0IDIwMFxyXG4gICAqL1xyXG4gIGV4aXREZWxheTogbnVtYmVyO1xyXG4gIC8qKlxyXG4gICAqIERlbGF5IHRpbWUgYmVmb3JlIHRvb2x0aXAgYXBwZWFycy5cclxuICAgKiBAZGVmYXVsdCAwXHJcbiAgICovXHJcbiAgZW50ZXJEZWxheTogbnVtYmVyO1xyXG4gIC8qKlxyXG4gICAqIFRleHQgc3RyaW5nIGZvciB0aGUgdG9vbHRpcC5cclxuICAgKiBAZGVmYXVsdCBcIlwiXHJcbiAgICovXHJcbiAgdGV4dDogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIFNldCBkaXN0YW5jZSB0b29sdGlwIGFwcGVhcnMgYXdheSBmcm9tIGl0cyBhY3RpdmF0b3JcclxuICAgKiBleGNsdWRpbmcgdHJhbnNpdGlvbk1vdmVtZW50LlxyXG4gICAqIEBkZWZhdWx0IDVcclxuICAgKi9cclxuICBtYXJnaW46IG51bWJlcjtcclxuICAvKipcclxuICAgKiBFbnRlciB0cmFuc2l0aW9uIGR1cmF0aW9uLlxyXG4gICAqIEBkZWZhdWx0IDMwMFxyXG4gICAqL1xyXG4gIGluRHVyYXRpb246IG51bWJlcjtcclxuICAvKipcclxuICAgKiBPcGFjaXR5IG9mIHRoZSB0b29sdGlwLlxyXG4gICAqIEBkZWZhdWx0IDFcclxuICAgKi9cclxuICBvcGFjaXR5OiBudW1iZXI7XHJcbiAgLyoqXHJcbiAgICogRXhpdCB0cmFuc2l0aW9uIGR1cmF0aW9uLlxyXG4gICAqIEBkZWZhdWx0IDI1MFxyXG4gICAqL1xyXG4gIG91dER1cmF0aW9uOiBudW1iZXI7XHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSBkaXJlY3Rpb24gb2YgdGhlIHRvb2x0aXAuXHJcbiAgICogQGRlZmF1bHQgJ2JvdHRvbSdcclxuICAgKi9cclxuICBwb3NpdGlvbjogJ3RvcCcgfCAncmlnaHQnIHwgJ2JvdHRvbScgfCAnbGVmdCc7XHJcbiAgLyoqXHJcbiAgICogQW1vdW50IGluIHB4IHRoYXQgdGhlIHRvb2x0aXAgbW92ZXMgZHVyaW5nIGl0cyB0cmFuc2l0aW9uLlxyXG4gICAqIEBkZWZhdWx0IDEwXHJcbiAgICovXHJcbiAgdHJhbnNpdGlvbk1vdmVtZW50OiBudW1iZXI7XHJcbn1cclxuXHJcbmNvbnN0IF9kZWZhdWx0czogVG9vbHRpcE9wdGlvbnMgPSB7XHJcbiAgZXhpdERlbGF5OiAyMDAsXHJcbiAgZW50ZXJEZWxheTogMCxcclxuICB0ZXh0OiAnJyxcclxuICBtYXJnaW46IDUsXHJcbiAgaW5EdXJhdGlvbjogMjUwLFxyXG4gIG91dER1cmF0aW9uOiAyMDAsXHJcbiAgcG9zaXRpb246ICdib3R0b20nLFxyXG4gIHRyYW5zaXRpb25Nb3ZlbWVudDogMTAsXHJcbiAgb3BhY2l0eTogMVxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvb2x0aXAgZXh0ZW5kcyBDb21wb25lbnQ8VG9vbHRpcE9wdGlvbnM+IHtcclxuICAvKipcclxuICAgKiBJZiB0b29sdGlwIGlzIG9wZW4uXHJcbiAgICovXHJcbiAgaXNPcGVuOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIElmIHRvb2x0aXAgaXMgaG92ZXJlZC5cclxuICAgKi9cclxuICBpc0hvdmVyZWQ6IGJvb2xlYW47XHJcbiAgLyoqXHJcbiAgICogSWYgdG9vbHRpcCBpcyBmb2N1c2VkLlxyXG4gICAqL1xyXG4gIGlzRm9jdXNlZDogYm9vbGVhbjtcclxuICB0b29sdGlwRWw6IEhUTUxFbGVtZW50O1xyXG4gIHByaXZhdGUgX2V4aXREZWxheVRpbWVvdXQ6IHN0cmluZyB8IG51bWJlciB8IE5vZGVKUy5UaW1lb3V0O1xyXG4gIHByaXZhdGUgX2VudGVyRGVsYXlUaW1lb3V0OiBzdHJpbmcgfCBudW1iZXIgfCBOb2RlSlMuVGltZW91dDtcclxuICB4TW92ZW1lbnQ6IG51bWJlcjtcclxuICB5TW92ZW1lbnQ6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPFRvb2x0aXBPcHRpb25zPikge1xyXG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIFRvb2x0aXApO1xyXG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1Rvb2x0aXAgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgLi4uVG9vbHRpcC5kZWZhdWx0cyxcclxuICAgICAgLi4ub3B0aW9uc1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgIHRoaXMuaXNIb3ZlcmVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5fYXBwZW5kVG9vbHRpcEVsKCk7XHJcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKTogVG9vbHRpcE9wdGlvbnMge1xyXG4gICAgcmV0dXJuIF9kZWZhdWx0cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlIG9mIFRvb2x0aXAuXHJcbiAgICogQHBhcmFtIGVsIEhUTUwgZWxlbWVudC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBQYXJ0aWFsPFRvb2x0aXBPcHRpb25zPik6IFRvb2x0aXA7XHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFRvb2x0aXAuXHJcbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8VG9vbHRpcE9wdGlvbnM+KTogVG9vbHRpcFtdO1xyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBUb29sdGlwLlxyXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxFbGVtZW50IHwgSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxUb29sdGlwT3B0aW9ucz4gPSB7fSk6IFRvb2x0aXAgfCBUb29sdGlwW10ge1xyXG4gICAgcmV0dXJuIHN1cGVyLmluaXQoZWxzLCBvcHRpb25zLCBUb29sdGlwKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBUb29sdGlwIHtcclxuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX1Rvb2x0aXA7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy50b29sdGlwRWwucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XHJcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fVG9vbHRpcCA9IHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIF9hcHBlbmRUb29sdGlwRWwoKSB7XHJcbiAgICB0aGlzLnRvb2x0aXBFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy50b29sdGlwRWwuY2xhc3NMaXN0LmFkZCgnbWF0ZXJpYWwtdG9vbHRpcCcpO1xyXG5cclxuICAgIGNvbnN0IHRvb2x0aXBDb250ZW50RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRvb2x0aXBDb250ZW50RWwuY2xhc3NMaXN0LmFkZCgndG9vbHRpcC1jb250ZW50Jyk7XHJcbiAgICB0aGlzLl9zZXRUb29sdGlwQ29udGVudCh0b29sdGlwQ29udGVudEVsKTtcclxuICAgIHRoaXMudG9vbHRpcEVsLmFwcGVuZENoaWxkKHRvb2x0aXBDb250ZW50RWwpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnRvb2x0aXBFbCk7XHJcbiAgfVxyXG5cclxuICBfc2V0VG9vbHRpcENvbnRlbnQodG9vbHRpcENvbnRlbnRFbDogSFRNTEVsZW1lbnQpIHtcclxuICAgIHRvb2x0aXBDb250ZW50RWwuaW5uZXJUZXh0ID0gdGhpcy5vcHRpb25zLnRleHQ7XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlVG9vbHRpcENvbnRlbnQoKSB7XHJcbiAgICB0aGlzLl9zZXRUb29sdGlwQ29udGVudCh0aGlzLnRvb2x0aXBFbC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcC1jb250ZW50JykpO1xyXG4gIH1cclxuXHJcbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZU1vdXNlRW50ZXIpO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZSk7XHJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlRm9jdXMsIHRydWUpO1xyXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlQmx1ciwgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZU1vdXNlRW50ZXIpO1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZSk7XHJcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlRm9jdXMsIHRydWUpO1xyXG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlQmx1ciwgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTaG93IHRvb2x0aXAuXHJcbiAgICovXHJcbiAgb3BlbiA9IChpc01hbnVhbDogYm9vbGVhbikgPT4ge1xyXG4gICAgaWYgKHRoaXMuaXNPcGVuKSByZXR1cm47XHJcbiAgICBpc01hbnVhbCA9IGlzTWFudWFsID09PSB1bmRlZmluZWQgPyB0cnVlIDogdW5kZWZpbmVkOyAvLyBEZWZhdWx0IHZhbHVlIHRydWVcclxuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcclxuICAgIC8vIFVwZGF0ZSB0b29sdGlwIGNvbnRlbnQgd2l0aCBIVE1MIGF0dHJpYnV0ZSBvcHRpb25zXHJcbiAgICB0aGlzLm9wdGlvbnMgPSB7Li4udGhpcy5vcHRpb25zLCAuLi50aGlzLl9nZXRBdHRyaWJ1dGVPcHRpb25zKCl9O1xyXG4gICAgdGhpcy5fdXBkYXRlVG9vbHRpcENvbnRlbnQoKTtcclxuICAgIHRoaXMuX3NldEVudGVyRGVsYXlUaW1lb3V0KGlzTWFudWFsKTtcclxuICB9XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogSGlkZSB0b29sdGlwLlxyXG4gICAqL1xyXG4gIGNsb3NlID0gKCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLmlzT3BlbikgcmV0dXJuO1xyXG4gICAgdGhpcy5pc0hvdmVyZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7XHJcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgdGhpcy5fc2V0RXhpdERlbGF5VGltZW91dCgpO1xyXG4gIH1cclxuXHJcbiAgX3NldEV4aXREZWxheVRpbWVvdXQoKSB7XHJcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fZXhpdERlbGF5VGltZW91dCk7XHJcbiAgICB0aGlzLl9leGl0RGVsYXlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmlzSG92ZXJlZCB8fCB0aGlzLmlzRm9jdXNlZCkgcmV0dXJuO1xyXG4gICAgICB0aGlzLl9hbmltYXRlT3V0KCk7XHJcbiAgICB9LCB0aGlzLm9wdGlvbnMuZXhpdERlbGF5KTtcclxuICB9XHJcblxyXG4gIF9zZXRFbnRlckRlbGF5VGltZW91dChpc01hbnVhbCkge1xyXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX2VudGVyRGVsYXlUaW1lb3V0KTtcclxuICAgIHRoaXMuX2VudGVyRGVsYXlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGlmICghdGhpcy5pc0hvdmVyZWQgJiYgIXRoaXMuaXNGb2N1c2VkICYmICFpc01hbnVhbCkgcmV0dXJuO1xyXG4gICAgICB0aGlzLl9hbmltYXRlSW4oKTtcclxuICAgIH0sIHRoaXMub3B0aW9ucy5lbnRlckRlbGF5KTtcclxuICB9XHJcblxyXG4gIF9wb3NpdGlvblRvb2x0aXAoKSB7XHJcbiAgICBjb25zdCB0b29sdGlwOiBIVE1MRWxlbWVudCA9IHRoaXMudG9vbHRpcEVsO1xyXG4gICAgY29uc3Qgb3JpZ2luID0gKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLFxyXG4gICAgICBvcmlnaW5IZWlnaHQgPSBvcmlnaW4ub2Zmc2V0SGVpZ2h0LFxyXG4gICAgICBvcmlnaW5XaWR0aCA9IG9yaWdpbi5vZmZzZXRXaWR0aCxcclxuICAgICAgdG9vbHRpcEhlaWdodCA9IHRvb2x0aXAub2Zmc2V0SGVpZ2h0LFxyXG4gICAgICB0b29sdGlwV2lkdGggPSB0b29sdGlwLm9mZnNldFdpZHRoLFxyXG4gICAgICBtYXJnaW4gPSB0aGlzLm9wdGlvbnMubWFyZ2luO1xyXG5cclxuICAgICh0aGlzLnhNb3ZlbWVudCA9IDApLCAodGhpcy55TW92ZW1lbnQgPSAwKTtcclxuXHJcbiAgICBsZXQgdGFyZ2V0VG9wID0gb3JpZ2luLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIFV0aWxzLmdldERvY3VtZW50U2Nyb2xsVG9wKCk7XHJcbiAgICBsZXQgdGFyZ2V0TGVmdCA9IG9yaWdpbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgVXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCk7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLnBvc2l0aW9uID09PSAndG9wJykge1xyXG4gICAgICB0YXJnZXRUb3AgKz0gLXRvb2x0aXBIZWlnaHQgLSBtYXJnaW47XHJcbiAgICAgIHRhcmdldExlZnQgKz0gb3JpZ2luV2lkdGggLyAyIC0gdG9vbHRpcFdpZHRoIC8gMjtcclxuICAgICAgdGhpcy55TW92ZW1lbnQgPSAtdGhpcy5vcHRpb25zLnRyYW5zaXRpb25Nb3ZlbWVudDtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnBvc2l0aW9uID09PSAncmlnaHQnKSB7XHJcbiAgICAgIHRhcmdldFRvcCArPSBvcmlnaW5IZWlnaHQgLyAyIC0gdG9vbHRpcEhlaWdodCAvIDI7XHJcbiAgICAgIHRhcmdldExlZnQgKz0gb3JpZ2luV2lkdGggKyBtYXJnaW47XHJcbiAgICAgIHRoaXMueE1vdmVtZW50ID0gdGhpcy5vcHRpb25zLnRyYW5zaXRpb25Nb3ZlbWVudDtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnBvc2l0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgdGFyZ2V0VG9wICs9IG9yaWdpbkhlaWdodCAvIDIgLSB0b29sdGlwSGVpZ2h0IC8gMjtcclxuICAgICAgdGFyZ2V0TGVmdCArPSAtdG9vbHRpcFdpZHRoIC0gbWFyZ2luO1xyXG4gICAgICB0aGlzLnhNb3ZlbWVudCA9IC10aGlzLm9wdGlvbnMudHJhbnNpdGlvbk1vdmVtZW50O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGFyZ2V0VG9wICs9IG9yaWdpbkhlaWdodCArIG1hcmdpbjtcclxuICAgICAgdGFyZ2V0TGVmdCArPSBvcmlnaW5XaWR0aCAvIDIgLSB0b29sdGlwV2lkdGggLyAyO1xyXG4gICAgICB0aGlzLnlNb3ZlbWVudCA9IHRoaXMub3B0aW9ucy50cmFuc2l0aW9uTW92ZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3Q29vcmRpbmF0ZXMgPSB0aGlzLl9yZXBvc2l0aW9uV2l0aGluU2NyZWVuKFxyXG4gICAgICB0YXJnZXRMZWZ0LFxyXG4gICAgICB0YXJnZXRUb3AsXHJcbiAgICAgIHRvb2x0aXBXaWR0aCxcclxuICAgICAgdG9vbHRpcEhlaWdodFxyXG4gICAgKTtcclxuXHJcbiAgICB0b29sdGlwLnN0eWxlLnRvcCA9IG5ld0Nvb3JkaW5hdGVzLnkrJ3B4JztcclxuICAgIHRvb2x0aXAuc3R5bGUubGVmdCA9IG5ld0Nvb3JkaW5hdGVzLngrJ3B4JztcclxuICB9XHJcblxyXG4gIF9yZXBvc2l0aW9uV2l0aGluU2NyZWVuKHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xyXG4gICAgY29uc3Qgc2Nyb2xsTGVmdCA9IFV0aWxzLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpO1xyXG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gVXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKTtcclxuICAgIGxldCBuZXdYID0geCAtIHNjcm9sbExlZnQ7XHJcbiAgICBsZXQgbmV3WSA9IHkgLSBzY3JvbGxUb3A7XHJcblxyXG4gICAgY29uc3QgYm91bmRpbmc6IEJvdW5kaW5nID0ge1xyXG4gICAgICBsZWZ0OiBuZXdYLFxyXG4gICAgICB0b3A6IG5ld1ksXHJcbiAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgaGVpZ2h0OiBoZWlnaHRcclxuICAgIH07XHJcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLm9wdGlvbnMubWFyZ2luICsgdGhpcy5vcHRpb25zLnRyYW5zaXRpb25Nb3ZlbWVudDtcclxuICAgIGNvbnN0IGVkZ2VzID0gVXRpbHMuY2hlY2tXaXRoaW5Db250YWluZXIoZG9jdW1lbnQuYm9keSwgYm91bmRpbmcsIG9mZnNldCk7XHJcblxyXG4gICAgaWYgKGVkZ2VzLmxlZnQpIHtcclxuICAgICAgbmV3WCA9IG9mZnNldDtcclxuICAgIH0gZWxzZSBpZiAoZWRnZXMucmlnaHQpIHtcclxuICAgICAgbmV3WCAtPSBuZXdYICsgd2lkdGggLSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIH1cclxuICAgIGlmIChlZGdlcy50b3ApIHtcclxuICAgICAgbmV3WSA9IG9mZnNldDtcclxuICAgIH0gZWxzZSBpZiAoZWRnZXMuYm90dG9tKSB7XHJcbiAgICAgIG5ld1kgLT0gbmV3WSArIGhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IG5ld1ggKyBzY3JvbGxMZWZ0LFxyXG4gICAgICB5OiBuZXdZICsgc2Nyb2xsVG9wXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgX2FuaW1hdGVJbigpIHtcclxuICAgIHRoaXMuX3Bvc2l0aW9uVG9vbHRpcCgpO1xyXG4gICAgdGhpcy50b29sdGlwRWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcclxuICAgIGFuaW0ucmVtb3ZlKHRoaXMudG9vbHRpcEVsKTtcclxuICAgIGFuaW0oe1xyXG4gICAgICB0YXJnZXRzOiB0aGlzLnRvb2x0aXBFbCxcclxuICAgICAgb3BhY2l0eTogdGhpcy5vcHRpb25zLm9wYWNpdHkgfHwgMSxcclxuICAgICAgdHJhbnNsYXRlWDogdGhpcy54TW92ZW1lbnQsXHJcbiAgICAgIHRyYW5zbGF0ZVk6IHRoaXMueU1vdmVtZW50LFxyXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXHJcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRDdWJpYydcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2FuaW1hdGVPdXQoKSB7XHJcbiAgICBhbmltLnJlbW92ZSh0aGlzLnRvb2x0aXBFbCk7XHJcbiAgICBhbmltKHtcclxuICAgICAgdGFyZ2V0czogdGhpcy50b29sdGlwRWwsXHJcbiAgICAgIG9wYWNpdHk6IDAsXHJcbiAgICAgIHRyYW5zbGF0ZVg6IDAsXHJcbiAgICAgIHRyYW5zbGF0ZVk6IDAsXHJcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMub3V0RHVyYXRpb24sXHJcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRDdWJpYydcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZU1vdXNlRW50ZXIgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmlzSG92ZXJlZCA9IHRydWU7XHJcbiAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlOyAvLyBBbGxvd3MgY2xvc2Ugb2YgdG9vbHRpcCB3aGVuIG9wZW5lZCBieSBmb2N1cy5cclxuICAgIHRoaXMub3BlbihmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTW91c2VMZWF2ZSA9ICgpID0+IHtcclxuICAgIHRoaXMuaXNIb3ZlcmVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlOyAvLyBBbGxvd3MgY2xvc2Ugb2YgdG9vbHRpcCB3aGVuIG9wZW5lZCBieSBmb2N1cy5cclxuICAgIHRoaXMuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVGb2N1cyA9ICgpID0+IHtcclxuICAgIGlmIChVdGlscy50YWJQcmVzc2VkKSB7XHJcbiAgICAgIHRoaXMuaXNGb2N1c2VkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5vcGVuKGZhbHNlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVCbHVyID0gKCkgPT4ge1xyXG4gICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIF9nZXRBdHRyaWJ1dGVPcHRpb25zKCkge1xyXG4gICAgY29uc3QgYXR0cmlidXRlT3B0aW9ucyA9IHt9O1xyXG4gICAgY29uc3QgdG9vbHRpcFRleHRPcHRpb24gPSB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwJyk7XHJcbiAgICBjb25zdCBwb3NpdGlvbk9wdGlvbiA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBvc2l0aW9uJyk7XHJcbiAgICBpZiAodG9vbHRpcFRleHRPcHRpb24pIHtcclxuICAgICAgKGF0dHJpYnV0ZU9wdGlvbnMgYXMgYW55KS50ZXh0ID0gdG9vbHRpcFRleHRPcHRpb247XHJcbiAgICB9XHJcbiAgICBpZiAocG9zaXRpb25PcHRpb24pIHtcclxuICAgICAgKGF0dHJpYnV0ZU9wdGlvbnMgYXMgYW55KS5wb3NpdGlvbiA9IHBvc2l0aW9uT3B0aW9uO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGF0dHJpYnV0ZU9wdGlvbnM7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/tooltip.ts\n");

/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Utils = void 0;\r\n/**\r\n * Class with utilitary functions for global usage.\r\n */\r\nclass Utils {\r\n    /**\r\n     * Detects when a key is pressed.\r\n     * @param e Event instance.\r\n     */\r\n    static docHandleKeydown(e) {\r\n        Utils.keyDown = true;\r\n        if ([...Utils.keys.TAB, ...Utils.keys.ARROW_DOWN, ...Utils.keys.ARROW_UP].includes(e.key)) {\r\n            Utils.tabPressed = true;\r\n        }\r\n    }\r\n    /**\r\n     * Detects when a key is released.\r\n     * @param e Event instance.\r\n     */\r\n    static docHandleKeyup(e) {\r\n        Utils.keyDown = false;\r\n        if ([...Utils.keys.TAB, ...Utils.keys.ARROW_DOWN, ...Utils.keys.ARROW_UP].includes(e.key)) {\r\n            Utils.tabPressed = false;\r\n        }\r\n    }\r\n    /**\r\n     * Detects when document is focused.\r\n     * @param e Event instance.\r\n     */\r\n    static docHandleFocus(e) {\r\n        if (Utils.keyDown) {\r\n            document.body.classList.add('keyboard-focused');\r\n        }\r\n    }\r\n    /**\r\n     * Detects when document is not focused.\r\n     * @param e Event instance.\r\n     */\r\n    static docHandleBlur(e) {\r\n        document.body.classList.remove('keyboard-focused');\r\n    }\r\n    /**\r\n     * Generates a unique string identifier.\r\n     */\r\n    static guid() {\r\n        const s4 = () => {\r\n            return Math.floor((1 + Math.random()) * 0x10000)\r\n                .toString(16)\r\n                .substring(1);\r\n        };\r\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\r\n    }\r\n    /**\r\n     * Checks for exceeded edges\r\n     * @param container Container element.\r\n     * @param bounding Bounding rect.\r\n     * @param offset Element offset.\r\n     */\r\n    static checkWithinContainer(container, bounding, offset) {\r\n        let edges = {\r\n            top: false,\r\n            right: false,\r\n            bottom: false,\r\n            left: false\r\n        };\r\n        let containerRect = container.getBoundingClientRect();\r\n        // If body element is smaller than viewport, use viewport height instead.\r\n        let containerBottom = container === document.body\r\n            ? Math.max(containerRect.bottom, window.innerHeight)\r\n            : containerRect.bottom;\r\n        let scrollLeft = container.scrollLeft;\r\n        let scrollTop = container.scrollTop;\r\n        let scrolledX = bounding.left - scrollLeft;\r\n        let scrolledY = bounding.top - scrollTop;\r\n        // Check for container and viewport for each edge\r\n        if (scrolledX < containerRect.left + offset || scrolledX < offset) {\r\n            edges.left = true;\r\n        }\r\n        if (scrolledX + bounding.width > containerRect.right - offset ||\r\n            scrolledX + bounding.width > window.innerWidth - offset) {\r\n            edges.right = true;\r\n        }\r\n        if (scrolledY < containerRect.top + offset || scrolledY < offset) {\r\n            edges.top = true;\r\n        }\r\n        if (scrolledY + bounding.height > containerBottom - offset ||\r\n            scrolledY + bounding.height > window.innerHeight - offset) {\r\n            edges.bottom = true;\r\n        }\r\n        return edges;\r\n    }\r\n    /**\r\n     * Checks if element can be aligned in multiple directions.\r\n     * @param el Element to be inspected.\r\n     * @param container Container element.\r\n     * @param bounding Bounding rect.\r\n     * @param offset Element offset.\r\n     */\r\n    static checkPossibleAlignments(el, container, bounding, offset) {\r\n        let canAlign = {\r\n            top: true,\r\n            right: true,\r\n            bottom: true,\r\n            left: true,\r\n            spaceOnTop: null,\r\n            spaceOnRight: null,\r\n            spaceOnBottom: null,\r\n            spaceOnLeft: null\r\n        };\r\n        let containerAllowsOverflow = getComputedStyle(container).overflow === 'visible';\r\n        let containerRect = container.getBoundingClientRect();\r\n        let containerHeight = Math.min(containerRect.height, window.innerHeight);\r\n        let containerWidth = Math.min(containerRect.width, window.innerWidth);\r\n        let elOffsetRect = el.getBoundingClientRect();\r\n        let scrollLeft = container.scrollLeft;\r\n        let scrollTop = container.scrollTop;\r\n        let scrolledX = bounding.left - scrollLeft;\r\n        let scrolledYTopEdge = bounding.top - scrollTop;\r\n        let scrolledYBottomEdge = bounding.top + elOffsetRect.height - scrollTop;\r\n        // Check for container and viewport for left\r\n        canAlign.spaceOnRight = !containerAllowsOverflow\r\n            ? containerWidth - (scrolledX + bounding.width)\r\n            : window.innerWidth - (elOffsetRect.left + bounding.width);\r\n        if (canAlign.spaceOnRight < 0) {\r\n            canAlign.left = false;\r\n        }\r\n        // Check for container and viewport for Right\r\n        canAlign.spaceOnLeft = !containerAllowsOverflow\r\n            ? scrolledX - bounding.width + elOffsetRect.width\r\n            : elOffsetRect.right - bounding.width;\r\n        if (canAlign.spaceOnLeft < 0) {\r\n            canAlign.right = false;\r\n        }\r\n        // Check for container and viewport for Top\r\n        canAlign.spaceOnBottom = !containerAllowsOverflow\r\n            ? containerHeight - (scrolledYTopEdge + bounding.height + offset)\r\n            : window.innerHeight - (elOffsetRect.top + bounding.height + offset);\r\n        if (canAlign.spaceOnBottom < 0) {\r\n            canAlign.top = false;\r\n        }\r\n        // Check for container and viewport for Bottom\r\n        canAlign.spaceOnTop = !containerAllowsOverflow\r\n            ? scrolledYBottomEdge - (bounding.height - offset)\r\n            : elOffsetRect.bottom - (bounding.height + offset);\r\n        if (canAlign.spaceOnTop < 0) {\r\n            canAlign.bottom = false;\r\n        }\r\n        return canAlign;\r\n    }\r\n    /**\r\n     * Retrieves target element id from trigger.\r\n     * @param trigger Trigger element.\r\n     */\r\n    static getIdFromTrigger(trigger) {\r\n        let id = trigger.dataset.target;\r\n        if (!id) {\r\n            id = trigger.getAttribute('href');\r\n            return id ? id.slice(1) : '';\r\n        }\r\n        return id;\r\n    }\r\n    /**\r\n     * Retrieves document scroll postion from top.\r\n     */\r\n    static getDocumentScrollTop() {\r\n        return window.scrollY || document.documentElement.scrollTop || document.body.scrollTop || 0;\r\n    }\r\n    ;\r\n    /**\r\n     * Retrieves document scroll postion from left.\r\n     */\r\n    static getDocumentScrollLeft() {\r\n        return window.scrollX || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\r\n    }\r\n    /**\r\n     * Fires the given function after a certain ammount of time.\r\n     * @param func Function to be fired.\r\n     * @param wait Wait time.\r\n     * @param options Additional options.\r\n     */\r\n    static throttle(func, wait, options = null) {\r\n        let context, args, result;\r\n        let timeout = null;\r\n        let previous = 0;\r\n        options || (options = {});\r\n        let later = function () {\r\n            previous = options.leading === false ? 0 : new Date().getTime();\r\n            timeout = null;\r\n            result = func.apply(context, args);\r\n            context = args = null;\r\n        };\r\n        return function () {\r\n            let now = new Date().getTime();\r\n            if (!previous && options.leading === false)\r\n                previous = now;\r\n            let remaining = wait - (now - previous);\r\n            context = this;\r\n            args = arguments;\r\n            if (remaining <= 0) {\r\n                clearTimeout(timeout);\r\n                timeout = null;\r\n                previous = now;\r\n                result = func.apply(context, args);\r\n                context = args = null;\r\n            }\r\n            else if (!timeout && options.trailing !== false) {\r\n                timeout = setTimeout(later, remaining);\r\n            }\r\n            return result;\r\n        };\r\n    }\r\n}\r\nexports.Utils = Utils;\r\n/** Specifies wether tab is pressed or not. */\r\nUtils.tabPressed = false;\r\n/** Specifies wether there is a key pressed. */\r\nUtils.keyDown = false;\r\n/**\r\n * Key maps.\r\n */\r\nUtils.keys = {\r\n    TAB: ['Tab'],\r\n    ENTER: ['Enter'],\r\n    ESC: ['Escape', 'Esc'],\r\n    BACKSPACE: ['Backspace'],\r\n    ARROW_UP: ['ArrowUp', 'Up'],\r\n    ARROW_DOWN: ['ArrowDown', 'Down'],\r\n    ARROW_LEFT: ['ArrowLeft', 'Left'],\r\n    ARROW_RIGHT: ['ArrowRight', 'Right'],\r\n    DELETE: ['Delete', 'Del'],\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bkMsK0NBQStDO0FBQ3hDLGFBQU8sR0FBWSxLQUFLLENBQUM7QUFFaEM7O0dBRUc7QUFDSSxVQUFJLEdBQUc7SUFDWixHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7SUFDWixLQUFLLEVBQUUsQ0FBQyxPQUFPLENBQUM7SUFDaEIsR0FBRyxFQUFFLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQztJQUN0QixTQUFTLEVBQUUsQ0FBQyxXQUFXLENBQUM7SUFDeEIsUUFBUSxFQUFFLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQztJQUMzQixVQUFVLEVBQUUsQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDO0lBQ2pDLFVBQVUsRUFBRSxDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUM7SUFDakMsV0FBVyxFQUFFLENBQUMsWUFBWSxFQUFFLE9BQU8sQ0FBQztJQUNwQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDO0NBQzFCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvdXRpbHMudHM/N2RkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZGdlcyB9IGZyb20gJy4vZWRnZXMnO1xyXG5pbXBvcnQgeyBCb3VuZGluZyB9IGZyb20gJy4vYm91bmRpbmcnO1xyXG5cclxuLyoqXHJcbiAqIENsYXNzIHdpdGggdXRpbGl0YXJ5IGZ1bmN0aW9ucyBmb3IgZ2xvYmFsIHVzYWdlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcclxuICAvKiogU3BlY2lmaWVzIHdldGhlciB0YWIgaXMgcHJlc3NlZCBvciBub3QuICovXHJcbiAgc3RhdGljIHRhYlByZXNzZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAvKiogU3BlY2lmaWVzIHdldGhlciB0aGVyZSBpcyBhIGtleSBwcmVzc2VkLiAqL1xyXG4gIHN0YXRpYyBrZXlEb3duOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIC8qKlxyXG4gICAqIEtleSBtYXBzLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBrZXlzID0ge1xyXG4gICAgVEFCOiBbJ1RhYiddLFxyXG4gICAgRU5URVI6IFsnRW50ZXInXSxcclxuICAgIEVTQzogWydFc2NhcGUnLCAnRXNjJ10sXHJcbiAgICBCQUNLU1BBQ0U6IFsnQmFja3NwYWNlJ10sXHJcbiAgICBBUlJPV19VUDogWydBcnJvd1VwJywgJ1VwJ10sXHJcbiAgICBBUlJPV19ET1dOOiBbJ0Fycm93RG93bicsICdEb3duJ10sXHJcbiAgICBBUlJPV19MRUZUOiBbJ0Fycm93TGVmdCcsICdMZWZ0J10sXHJcbiAgICBBUlJPV19SSUdIVDogWydBcnJvd1JpZ2h0JywgJ1JpZ2h0J10sXHJcbiAgICBERUxFVEU6IFsnRGVsZXRlJywgJ0RlbCddLFxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVjdHMgd2hlbiBhIGtleSBpcyBwcmVzc2VkLlxyXG4gICAqIEBwYXJhbSBlIEV2ZW50IGluc3RhbmNlLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBkb2NIYW5kbGVLZXlkb3duKGU6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgIFV0aWxzLmtleURvd24gPSB0cnVlO1xyXG4gICAgaWYgKFsuLi5VdGlscy5rZXlzLlRBQiwgLi4uVXRpbHMua2V5cy5BUlJPV19ET1dOLCAuLi5VdGlscy5rZXlzLkFSUk9XX1VQXS5pbmNsdWRlcyhlLmtleSkpIHtcclxuICAgICAgVXRpbHMudGFiUHJlc3NlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlY3RzIHdoZW4gYSBrZXkgaXMgcmVsZWFzZWQuXHJcbiAgICogQHBhcmFtIGUgRXZlbnQgaW5zdGFuY2UuXHJcbiAgICovXHJcbiAgc3RhdGljIGRvY0hhbmRsZUtleXVwKGU6IEtleWJvYXJkRXZlbnQpIHtcclxuICAgIFV0aWxzLmtleURvd24gPSBmYWxzZTtcclxuICAgIGlmIChbLi4uVXRpbHMua2V5cy5UQUIsIC4uLlV0aWxzLmtleXMuQVJST1dfRE9XTiwgLi4uVXRpbHMua2V5cy5BUlJPV19VUF0uaW5jbHVkZXMoZS5rZXkpKSB7XHJcbiAgICAgIFV0aWxzLnRhYlByZXNzZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVjdHMgd2hlbiBkb2N1bWVudCBpcyBmb2N1c2VkLlxyXG4gICAqIEBwYXJhbSBlIEV2ZW50IGluc3RhbmNlLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBkb2NIYW5kbGVGb2N1cyhlOiBGb2N1c0V2ZW50KSB7XHJcbiAgICBpZiAoVXRpbHMua2V5RG93bikge1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2tleWJvYXJkLWZvY3VzZWQnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVjdHMgd2hlbiBkb2N1bWVudCBpcyBub3QgZm9jdXNlZC5cclxuICAgKiBAcGFyYW0gZSBFdmVudCBpbnN0YW5jZS5cclxuICAgKi9cclxuICBzdGF0aWMgZG9jSGFuZGxlQmx1cihlOiBGb2N1c0V2ZW50KSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2tleWJvYXJkLWZvY3VzZWQnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlcyBhIHVuaXF1ZSBzdHJpbmcgaWRlbnRpZmllci5cclxuICAgKi9cclxuICBzdGF0aWMgZ3VpZCgpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgczQgPSAoKTogc3RyaW5nID0+IHtcclxuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApXHJcbiAgICAgICAgLnRvU3RyaW5nKDE2KVxyXG4gICAgICAgIC5zdWJzdHJpbmcoMSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gczQoKSArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArIHM0KCkgKyAnLScgKyBzNCgpICsgczQoKSArIHM0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVja3MgZm9yIGV4Y2VlZGVkIGVkZ2VzXHJcbiAgICogQHBhcmFtIGNvbnRhaW5lciBDb250YWluZXIgZWxlbWVudC5cclxuICAgKiBAcGFyYW0gYm91bmRpbmcgQm91bmRpbmcgcmVjdC5cclxuICAgKiBAcGFyYW0gb2Zmc2V0IEVsZW1lbnQgb2Zmc2V0LlxyXG4gICAqL1xyXG4gIHN0YXRpYyBjaGVja1dpdGhpbkNvbnRhaW5lcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBib3VuZGluZzogQm91bmRpbmcsIG9mZnNldDogbnVtYmVyKTogRWRnZXMge1xyXG4gICAgbGV0IGVkZ2VzID0ge1xyXG4gICAgICB0b3A6IGZhbHNlLFxyXG4gICAgICByaWdodDogZmFsc2UsXHJcbiAgICAgIGJvdHRvbTogZmFsc2UsXHJcbiAgICAgIGxlZnQ6IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIGxldCBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgLy8gSWYgYm9keSBlbGVtZW50IGlzIHNtYWxsZXIgdGhhbiB2aWV3cG9ydCwgdXNlIHZpZXdwb3J0IGhlaWdodCBpbnN0ZWFkLlxyXG4gICAgbGV0IGNvbnRhaW5lckJvdHRvbSA9XHJcbiAgICAgIGNvbnRhaW5lciA9PT0gZG9jdW1lbnQuYm9keVxyXG4gICAgICAgID8gTWF0aC5tYXgoY29udGFpbmVyUmVjdC5ib3R0b20sIHdpbmRvdy5pbm5lckhlaWdodClcclxuICAgICAgICA6IGNvbnRhaW5lclJlY3QuYm90dG9tO1xyXG5cclxuICAgIGxldCBzY3JvbGxMZWZ0ID0gY29udGFpbmVyLnNjcm9sbExlZnQ7XHJcbiAgICBsZXQgc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcDtcclxuXHJcbiAgICBsZXQgc2Nyb2xsZWRYID0gYm91bmRpbmcubGVmdCAtIHNjcm9sbExlZnQ7XHJcbiAgICBsZXQgc2Nyb2xsZWRZID0gYm91bmRpbmcudG9wIC0gc2Nyb2xsVG9wO1xyXG5cclxuICAgIC8vIENoZWNrIGZvciBjb250YWluZXIgYW5kIHZpZXdwb3J0IGZvciBlYWNoIGVkZ2VcclxuICAgIGlmIChzY3JvbGxlZFggPCBjb250YWluZXJSZWN0LmxlZnQgKyBvZmZzZXQgfHwgc2Nyb2xsZWRYIDwgb2Zmc2V0KSB7XHJcbiAgICAgIGVkZ2VzLmxlZnQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChcclxuICAgICAgc2Nyb2xsZWRYICsgYm91bmRpbmcud2lkdGggPiBjb250YWluZXJSZWN0LnJpZ2h0IC0gb2Zmc2V0IHx8XHJcbiAgICAgIHNjcm9sbGVkWCArIGJvdW5kaW5nLndpZHRoID4gd2luZG93LmlubmVyV2lkdGggLSBvZmZzZXRcclxuICAgICkge1xyXG4gICAgICBlZGdlcy5yaWdodCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNjcm9sbGVkWSA8IGNvbnRhaW5lclJlY3QudG9wICsgb2Zmc2V0IHx8IHNjcm9sbGVkWSA8IG9mZnNldCkge1xyXG4gICAgICBlZGdlcy50b3AgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChcclxuICAgICAgc2Nyb2xsZWRZICsgYm91bmRpbmcuaGVpZ2h0ID4gY29udGFpbmVyQm90dG9tIC0gb2Zmc2V0IHx8XHJcbiAgICAgIHNjcm9sbGVkWSArIGJvdW5kaW5nLmhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCAtIG9mZnNldFxyXG4gICAgKSB7XHJcbiAgICAgIGVkZ2VzLmJvdHRvbSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGVkZ2VzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2tzIGlmIGVsZW1lbnQgY2FuIGJlIGFsaWduZWQgaW4gbXVsdGlwbGUgZGlyZWN0aW9ucy5cclxuICAgKiBAcGFyYW0gZWwgRWxlbWVudCB0byBiZSBpbnNwZWN0ZWQuXHJcbiAgICogQHBhcmFtIGNvbnRhaW5lciBDb250YWluZXIgZWxlbWVudC5cclxuICAgKiBAcGFyYW0gYm91bmRpbmcgQm91bmRpbmcgcmVjdC5cclxuICAgKiBAcGFyYW0gb2Zmc2V0IEVsZW1lbnQgb2Zmc2V0LlxyXG4gICAqL1xyXG4gIHN0YXRpYyBjaGVja1Bvc3NpYmxlQWxpZ25tZW50cyhlbDogSFRNTEVsZW1lbnQsIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGJvdW5kaW5nOiBCb3VuZGluZywgb2Zmc2V0OiBudW1iZXIpIHtcclxuICAgIGxldCBjYW5BbGlnbjoge1xyXG4gICAgICB0b3A6IGJvb2xlYW4sXHJcbiAgICAgIHJpZ2h0OiBib29sZWFuLFxyXG4gICAgICBib3R0b206IGJvb2xlYW4sXHJcbiAgICAgIGxlZnQ6IGJvb2xlYW4sXHJcbiAgICAgIHNwYWNlT25Ub3A6IG51bWJlcixcclxuICAgICAgc3BhY2VPblJpZ2h0OiBudW1iZXIsXHJcbiAgICAgIHNwYWNlT25Cb3R0b206IG51bWJlclxyXG4gICAgICBzcGFjZU9uTGVmdDogbnVtYmVyXHJcbiAgICB9ID0ge1xyXG4gICAgICB0b3A6IHRydWUsXHJcbiAgICAgIHJpZ2h0OiB0cnVlLFxyXG4gICAgICBib3R0b206IHRydWUsXHJcbiAgICAgIGxlZnQ6IHRydWUsXHJcbiAgICAgIHNwYWNlT25Ub3A6IG51bGwsXHJcbiAgICAgIHNwYWNlT25SaWdodDogbnVsbCxcclxuICAgICAgc3BhY2VPbkJvdHRvbTogbnVsbCxcclxuICAgICAgc3BhY2VPbkxlZnQ6IG51bGxcclxuICAgIH07XHJcblxyXG4gICAgbGV0IGNvbnRhaW5lckFsbG93c092ZXJmbG93ID0gZ2V0Q29tcHV0ZWRTdHlsZShjb250YWluZXIpLm92ZXJmbG93ID09PSAndmlzaWJsZSc7XHJcbiAgICBsZXQgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGxldCBjb250YWluZXJIZWlnaHQgPSBNYXRoLm1pbihjb250YWluZXJSZWN0LmhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuICAgIGxldCBjb250YWluZXJXaWR0aCA9IE1hdGgubWluKGNvbnRhaW5lclJlY3Qud2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoKTtcclxuICAgIGxldCBlbE9mZnNldFJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICBsZXQgc2Nyb2xsTGVmdCA9IGNvbnRhaW5lci5zY3JvbGxMZWZ0O1xyXG4gICAgbGV0IHNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxUb3A7XHJcblxyXG4gICAgbGV0IHNjcm9sbGVkWCA9IGJvdW5kaW5nLmxlZnQgLSBzY3JvbGxMZWZ0O1xyXG4gICAgbGV0IHNjcm9sbGVkWVRvcEVkZ2UgPSBib3VuZGluZy50b3AgLSBzY3JvbGxUb3A7XHJcbiAgICBsZXQgc2Nyb2xsZWRZQm90dG9tRWRnZSA9IGJvdW5kaW5nLnRvcCArIGVsT2Zmc2V0UmVjdC5oZWlnaHQgLSBzY3JvbGxUb3A7XHJcblxyXG4gICAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIGxlZnRcclxuICAgIGNhbkFsaWduLnNwYWNlT25SaWdodCA9ICFjb250YWluZXJBbGxvd3NPdmVyZmxvd1xyXG4gICAgICA/IGNvbnRhaW5lcldpZHRoIC0gKHNjcm9sbGVkWCArIGJvdW5kaW5nLndpZHRoKVxyXG4gICAgICA6IHdpbmRvdy5pbm5lcldpZHRoIC0gKGVsT2Zmc2V0UmVjdC5sZWZ0ICsgYm91bmRpbmcud2lkdGgpO1xyXG4gICAgaWYgKGNhbkFsaWduLnNwYWNlT25SaWdodCA8IDApIHtcclxuICAgICAgY2FuQWxpZ24ubGVmdCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGZvciBjb250YWluZXIgYW5kIHZpZXdwb3J0IGZvciBSaWdodFxyXG4gICAgY2FuQWxpZ24uc3BhY2VPbkxlZnQgPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3dcclxuICAgICAgPyBzY3JvbGxlZFggLSBib3VuZGluZy53aWR0aCArIGVsT2Zmc2V0UmVjdC53aWR0aFxyXG4gICAgICA6IGVsT2Zmc2V0UmVjdC5yaWdodCAtIGJvdW5kaW5nLndpZHRoO1xyXG4gICAgaWYgKGNhbkFsaWduLnNwYWNlT25MZWZ0IDwgMCkge1xyXG4gICAgICBjYW5BbGlnbi5yaWdodCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGZvciBjb250YWluZXIgYW5kIHZpZXdwb3J0IGZvciBUb3BcclxuICAgIGNhbkFsaWduLnNwYWNlT25Cb3R0b20gPSAhY29udGFpbmVyQWxsb3dzT3ZlcmZsb3dcclxuICAgICAgPyBjb250YWluZXJIZWlnaHQgLSAoc2Nyb2xsZWRZVG9wRWRnZSArIGJvdW5kaW5nLmhlaWdodCArIG9mZnNldClcclxuICAgICAgOiB3aW5kb3cuaW5uZXJIZWlnaHQgLSAoZWxPZmZzZXRSZWN0LnRvcCArIGJvdW5kaW5nLmhlaWdodCArIG9mZnNldCk7XHJcbiAgICBpZiAoY2FuQWxpZ24uc3BhY2VPbkJvdHRvbSA8IDApIHtcclxuICAgICAgY2FuQWxpZ24udG9wID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgZm9yIGNvbnRhaW5lciBhbmQgdmlld3BvcnQgZm9yIEJvdHRvbVxyXG4gICAgY2FuQWxpZ24uc3BhY2VPblRvcCA9ICFjb250YWluZXJBbGxvd3NPdmVyZmxvd1xyXG4gICAgICA/IHNjcm9sbGVkWUJvdHRvbUVkZ2UgLSAoYm91bmRpbmcuaGVpZ2h0IC0gb2Zmc2V0KVxyXG4gICAgICA6IGVsT2Zmc2V0UmVjdC5ib3R0b20gLSAoYm91bmRpbmcuaGVpZ2h0ICsgb2Zmc2V0KTtcclxuICAgIGlmIChjYW5BbGlnbi5zcGFjZU9uVG9wIDwgMCkge1xyXG4gICAgICBjYW5BbGlnbi5ib3R0b20gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY2FuQWxpZ247XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXRyaWV2ZXMgdGFyZ2V0IGVsZW1lbnQgaWQgZnJvbSB0cmlnZ2VyLlxyXG4gICAqIEBwYXJhbSB0cmlnZ2VyIFRyaWdnZXIgZWxlbWVudC5cclxuICAgKi9cclxuICBzdGF0aWMgZ2V0SWRGcm9tVHJpZ2dlcih0cmlnZ2VyOiBIVE1MRWxlbWVudCk6IHN0cmluZyB7XHJcbiAgICBsZXQgaWQgPSB0cmlnZ2VyLmRhdGFzZXQudGFyZ2V0O1xyXG4gICAgaWYgKCFpZCkge1xyXG4gICAgICBpZCA9IHRyaWdnZXIuZ2V0QXR0cmlidXRlKCdocmVmJyk7XHJcbiAgICAgIHJldHVybiBpZCA/IGlkLnNsaWNlKDEpIDogJyc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXRyaWV2ZXMgZG9jdW1lbnQgc2Nyb2xsIHBvc3Rpb24gZnJvbSB0b3AuXHJcbiAgICovXHJcbiAgc3RhdGljIGdldERvY3VtZW50U2Nyb2xsVG9wKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gd2luZG93LnNjcm9sbFkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHJpZXZlcyBkb2N1bWVudCBzY3JvbGwgcG9zdGlvbiBmcm9tIGxlZnQuXHJcbiAgICovXHJcbiAgc3RhdGljIGdldERvY3VtZW50U2Nyb2xsTGVmdCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHdpbmRvdy5zY3JvbGxYIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCB8fCAwO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRmlyZXMgdGhlIGdpdmVuIGZ1bmN0aW9uIGFmdGVyIGEgY2VydGFpbiBhbW1vdW50IG9mIHRpbWUuXHJcbiAgICogQHBhcmFtIGZ1bmMgRnVuY3Rpb24gdG8gYmUgZmlyZWQuXHJcbiAgICogQHBhcmFtIHdhaXQgV2FpdCB0aW1lLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEFkZGl0aW9uYWwgb3B0aW9ucy5cclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHRocm90dGxlKGZ1bmM6IEZ1bmN0aW9uLCB3YWl0OiBudW1iZXIsIG9wdGlvbnM6IFBhcnRpYWw8e2xlYWRpbmc6Ym9vbGVhbix0cmFpbGluZzpib29sZWFufT4gPSBudWxsKSB7XHJcbiAgICBsZXQgY29udGV4dDogb2JqZWN0LCBhcmdzOiBJQXJndW1lbnRzLCByZXN1bHQ6IGFueTtcclxuICAgIGxldCB0aW1lb3V0ID0gbnVsbDtcclxuICAgIGxldCBwcmV2aW91cyA9IDA7XHJcbiAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xyXG4gICAgbGV0IGxhdGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgdGltZW91dCA9IG51bGw7XHJcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XHJcbiAgICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgaWYgKCFwcmV2aW91cyAmJiBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlKSBwcmV2aW91cyA9IG5vdztcclxuICAgICAgbGV0IHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xyXG4gICAgICBjb250ZXh0ID0gdGhpcztcclxuICAgICAgYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgIHByZXZpb3VzID0gbm93O1xyXG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XHJcbiAgICAgICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xyXG4gICAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils.ts\n");

/***/ }),

/***/ "./src/waves.ts":
/*!**********************!*\
  !*** ./src/waves.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Waves = void 0;\r\nclass Waves {\r\n    static _offset(el) {\r\n        const box = el.getBoundingClientRect();\r\n        const docElem = document.documentElement;\r\n        return {\r\n            top: box.top + window.pageYOffset - docElem.clientTop,\r\n            left: box.left + window.pageXOffset - docElem.clientLeft\r\n        };\r\n    }\r\n    // https://phoenix-dx.com/css-techniques-for-material-ripple-effect/\r\n    static renderWaveEffect(targetElement, position = null, color = null) {\r\n        const isCentered = position === null;\r\n        const duration = 500;\r\n        let animationFrame, animationStart;\r\n        const animationStep = function (timestamp) {\r\n            if (!animationStart) {\r\n                animationStart = timestamp;\r\n            }\r\n            const frame = timestamp - animationStart;\r\n            if (frame < duration) {\r\n                const easing = (frame / duration) * (2 - (frame / duration));\r\n                const circle = isCentered ? 'circle at 50% 50%' : `circle at ${position.x}px ${position.y}px`;\r\n                const waveColor = `rgba(${(color === null || color === void 0 ? void 0 : color.r) || 0}, ${(color === null || color === void 0 ? void 0 : color.g) || 0}, ${(color === null || color === void 0 ? void 0 : color.b) || 0}, ${0.3 * (1 - easing)})`;\r\n                const stop = 90 * easing + \"%\";\r\n                targetElement.style.backgroundImage = \"radial-gradient(\" + circle + \", \" + waveColor + \" \" + stop + \", transparent \" + stop + \")\";\r\n                animationFrame = window.requestAnimationFrame(animationStep);\r\n            }\r\n            else {\r\n                targetElement.style.backgroundImage = 'none';\r\n                window.cancelAnimationFrame(animationFrame);\r\n            }\r\n        };\r\n        animationFrame = window.requestAnimationFrame(animationStep);\r\n    }\r\n    static Init() {\r\n        document.addEventListener(\"DOMContentLoaded\", () => {\r\n            document.body.addEventListener('click', e => {\r\n                const trigger = e.target;\r\n                const el = trigger.closest('.waves-effect');\r\n                if (el && el.contains(trigger)) {\r\n                    const isCircular = el.classList.contains('waves-circle');\r\n                    const x = e.pageX - Waves._offset(el).left;\r\n                    const y = e.pageY - Waves._offset(el).top;\r\n                    let color = null;\r\n                    if (el.classList.contains('waves-light'))\r\n                        color = { r: 255, g: 255, b: 255 };\r\n                    Waves.renderWaveEffect(el, isCircular ? null : { x, y }, color);\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.Waves = Waves;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO2dCQUN6RCxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFO29CQUM5QixNQUFNLFVBQVUsR0FBRyxFQUFFLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztvQkFDekQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQztvQkFDM0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQztvQkFFMUMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDO29CQUNqQixJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQzt3QkFDdEMsS0FBSyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUMsR0FBRyxFQUFFLENBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQztvQkFFaEMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7aUJBQy9EO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUVMLENBQUM7Q0FDRjtBQTFERCxzQkEwREMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvd2F2ZXMudHM/MjFiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIFJHQkNvbG9yID0ge1xyXG4gIHI6IG51bWJlcixcclxuICBnOiBudW1iZXIsXHJcbiAgYjogbnVtYmVyLFxyXG59XHJcblxyXG50eXBlIFBvc2l0aW9uID0ge1xyXG4gIHg6IG51bWJlcixcclxuICB5OiBudW1iZXIsXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBXYXZlcyB7XHJcblxyXG4gIHByaXZhdGUgc3RhdGljIF9vZmZzZXQoZWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBjb25zdCBib3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0b3A6IGJveC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSBkb2NFbGVtLmNsaWVudFRvcCxcclxuICAgICAgbGVmdDogYm94LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQgLSBkb2NFbGVtLmNsaWVudExlZnRcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBodHRwczovL3Bob2VuaXgtZHguY29tL2Nzcy10ZWNobmlxdWVzLWZvci1tYXRlcmlhbC1yaXBwbGUtZWZmZWN0L1xyXG5cclxuICBwdWJsaWMgc3RhdGljIHJlbmRlcldhdmVFZmZlY3QodGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQsIHBvc2l0aW9uOiBQb3NpdGlvbnxudWxsID0gbnVsbCwgY29sb3I6IFJHQkNvbG9yfG51bGwgPSBudWxsKTogdm9pZCB7XHJcbiAgICBjb25zdCBpc0NlbnRlcmVkID0gcG9zaXRpb24gPT09IG51bGw7XHJcbiAgICBjb25zdCBkdXJhdGlvbiA9IDUwMDtcclxuICAgIGxldCBhbmltYXRpb25GcmFtZTogbnVtYmVyLCBhbmltYXRpb25TdGFydDogbnVtYmVyO1xyXG4gICAgY29uc3QgYW5pbWF0aW9uU3RlcCA9IGZ1bmN0aW9uKHRpbWVzdGFtcDogbnVtYmVyKSB7XHJcbiAgICAgIGlmICghYW5pbWF0aW9uU3RhcnQpIHtcclxuICAgICAgICBhbmltYXRpb25TdGFydCA9IHRpbWVzdGFtcDtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBmcmFtZSA9IHRpbWVzdGFtcCAtIGFuaW1hdGlvblN0YXJ0O1xyXG4gICAgICBpZiAoZnJhbWUgPCBkdXJhdGlvbikge1xyXG4gICAgICAgIGNvbnN0IGVhc2luZyA9IChmcmFtZS9kdXJhdGlvbikgKiAoMiAtIChmcmFtZS9kdXJhdGlvbikpO1xyXG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IGlzQ2VudGVyZWQgPyAnY2lyY2xlIGF0IDUwJSA1MCUnIDogYGNpcmNsZSBhdCAke3Bvc2l0aW9uLnh9cHggJHtwb3NpdGlvbi55fXB4YDtcclxuICAgICAgICBjb25zdCB3YXZlQ29sb3IgPSBgcmdiYSgke2NvbG9yPy5yIHx8IDB9LCAke2NvbG9yPy5nIHx8IDB9LCAke2NvbG9yPy5iIHx8IDB9LCAkeyAwLjMgKiAoMS1lYXNpbmcpIH0pYDtcclxuICAgICAgICBjb25zdCBzdG9wID0gOTAgKiBlYXNpbmcgKyBcIiVcIjtcclxuICAgICAgICB0YXJnZXRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwicmFkaWFsLWdyYWRpZW50KFwiK2NpcmNsZStcIiwgXCIrd2F2ZUNvbG9yK1wiIFwiK3N0b3ArXCIsIHRyYW5zcGFyZW50IFwiK3N0b3ArXCIpXCI7XHJcbiAgICAgICAgYW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblN0ZXApO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ25vbmUnO1xyXG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBhbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uU3RlcCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgSW5pdCgpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyaWdnZXIgPSA8SFRNTEVsZW1lbnQ+ZS50YXJnZXQ7XHJcbiAgICAgICAgY29uc3QgZWwgPSA8SFRNTEVsZW1lbnQ+dHJpZ2dlci5jbG9zZXN0KCcud2F2ZXMtZWZmZWN0Jyk7XHJcbiAgICAgICAgaWYgKGVsICYmIGVsLmNvbnRhaW5zKHRyaWdnZXIpKSB7XHJcbiAgICAgICAgICBjb25zdCBpc0NpcmN1bGFyID0gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd3YXZlcy1jaXJjbGUnKTtcclxuICAgICAgICAgIGNvbnN0IHggPSBlLnBhZ2VYIC0gV2F2ZXMuX29mZnNldChlbCkubGVmdDtcclxuICAgICAgICAgIGNvbnN0IHkgPSBlLnBhZ2VZIC0gV2F2ZXMuX29mZnNldChlbCkudG9wO1xyXG5cclxuICAgICAgICAgIGxldCBjb2xvciA9IG51bGw7XHJcbiAgICAgICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd3YXZlcy1saWdodCcpKVxyXG4gICAgICAgICAgICBjb2xvciA9IHtyOjI1NSwgZzoyNTUsIGI6MjU1fTtcclxuXHJcbiAgICAgICAgICBXYXZlcy5yZW5kZXJXYXZlRWZmZWN0KGVsLCBpc0NpcmN1bGFyID8gbnVsbCA6IHt4LCB5fSwgY29sb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/waves.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/global.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});