/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(this, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/animejs/lib/anime.es.js":
/*!**********************************************!*\
  !*** ./node_modules/animejs/lib/anime.es.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*\n * anime.js v3.2.1\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  nil: function (a) { return is.und(a) || a === null; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; },\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright Â© 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n    eases['easeOutIn' + name] = function (a, b) { return function (t) { return t < 0.5 ? (1 - easeIn(a, b)(1 - t * 2)) / 2 : \n      (easeIn(a, b)(t * 2 - 1) + 1) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (!is.nil(getAttribute(el, prop)) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width,\n    h: height,\n    vW: viewBox[2],\n    vH: viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress, isPathTargetInsideSVG) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  var scaleX = isPathTargetInsideSVG ? 1 : svg.w / svg.vW;\n  var scaleY = isPathTargetInsideSVG ? 1 : svg.h / svg.vH;\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * scaleX;\n    case 'y': return (p.y - svg.y) * scaleY;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isPathTargetInsideSVG = tween.isPath && is.svg(animatable.target);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\n\nvar engine = (function () {\n  var raf;\n\n  function play() {\n    if (!raf && (!isDocumentHidden() || !anime.suspendWhenDocumentHidden) && activeInstances.length > 0) {\n      raf = requestAnimationFrame(step);\n    }\n  }\n  function step(t) {\n    // memo on algorithm issue:\n    // dangerous iteration over mutable `activeInstances`\n    // (that collection may be updated from within callbacks of `tick`-ed animation instances)\n    var activeInstancesLength = activeInstances.length;\n    var i = 0;\n    while (i < activeInstancesLength) {\n      var activeInstance = activeInstances[i];\n      if (!activeInstance.paused) {\n        activeInstance.tick(t);\n        i++;\n      } else {\n        activeInstances.splice(i, 1);\n        activeInstancesLength--;\n      }\n    }\n    raf = i > 0 ? requestAnimationFrame(step) : undefined;\n  }\n\n  function handleVisibilityChange() {\n    if (!anime.suspendWhenDocumentHidden) { return; }\n\n    if (isDocumentHidden()) {\n      // suspend ticks\n      raf = cancelAnimationFrame(raf);\n    } else { // is back to active tab\n      // first adjust animations to consider the time that ticks were suspended\n      activeInstances.forEach(\n        function (instance) { return instance ._onDocumentVisibility(); }\n      );\n      engine();\n    }\n  }\n  if (typeof document !== 'undefined') {\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n  }\n\n  return play;\n})();\n\nfunction isDocumentHidden() {\n  return !!document && document.hidden;\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber, tween.isPathTargetInsideSVG);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // internal method (for engine) to adjust animation timings before restoring engine ticks (rAF)\n  instance._onDocumentVisibility = resetTime;\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    engine();\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.remove = function(targets) {\n    var targetsArray = parseTargets(targets);\n    removeTargetsFromInstance(targetsArray, instance);\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargetsFromInstance(targetsArray, instance) {\n  var animations = instance.animations;\n  var children = instance.children;\n  removeTargetsFromAnimations(targetsArray, animations);\n  for (var c = children.length; c--;) {\n    var child = children[c];\n    var childAnimations = child.animations;\n    removeTargetsFromAnimations(targetsArray, childAnimations);\n    if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n  }\n  if (!animations.length && !children.length) { instance.pause(); }\n}\n\nfunction removeTargetsFromActiveInstances(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    removeTargetsFromInstance(targetsArray, instance);\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.1';\nanime.speed = 1;\n// TODO:#review: naming, documentation\nanime.suspendWhenDocumentHidden = true;\nanime.running = activeInstances;\nanime.remove = removeTargetsFromActiveInstances;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (anime);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYW5pbWVqcy9saWIvYW5pbWUuZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsMEJBQTBCO0FBQ2hELHNCQUFzQixxRUFBcUU7QUFDM0Ysc0JBQXNCLHNEQUFzRDtBQUM1RSxzQkFBc0IsaUNBQWlDO0FBQ3ZELHNCQUFzQix1Q0FBdUM7QUFDN0Qsc0JBQXNCLGlDQUFpQztBQUN2RCxzQkFBc0IsK0JBQStCO0FBQ3JELHNCQUFzQixpQ0FBaUM7QUFDdkQsc0JBQXNCLGtDQUFrQztBQUN4RCxzQkFBc0IsaUNBQWlDO0FBQ3ZELHNCQUFzQixvQkFBb0IsRUFBRSxlQUFlLEVBQUUsZUFBZTtBQUM1RSxzQkFBc0Isd0JBQXdCO0FBQzlDLHNCQUFzQix3QkFBd0I7QUFDOUMsc0JBQXNCLCtDQUErQztBQUNyRSxzQkFBc0IsdUlBQXVJO0FBQzdKOztBQUVBOztBQUVBO0FBQ0E7QUFDQSx3REFBd0QsdUJBQXVCO0FBQy9FOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLFFBQVE7QUFD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QUk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixzQkFBc0I7QUFDdEIsb0JBQW9CO0FBQ3BCO0FBQ0EsMEJBQTBCLFdBQVc7QUFDckM7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5Qiw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscUNBQXFDLDJDQUEyQztBQUNwRyxxQ0FBcUMscUNBQXFDLHVFQUF1RTtBQUNqSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QixnQ0FBZ0M7QUFDaEMsb0JBQW9CLHFCQUFxQixPQUFPO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDOztBQUVyQyxpRUFBZSxLQUFLLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9ub2RlX21vZHVsZXMvYW5pbWVqcy9saWIvYW5pbWUuZXMuanM/MTIwOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogYW5pbWUuanMgdjMuMi4xXG4gKiAoYykgMjAyMCBKdWxpYW4gR2FybmllclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBhbmltZWpzLmNvbVxuICovXG5cbi8vIERlZmF1bHRzXG5cbnZhciBkZWZhdWx0SW5zdGFuY2VTZXR0aW5ncyA9IHtcbiAgdXBkYXRlOiBudWxsLFxuICBiZWdpbjogbnVsbCxcbiAgbG9vcEJlZ2luOiBudWxsLFxuICBjaGFuZ2VCZWdpbjogbnVsbCxcbiAgY2hhbmdlOiBudWxsLFxuICBjaGFuZ2VDb21wbGV0ZTogbnVsbCxcbiAgbG9vcENvbXBsZXRlOiBudWxsLFxuICBjb21wbGV0ZTogbnVsbCxcbiAgbG9vcDogMSxcbiAgZGlyZWN0aW9uOiAnbm9ybWFsJyxcbiAgYXV0b3BsYXk6IHRydWUsXG4gIHRpbWVsaW5lT2Zmc2V0OiAwXG59O1xuXG52YXIgZGVmYXVsdFR3ZWVuU2V0dGluZ3MgPSB7XG4gIGR1cmF0aW9uOiAxMDAwLFxuICBkZWxheTogMCxcbiAgZW5kRGVsYXk6IDAsXG4gIGVhc2luZzogJ2Vhc2VPdXRFbGFzdGljKDEsIC41KScsXG4gIHJvdW5kOiAwXG59O1xuXG52YXIgdmFsaWRUcmFuc2Zvcm1zID0gWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAndHJhbnNsYXRlWicsICdyb3RhdGUnLCAncm90YXRlWCcsICdyb3RhdGVZJywgJ3JvdGF0ZVonLCAnc2NhbGUnLCAnc2NhbGVYJywgJ3NjYWxlWScsICdzY2FsZVonLCAnc2tldycsICdza2V3WCcsICdza2V3WScsICdwZXJzcGVjdGl2ZScsICdtYXRyaXgnLCAnbWF0cml4M2QnXTtcblxuLy8gQ2FjaGluZ1xuXG52YXIgY2FjaGUgPSB7XG4gIENTUzoge30sXG4gIHNwcmluZ3M6IHt9XG59O1xuXG4vLyBVdGlsc1xuXG5mdW5jdGlvbiBtaW5NYXgodmFsLCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsLCBtaW4pLCBtYXgpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdDb250YWlucyhzdHIsIHRleHQpIHtcbiAgcmV0dXJuIHN0ci5pbmRleE9mKHRleHQpID4gLTE7XG59XG5cbmZ1bmN0aW9uIGFwcGx5QXJndW1lbnRzKGZ1bmMsIGFyZ3MpIHtcbiAgcmV0dXJuIGZ1bmMuYXBwbHkobnVsbCwgYXJncyk7XG59XG5cbnZhciBpcyA9IHtcbiAgYXJyOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gQXJyYXkuaXNBcnJheShhKTsgfSxcbiAgb2JqOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gc3RyaW5nQ29udGFpbnMoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpLCAnT2JqZWN0Jyk7IH0sXG4gIHB0aDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGlzLm9iaihhKSAmJiBhLmhhc093blByb3BlcnR5KCd0b3RhbExlbmd0aCcpOyB9LFxuICBzdmc6IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhIGluc3RhbmNlb2YgU1ZHRWxlbWVudDsgfSxcbiAgaW5wOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQ7IH0sXG4gIGRvbTogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEubm9kZVR5cGUgfHwgaXMuc3ZnKGEpOyB9LFxuICBzdHI6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ3N0cmluZyc7IH0sXG4gIGZuYzogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHR5cGVvZiBhID09PSAnZnVuY3Rpb24nOyB9LFxuICB1bmQ6IGZ1bmN0aW9uIChhKSB7IHJldHVybiB0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCc7IH0sXG4gIG5pbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGlzLnVuZChhKSB8fCBhID09PSBudWxsOyB9LFxuICBoZXg6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAvKF4jWzAtOUEtRl17Nn0kKXwoXiNbMC05QS1GXXszfSQpL2kudGVzdChhKTsgfSxcbiAgcmdiOiBmdW5jdGlvbiAoYSkgeyByZXR1cm4gL15yZ2IvLnRlc3QoYSk7IH0sXG4gIGhzbDogZnVuY3Rpb24gKGEpIHsgcmV0dXJuIC9eaHNsLy50ZXN0KGEpOyB9LFxuICBjb2w6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAoaXMuaGV4KGEpIHx8IGlzLnJnYihhKSB8fCBpcy5oc2woYSkpOyB9LFxuICBrZXk6IGZ1bmN0aW9uIChhKSB7IHJldHVybiAhZGVmYXVsdEluc3RhbmNlU2V0dGluZ3MuaGFzT3duUHJvcGVydHkoYSkgJiYgIWRlZmF1bHRUd2VlblNldHRpbmdzLmhhc093blByb3BlcnR5KGEpICYmIGEgIT09ICd0YXJnZXRzJyAmJiBhICE9PSAna2V5ZnJhbWVzJzsgfSxcbn07XG5cbi8vIEVhc2luZ3NcblxuZnVuY3Rpb24gcGFyc2VFYXNpbmdQYXJhbWV0ZXJzKHN0cmluZykge1xuICB2YXIgbWF0Y2ggPSAvXFwoKFteKV0rKVxcKS8uZXhlYyhzdHJpbmcpO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAocCkgeyByZXR1cm4gcGFyc2VGbG9hdChwKTsgfSkgOiBbXTtcbn1cblxuLy8gU3ByaW5nIHNvbHZlciBpbnNwaXJlZCBieSBXZWJraXQgQ29weXJpZ2h0IMKpIDIwMTYgQXBwbGUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLiBodHRwczovL3dlYmtpdC5vcmcvZGVtb3Mvc3ByaW5nL3NwcmluZy5qc1xuXG5mdW5jdGlvbiBzcHJpbmcoc3RyaW5nLCBkdXJhdGlvbikge1xuXG4gIHZhciBwYXJhbXMgPSBwYXJzZUVhc2luZ1BhcmFtZXRlcnMoc3RyaW5nKTtcbiAgdmFyIG1hc3MgPSBtaW5NYXgoaXMudW5kKHBhcmFtc1swXSkgPyAxIDogcGFyYW1zWzBdLCAuMSwgMTAwKTtcbiAgdmFyIHN0aWZmbmVzcyA9IG1pbk1heChpcy51bmQocGFyYW1zWzFdKSA/IDEwMCA6IHBhcmFtc1sxXSwgLjEsIDEwMCk7XG4gIHZhciBkYW1waW5nID0gbWluTWF4KGlzLnVuZChwYXJhbXNbMl0pID8gMTAgOiBwYXJhbXNbMl0sIC4xLCAxMDApO1xuICB2YXIgdmVsb2NpdHkgPSAgbWluTWF4KGlzLnVuZChwYXJhbXNbM10pID8gMCA6IHBhcmFtc1szXSwgLjEsIDEwMCk7XG4gIHZhciB3MCA9IE1hdGguc3FydChzdGlmZm5lc3MgLyBtYXNzKTtcbiAgdmFyIHpldGEgPSBkYW1waW5nIC8gKDIgKiBNYXRoLnNxcnQoc3RpZmZuZXNzICogbWFzcykpO1xuICB2YXIgd2QgPSB6ZXRhIDwgMSA/IHcwICogTWF0aC5zcXJ0KDEgLSB6ZXRhICogemV0YSkgOiAwO1xuICB2YXIgYSA9IDE7XG4gIHZhciBiID0gemV0YSA8IDEgPyAoemV0YSAqIHcwICsgLXZlbG9jaXR5KSAvIHdkIDogLXZlbG9jaXR5ICsgdzA7XG5cbiAgZnVuY3Rpb24gc29sdmVyKHQpIHtcbiAgICB2YXIgcHJvZ3Jlc3MgPSBkdXJhdGlvbiA/IChkdXJhdGlvbiAqIHQpIC8gMTAwMCA6IHQ7XG4gICAgaWYgKHpldGEgPCAxKSB7XG4gICAgICBwcm9ncmVzcyA9IE1hdGguZXhwKC1wcm9ncmVzcyAqIHpldGEgKiB3MCkgKiAoYSAqIE1hdGguY29zKHdkICogcHJvZ3Jlc3MpICsgYiAqIE1hdGguc2luKHdkICogcHJvZ3Jlc3MpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvZ3Jlc3MgPSAoYSArIGIgKiBwcm9ncmVzcykgKiBNYXRoLmV4cCgtcHJvZ3Jlc3MgKiB3MCk7XG4gICAgfVxuICAgIGlmICh0ID09PSAwIHx8IHQgPT09IDEpIHsgcmV0dXJuIHQ7IH1cbiAgICByZXR1cm4gMSAtIHByb2dyZXNzO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RHVyYXRpb24oKSB7XG4gICAgdmFyIGNhY2hlZCA9IGNhY2hlLnNwcmluZ3Nbc3RyaW5nXTtcbiAgICBpZiAoY2FjaGVkKSB7IHJldHVybiBjYWNoZWQ7IH1cbiAgICB2YXIgZnJhbWUgPSAxLzY7XG4gICAgdmFyIGVsYXBzZWQgPSAwO1xuICAgIHZhciByZXN0ID0gMDtcbiAgICB3aGlsZSh0cnVlKSB7XG4gICAgICBlbGFwc2VkICs9IGZyYW1lO1xuICAgICAgaWYgKHNvbHZlcihlbGFwc2VkKSA9PT0gMSkge1xuICAgICAgICByZXN0Kys7XG4gICAgICAgIGlmIChyZXN0ID49IDE2KSB7IGJyZWFrOyB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN0ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGR1cmF0aW9uID0gZWxhcHNlZCAqIGZyYW1lICogMTAwMDtcbiAgICBjYWNoZS5zcHJpbmdzW3N0cmluZ10gPSBkdXJhdGlvbjtcbiAgICByZXR1cm4gZHVyYXRpb247XG4gIH1cblxuICByZXR1cm4gZHVyYXRpb24gPyBzb2x2ZXIgOiBnZXREdXJhdGlvbjtcblxufVxuXG4vLyBCYXNpYyBzdGVwcyBlYXNpbmcgaW1wbGVtZW50YXRpb24gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZnIvZG9jcy9XZWIvQ1NTL3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXG5cbmZ1bmN0aW9uIHN0ZXBzKHN0ZXBzKSB7XG4gIGlmICggc3RlcHMgPT09IHZvaWQgMCApIHN0ZXBzID0gMTA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiBNYXRoLmNlaWwoKG1pbk1heCh0LCAwLjAwMDAwMSwgMSkpICogc3RlcHMpICogKDEgLyBzdGVwcyk7IH07XG59XG5cbi8vIEJlemllckVhc2luZyBodHRwczovL2dpdGh1Yi5jb20vZ3JlL2Jlemllci1lYXNpbmdcblxudmFyIGJlemllciA9IChmdW5jdGlvbiAoKSB7XG5cbiAgdmFyIGtTcGxpbmVUYWJsZVNpemUgPSAxMTtcbiAgdmFyIGtTYW1wbGVTdGVwU2l6ZSA9IDEuMCAvIChrU3BsaW5lVGFibGVTaXplIC0gMS4wKTtcblxuICBmdW5jdGlvbiBBKGFBMSwgYUEyKSB7IHJldHVybiAxLjAgLSAzLjAgKiBhQTIgKyAzLjAgKiBhQTEgfVxuICBmdW5jdGlvbiBCKGFBMSwgYUEyKSB7IHJldHVybiAzLjAgKiBhQTIgLSA2LjAgKiBhQTEgfVxuICBmdW5jdGlvbiBDKGFBMSkgICAgICB7IHJldHVybiAzLjAgKiBhQTEgfVxuXG4gIGZ1bmN0aW9uIGNhbGNCZXppZXIoYVQsIGFBMSwgYUEyKSB7IHJldHVybiAoKEEoYUExLCBhQTIpICogYVQgKyBCKGFBMSwgYUEyKSkgKiBhVCArIEMoYUExKSkgKiBhVCB9XG4gIGZ1bmN0aW9uIGdldFNsb3BlKGFULCBhQTEsIGFBMikgeyByZXR1cm4gMy4wICogQShhQTEsIGFBMikgKiBhVCAqIGFUICsgMi4wICogQihhQTEsIGFBMikgKiBhVCArIEMoYUExKSB9XG5cbiAgZnVuY3Rpb24gYmluYXJ5U3ViZGl2aWRlKGFYLCBhQSwgYUIsIG1YMSwgbVgyKSB7XG4gICAgdmFyIGN1cnJlbnRYLCBjdXJyZW50VCwgaSA9IDA7XG4gICAgZG8ge1xuICAgICAgY3VycmVudFQgPSBhQSArIChhQiAtIGFBKSAvIDIuMDtcbiAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihjdXJyZW50VCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICBpZiAoY3VycmVudFggPiAwLjApIHsgYUIgPSBjdXJyZW50VDsgfSBlbHNlIHsgYUEgPSBjdXJyZW50VDsgfVxuICAgIH0gd2hpbGUgKE1hdGguYWJzKGN1cnJlbnRYKSA+IDAuMDAwMDAwMSAmJiArK2kgPCAxMCk7XG4gICAgcmV0dXJuIGN1cnJlbnRUO1xuICB9XG5cbiAgZnVuY3Rpb24gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGFHdWVzc1QsIG1YMSwgbVgyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyArK2kpIHtcbiAgICAgIHZhciBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XG4gICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwLjApIHsgcmV0dXJuIGFHdWVzc1Q7IH1cbiAgICAgIHZhciBjdXJyZW50WCA9IGNhbGNCZXppZXIoYUd1ZXNzVCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICBhR3Vlc3NUIC09IGN1cnJlbnRYIC8gY3VycmVudFNsb3BlO1xuICAgIH1cbiAgICByZXR1cm4gYUd1ZXNzVDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJlemllcihtWDEsIG1ZMSwgbVgyLCBtWTIpIHtcblxuICAgIGlmICghKDAgPD0gbVgxICYmIG1YMSA8PSAxICYmIDAgPD0gbVgyICYmIG1YMiA8PSAxKSkgeyByZXR1cm47IH1cbiAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheShrU3BsaW5lVGFibGVTaXplKTtcblxuICAgIGlmIChtWDEgIT09IG1ZMSB8fCBtWDIgIT09IG1ZMikge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrU3BsaW5lVGFibGVTaXplOyArK2kpIHtcbiAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gY2FsY0JlemllcihpICoga1NhbXBsZVN0ZXBTaXplLCBtWDEsIG1YMik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VEZvclgoYVgpIHtcblxuICAgICAgdmFyIGludGVydmFsU3RhcnQgPSAwO1xuICAgICAgdmFyIGN1cnJlbnRTYW1wbGUgPSAxO1xuICAgICAgdmFyIGxhc3RTYW1wbGUgPSBrU3BsaW5lVGFibGVTaXplIC0gMTtcblxuICAgICAgZm9yICg7IGN1cnJlbnRTYW1wbGUgIT09IGxhc3RTYW1wbGUgJiYgc2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdIDw9IGFYOyArK2N1cnJlbnRTYW1wbGUpIHtcbiAgICAgICAgaW50ZXJ2YWxTdGFydCArPSBrU2FtcGxlU3RlcFNpemU7XG4gICAgICB9XG5cbiAgICAgIC0tY3VycmVudFNhbXBsZTtcblxuICAgICAgdmFyIGRpc3QgPSAoYVggLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pIC8gKHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlICsgMV0gLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pO1xuICAgICAgdmFyIGd1ZXNzRm9yVCA9IGludGVydmFsU3RhcnQgKyBkaXN0ICoga1NhbXBsZVN0ZXBTaXplO1xuICAgICAgdmFyIGluaXRpYWxTbG9wZSA9IGdldFNsb3BlKGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuXG4gICAgICBpZiAoaW5pdGlhbFNsb3BlID49IDAuMDAxKSB7XG4gICAgICAgIHJldHVybiBuZXd0b25SYXBoc29uSXRlcmF0ZShhWCwgZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG4gICAgICB9IGVsc2UgaWYgKGluaXRpYWxTbG9wZSA9PT0gMC4wKSB7XG4gICAgICAgIHJldHVybiBndWVzc0ZvclQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYmluYXJ5U3ViZGl2aWRlKGFYLCBpbnRlcnZhbFN0YXJ0LCBpbnRlcnZhbFN0YXJ0ICsga1NhbXBsZVN0ZXBTaXplLCBtWDEsIG1YMik7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHgpIHtcbiAgICAgIGlmIChtWDEgPT09IG1ZMSAmJiBtWDIgPT09IG1ZMikgeyByZXR1cm4geDsgfVxuICAgICAgaWYgKHggPT09IDAgfHwgeCA9PT0gMSkgeyByZXR1cm4geDsgfVxuICAgICAgcmV0dXJuIGNhbGNCZXppZXIoZ2V0VEZvclgoeCksIG1ZMSwgbVkyKTtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBiZXppZXI7XG5cbn0pKCk7XG5cbnZhciBwZW5uZXIgPSAoZnVuY3Rpb24gKCkge1xuXG4gIC8vIEJhc2VkIG9uIGpRdWVyeSBVSSdzIGltcGxlbWVuYXRpb24gb2YgZWFzaW5nIGVxdWF0aW9ucyBmcm9tIFJvYmVydCBQZW5uZXIgKGh0dHA6Ly93d3cucm9iZXJ0cGVubmVyLmNvbS9lYXNpbmcpXG5cbiAgdmFyIGVhc2VzID0geyBsaW5lYXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9OyB9IH07XG5cbiAgdmFyIGZ1bmN0aW9uRWFzaW5ncyA9IHtcbiAgICBTaW5lOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gMSAtIE1hdGguY29zKHQgKiBNYXRoLlBJIC8gMik7IH07IH0sXG4gICAgQ2lyYzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBNYXRoLnNxcnQoMSAtIHQgKiB0KTsgfTsgfSxcbiAgICBCYWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCAqIHQgKiAoMyAqIHQgLSAyKTsgfTsgfSxcbiAgICBCb3VuY2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG4gICAgICB2YXIgcG93MiwgYiA9IDQ7XG4gICAgICB3aGlsZSAodCA8ICgoIHBvdzIgPSBNYXRoLnBvdygyLCAtLWIpKSAtIDEpIC8gMTEpIHt9XG4gICAgICByZXR1cm4gMSAvIE1hdGgucG93KDQsIDMgLSBiKSAtIDcuNTYyNSAqIE1hdGgucG93KCggcG93MiAqIDMgLSAyICkgLyAyMiAtIHQsIDIpXG4gICAgfTsgfSxcbiAgICBFbGFzdGljOiBmdW5jdGlvbiAoYW1wbGl0dWRlLCBwZXJpb2QpIHtcbiAgICAgIGlmICggYW1wbGl0dWRlID09PSB2b2lkIDAgKSBhbXBsaXR1ZGUgPSAxO1xuICAgICAgaWYgKCBwZXJpb2QgPT09IHZvaWQgMCApIHBlcmlvZCA9IC41O1xuXG4gICAgICB2YXIgYSA9IG1pbk1heChhbXBsaXR1ZGUsIDEsIDEwKTtcbiAgICAgIHZhciBwID0gbWluTWF4KHBlcmlvZCwgLjEsIDIpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiAodCA9PT0gMCB8fCB0ID09PSAxKSA/IHQgOiBcbiAgICAgICAgICAtYSAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKiBNYXRoLnNpbigoKCh0IC0gMSkgLSAocCAvIChNYXRoLlBJICogMikgKiBNYXRoLmFzaW4oMSAvIGEpKSkgKiAoTWF0aC5QSSAqIDIpKSAvIHApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgYmFzZUVhc2luZ3MgPSBbJ1F1YWQnLCAnQ3ViaWMnLCAnUXVhcnQnLCAnUXVpbnQnLCAnRXhwbyddO1xuXG4gIGJhc2VFYXNpbmdzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUsIGkpIHtcbiAgICBmdW5jdGlvbkVhc2luZ3NbbmFtZV0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gTWF0aC5wb3codCwgaSArIDIpOyB9OyB9O1xuICB9KTtcblxuICBPYmplY3Qua2V5cyhmdW5jdGlvbkVhc2luZ3MpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgZWFzZUluID0gZnVuY3Rpb25FYXNpbmdzW25hbWVdO1xuICAgIGVhc2VzWydlYXNlSW4nICsgbmFtZV0gPSBlYXNlSW47XG4gICAgZWFzZXNbJ2Vhc2VPdXQnICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDEgLSBlYXNlSW4oYSwgYikoMSAtIHQpOyB9OyB9O1xuICAgIGVhc2VzWydlYXNlSW5PdXQnICsgbmFtZV0gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgPCAwLjUgPyBlYXNlSW4oYSwgYikodCAqIDIpIC8gMiA6IFxuICAgICAgMSAtIGVhc2VJbihhLCBiKSh0ICogLTIgKyAyKSAvIDI7IH07IH07XG4gICAgZWFzZXNbJ2Vhc2VPdXRJbicgKyBuYW1lXSA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdCA8IDAuNSA/ICgxIC0gZWFzZUluKGEsIGIpKDEgLSB0ICogMikpIC8gMiA6IFxuICAgICAgKGVhc2VJbihhLCBiKSh0ICogMiAtIDEpICsgMSkgLyAyOyB9OyB9O1xuICB9KTtcblxuICByZXR1cm4gZWFzZXM7XG5cbn0pKCk7XG5cbmZ1bmN0aW9uIHBhcnNlRWFzaW5ncyhlYXNpbmcsIGR1cmF0aW9uKSB7XG4gIGlmIChpcy5mbmMoZWFzaW5nKSkgeyByZXR1cm4gZWFzaW5nOyB9XG4gIHZhciBuYW1lID0gZWFzaW5nLnNwbGl0KCcoJylbMF07XG4gIHZhciBlYXNlID0gcGVubmVyW25hbWVdO1xuICB2YXIgYXJncyA9IHBhcnNlRWFzaW5nUGFyYW1ldGVycyhlYXNpbmcpO1xuICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlICdzcHJpbmcnIDogcmV0dXJuIHNwcmluZyhlYXNpbmcsIGR1cmF0aW9uKTtcbiAgICBjYXNlICdjdWJpY0JlemllcicgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoYmV6aWVyLCBhcmdzKTtcbiAgICBjYXNlICdzdGVwcycgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoc3RlcHMsIGFyZ3MpO1xuICAgIGRlZmF1bHQgOiByZXR1cm4gYXBwbHlBcmd1bWVudHMoZWFzZSwgYXJncyk7XG4gIH1cbn1cblxuLy8gU3RyaW5nc1xuXG5mdW5jdGlvbiBzZWxlY3RTdHJpbmcoc3RyKSB7XG4gIHRyeSB7XG4gICAgdmFyIG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzdHIpO1xuICAgIHJldHVybiBub2RlcztcbiAgfSBjYXRjaChlKSB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbi8vIEFycmF5c1xuXG5mdW5jdGlvbiBmaWx0ZXJBcnJheShhcnIsIGNhbGxiYWNrKSB7XG4gIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMiA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGkgaW4gYXJyKSB7XG4gICAgICB2YXIgdmFsID0gYXJyW2ldO1xuICAgICAgaWYgKGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsLCBpLCBhcnIpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5BcnJheShhcnIpIHtcbiAgcmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuY29uY2F0KGlzLmFycihiKSA/IGZsYXR0ZW5BcnJheShiKSA6IGIpOyB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkobykge1xuICBpZiAoaXMuYXJyKG8pKSB7IHJldHVybiBvOyB9XG4gIGlmIChpcy5zdHIobykpIHsgbyA9IHNlbGVjdFN0cmluZyhvKSB8fCBvOyB9XG4gIGlmIChvIGluc3RhbmNlb2YgTm9kZUxpc3QgfHwgbyBpbnN0YW5jZW9mIEhUTUxDb2xsZWN0aW9uKSB7IHJldHVybiBbXS5zbGljZS5jYWxsKG8pOyB9XG4gIHJldHVybiBbb107XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnMoYXJyLCB2YWwpIHtcbiAgcmV0dXJuIGFyci5zb21lKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhID09PSB2YWw7IH0pO1xufVxuXG4vLyBPYmplY3RzXG5cbmZ1bmN0aW9uIGNsb25lT2JqZWN0KG8pIHtcbiAgdmFyIGNsb25lID0ge307XG4gIGZvciAodmFyIHAgaW4gbykgeyBjbG9uZVtwXSA9IG9bcF07IH1cbiAgcmV0dXJuIGNsb25lO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlT2JqZWN0UHJvcHMobzEsIG8yKSB7XG4gIHZhciBvID0gY2xvbmVPYmplY3QobzEpO1xuICBmb3IgKHZhciBwIGluIG8xKSB7IG9bcF0gPSBvMi5oYXNPd25Qcm9wZXJ0eShwKSA/IG8yW3BdIDogbzFbcF07IH1cbiAgcmV0dXJuIG87XG59XG5cbmZ1bmN0aW9uIG1lcmdlT2JqZWN0cyhvMSwgbzIpIHtcbiAgdmFyIG8gPSBjbG9uZU9iamVjdChvMSk7XG4gIGZvciAodmFyIHAgaW4gbzIpIHsgb1twXSA9IGlzLnVuZChvMVtwXSkgPyBvMltwXSA6IG8xW3BdOyB9XG4gIHJldHVybiBvO1xufVxuXG4vLyBDb2xvcnNcblxuZnVuY3Rpb24gcmdiVG9SZ2JhKHJnYlZhbHVlKSB7XG4gIHZhciByZ2IgPSAvcmdiXFwoKFxcZCssXFxzKltcXGRdKyxcXHMqW1xcZF0rKVxcKS9nLmV4ZWMocmdiVmFsdWUpO1xuICByZXR1cm4gcmdiID8gKFwicmdiYShcIiArIChyZ2JbMV0pICsgXCIsMSlcIikgOiByZ2JWYWx1ZTtcbn1cblxuZnVuY3Rpb24gaGV4VG9SZ2JhKGhleFZhbHVlKSB7XG4gIHZhciByZ3ggPSAvXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pO1xuICB2YXIgaGV4ID0gaGV4VmFsdWUucmVwbGFjZShyZ3gsIGZ1bmN0aW9uIChtLCByLCBnLCBiKSB7IHJldHVybiByICsgciArIGcgKyBnICsgYiArIGI7IH0gKTtcbiAgdmFyIHJnYiA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICB2YXIgciA9IHBhcnNlSW50KHJnYlsxXSwgMTYpO1xuICB2YXIgZyA9IHBhcnNlSW50KHJnYlsyXSwgMTYpO1xuICB2YXIgYiA9IHBhcnNlSW50KHJnYlszXSwgMTYpO1xuICByZXR1cm4gKFwicmdiYShcIiArIHIgKyBcIixcIiArIGcgKyBcIixcIiArIGIgKyBcIiwxKVwiKTtcbn1cblxuZnVuY3Rpb24gaHNsVG9SZ2JhKGhzbFZhbHVlKSB7XG4gIHZhciBoc2wgPSAvaHNsXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklXFwpL2cuZXhlYyhoc2xWYWx1ZSkgfHwgL2hzbGFcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKVxcKS9nLmV4ZWMoaHNsVmFsdWUpO1xuICB2YXIgaCA9IHBhcnNlSW50KGhzbFsxXSwgMTApIC8gMzYwO1xuICB2YXIgcyA9IHBhcnNlSW50KGhzbFsyXSwgMTApIC8gMTAwO1xuICB2YXIgbCA9IHBhcnNlSW50KGhzbFszXSwgMTApIC8gMTAwO1xuICB2YXIgYSA9IGhzbFs0XSB8fCAxO1xuICBmdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcbiAgICBpZiAodCA8IDApIHsgdCArPSAxOyB9XG4gICAgaWYgKHQgPiAxKSB7IHQgLT0gMTsgfVxuICAgIGlmICh0IDwgMS82KSB7IHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0OyB9XG4gICAgaWYgKHQgPCAxLzIpIHsgcmV0dXJuIHE7IH1cbiAgICBpZiAodCA8IDIvMykgeyByZXR1cm4gcCArIChxIC0gcCkgKiAoMi8zIC0gdCkgKiA2OyB9XG4gICAgcmV0dXJuIHA7XG4gIH1cbiAgdmFyIHIsIGcsIGI7XG4gIGlmIChzID09IDApIHtcbiAgICByID0gZyA9IGIgPSBsO1xuICB9IGVsc2Uge1xuICAgIHZhciBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgICB2YXIgcCA9IDIgKiBsIC0gcTtcbiAgICByID0gaHVlMnJnYihwLCBxLCBoICsgMS8zKTtcbiAgICBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgICBiID0gaHVlMnJnYihwLCBxLCBoIC0gMS8zKTtcbiAgfVxuICByZXR1cm4gKFwicmdiYShcIiArIChyICogMjU1KSArIFwiLFwiICsgKGcgKiAyNTUpICsgXCIsXCIgKyAoYiAqIDI1NSkgKyBcIixcIiArIGEgKyBcIilcIik7XG59XG5cbmZ1bmN0aW9uIGNvbG9yVG9SZ2IodmFsKSB7XG4gIGlmIChpcy5yZ2IodmFsKSkgeyByZXR1cm4gcmdiVG9SZ2JhKHZhbCk7IH1cbiAgaWYgKGlzLmhleCh2YWwpKSB7IHJldHVybiBoZXhUb1JnYmEodmFsKTsgfVxuICBpZiAoaXMuaHNsKHZhbCkpIHsgcmV0dXJuIGhzbFRvUmdiYSh2YWwpOyB9XG59XG5cbi8vIFVuaXRzXG5cbmZ1bmN0aW9uIGdldFVuaXQodmFsKSB7XG4gIHZhciBzcGxpdCA9IC9bKy1dP1xcZCpcXC4/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPyglfHB4fHB0fGVtfHJlbXxpbnxjbXxtbXxleHxjaHxwY3x2d3x2aHx2bWlufHZtYXh8ZGVnfHJhZHx0dXJuKT8kLy5leGVjKHZhbCk7XG4gIGlmIChzcGxpdCkgeyByZXR1cm4gc3BsaXRbMV07IH1cbn1cblxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtVW5pdChwcm9wTmFtZSkge1xuICBpZiAoc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICd0cmFuc2xhdGUnKSB8fCBwcm9wTmFtZSA9PT0gJ3BlcnNwZWN0aXZlJykgeyByZXR1cm4gJ3B4JzsgfVxuICBpZiAoc3RyaW5nQ29udGFpbnMocHJvcE5hbWUsICdyb3RhdGUnKSB8fCBzdHJpbmdDb250YWlucyhwcm9wTmFtZSwgJ3NrZXcnKSkgeyByZXR1cm4gJ2RlZyc7IH1cbn1cblxuLy8gVmFsdWVzXG5cbmZ1bmN0aW9uIGdldEZ1bmN0aW9uVmFsdWUodmFsLCBhbmltYXRhYmxlKSB7XG4gIGlmICghaXMuZm5jKHZhbCkpIHsgcmV0dXJuIHZhbDsgfVxuICByZXR1cm4gdmFsKGFuaW1hdGFibGUudGFyZ2V0LCBhbmltYXRhYmxlLmlkLCBhbmltYXRhYmxlLnRvdGFsKTtcbn1cblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKGVsLCBwcm9wKSB7XG4gIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUocHJvcCk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIHtcbiAgdmFyIHZhbHVlVW5pdCA9IGdldFVuaXQodmFsdWUpO1xuICBpZiAoYXJyYXlDb250YWlucyhbdW5pdCwgJ2RlZycsICdyYWQnLCAndHVybiddLCB2YWx1ZVVuaXQpKSB7IHJldHVybiB2YWx1ZTsgfVxuICB2YXIgY2FjaGVkID0gY2FjaGUuQ1NTW3ZhbHVlICsgdW5pdF07XG4gIGlmICghaXMudW5kKGNhY2hlZCkpIHsgcmV0dXJuIGNhY2hlZDsgfVxuICB2YXIgYmFzZWxpbmUgPSAxMDA7XG4gIHZhciB0ZW1wRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsLnRhZ05hbWUpO1xuICB2YXIgcGFyZW50RWwgPSAoZWwucGFyZW50Tm9kZSAmJiAoZWwucGFyZW50Tm9kZSAhPT0gZG9jdW1lbnQpKSA/IGVsLnBhcmVudE5vZGUgOiBkb2N1bWVudC5ib2R5O1xuICBwYXJlbnRFbC5hcHBlbmRDaGlsZCh0ZW1wRWwpO1xuICB0ZW1wRWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICB0ZW1wRWwuc3R5bGUud2lkdGggPSBiYXNlbGluZSArIHVuaXQ7XG4gIHZhciBmYWN0b3IgPSBiYXNlbGluZSAvIHRlbXBFbC5vZmZzZXRXaWR0aDtcbiAgcGFyZW50RWwucmVtb3ZlQ2hpbGQodGVtcEVsKTtcbiAgdmFyIGNvbnZlcnRlZFVuaXQgPSBmYWN0b3IgKiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgY2FjaGUuQ1NTW3ZhbHVlICsgdW5pdF0gPSBjb252ZXJ0ZWRVbml0O1xuICByZXR1cm4gY29udmVydGVkVW5pdDtcbn1cblxuZnVuY3Rpb24gZ2V0Q1NTVmFsdWUoZWwsIHByb3AsIHVuaXQpIHtcbiAgaWYgKHByb3AgaW4gZWwuc3R5bGUpIHtcbiAgICB2YXIgdXBwZXJjYXNlUHJvcE5hbWUgPSBwcm9wLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHZhbHVlID0gZWwuc3R5bGVbcHJvcF0gfHwgZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSh1cHBlcmNhc2VQcm9wTmFtZSkgfHwgJzAnO1xuICAgIHJldHVybiB1bml0ID8gY29udmVydFB4VG9Vbml0KGVsLCB2YWx1ZSwgdW5pdCkgOiB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRpb25UeXBlKGVsLCBwcm9wKSB7XG4gIGlmIChpcy5kb20oZWwpICYmICFpcy5pbnAoZWwpICYmICghaXMubmlsKGdldEF0dHJpYnV0ZShlbCwgcHJvcCkpIHx8IChpcy5zdmcoZWwpICYmIGVsW3Byb3BdKSkpIHsgcmV0dXJuICdhdHRyaWJ1dGUnOyB9XG4gIGlmIChpcy5kb20oZWwpICYmIGFycmF5Q29udGFpbnModmFsaWRUcmFuc2Zvcm1zLCBwcm9wKSkgeyByZXR1cm4gJ3RyYW5zZm9ybSc7IH1cbiAgaWYgKGlzLmRvbShlbCkgJiYgKHByb3AgIT09ICd0cmFuc2Zvcm0nICYmIGdldENTU1ZhbHVlKGVsLCBwcm9wKSkpIHsgcmV0dXJuICdjc3MnOyB9XG4gIGlmIChlbFtwcm9wXSAhPSBudWxsKSB7IHJldHVybiAnb2JqZWN0JzsgfVxufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50VHJhbnNmb3JtcyhlbCkge1xuICBpZiAoIWlzLmRvbShlbCkpIHsgcmV0dXJuOyB9XG4gIHZhciBzdHIgPSBlbC5zdHlsZS50cmFuc2Zvcm0gfHwgJyc7XG4gIHZhciByZWcgID0gLyhcXHcrKVxcKChbXildKilcXCkvZztcbiAgdmFyIHRyYW5zZm9ybXMgPSBuZXcgTWFwKCk7XG4gIHZhciBtOyB3aGlsZSAobSA9IHJlZy5leGVjKHN0cikpIHsgdHJhbnNmb3Jtcy5zZXQobVsxXSwgbVsyXSk7IH1cbiAgcmV0dXJuIHRyYW5zZm9ybXM7XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVZhbHVlKGVsLCBwcm9wTmFtZSwgYW5pbWF0YWJsZSwgdW5pdCkge1xuICB2YXIgZGVmYXVsdFZhbCA9IHN0cmluZ0NvbnRhaW5zKHByb3BOYW1lLCAnc2NhbGUnKSA/IDEgOiAwICsgZ2V0VHJhbnNmb3JtVW5pdChwcm9wTmFtZSk7XG4gIHZhciB2YWx1ZSA9IGdldEVsZW1lbnRUcmFuc2Zvcm1zKGVsKS5nZXQocHJvcE5hbWUpIHx8IGRlZmF1bHRWYWw7XG4gIGlmIChhbmltYXRhYmxlKSB7XG4gICAgYW5pbWF0YWJsZS50cmFuc2Zvcm1zLmxpc3Quc2V0KHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgYW5pbWF0YWJsZS50cmFuc2Zvcm1zWydsYXN0J10gPSBwcm9wTmFtZTtcbiAgfVxuICByZXR1cm4gdW5pdCA/IGNvbnZlcnRQeFRvVW5pdChlbCwgdmFsdWUsIHVuaXQpIDogdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGdldE9yaWdpbmFsVGFyZ2V0VmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgdW5pdCwgYW5pbWF0YWJsZSkge1xuICBzd2l0Y2ggKGdldEFuaW1hdGlvblR5cGUodGFyZ2V0LCBwcm9wTmFtZSkpIHtcbiAgICBjYXNlICd0cmFuc2Zvcm0nOiByZXR1cm4gZ2V0VHJhbnNmb3JtVmFsdWUodGFyZ2V0LCBwcm9wTmFtZSwgYW5pbWF0YWJsZSwgdW5pdCk7XG4gICAgY2FzZSAnY3NzJzogcmV0dXJuIGdldENTU1ZhbHVlKHRhcmdldCwgcHJvcE5hbWUsIHVuaXQpO1xuICAgIGNhc2UgJ2F0dHJpYnV0ZSc6IHJldHVybiBnZXRBdHRyaWJ1dGUodGFyZ2V0LCBwcm9wTmFtZSk7XG4gICAgZGVmYXVsdDogcmV0dXJuIHRhcmdldFtwcm9wTmFtZV0gfHwgMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRSZWxhdGl2ZVZhbHVlKHRvLCBmcm9tKSB7XG4gIHZhciBvcGVyYXRvciA9IC9eKFxcKj18XFwrPXwtPSkvLmV4ZWModG8pO1xuICBpZiAoIW9wZXJhdG9yKSB7IHJldHVybiB0bzsgfVxuICB2YXIgdSA9IGdldFVuaXQodG8pIHx8IDA7XG4gIHZhciB4ID0gcGFyc2VGbG9hdChmcm9tKTtcbiAgdmFyIHkgPSBwYXJzZUZsb2F0KHRvLnJlcGxhY2Uob3BlcmF0b3JbMF0sICcnKSk7XG4gIHN3aXRjaCAob3BlcmF0b3JbMF1bMF0pIHtcbiAgICBjYXNlICcrJzogcmV0dXJuIHggKyB5ICsgdTtcbiAgICBjYXNlICctJzogcmV0dXJuIHggLSB5ICsgdTtcbiAgICBjYXNlICcqJzogcmV0dXJuIHggKiB5ICsgdTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVZhbHVlKHZhbCwgdW5pdCkge1xuICBpZiAoaXMuY29sKHZhbCkpIHsgcmV0dXJuIGNvbG9yVG9SZ2IodmFsKTsgfVxuICBpZiAoL1xccy9nLnRlc3QodmFsKSkgeyByZXR1cm4gdmFsOyB9XG4gIHZhciBvcmlnaW5hbFVuaXQgPSBnZXRVbml0KHZhbCk7XG4gIHZhciB1bml0TGVzcyA9IG9yaWdpbmFsVW5pdCA/IHZhbC5zdWJzdHIoMCwgdmFsLmxlbmd0aCAtIG9yaWdpbmFsVW5pdC5sZW5ndGgpIDogdmFsO1xuICBpZiAodW5pdCkgeyByZXR1cm4gdW5pdExlc3MgKyB1bml0OyB9XG4gIHJldHVybiB1bml0TGVzcztcbn1cblxuLy8gZ2V0VG90YWxMZW5ndGgoKSBlcXVpdmFsZW50IGZvciBjaXJjbGUsIHJlY3QsIHBvbHlsaW5lLCBwb2x5Z29uIGFuZCBsaW5lIHNoYXBlc1xuLy8gYWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL1NlYkxhbWJsYS8zZTA1NTBjNDk2YzIzNjcwOTc0NFxuXG5mdW5jdGlvbiBnZXREaXN0YW5jZShwMSwgcDIpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMikpO1xufVxuXG5mdW5jdGlvbiBnZXRDaXJjbGVMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIE1hdGguUEkgKiAyICogZ2V0QXR0cmlidXRlKGVsLCAncicpO1xufVxuXG5mdW5jdGlvbiBnZXRSZWN0TGVuZ3RoKGVsKSB7XG4gIHJldHVybiAoZ2V0QXR0cmlidXRlKGVsLCAnd2lkdGgnKSAqIDIpICsgKGdldEF0dHJpYnV0ZShlbCwgJ2hlaWdodCcpICogMik7XG59XG5cbmZ1bmN0aW9uIGdldExpbmVMZW5ndGgoZWwpIHtcbiAgcmV0dXJuIGdldERpc3RhbmNlKFxuICAgIHt4OiBnZXRBdHRyaWJ1dGUoZWwsICd4MScpLCB5OiBnZXRBdHRyaWJ1dGUoZWwsICd5MScpfSwgXG4gICAge3g6IGdldEF0dHJpYnV0ZShlbCwgJ3gyJyksIHk6IGdldEF0dHJpYnV0ZShlbCwgJ3kyJyl9XG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldFBvbHlsaW5lTGVuZ3RoKGVsKSB7XG4gIHZhciBwb2ludHMgPSBlbC5wb2ludHM7XG4gIHZhciB0b3RhbExlbmd0aCA9IDA7XG4gIHZhciBwcmV2aW91c1BvcztcbiAgZm9yICh2YXIgaSA9IDAgOyBpIDwgcG9pbnRzLm51bWJlck9mSXRlbXM7IGkrKykge1xuICAgIHZhciBjdXJyZW50UG9zID0gcG9pbnRzLmdldEl0ZW0oaSk7XG4gICAgaWYgKGkgPiAwKSB7IHRvdGFsTGVuZ3RoICs9IGdldERpc3RhbmNlKHByZXZpb3VzUG9zLCBjdXJyZW50UG9zKTsgfVxuICAgIHByZXZpb3VzUG9zID0gY3VycmVudFBvcztcbiAgfVxuICByZXR1cm4gdG90YWxMZW5ndGg7XG59XG5cbmZ1bmN0aW9uIGdldFBvbHlnb25MZW5ndGgoZWwpIHtcbiAgdmFyIHBvaW50cyA9IGVsLnBvaW50cztcbiAgcmV0dXJuIGdldFBvbHlsaW5lTGVuZ3RoKGVsKSArIGdldERpc3RhbmNlKHBvaW50cy5nZXRJdGVtKHBvaW50cy5udW1iZXJPZkl0ZW1zIC0gMSksIHBvaW50cy5nZXRJdGVtKDApKTtcbn1cblxuLy8gUGF0aCBhbmltYXRpb25cblxuZnVuY3Rpb24gZ2V0VG90YWxMZW5ndGgoZWwpIHtcbiAgaWYgKGVsLmdldFRvdGFsTGVuZ3RoKSB7IHJldHVybiBlbC5nZXRUb3RhbExlbmd0aCgpOyB9XG4gIHN3aXRjaChlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdjaXJjbGUnOiByZXR1cm4gZ2V0Q2lyY2xlTGVuZ3RoKGVsKTtcbiAgICBjYXNlICdyZWN0JzogcmV0dXJuIGdldFJlY3RMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ2xpbmUnOiByZXR1cm4gZ2V0TGluZUxlbmd0aChlbCk7XG4gICAgY2FzZSAncG9seWxpbmUnOiByZXR1cm4gZ2V0UG9seWxpbmVMZW5ndGgoZWwpO1xuICAgIGNhc2UgJ3BvbHlnb24nOiByZXR1cm4gZ2V0UG9seWdvbkxlbmd0aChlbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0RGFzaG9mZnNldChlbCkge1xuICB2YXIgcGF0aExlbmd0aCA9IGdldFRvdGFsTGVuZ3RoKGVsKTtcbiAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaGFycmF5JywgcGF0aExlbmd0aCk7XG4gIHJldHVybiBwYXRoTGVuZ3RoO1xufVxuXG4vLyBNb3Rpb24gcGF0aFxuXG5mdW5jdGlvbiBnZXRQYXJlbnRTdmdFbChlbCkge1xuICB2YXIgcGFyZW50RWwgPSBlbC5wYXJlbnROb2RlO1xuICB3aGlsZSAoaXMuc3ZnKHBhcmVudEVsKSkge1xuICAgIGlmICghaXMuc3ZnKHBhcmVudEVsLnBhcmVudE5vZGUpKSB7IGJyZWFrOyB9XG4gICAgcGFyZW50RWwgPSBwYXJlbnRFbC5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBwYXJlbnRFbDtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyZW50U3ZnKHBhdGhFbCwgc3ZnRGF0YSkge1xuICB2YXIgc3ZnID0gc3ZnRGF0YSB8fCB7fTtcbiAgdmFyIHBhcmVudFN2Z0VsID0gc3ZnLmVsIHx8IGdldFBhcmVudFN2Z0VsKHBhdGhFbCk7XG4gIHZhciByZWN0ID0gcGFyZW50U3ZnRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciB2aWV3Qm94QXR0ciA9IGdldEF0dHJpYnV0ZShwYXJlbnRTdmdFbCwgJ3ZpZXdCb3gnKTtcbiAgdmFyIHdpZHRoID0gcmVjdC53aWR0aDtcbiAgdmFyIGhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuICB2YXIgdmlld0JveCA9IHN2Zy52aWV3Qm94IHx8ICh2aWV3Qm94QXR0ciA/IHZpZXdCb3hBdHRyLnNwbGl0KCcgJykgOiBbMCwgMCwgd2lkdGgsIGhlaWdodF0pO1xuICByZXR1cm4ge1xuICAgIGVsOiBwYXJlbnRTdmdFbCxcbiAgICB2aWV3Qm94OiB2aWV3Qm94LFxuICAgIHg6IHZpZXdCb3hbMF0gLyAxLFxuICAgIHk6IHZpZXdCb3hbMV0gLyAxLFxuICAgIHc6IHdpZHRoLFxuICAgIGg6IGhlaWdodCxcbiAgICB2Vzogdmlld0JveFsyXSxcbiAgICB2SDogdmlld0JveFszXVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhdGgocGF0aCwgcGVyY2VudCkge1xuICB2YXIgcGF0aEVsID0gaXMuc3RyKHBhdGgpID8gc2VsZWN0U3RyaW5nKHBhdGgpWzBdIDogcGF0aDtcbiAgdmFyIHAgPSBwZXJjZW50IHx8IDEwMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcbiAgICAgIGVsOiBwYXRoRWwsXG4gICAgICBzdmc6IGdldFBhcmVudFN2ZyhwYXRoRWwpLFxuICAgICAgdG90YWxMZW5ndGg6IGdldFRvdGFsTGVuZ3RoKHBhdGhFbCkgKiAocCAvIDEwMClcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UGF0aFByb2dyZXNzKHBhdGgsIHByb2dyZXNzLCBpc1BhdGhUYXJnZXRJbnNpZGVTVkcpIHtcbiAgZnVuY3Rpb24gcG9pbnQob2Zmc2V0KSB7XG4gICAgaWYgKCBvZmZzZXQgPT09IHZvaWQgMCApIG9mZnNldCA9IDA7XG5cbiAgICB2YXIgbCA9IHByb2dyZXNzICsgb2Zmc2V0ID49IDEgPyBwcm9ncmVzcyArIG9mZnNldCA6IDA7XG4gICAgcmV0dXJuIHBhdGguZWwuZ2V0UG9pbnRBdExlbmd0aChsKTtcbiAgfVxuICB2YXIgc3ZnID0gZ2V0UGFyZW50U3ZnKHBhdGguZWwsIHBhdGguc3ZnKTtcbiAgdmFyIHAgPSBwb2ludCgpO1xuICB2YXIgcDAgPSBwb2ludCgtMSk7XG4gIHZhciBwMSA9IHBvaW50KCsxKTtcbiAgdmFyIHNjYWxlWCA9IGlzUGF0aFRhcmdldEluc2lkZVNWRyA/IDEgOiBzdmcudyAvIHN2Zy52VztcbiAgdmFyIHNjYWxlWSA9IGlzUGF0aFRhcmdldEluc2lkZVNWRyA/IDEgOiBzdmcuaCAvIHN2Zy52SDtcbiAgc3dpdGNoIChwYXRoLnByb3BlcnR5KSB7XG4gICAgY2FzZSAneCc6IHJldHVybiAocC54IC0gc3ZnLngpICogc2NhbGVYO1xuICAgIGNhc2UgJ3knOiByZXR1cm4gKHAueSAtIHN2Zy55KSAqIHNjYWxlWTtcbiAgICBjYXNlICdhbmdsZSc6IHJldHVybiBNYXRoLmF0YW4yKHAxLnkgLSBwMC55LCBwMS54IC0gcDAueCkgKiAxODAgLyBNYXRoLlBJO1xuICB9XG59XG5cbi8vIERlY29tcG9zZSB2YWx1ZVxuXG5mdW5jdGlvbiBkZWNvbXBvc2VWYWx1ZSh2YWwsIHVuaXQpIHtcbiAgLy8gY29uc3Qgcmd4ID0gLy0/XFxkKlxcLj9cXGQrL2c7IC8vIGhhbmRsZXMgYmFzaWMgbnVtYmVyc1xuICAvLyBjb25zdCByZ3ggPSAvWystXT9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/L2c7IC8vIGhhbmRsZXMgZXhwb25lbnRzIG5vdGF0aW9uXG4gIHZhciByZ3ggPSAvWystXT9cXGQqXFwuP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8vZzsgLy8gaGFuZGxlcyBleHBvbmVudHMgbm90YXRpb25cbiAgdmFyIHZhbHVlID0gdmFsaWRhdGVWYWx1ZSgoaXMucHRoKHZhbCkgPyB2YWwudG90YWxMZW5ndGggOiB2YWwpLCB1bml0KSArICcnO1xuICByZXR1cm4ge1xuICAgIG9yaWdpbmFsOiB2YWx1ZSxcbiAgICBudW1iZXJzOiB2YWx1ZS5tYXRjaChyZ3gpID8gdmFsdWUubWF0Y2gocmd4KS5tYXAoTnVtYmVyKSA6IFswXSxcbiAgICBzdHJpbmdzOiAoaXMuc3RyKHZhbCkgfHwgdW5pdCkgPyB2YWx1ZS5zcGxpdChyZ3gpIDogW11cbiAgfVxufVxuXG4vLyBBbmltYXRhYmxlc1xuXG5mdW5jdGlvbiBwYXJzZVRhcmdldHModGFyZ2V0cykge1xuICB2YXIgdGFyZ2V0c0FycmF5ID0gdGFyZ2V0cyA/IChmbGF0dGVuQXJyYXkoaXMuYXJyKHRhcmdldHMpID8gdGFyZ2V0cy5tYXAodG9BcnJheSkgOiB0b0FycmF5KHRhcmdldHMpKSkgOiBbXTtcbiAgcmV0dXJuIGZpbHRlckFycmF5KHRhcmdldHNBcnJheSwgZnVuY3Rpb24gKGl0ZW0sIHBvcywgc2VsZikgeyByZXR1cm4gc2VsZi5pbmRleE9mKGl0ZW0pID09PSBwb3M7IH0pO1xufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRhYmxlcyh0YXJnZXRzKSB7XG4gIHZhciBwYXJzZWQgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gIHJldHVybiBwYXJzZWQubWFwKGZ1bmN0aW9uICh0LCBpKSB7XG4gICAgcmV0dXJuIHt0YXJnZXQ6IHQsIGlkOiBpLCB0b3RhbDogcGFyc2VkLmxlbmd0aCwgdHJhbnNmb3JtczogeyBsaXN0OiBnZXRFbGVtZW50VHJhbnNmb3Jtcyh0KSB9IH07XG4gIH0pO1xufVxuXG4vLyBQcm9wZXJ0aWVzXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BlcnR5VHdlZW5zKHByb3AsIHR3ZWVuU2V0dGluZ3MpIHtcbiAgdmFyIHNldHRpbmdzID0gY2xvbmVPYmplY3QodHdlZW5TZXR0aW5ncyk7XG4gIC8vIE92ZXJyaWRlIGR1cmF0aW9uIGlmIGVhc2luZyBpcyBhIHNwcmluZ1xuICBpZiAoL15zcHJpbmcvLnRlc3Qoc2V0dGluZ3MuZWFzaW5nKSkgeyBzZXR0aW5ncy5kdXJhdGlvbiA9IHNwcmluZyhzZXR0aW5ncy5lYXNpbmcpOyB9XG4gIGlmIChpcy5hcnIocHJvcCkpIHtcbiAgICB2YXIgbCA9IHByb3AubGVuZ3RoO1xuICAgIHZhciBpc0Zyb21UbyA9IChsID09PSAyICYmICFpcy5vYmoocHJvcFswXSkpO1xuICAgIGlmICghaXNGcm9tVG8pIHtcbiAgICAgIC8vIER1cmF0aW9uIGRpdmlkZWQgYnkgdGhlIG51bWJlciBvZiB0d2VlbnNcbiAgICAgIGlmICghaXMuZm5jKHR3ZWVuU2V0dGluZ3MuZHVyYXRpb24pKSB7IHNldHRpbmdzLmR1cmF0aW9uID0gdHdlZW5TZXR0aW5ncy5kdXJhdGlvbiAvIGw7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVHJhbnNmb3JtIFtmcm9tLCB0b10gdmFsdWVzIHNob3J0aGFuZCB0byBhIHZhbGlkIHR3ZWVuIHZhbHVlXG4gICAgICBwcm9wID0ge3ZhbHVlOiBwcm9wfTtcbiAgICB9XG4gIH1cbiAgdmFyIHByb3BBcnJheSA9IGlzLmFycihwcm9wKSA/IHByb3AgOiBbcHJvcF07XG4gIHJldHVybiBwcm9wQXJyYXkubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgdmFyIG9iaiA9IChpcy5vYmoodikgJiYgIWlzLnB0aCh2KSkgPyB2IDoge3ZhbHVlOiB2fTtcbiAgICAvLyBEZWZhdWx0IGRlbGF5IHZhbHVlIHNob3VsZCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGZpcnN0IHR3ZWVuXG4gICAgaWYgKGlzLnVuZChvYmouZGVsYXkpKSB7IG9iai5kZWxheSA9ICFpID8gdHdlZW5TZXR0aW5ncy5kZWxheSA6IDA7IH1cbiAgICAvLyBEZWZhdWx0IGVuZERlbGF5IHZhbHVlIHNob3VsZCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGxhc3QgdHdlZW5cbiAgICBpZiAoaXMudW5kKG9iai5lbmREZWxheSkpIHsgb2JqLmVuZERlbGF5ID0gaSA9PT0gcHJvcEFycmF5Lmxlbmd0aCAtIDEgPyB0d2VlblNldHRpbmdzLmVuZERlbGF5IDogMDsgfVxuICAgIHJldHVybiBvYmo7XG4gIH0pLm1hcChmdW5jdGlvbiAoaykgeyByZXR1cm4gbWVyZ2VPYmplY3RzKGssIHNldHRpbmdzKTsgfSk7XG59XG5cblxuZnVuY3Rpb24gZmxhdHRlbktleWZyYW1lcyhrZXlmcmFtZXMpIHtcbiAgdmFyIHByb3BlcnR5TmFtZXMgPSBmaWx0ZXJBcnJheShmbGF0dGVuQXJyYXkoa2V5ZnJhbWVzLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBPYmplY3Qua2V5cyhrZXkpOyB9KSksIGZ1bmN0aW9uIChwKSB7IHJldHVybiBpcy5rZXkocCk7IH0pXG4gIC5yZWR1Y2UoZnVuY3Rpb24gKGEsYikgeyBpZiAoYS5pbmRleE9mKGIpIDwgMCkgeyBhLnB1c2goYik7IH0gcmV0dXJuIGE7IH0sIFtdKTtcbiAgdmFyIHByb3BlcnRpZXMgPSB7fTtcbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGkgKSB7XG4gICAgdmFyIHByb3BOYW1lID0gcHJvcGVydHlOYW1lc1tpXTtcbiAgICBwcm9wZXJ0aWVzW3Byb3BOYW1lXSA9IGtleWZyYW1lcy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIG5ld0tleSA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBrZXkpIHtcbiAgICAgICAgaWYgKGlzLmtleShwKSkge1xuICAgICAgICAgIGlmIChwID09IHByb3BOYW1lKSB7IG5ld0tleS52YWx1ZSA9IGtleVtwXTsgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0tleVtwXSA9IGtleVtwXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9KTtcbiAgfTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnR5TmFtZXMubGVuZ3RoOyBpKyspIGxvb3AoIGkgKTtcbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5cbmZ1bmN0aW9uIGdldFByb3BlcnRpZXModHdlZW5TZXR0aW5ncywgcGFyYW1zKSB7XG4gIHZhciBwcm9wZXJ0aWVzID0gW107XG4gIHZhciBrZXlmcmFtZXMgPSBwYXJhbXMua2V5ZnJhbWVzO1xuICBpZiAoa2V5ZnJhbWVzKSB7IHBhcmFtcyA9IG1lcmdlT2JqZWN0cyhmbGF0dGVuS2V5ZnJhbWVzKGtleWZyYW1lcyksIHBhcmFtcyk7IH1cbiAgZm9yICh2YXIgcCBpbiBwYXJhbXMpIHtcbiAgICBpZiAoaXMua2V5KHApKSB7XG4gICAgICBwcm9wZXJ0aWVzLnB1c2goe1xuICAgICAgICBuYW1lOiBwLFxuICAgICAgICB0d2VlbnM6IG5vcm1hbGl6ZVByb3BlcnR5VHdlZW5zKHBhcmFtc1twXSwgdHdlZW5TZXR0aW5ncylcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcGVydGllcztcbn1cblxuLy8gVHdlZW5zXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVR3ZWVuVmFsdWVzKHR3ZWVuLCBhbmltYXRhYmxlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gdHdlZW4pIHtcbiAgICB2YXIgdmFsdWUgPSBnZXRGdW5jdGlvblZhbHVlKHR3ZWVuW3BdLCBhbmltYXRhYmxlKTtcbiAgICBpZiAoaXMuYXJyKHZhbHVlKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGdldEZ1bmN0aW9uVmFsdWUodiwgYW5pbWF0YWJsZSk7IH0pO1xuICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMSkgeyB2YWx1ZSA9IHZhbHVlWzBdOyB9XG4gICAgfVxuICAgIHRbcF0gPSB2YWx1ZTtcbiAgfVxuICB0LmR1cmF0aW9uID0gcGFyc2VGbG9hdCh0LmR1cmF0aW9uKTtcbiAgdC5kZWxheSA9IHBhcnNlRmxvYXQodC5kZWxheSk7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVUd2VlbnMocHJvcCwgYW5pbWF0YWJsZSkge1xuICB2YXIgcHJldmlvdXNUd2VlbjtcbiAgcmV0dXJuIHByb3AudHdlZW5zLm1hcChmdW5jdGlvbiAodCkge1xuICAgIHZhciB0d2VlbiA9IG5vcm1hbGl6ZVR3ZWVuVmFsdWVzKHQsIGFuaW1hdGFibGUpO1xuICAgIHZhciB0d2VlblZhbHVlID0gdHdlZW4udmFsdWU7XG4gICAgdmFyIHRvID0gaXMuYXJyKHR3ZWVuVmFsdWUpID8gdHdlZW5WYWx1ZVsxXSA6IHR3ZWVuVmFsdWU7XG4gICAgdmFyIHRvVW5pdCA9IGdldFVuaXQodG8pO1xuICAgIHZhciBvcmlnaW5hbFZhbHVlID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZShhbmltYXRhYmxlLnRhcmdldCwgcHJvcC5uYW1lLCB0b1VuaXQsIGFuaW1hdGFibGUpO1xuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJldmlvdXNUd2VlbiA/IHByZXZpb3VzVHdlZW4udG8ub3JpZ2luYWwgOiBvcmlnaW5hbFZhbHVlO1xuICAgIHZhciBmcm9tID0gaXMuYXJyKHR3ZWVuVmFsdWUpID8gdHdlZW5WYWx1ZVswXSA6IHByZXZpb3VzVmFsdWU7XG4gICAgdmFyIGZyb21Vbml0ID0gZ2V0VW5pdChmcm9tKSB8fCBnZXRVbml0KG9yaWdpbmFsVmFsdWUpO1xuICAgIHZhciB1bml0ID0gdG9Vbml0IHx8IGZyb21Vbml0O1xuICAgIGlmIChpcy51bmQodG8pKSB7IHRvID0gcHJldmlvdXNWYWx1ZTsgfVxuICAgIHR3ZWVuLmZyb20gPSBkZWNvbXBvc2VWYWx1ZShmcm9tLCB1bml0KTtcbiAgICB0d2Vlbi50byA9IGRlY29tcG9zZVZhbHVlKGdldFJlbGF0aXZlVmFsdWUodG8sIGZyb20pLCB1bml0KTtcbiAgICB0d2Vlbi5zdGFydCA9IHByZXZpb3VzVHdlZW4gPyBwcmV2aW91c1R3ZWVuLmVuZCA6IDA7XG4gICAgdHdlZW4uZW5kID0gdHdlZW4uc3RhcnQgKyB0d2Vlbi5kZWxheSArIHR3ZWVuLmR1cmF0aW9uICsgdHdlZW4uZW5kRGVsYXk7XG4gICAgdHdlZW4uZWFzaW5nID0gcGFyc2VFYXNpbmdzKHR3ZWVuLmVhc2luZywgdHdlZW4uZHVyYXRpb24pO1xuICAgIHR3ZWVuLmlzUGF0aCA9IGlzLnB0aCh0d2VlblZhbHVlKTtcbiAgICB0d2Vlbi5pc1BhdGhUYXJnZXRJbnNpZGVTVkcgPSB0d2Vlbi5pc1BhdGggJiYgaXMuc3ZnKGFuaW1hdGFibGUudGFyZ2V0KTtcbiAgICB0d2Vlbi5pc0NvbG9yID0gaXMuY29sKHR3ZWVuLmZyb20ub3JpZ2luYWwpO1xuICAgIGlmICh0d2Vlbi5pc0NvbG9yKSB7IHR3ZWVuLnJvdW5kID0gMTsgfVxuICAgIHByZXZpb3VzVHdlZW4gPSB0d2VlbjtcbiAgICByZXR1cm4gdHdlZW47XG4gIH0pO1xufVxuXG4vLyBUd2VlbiBwcm9ncmVzc1xuXG52YXIgc2V0UHJvZ3Jlc3NWYWx1ZSA9IHtcbiAgY3NzOiBmdW5jdGlvbiAodCwgcCwgdikgeyByZXR1cm4gdC5zdHlsZVtwXSA9IHY7IH0sXG4gIGF0dHJpYnV0ZTogZnVuY3Rpb24gKHQsIHAsIHYpIHsgcmV0dXJuIHQuc2V0QXR0cmlidXRlKHAsIHYpOyB9LFxuICBvYmplY3Q6IGZ1bmN0aW9uICh0LCBwLCB2KSB7IHJldHVybiB0W3BdID0gdjsgfSxcbiAgdHJhbnNmb3JtOiBmdW5jdGlvbiAodCwgcCwgdiwgdHJhbnNmb3JtcywgbWFudWFsKSB7XG4gICAgdHJhbnNmb3Jtcy5saXN0LnNldChwLCB2KTtcbiAgICBpZiAocCA9PT0gdHJhbnNmb3Jtcy5sYXN0IHx8IG1hbnVhbCkge1xuICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgdHJhbnNmb3Jtcy5saXN0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBwcm9wKSB7IHN0ciArPSBwcm9wICsgXCIoXCIgKyB2YWx1ZSArIFwiKSBcIjsgfSk7XG4gICAgICB0LnN0eWxlLnRyYW5zZm9ybSA9IHN0cjtcbiAgICB9XG4gIH1cbn07XG5cbi8vIFNldCBWYWx1ZSBoZWxwZXJcblxuZnVuY3Rpb24gc2V0VGFyZ2V0c1ZhbHVlKHRhcmdldHMsIHByb3BlcnRpZXMpIHtcbiAgdmFyIGFuaW1hdGFibGVzID0gZ2V0QW5pbWF0YWJsZXModGFyZ2V0cyk7XG4gIGFuaW1hdGFibGVzLmZvckVhY2goZnVuY3Rpb24gKGFuaW1hdGFibGUpIHtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRGdW5jdGlvblZhbHVlKHByb3BlcnRpZXNbcHJvcGVydHldLCBhbmltYXRhYmxlKTtcbiAgICAgIHZhciB0YXJnZXQgPSBhbmltYXRhYmxlLnRhcmdldDtcbiAgICAgIHZhciB2YWx1ZVVuaXQgPSBnZXRVbml0KHZhbHVlKTtcbiAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gZ2V0T3JpZ2luYWxUYXJnZXRWYWx1ZSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZVVuaXQsIGFuaW1hdGFibGUpO1xuICAgICAgdmFyIHVuaXQgPSB2YWx1ZVVuaXQgfHwgZ2V0VW5pdChvcmlnaW5hbFZhbHVlKTtcbiAgICAgIHZhciB0byA9IGdldFJlbGF0aXZlVmFsdWUodmFsaWRhdGVWYWx1ZSh2YWx1ZSwgdW5pdCksIG9yaWdpbmFsVmFsdWUpO1xuICAgICAgdmFyIGFuaW1UeXBlID0gZ2V0QW5pbWF0aW9uVHlwZSh0YXJnZXQsIHByb3BlcnR5KTtcbiAgICAgIHNldFByb2dyZXNzVmFsdWVbYW5pbVR5cGVdKHRhcmdldCwgcHJvcGVydHksIHRvLCBhbmltYXRhYmxlLnRyYW5zZm9ybXMsIHRydWUpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIEFuaW1hdGlvbnNcblxuZnVuY3Rpb24gY3JlYXRlQW5pbWF0aW9uKGFuaW1hdGFibGUsIHByb3ApIHtcbiAgdmFyIGFuaW1UeXBlID0gZ2V0QW5pbWF0aW9uVHlwZShhbmltYXRhYmxlLnRhcmdldCwgcHJvcC5uYW1lKTtcbiAgaWYgKGFuaW1UeXBlKSB7XG4gICAgdmFyIHR3ZWVucyA9IG5vcm1hbGl6ZVR3ZWVucyhwcm9wLCBhbmltYXRhYmxlKTtcbiAgICB2YXIgbGFzdFR3ZWVuID0gdHdlZW5zW3R3ZWVucy5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogYW5pbVR5cGUsXG4gICAgICBwcm9wZXJ0eTogcHJvcC5uYW1lLFxuICAgICAgYW5pbWF0YWJsZTogYW5pbWF0YWJsZSxcbiAgICAgIHR3ZWVuczogdHdlZW5zLFxuICAgICAgZHVyYXRpb246IGxhc3RUd2Vlbi5lbmQsXG4gICAgICBkZWxheTogdHdlZW5zWzBdLmRlbGF5LFxuICAgICAgZW5kRGVsYXk6IGxhc3RUd2Vlbi5lbmREZWxheVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmltYXRpb25zKGFuaW1hdGFibGVzLCBwcm9wZXJ0aWVzKSB7XG4gIHJldHVybiBmaWx0ZXJBcnJheShmbGF0dGVuQXJyYXkoYW5pbWF0YWJsZXMubWFwKGZ1bmN0aW9uIChhbmltYXRhYmxlKSB7XG4gICAgcmV0dXJuIHByb3BlcnRpZXMubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQW5pbWF0aW9uKGFuaW1hdGFibGUsIHByb3ApO1xuICAgIH0pO1xuICB9KSksIGZ1bmN0aW9uIChhKSB7IHJldHVybiAhaXMudW5kKGEpOyB9KTtcbn1cblxuLy8gQ3JlYXRlIEluc3RhbmNlXG5cbmZ1bmN0aW9uIGdldEluc3RhbmNlVGltaW5ncyhhbmltYXRpb25zLCB0d2VlblNldHRpbmdzKSB7XG4gIHZhciBhbmltTGVuZ3RoID0gYW5pbWF0aW9ucy5sZW5ndGg7XG4gIHZhciBnZXRUbE9mZnNldCA9IGZ1bmN0aW9uIChhbmltKSB7IHJldHVybiBhbmltLnRpbWVsaW5lT2Zmc2V0ID8gYW5pbS50aW1lbGluZU9mZnNldCA6IDA7IH07XG4gIHZhciB0aW1pbmdzID0ge307XG4gIHRpbWluZ3MuZHVyYXRpb24gPSBhbmltTGVuZ3RoID8gTWF0aC5tYXguYXBwbHkoTWF0aCwgYW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24gKGFuaW0pIHsgcmV0dXJuIGdldFRsT2Zmc2V0KGFuaW0pICsgYW5pbS5kdXJhdGlvbjsgfSkpIDogdHdlZW5TZXR0aW5ncy5kdXJhdGlvbjtcbiAgdGltaW5ncy5kZWxheSA9IGFuaW1MZW5ndGggPyBNYXRoLm1pbi5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmRlbGF5OyB9KSkgOiB0d2VlblNldHRpbmdzLmRlbGF5O1xuICB0aW1pbmdzLmVuZERlbGF5ID0gYW5pbUxlbmd0aCA/IHRpbWluZ3MuZHVyYXRpb24gLSBNYXRoLm1heC5hcHBseShNYXRoLCBhbmltYXRpb25zLm1hcChmdW5jdGlvbiAoYW5pbSkgeyByZXR1cm4gZ2V0VGxPZmZzZXQoYW5pbSkgKyBhbmltLmR1cmF0aW9uIC0gYW5pbS5lbmREZWxheTsgfSkpIDogdHdlZW5TZXR0aW5ncy5lbmREZWxheTtcbiAgcmV0dXJuIHRpbWluZ3M7XG59XG5cbnZhciBpbnN0YW5jZUlEID0gMDtcblxuZnVuY3Rpb24gY3JlYXRlTmV3SW5zdGFuY2UocGFyYW1zKSB7XG4gIHZhciBpbnN0YW5jZVNldHRpbmdzID0gcmVwbGFjZU9iamVjdFByb3BzKGRlZmF1bHRJbnN0YW5jZVNldHRpbmdzLCBwYXJhbXMpO1xuICB2YXIgdHdlZW5TZXR0aW5ncyA9IHJlcGxhY2VPYmplY3RQcm9wcyhkZWZhdWx0VHdlZW5TZXR0aW5ncywgcGFyYW1zKTtcbiAgdmFyIHByb3BlcnRpZXMgPSBnZXRQcm9wZXJ0aWVzKHR3ZWVuU2V0dGluZ3MsIHBhcmFtcyk7XG4gIHZhciBhbmltYXRhYmxlcyA9IGdldEFuaW1hdGFibGVzKHBhcmFtcy50YXJnZXRzKTtcbiAgdmFyIGFuaW1hdGlvbnMgPSBnZXRBbmltYXRpb25zKGFuaW1hdGFibGVzLCBwcm9wZXJ0aWVzKTtcbiAgdmFyIHRpbWluZ3MgPSBnZXRJbnN0YW5jZVRpbWluZ3MoYW5pbWF0aW9ucywgdHdlZW5TZXR0aW5ncyk7XG4gIHZhciBpZCA9IGluc3RhbmNlSUQ7XG4gIGluc3RhbmNlSUQrKztcbiAgcmV0dXJuIG1lcmdlT2JqZWN0cyhpbnN0YW5jZVNldHRpbmdzLCB7XG4gICAgaWQ6IGlkLFxuICAgIGNoaWxkcmVuOiBbXSxcbiAgICBhbmltYXRhYmxlczogYW5pbWF0YWJsZXMsXG4gICAgYW5pbWF0aW9uczogYW5pbWF0aW9ucyxcbiAgICBkdXJhdGlvbjogdGltaW5ncy5kdXJhdGlvbixcbiAgICBkZWxheTogdGltaW5ncy5kZWxheSxcbiAgICBlbmREZWxheTogdGltaW5ncy5lbmREZWxheVxuICB9KTtcbn1cblxuLy8gQ29yZVxuXG52YXIgYWN0aXZlSW5zdGFuY2VzID0gW107XG5cbnZhciBlbmdpbmUgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgcmFmO1xuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgaWYgKCFyYWYgJiYgKCFpc0RvY3VtZW50SGlkZGVuKCkgfHwgIWFuaW1lLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4pICYmIGFjdGl2ZUluc3RhbmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHN0ZXAodCkge1xuICAgIC8vIG1lbW8gb24gYWxnb3JpdGhtIGlzc3VlOlxuICAgIC8vIGRhbmdlcm91cyBpdGVyYXRpb24gb3ZlciBtdXRhYmxlIGBhY3RpdmVJbnN0YW5jZXNgXG4gICAgLy8gKHRoYXQgY29sbGVjdGlvbiBtYXkgYmUgdXBkYXRlZCBmcm9tIHdpdGhpbiBjYWxsYmFja3Mgb2YgYHRpY2tgLWVkIGFuaW1hdGlvbiBpbnN0YW5jZXMpXG4gICAgdmFyIGFjdGl2ZUluc3RhbmNlc0xlbmd0aCA9IGFjdGl2ZUluc3RhbmNlcy5sZW5ndGg7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYWN0aXZlSW5zdGFuY2VzTGVuZ3RoKSB7XG4gICAgICB2YXIgYWN0aXZlSW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZXNbaV07XG4gICAgICBpZiAoIWFjdGl2ZUluc3RhbmNlLnBhdXNlZCkge1xuICAgICAgICBhY3RpdmVJbnN0YW5jZS50aWNrKHQpO1xuICAgICAgICBpKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVJbnN0YW5jZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICBhY3RpdmVJbnN0YW5jZXNMZW5ndGgtLTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmFmID0gaSA+IDAgPyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCkgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKCkge1xuICAgIGlmICghYW5pbWUuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbikgeyByZXR1cm47IH1cblxuICAgIGlmIChpc0RvY3VtZW50SGlkZGVuKCkpIHtcbiAgICAgIC8vIHN1c3BlbmQgdGlja3NcbiAgICAgIHJhZiA9IGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgfSBlbHNlIHsgLy8gaXMgYmFjayB0byBhY3RpdmUgdGFiXG4gICAgICAvLyBmaXJzdCBhZGp1c3QgYW5pbWF0aW9ucyB0byBjb25zaWRlciB0aGUgdGltZSB0aGF0IHRpY2tzIHdlcmUgc3VzcGVuZGVkXG4gICAgICBhY3RpdmVJbnN0YW5jZXMuZm9yRWFjaChcbiAgICAgICAgZnVuY3Rpb24gKGluc3RhbmNlKSB7IHJldHVybiBpbnN0YW5jZSAuX29uRG9jdW1lbnRWaXNpYmlsaXR5KCk7IH1cbiAgICAgICk7XG4gICAgICBlbmdpbmUoKTtcbiAgICB9XG4gIH1cbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gIH1cblxuICByZXR1cm4gcGxheTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGlzRG9jdW1lbnRIaWRkZW4oKSB7XG4gIHJldHVybiAhIWRvY3VtZW50ICYmIGRvY3VtZW50LmhpZGRlbjtcbn1cblxuLy8gUHVibGljIEluc3RhbmNlXG5cbmZ1bmN0aW9uIGFuaW1lKHBhcmFtcykge1xuICBpZiAoIHBhcmFtcyA9PT0gdm9pZCAwICkgcGFyYW1zID0ge307XG5cblxuICB2YXIgc3RhcnRUaW1lID0gMCwgbGFzdFRpbWUgPSAwLCBub3cgPSAwO1xuICB2YXIgY2hpbGRyZW4sIGNoaWxkcmVuTGVuZ3RoID0gMDtcbiAgdmFyIHJlc29sdmUgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIG1ha2VQcm9taXNlKGluc3RhbmNlKSB7XG4gICAgdmFyIHByb21pc2UgPSB3aW5kb3cuUHJvbWlzZSAmJiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoX3Jlc29sdmUpIHsgcmV0dXJuIHJlc29sdmUgPSBfcmVzb2x2ZTsgfSk7XG4gICAgaW5zdGFuY2UuZmluaXNoZWQgPSBwcm9taXNlO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdmFyIGluc3RhbmNlID0gY3JlYXRlTmV3SW5zdGFuY2UocGFyYW1zKTtcbiAgdmFyIHByb21pc2UgPSBtYWtlUHJvbWlzZShpbnN0YW5jZSk7XG5cbiAgZnVuY3Rpb24gdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IGluc3RhbmNlLmRpcmVjdGlvbjtcbiAgICBpZiAoZGlyZWN0aW9uICE9PSAnYWx0ZXJuYXRlJykge1xuICAgICAgaW5zdGFuY2UuZGlyZWN0aW9uID0gZGlyZWN0aW9uICE9PSAnbm9ybWFsJyA/ICdub3JtYWwnIDogJ3JldmVyc2UnO1xuICAgIH1cbiAgICBpbnN0YW5jZS5yZXZlcnNlZCA9ICFpbnN0YW5jZS5yZXZlcnNlZDtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gY2hpbGQucmV2ZXJzZWQgPSBpbnN0YW5jZS5yZXZlcnNlZDsgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGp1c3RUaW1lKHRpbWUpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UucmV2ZXJzZWQgPyBpbnN0YW5jZS5kdXJhdGlvbiAtIHRpbWUgOiB0aW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUaW1lKCkge1xuICAgIHN0YXJ0VGltZSA9IDA7XG4gICAgbGFzdFRpbWUgPSBhZGp1c3RUaW1lKGluc3RhbmNlLmN1cnJlbnRUaW1lKSAqICgxIC8gYW5pbWUuc3BlZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2Vla0NoaWxkKHRpbWUsIGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkKSB7IGNoaWxkLnNlZWsodGltZSAtIGNoaWxkLnRpbWVsaW5lT2Zmc2V0KTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3luY0luc3RhbmNlQ2hpbGRyZW4odGltZSkge1xuICAgIGlmICghaW5zdGFuY2UucmV2ZXJzZVBsYXliYWNrKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHsgc2Vla0NoaWxkKHRpbWUsIGNoaWxkcmVuW2ldKTsgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpJDEgPSBjaGlsZHJlbkxlbmd0aDsgaSQxLS07KSB7IHNlZWtDaGlsZCh0aW1lLCBjaGlsZHJlbltpJDFdKTsgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEFuaW1hdGlvbnNQcm9ncmVzcyhpbnNUaW1lKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBhbmltYXRpb25zID0gaW5zdGFuY2UuYW5pbWF0aW9ucztcbiAgICB2YXIgYW5pbWF0aW9uc0xlbmd0aCA9IGFuaW1hdGlvbnMubGVuZ3RoO1xuICAgIHdoaWxlIChpIDwgYW5pbWF0aW9uc0xlbmd0aCkge1xuICAgICAgdmFyIGFuaW0gPSBhbmltYXRpb25zW2ldO1xuICAgICAgdmFyIGFuaW1hdGFibGUgPSBhbmltLmFuaW1hdGFibGU7XG4gICAgICB2YXIgdHdlZW5zID0gYW5pbS50d2VlbnM7XG4gICAgICB2YXIgdHdlZW5MZW5ndGggPSB0d2VlbnMubGVuZ3RoIC0gMTtcbiAgICAgIHZhciB0d2VlbiA9IHR3ZWVuc1t0d2Vlbkxlbmd0aF07XG4gICAgICAvLyBPbmx5IGNoZWNrIGZvciBrZXlmcmFtZXMgaWYgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSB0d2VlblxuICAgICAgaWYgKHR3ZWVuTGVuZ3RoKSB7IHR3ZWVuID0gZmlsdGVyQXJyYXkodHdlZW5zLCBmdW5jdGlvbiAodCkgeyByZXR1cm4gKGluc1RpbWUgPCB0LmVuZCk7IH0pWzBdIHx8IHR3ZWVuOyB9XG4gICAgICB2YXIgZWxhcHNlZCA9IG1pbk1heChpbnNUaW1lIC0gdHdlZW4uc3RhcnQgLSB0d2Vlbi5kZWxheSwgMCwgdHdlZW4uZHVyYXRpb24pIC8gdHdlZW4uZHVyYXRpb247XG4gICAgICB2YXIgZWFzZWQgPSBpc05hTihlbGFwc2VkKSA/IDEgOiB0d2Vlbi5lYXNpbmcoZWxhcHNlZCk7XG4gICAgICB2YXIgc3RyaW5ncyA9IHR3ZWVuLnRvLnN0cmluZ3M7XG4gICAgICB2YXIgcm91bmQgPSB0d2Vlbi5yb3VuZDtcbiAgICAgIHZhciBudW1iZXJzID0gW107XG4gICAgICB2YXIgdG9OdW1iZXJzTGVuZ3RoID0gdHdlZW4udG8ubnVtYmVycy5sZW5ndGg7XG4gICAgICB2YXIgcHJvZ3Jlc3MgPSAodm9pZCAwKTtcbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdG9OdW1iZXJzTGVuZ3RoOyBuKyspIHtcbiAgICAgICAgdmFyIHZhbHVlID0gKHZvaWQgMCk7XG4gICAgICAgIHZhciB0b051bWJlciA9IHR3ZWVuLnRvLm51bWJlcnNbbl07XG4gICAgICAgIHZhciBmcm9tTnVtYmVyID0gdHdlZW4uZnJvbS5udW1iZXJzW25dIHx8IDA7XG4gICAgICAgIGlmICghdHdlZW4uaXNQYXRoKSB7XG4gICAgICAgICAgdmFsdWUgPSBmcm9tTnVtYmVyICsgKGVhc2VkICogKHRvTnVtYmVyIC0gZnJvbU51bWJlcikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gZ2V0UGF0aFByb2dyZXNzKHR3ZWVuLnZhbHVlLCBlYXNlZCAqIHRvTnVtYmVyLCB0d2Vlbi5pc1BhdGhUYXJnZXRJbnNpZGVTVkcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb3VuZCkge1xuICAgICAgICAgIGlmICghKHR3ZWVuLmlzQ29sb3IgJiYgbiA+IDIpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUgKiByb3VuZCkgLyByb3VuZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbnVtYmVycy5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIE1hbnVhbCBBcnJheS5yZWR1Y2UgZm9yIGJldHRlciBwZXJmb3JtYW5jZXNcbiAgICAgIHZhciBzdHJpbmdzTGVuZ3RoID0gc3RyaW5ncy5sZW5ndGg7XG4gICAgICBpZiAoIXN0cmluZ3NMZW5ndGgpIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBudW1iZXJzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBzdHJpbmdzWzBdO1xuICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IHN0cmluZ3NMZW5ndGg7IHMrKykge1xuICAgICAgICAgIHZhciBhID0gc3RyaW5nc1tzXTtcbiAgICAgICAgICB2YXIgYiA9IHN0cmluZ3NbcyArIDFdO1xuICAgICAgICAgIHZhciBuJDEgPSBudW1iZXJzW3NdO1xuICAgICAgICAgIGlmICghaXNOYU4obiQxKSkge1xuICAgICAgICAgICAgaWYgKCFiKSB7XG4gICAgICAgICAgICAgIHByb2dyZXNzICs9IG4kMSArICcgJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb2dyZXNzICs9IG4kMSArIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRQcm9ncmVzc1ZhbHVlW2FuaW0udHlwZV0oYW5pbWF0YWJsZS50YXJnZXQsIGFuaW0ucHJvcGVydHksIHByb2dyZXNzLCBhbmltYXRhYmxlLnRyYW5zZm9ybXMpO1xuICAgICAgYW5pbS5jdXJyZW50VmFsdWUgPSBwcm9ncmVzcztcbiAgICAgIGkrKztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRDYWxsYmFjayhjYikge1xuICAgIGlmIChpbnN0YW5jZVtjYl0gJiYgIWluc3RhbmNlLnBhc3NUaHJvdWdoKSB7IGluc3RhbmNlW2NiXShpbnN0YW5jZSk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvdW50SXRlcmF0aW9uKCkge1xuICAgIGlmIChpbnN0YW5jZS5yZW1haW5pbmcgJiYgaW5zdGFuY2UucmVtYWluaW5nICE9PSB0cnVlKSB7XG4gICAgICBpbnN0YW5jZS5yZW1haW5pbmctLTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRJbnN0YW5jZVByb2dyZXNzKGVuZ2luZVRpbWUpIHtcbiAgICB2YXIgaW5zRHVyYXRpb24gPSBpbnN0YW5jZS5kdXJhdGlvbjtcbiAgICB2YXIgaW5zRGVsYXkgPSBpbnN0YW5jZS5kZWxheTtcbiAgICB2YXIgaW5zRW5kRGVsYXkgPSBpbnNEdXJhdGlvbiAtIGluc3RhbmNlLmVuZERlbGF5O1xuICAgIHZhciBpbnNUaW1lID0gYWRqdXN0VGltZShlbmdpbmVUaW1lKTtcbiAgICBpbnN0YW5jZS5wcm9ncmVzcyA9IG1pbk1heCgoaW5zVGltZSAvIGluc0R1cmF0aW9uKSAqIDEwMCwgMCwgMTAwKTtcbiAgICBpbnN0YW5jZS5yZXZlcnNlUGxheWJhY2sgPSBpbnNUaW1lIDwgaW5zdGFuY2UuY3VycmVudFRpbWU7XG4gICAgaWYgKGNoaWxkcmVuKSB7IHN5bmNJbnN0YW5jZUNoaWxkcmVuKGluc1RpbWUpOyB9XG4gICAgaWYgKCFpbnN0YW5jZS5iZWdhbiAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgIGluc3RhbmNlLmJlZ2FuID0gdHJ1ZTtcbiAgICAgIHNldENhbGxiYWNrKCdiZWdpbicpO1xuICAgIH1cbiAgICBpZiAoIWluc3RhbmNlLmxvb3BCZWdhbiAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgIGluc3RhbmNlLmxvb3BCZWdhbiA9IHRydWU7XG4gICAgICBzZXRDYWxsYmFjaygnbG9vcEJlZ2luJyk7XG4gICAgfVxuICAgIGlmIChpbnNUaW1lIDw9IGluc0RlbGF5ICYmIGluc3RhbmNlLmN1cnJlbnRUaW1lICE9PSAwKSB7XG4gICAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoMCk7XG4gICAgfVxuICAgIGlmICgoaW5zVGltZSA+PSBpbnNFbmREZWxheSAmJiBpbnN0YW5jZS5jdXJyZW50VGltZSAhPT0gaW5zRHVyYXRpb24pIHx8ICFpbnNEdXJhdGlvbikge1xuICAgICAgc2V0QW5pbWF0aW9uc1Byb2dyZXNzKGluc0R1cmF0aW9uKTtcbiAgICB9XG4gICAgaWYgKGluc1RpbWUgPiBpbnNEZWxheSAmJiBpbnNUaW1lIDwgaW5zRW5kRGVsYXkpIHtcbiAgICAgIGlmICghaW5zdGFuY2UuY2hhbmdlQmVnYW4pIHtcbiAgICAgICAgaW5zdGFuY2UuY2hhbmdlQmVnYW4gPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgc2V0Q2FsbGJhY2soJ2NoYW5nZUJlZ2luJyk7XG4gICAgICB9XG4gICAgICBzZXRDYWxsYmFjaygnY2hhbmdlJyk7XG4gICAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zVGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpbnN0YW5jZS5jaGFuZ2VCZWdhbikge1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS5jaGFuZ2VCZWdhbiA9IGZhbHNlO1xuICAgICAgICBzZXRDYWxsYmFjaygnY2hhbmdlQ29tcGxldGUnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UuY3VycmVudFRpbWUgPSBtaW5NYXgoaW5zVGltZSwgMCwgaW5zRHVyYXRpb24pO1xuICAgIGlmIChpbnN0YW5jZS5iZWdhbikgeyBzZXRDYWxsYmFjaygndXBkYXRlJyk7IH1cbiAgICBpZiAoZW5naW5lVGltZSA+PSBpbnNEdXJhdGlvbikge1xuICAgICAgbGFzdFRpbWUgPSAwO1xuICAgICAgY291bnRJdGVyYXRpb24oKTtcbiAgICAgIGlmICghaW5zdGFuY2UucmVtYWluaW5nKSB7XG4gICAgICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIGlmICghaW5zdGFuY2UuY29tcGxldGVkKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICBzZXRDYWxsYmFjaygnbG9vcENvbXBsZXRlJyk7XG4gICAgICAgICAgc2V0Q2FsbGJhY2soJ2NvbXBsZXRlJyk7XG4gICAgICAgICAgaWYgKCFpbnN0YW5jZS5wYXNzVGhyb3VnaCAmJiAnUHJvbWlzZScgaW4gd2luZG93KSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICBwcm9taXNlID0gbWFrZVByb21pc2UoaW5zdGFuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnRUaW1lID0gbm93O1xuICAgICAgICBzZXRDYWxsYmFjaygnbG9vcENvbXBsZXRlJyk7XG4gICAgICAgIGluc3RhbmNlLmxvb3BCZWdhbiA9IGZhbHNlO1xuICAgICAgICBpZiAoaW5zdGFuY2UuZGlyZWN0aW9uID09PSAnYWx0ZXJuYXRlJykge1xuICAgICAgICAgIHRvZ2dsZUluc3RhbmNlRGlyZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbnN0YW5jZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkaXJlY3Rpb24gPSBpbnN0YW5jZS5kaXJlY3Rpb247XG4gICAgaW5zdGFuY2UucGFzc1Rocm91Z2ggPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jdXJyZW50VGltZSA9IDA7XG4gICAgaW5zdGFuY2UucHJvZ3Jlc3MgPSAwO1xuICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgaW5zdGFuY2UuYmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5sb29wQmVnYW4gPSBmYWxzZTtcbiAgICBpbnN0YW5jZS5jaGFuZ2VCZWdhbiA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLmNoYW5nZUNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGluc3RhbmNlLnJldmVyc2VQbGF5YmFjayA9IGZhbHNlO1xuICAgIGluc3RhbmNlLnJldmVyc2VkID0gZGlyZWN0aW9uID09PSAncmV2ZXJzZSc7XG4gICAgaW5zdGFuY2UucmVtYWluaW5nID0gaW5zdGFuY2UubG9vcDtcbiAgICBjaGlsZHJlbiA9IGluc3RhbmNlLmNoaWxkcmVuO1xuICAgIGNoaWxkcmVuTGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbkxlbmd0aDsgaS0tOykgeyBpbnN0YW5jZS5jaGlsZHJlbltpXS5yZXNldCgpOyB9XG4gICAgaWYgKGluc3RhbmNlLnJldmVyc2VkICYmIGluc3RhbmNlLmxvb3AgIT09IHRydWUgfHwgKGRpcmVjdGlvbiA9PT0gJ2FsdGVybmF0ZScgJiYgaW5zdGFuY2UubG9vcCA9PT0gMSkpIHsgaW5zdGFuY2UucmVtYWluaW5nKys7IH1cbiAgICBzZXRBbmltYXRpb25zUHJvZ3Jlc3MoaW5zdGFuY2UucmV2ZXJzZWQgPyBpbnN0YW5jZS5kdXJhdGlvbiA6IDApO1xuICB9O1xuXG4gIC8vIGludGVybmFsIG1ldGhvZCAoZm9yIGVuZ2luZSkgdG8gYWRqdXN0IGFuaW1hdGlvbiB0aW1pbmdzIGJlZm9yZSByZXN0b3JpbmcgZW5naW5lIHRpY2tzIChyQUYpXG4gIGluc3RhbmNlLl9vbkRvY3VtZW50VmlzaWJpbGl0eSA9IHJlc2V0VGltZTtcblxuICAvLyBTZXQgVmFsdWUgaGVscGVyXG5cbiAgaW5zdGFuY2Uuc2V0ID0gZnVuY3Rpb24odGFyZ2V0cywgcHJvcGVydGllcykge1xuICAgIHNldFRhcmdldHNWYWx1ZSh0YXJnZXRzLCBwcm9wZXJ0aWVzKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG5cbiAgaW5zdGFuY2UudGljayA9IGZ1bmN0aW9uKHQpIHtcbiAgICBub3cgPSB0O1xuICAgIGlmICghc3RhcnRUaW1lKSB7IHN0YXJ0VGltZSA9IG5vdzsgfVxuICAgIHNldEluc3RhbmNlUHJvZ3Jlc3MoKG5vdyArIChsYXN0VGltZSAtIHN0YXJ0VGltZSkpICogYW5pbWUuc3BlZWQpO1xuICB9O1xuXG4gIGluc3RhbmNlLnNlZWsgPSBmdW5jdGlvbih0aW1lKSB7XG4gICAgc2V0SW5zdGFuY2VQcm9ncmVzcyhhZGp1c3RUaW1lKHRpbWUpKTtcbiAgfTtcblxuICBpbnN0YW5jZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgIGluc3RhbmNlLnBhdXNlZCA9IHRydWU7XG4gICAgcmVzZXRUaW1lKCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucGxheSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghaW5zdGFuY2UucGF1c2VkKSB7IHJldHVybjsgfVxuICAgIGlmIChpbnN0YW5jZS5jb21wbGV0ZWQpIHsgaW5zdGFuY2UucmVzZXQoKTsgfVxuICAgIGluc3RhbmNlLnBhdXNlZCA9IGZhbHNlO1xuICAgIGFjdGl2ZUluc3RhbmNlcy5wdXNoKGluc3RhbmNlKTtcbiAgICByZXNldFRpbWUoKTtcbiAgICBlbmdpbmUoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXZlcnNlID0gZnVuY3Rpb24oKSB7XG4gICAgdG9nZ2xlSW5zdGFuY2VEaXJlY3Rpb24oKTtcbiAgICBpbnN0YW5jZS5jb21wbGV0ZWQgPSBpbnN0YW5jZS5yZXZlcnNlZCA/IGZhbHNlIDogdHJ1ZTtcbiAgICByZXNldFRpbWUoKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgaW5zdGFuY2UucmVzZXQoKTtcbiAgICBpbnN0YW5jZS5wbGF5KCk7XG4gIH07XG5cbiAgaW5zdGFuY2UucmVtb3ZlID0gZnVuY3Rpb24odGFyZ2V0cykge1xuICAgIHZhciB0YXJnZXRzQXJyYXkgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gICAgcmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSh0YXJnZXRzQXJyYXksIGluc3RhbmNlKTtcbiAgfTtcblxuICBpbnN0YW5jZS5yZXNldCgpO1xuXG4gIGlmIChpbnN0YW5jZS5hdXRvcGxheSkgeyBpbnN0YW5jZS5wbGF5KCk7IH1cblxuICByZXR1cm4gaW5zdGFuY2U7XG5cbn1cblxuLy8gUmVtb3ZlIHRhcmdldHMgZnJvbSBhbmltYXRpb25cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgYW5pbWF0aW9ucykge1xuICBmb3IgKHZhciBhID0gYW5pbWF0aW9ucy5sZW5ndGg7IGEtLTspIHtcbiAgICBpZiAoYXJyYXlDb250YWlucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnNbYV0uYW5pbWF0YWJsZS50YXJnZXQpKSB7XG4gICAgICBhbmltYXRpb25zLnNwbGljZShhLCAxKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0c0Zyb21JbnN0YW5jZSh0YXJnZXRzQXJyYXksIGluc3RhbmNlKSB7XG4gIHZhciBhbmltYXRpb25zID0gaW5zdGFuY2UuYW5pbWF0aW9ucztcbiAgdmFyIGNoaWxkcmVuID0gaW5zdGFuY2UuY2hpbGRyZW47XG4gIHJlbW92ZVRhcmdldHNGcm9tQW5pbWF0aW9ucyh0YXJnZXRzQXJyYXksIGFuaW1hdGlvbnMpO1xuICBmb3IgKHZhciBjID0gY2hpbGRyZW4ubGVuZ3RoOyBjLS07KSB7XG4gICAgdmFyIGNoaWxkID0gY2hpbGRyZW5bY107XG4gICAgdmFyIGNoaWxkQW5pbWF0aW9ucyA9IGNoaWxkLmFuaW1hdGlvbnM7XG4gICAgcmVtb3ZlVGFyZ2V0c0Zyb21BbmltYXRpb25zKHRhcmdldHNBcnJheSwgY2hpbGRBbmltYXRpb25zKTtcbiAgICBpZiAoIWNoaWxkQW5pbWF0aW9ucy5sZW5ndGggJiYgIWNoaWxkLmNoaWxkcmVuLmxlbmd0aCkgeyBjaGlsZHJlbi5zcGxpY2UoYywgMSk7IH1cbiAgfVxuICBpZiAoIWFuaW1hdGlvbnMubGVuZ3RoICYmICFjaGlsZHJlbi5sZW5ndGgpIHsgaW5zdGFuY2UucGF1c2UoKTsgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVUYXJnZXRzRnJvbUFjdGl2ZUluc3RhbmNlcyh0YXJnZXRzKSB7XG4gIHZhciB0YXJnZXRzQXJyYXkgPSBwYXJzZVRhcmdldHModGFyZ2V0cyk7XG4gIGZvciAodmFyIGkgPSBhY3RpdmVJbnN0YW5jZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgdmFyIGluc3RhbmNlID0gYWN0aXZlSW5zdGFuY2VzW2ldO1xuICAgIHJlbW92ZVRhcmdldHNGcm9tSW5zdGFuY2UodGFyZ2V0c0FycmF5LCBpbnN0YW5jZSk7XG4gIH1cbn1cblxuLy8gU3RhZ2dlciBoZWxwZXJzXG5cbmZ1bmN0aW9uIHN0YWdnZXIodmFsLCBwYXJhbXMpIHtcbiAgaWYgKCBwYXJhbXMgPT09IHZvaWQgMCApIHBhcmFtcyA9IHt9O1xuXG4gIHZhciBkaXJlY3Rpb24gPSBwYXJhbXMuZGlyZWN0aW9uIHx8ICdub3JtYWwnO1xuICB2YXIgZWFzaW5nID0gcGFyYW1zLmVhc2luZyA/IHBhcnNlRWFzaW5ncyhwYXJhbXMuZWFzaW5nKSA6IG51bGw7XG4gIHZhciBncmlkID0gcGFyYW1zLmdyaWQ7XG4gIHZhciBheGlzID0gcGFyYW1zLmF4aXM7XG4gIHZhciBmcm9tSW5kZXggPSBwYXJhbXMuZnJvbSB8fCAwO1xuICB2YXIgZnJvbUZpcnN0ID0gZnJvbUluZGV4ID09PSAnZmlyc3QnO1xuICB2YXIgZnJvbUNlbnRlciA9IGZyb21JbmRleCA9PT0gJ2NlbnRlcic7XG4gIHZhciBmcm9tTGFzdCA9IGZyb21JbmRleCA9PT0gJ2xhc3QnO1xuICB2YXIgaXNSYW5nZSA9IGlzLmFycih2YWwpO1xuICB2YXIgdmFsMSA9IGlzUmFuZ2UgPyBwYXJzZUZsb2F0KHZhbFswXSkgOiBwYXJzZUZsb2F0KHZhbCk7XG4gIHZhciB2YWwyID0gaXNSYW5nZSA/IHBhcnNlRmxvYXQodmFsWzFdKSA6IDA7XG4gIHZhciB1bml0ID0gZ2V0VW5pdChpc1JhbmdlID8gdmFsWzFdIDogdmFsKSB8fCAwO1xuICB2YXIgc3RhcnQgPSBwYXJhbXMuc3RhcnQgfHwgMCArIChpc1JhbmdlID8gdmFsMSA6IDApO1xuICB2YXIgdmFsdWVzID0gW107XG4gIHZhciBtYXhWYWx1ZSA9IDA7XG4gIHJldHVybiBmdW5jdGlvbiAoZWwsIGksIHQpIHtcbiAgICBpZiAoZnJvbUZpcnN0KSB7IGZyb21JbmRleCA9IDA7IH1cbiAgICBpZiAoZnJvbUNlbnRlcikgeyBmcm9tSW5kZXggPSAodCAtIDEpIC8gMjsgfVxuICAgIGlmIChmcm9tTGFzdCkgeyBmcm9tSW5kZXggPSB0IC0gMTsgfVxuICAgIGlmICghdmFsdWVzLmxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHQ7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKCFncmlkKSB7XG4gICAgICAgICAgdmFsdWVzLnB1c2goTWF0aC5hYnMoZnJvbUluZGV4IC0gaW5kZXgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZnJvbVggPSAhZnJvbUNlbnRlciA/IGZyb21JbmRleCVncmlkWzBdIDogKGdyaWRbMF0tMSkvMjtcbiAgICAgICAgICB2YXIgZnJvbVkgPSAhZnJvbUNlbnRlciA/IE1hdGguZmxvb3IoZnJvbUluZGV4L2dyaWRbMF0pIDogKGdyaWRbMV0tMSkvMjtcbiAgICAgICAgICB2YXIgdG9YID0gaW5kZXglZ3JpZFswXTtcbiAgICAgICAgICB2YXIgdG9ZID0gTWF0aC5mbG9vcihpbmRleC9ncmlkWzBdKTtcbiAgICAgICAgICB2YXIgZGlzdGFuY2VYID0gZnJvbVggLSB0b1g7XG4gICAgICAgICAgdmFyIGRpc3RhbmNlWSA9IGZyb21ZIC0gdG9ZO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IE1hdGguc3FydChkaXN0YW5jZVggKiBkaXN0YW5jZVggKyBkaXN0YW5jZVkgKiBkaXN0YW5jZVkpO1xuICAgICAgICAgIGlmIChheGlzID09PSAneCcpIHsgdmFsdWUgPSAtZGlzdGFuY2VYOyB9XG4gICAgICAgICAgaWYgKGF4aXMgPT09ICd5JykgeyB2YWx1ZSA9IC1kaXN0YW5jZVk7IH1cbiAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4VmFsdWUgPSBNYXRoLm1heC5hcHBseShNYXRoLCB2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGVhc2luZykgeyB2YWx1ZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIGVhc2luZyh2YWwgLyBtYXhWYWx1ZSkgKiBtYXhWYWx1ZTsgfSk7IH1cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdyZXZlcnNlJykgeyB2YWx1ZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIGF4aXMgPyAodmFsIDwgMCkgPyB2YWwgKiAtMSA6IC12YWwgOiBNYXRoLmFicyhtYXhWYWx1ZSAtIHZhbCk7IH0pOyB9XG4gICAgfVxuICAgIHZhciBzcGFjaW5nID0gaXNSYW5nZSA/ICh2YWwyIC0gdmFsMSkgLyBtYXhWYWx1ZSA6IHZhbDE7XG4gICAgcmV0dXJuIHN0YXJ0ICsgKHNwYWNpbmcgKiAoTWF0aC5yb3VuZCh2YWx1ZXNbaV0gKiAxMDApIC8gMTAwKSkgKyB1bml0O1xuICB9XG59XG5cbi8vIFRpbWVsaW5lXG5cbmZ1bmN0aW9uIHRpbWVsaW5lKHBhcmFtcykge1xuICBpZiAoIHBhcmFtcyA9PT0gdm9pZCAwICkgcGFyYW1zID0ge307XG5cbiAgdmFyIHRsID0gYW5pbWUocGFyYW1zKTtcbiAgdGwuZHVyYXRpb24gPSAwO1xuICB0bC5hZGQgPSBmdW5jdGlvbihpbnN0YW5jZVBhcmFtcywgdGltZWxpbmVPZmZzZXQpIHtcbiAgICB2YXIgdGxJbmRleCA9IGFjdGl2ZUluc3RhbmNlcy5pbmRleE9mKHRsKTtcbiAgICB2YXIgY2hpbGRyZW4gPSB0bC5jaGlsZHJlbjtcbiAgICBpZiAodGxJbmRleCA+IC0xKSB7IGFjdGl2ZUluc3RhbmNlcy5zcGxpY2UodGxJbmRleCwgMSk7IH1cbiAgICBmdW5jdGlvbiBwYXNzVGhyb3VnaChpbnMpIHsgaW5zLnBhc3NUaHJvdWdoID0gdHJ1ZTsgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsgcGFzc1Rocm91Z2goY2hpbGRyZW5baV0pOyB9XG4gICAgdmFyIGluc1BhcmFtcyA9IG1lcmdlT2JqZWN0cyhpbnN0YW5jZVBhcmFtcywgcmVwbGFjZU9iamVjdFByb3BzKGRlZmF1bHRUd2VlblNldHRpbmdzLCBwYXJhbXMpKTtcbiAgICBpbnNQYXJhbXMudGFyZ2V0cyA9IGluc1BhcmFtcy50YXJnZXRzIHx8IHBhcmFtcy50YXJnZXRzO1xuICAgIHZhciB0bER1cmF0aW9uID0gdGwuZHVyYXRpb247XG4gICAgaW5zUGFyYW1zLmF1dG9wbGF5ID0gZmFsc2U7XG4gICAgaW5zUGFyYW1zLmRpcmVjdGlvbiA9IHRsLmRpcmVjdGlvbjtcbiAgICBpbnNQYXJhbXMudGltZWxpbmVPZmZzZXQgPSBpcy51bmQodGltZWxpbmVPZmZzZXQpID8gdGxEdXJhdGlvbiA6IGdldFJlbGF0aXZlVmFsdWUodGltZWxpbmVPZmZzZXQsIHRsRHVyYXRpb24pO1xuICAgIHBhc3NUaHJvdWdoKHRsKTtcbiAgICB0bC5zZWVrKGluc1BhcmFtcy50aW1lbGluZU9mZnNldCk7XG4gICAgdmFyIGlucyA9IGFuaW1lKGluc1BhcmFtcyk7XG4gICAgcGFzc1Rocm91Z2goaW5zKTtcbiAgICBjaGlsZHJlbi5wdXNoKGlucyk7XG4gICAgdmFyIHRpbWluZ3MgPSBnZXRJbnN0YW5jZVRpbWluZ3MoY2hpbGRyZW4sIHBhcmFtcyk7XG4gICAgdGwuZGVsYXkgPSB0aW1pbmdzLmRlbGF5O1xuICAgIHRsLmVuZERlbGF5ID0gdGltaW5ncy5lbmREZWxheTtcbiAgICB0bC5kdXJhdGlvbiA9IHRpbWluZ3MuZHVyYXRpb247XG4gICAgdGwuc2VlaygwKTtcbiAgICB0bC5yZXNldCgpO1xuICAgIGlmICh0bC5hdXRvcGxheSkgeyB0bC5wbGF5KCk7IH1cbiAgICByZXR1cm4gdGw7XG4gIH07XG4gIHJldHVybiB0bDtcbn1cblxuYW5pbWUudmVyc2lvbiA9ICczLjIuMSc7XG5hbmltZS5zcGVlZCA9IDE7XG4vLyBUT0RPOiNyZXZpZXc6IG5hbWluZywgZG9jdW1lbnRhdGlvblxuYW5pbWUuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbiA9IHRydWU7XG5hbmltZS5ydW5uaW5nID0gYWN0aXZlSW5zdGFuY2VzO1xuYW5pbWUucmVtb3ZlID0gcmVtb3ZlVGFyZ2V0c0Zyb21BY3RpdmVJbnN0YW5jZXM7XG5hbmltZS5nZXQgPSBnZXRPcmlnaW5hbFRhcmdldFZhbHVlO1xuYW5pbWUuc2V0ID0gc2V0VGFyZ2V0c1ZhbHVlO1xuYW5pbWUuY29udmVydFB4ID0gY29udmVydFB4VG9Vbml0O1xuYW5pbWUucGF0aCA9IGdldFBhdGg7XG5hbmltZS5zZXREYXNob2Zmc2V0ID0gc2V0RGFzaG9mZnNldDtcbmFuaW1lLnN0YWdnZXIgPSBzdGFnZ2VyO1xuYW5pbWUudGltZWxpbmUgPSB0aW1lbGluZTtcbmFuaW1lLmVhc2luZyA9IHBhcnNlRWFzaW5ncztcbmFuaW1lLnBlbm5lciA9IHBlbm5lcjtcbmFuaW1lLnJhbmRvbSA9IGZ1bmN0aW9uIChtaW4sIG1heCkgeyByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsgfTtcblxuZXhwb3J0IGRlZmF1bHQgYW5pbWU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/animejs/lib/anime.es.js\n");

/***/ }),

/***/ "./src/autocomplete.ts":
/*!*****************************!*\
  !*** ./src/autocomplete.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Autocomplete = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst dropdown_1 = __webpack_require__(/*! ./dropdown */ \"./src/dropdown.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nlet _defaults = {\n    data: [],\n    onAutocomplete: null,\n    dropdownOptions: {\n        // Default dropdown options\n        autoFocus: false,\n        closeOnClick: false,\n        coverTrigger: false\n    },\n    minLength: 1,\n    isMultiSelect: false,\n    onSearch: (text, autocomplete) => {\n        const normSearch = text.toLocaleLowerCase();\n        autocomplete.setMenuItems(autocomplete.options.data.filter((option) => {\n            var _a;\n            return option.id.toString().toLocaleLowerCase().includes(normSearch)\n                || ((_a = option.text) === null || _a === void 0 ? void 0 : _a.toLocaleLowerCase().includes(normSearch));\n        }));\n    },\n    maxDropDownHeight: '300px',\n    allowUnsafeHTML: false\n};\nclass Autocomplete extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Autocomplete);\n        this._handleInputBlur = () => {\n            if (!this._mousedown) {\n                this.close();\n                this._resetAutocomplete();\n            }\n        };\n        this._handleInputKeyupAndFocus = (e) => {\n            if (e.type === 'keyup')\n                Autocomplete._keydown = false;\n            this.count = 0;\n            const actualValue = this.el.value.toLocaleLowerCase();\n            // Don't capture enter or arrow key usage.\n            if (utils_1.Utils.keys.ENTER.includes(e.key) || utils_1.Utils.keys.ARROW_UP.includes(e.key) || utils_1.Utils.keys.ARROW_DOWN.includes(e.key))\n                return;\n            // Check if the input isn't empty\n            // Check if focus triggered by tab\n            if (this.oldVal !== actualValue && (utils_1.Utils.tabPressed || e.type !== 'focus')) {\n                this.open();\n            }\n            // Value has changed!\n            if (this.oldVal !== actualValue) {\n                this._setStatusLoading();\n                this.options.onSearch(this.el.value, this);\n            }\n            // Reset Single-Select when Input cleared\n            if (!this.options.isMultiSelect && this.el.value.length === 0) {\n                this.selectedValues = [];\n                this._triggerChanged();\n            }\n            this.oldVal = actualValue;\n        };\n        this._handleInputKeydown = (e) => {\n            var _a, _b;\n            Autocomplete._keydown = true;\n            // Arrow keys and enter key usage\n            const numItems = this.container.querySelectorAll('li').length;\n            // select element on Enter\n            if (utils_1.Utils.keys.ENTER.includes(e.key) && this.activeIndex >= 0) {\n                const liElement = this.container.querySelectorAll('li')[this.activeIndex];\n                if (liElement) {\n                    this.selectOption(liElement.getAttribute('data-id'));\n                    e.preventDefault();\n                }\n                return;\n            }\n            // Capture up and down key\n            if (utils_1.Utils.keys.ARROW_UP.includes(e.key) || utils_1.Utils.keys.ARROW_DOWN.includes(e.key)) {\n                e.preventDefault();\n                if (utils_1.Utils.keys.ARROW_UP.includes(e.key) && this.activeIndex > 0)\n                    this.activeIndex--;\n                if (utils_1.Utils.keys.ARROW_DOWN.includes(e.key) && this.activeIndex < numItems - 1)\n                    this.activeIndex++;\n                (_a = this.$active) === null || _a === void 0 ? void 0 : _a.classList.remove('active');\n                if (this.activeIndex >= 0) {\n                    this.$active = this.container.querySelectorAll('li')[this.activeIndex];\n                    (_b = this.$active) === null || _b === void 0 ? void 0 : _b.classList.add('active');\n                    // Focus selected\n                    this.container.children[this.activeIndex].scrollIntoView({\n                        behavior: 'smooth',\n                        block: 'nearest',\n                        inline: 'nearest'\n                    });\n                }\n            }\n        };\n        this._handleInputClick = () => {\n            this.open();\n        };\n        this._handleContainerMousedownAndTouchstart = () => {\n            this._mousedown = true;\n        };\n        this._handleContainerMouseupAndTouchend = () => {\n            this._mousedown = false;\n        };\n        /**\n         * Show autocomplete.\n         */\n        this.open = () => {\n            const inputText = this.el.value.toLocaleLowerCase();\n            this._resetAutocomplete();\n            if (inputText.length >= this.options.minLength) {\n                this.isOpen = true;\n                this._renderDropdown();\n            }\n            // Open dropdown\n            if (!this.dropdown.isOpen) {\n                setTimeout(() => {\n                    this.dropdown.open();\n                }, 100);\n            }\n            else\n                this.dropdown.recalculateDimensions(); // Recalculate dropdown when its already open\n        };\n        /**\n         * Hide autocomplete.\n         */\n        this.close = () => {\n            this.dropdown.close();\n        };\n        this.el.M_Autocomplete = this;\n        this.options = Object.assign(Object.assign({}, Autocomplete.defaults), options);\n        this.isOpen = false;\n        this.count = 0;\n        this.activeIndex = -1;\n        this.oldVal = \"\";\n        this.selectedValues = [];\n        this.menuItems = [];\n        this.$active = null;\n        this._mousedown = false;\n        this._setupDropdown();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Autocomplete.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Autocomplete);\n    }\n    static getInstance(el) {\n        return el.M_Autocomplete;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._removeDropdown();\n        this.el.M_Autocomplete = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('blur', this._handleInputBlur);\n        this.el.addEventListener('keyup', this._handleInputKeyupAndFocus);\n        this.el.addEventListener('focus', this._handleInputKeyupAndFocus);\n        this.el.addEventListener('keydown', this._handleInputKeydown);\n        this.el.addEventListener('click', this._handleInputClick);\n        this.container.addEventListener('mousedown', this._handleContainerMousedownAndTouchstart);\n        this.container.addEventListener('mouseup', this._handleContainerMouseupAndTouchend);\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.container.addEventListener('touchstart', this._handleContainerMousedownAndTouchstart);\n            this.container.addEventListener('touchend', this._handleContainerMouseupAndTouchend);\n        }\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('blur', this._handleInputBlur);\n        this.el.removeEventListener('keyup', this._handleInputKeyupAndFocus);\n        this.el.removeEventListener('focus', this._handleInputKeyupAndFocus);\n        this.el.removeEventListener('keydown', this._handleInputKeydown);\n        this.el.removeEventListener('click', this._handleInputClick);\n        this.container.removeEventListener('mousedown', this._handleContainerMousedownAndTouchstart);\n        this.container.removeEventListener('mouseup', this._handleContainerMouseupAndTouchend);\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.container.removeEventListener('touchstart', this._handleContainerMousedownAndTouchstart);\n            this.container.removeEventListener('touchend', this._handleContainerMouseupAndTouchend);\n        }\n    }\n    _setupDropdown() {\n        this.container = document.createElement('ul');\n        this.container.style.maxHeight = this.options.maxDropDownHeight;\n        this.container.id = `autocomplete-options-${utils_1.Utils.guid()}`;\n        this.container.classList.add('autocomplete-content', 'dropdown-content');\n        this.el.setAttribute('data-target', this.container.id);\n        // ! Issue in Component Dropdown: _placeDropdown moves dom-position\n        this.el.parentElement.appendChild(this.container);\n        // Initialize dropdown\n        let dropdownOptions = Object.assign(Object.assign({}, Autocomplete.defaults.dropdownOptions), this.options.dropdownOptions);\n        let userOnItemClick = dropdownOptions.onItemClick;\n        // Ensuring the select Option call when user passes custom onItemClick function to dropdown\n        dropdownOptions.onItemClick = (li) => {\n            if (!li)\n                return;\n            const entryID = li.getAttribute('data-id');\n            this.selectOption(entryID);\n            // Handle user declared onItemClick if needed\n            if (userOnItemClick && typeof userOnItemClick === 'function')\n                userOnItemClick.call(this.dropdown, this.el);\n        };\n        this.dropdown = dropdown_1.Dropdown.init(this.el, dropdownOptions);\n        // ! Workaround for Label: move label up again\n        // TODO: Just use PopperJS in future!\n        const label = this.el.parentElement.querySelector('label');\n        if (label)\n            this.el.after(label);\n        // Sketchy removal of dropdown click handler\n        this.el.removeEventListener('click', this.dropdown._handleClick);\n        // Set Value if already set in HTML\n        if (this.el.value)\n            this.selectOption(this.el.value);\n        // Add StatusInfo\n        const div = document.createElement('div');\n        div.classList.add('status-info');\n        div.setAttribute('style', 'position: absolute;right:0;top:0;');\n        this.el.parentElement.appendChild(div);\n        this._updateSelectedInfo();\n    }\n    _removeDropdown() {\n        this.container.parentNode.removeChild(this.container);\n    }\n    _resetCurrentElementPosition() {\n        var _a;\n        this.activeIndex = -1;\n        (_a = this.$active) === null || _a === void 0 ? void 0 : _a.classList.remove('active');\n    }\n    _resetAutocomplete() {\n        this.container.replaceChildren();\n        this._resetCurrentElementPosition();\n        this.oldVal = null;\n        this.isOpen = false;\n        this._mousedown = false;\n    }\n    _highlightPartialText(input, label) {\n        const start = label.toLocaleLowerCase().indexOf('' + input.toLocaleLowerCase() + '');\n        const end = start + input.length - 1;\n        //custom filters may return results where the string does not match any part\n        if (start == -1 || end == -1) {\n            return [label, '', ''];\n        }\n        return [label.slice(0, start), label.slice(start, end + 1), label.slice(end + 1)];\n    }\n    _createDropdownItem(entry) {\n        const item = document.createElement('li');\n        item.setAttribute('data-id', entry.id);\n        item.setAttribute('style', 'display:grid; grid-auto-flow: column; user-select: none; align-items: center;');\n        // Checkbox\n        if (this.options.isMultiSelect) {\n            item.innerHTML = `\n        <div class=\"item-selection\" style=\"text-align:center;\">\n        <input type=\"checkbox\"${this.selectedValues.some((sel) => sel.id === entry.id) ? ' checked=\"checked\"' : ''}><span style=\"padding-left:21px;\"></span>\n      </div>`;\n        }\n        // Image\n        if (entry.image) {\n            const img = document.createElement('img');\n            img.classList.add('circle');\n            img.src = entry.image;\n            item.appendChild(img);\n        }\n        // Text\n        const inputText = this.el.value.toLocaleLowerCase();\n        const parts = this._highlightPartialText(inputText, (entry.text || entry.id).toString());\n        const div = document.createElement('div');\n        div.setAttribute('style', 'line-height:1.2;font-weight:500;');\n        if (this.options.allowUnsafeHTML) {\n            div.innerHTML = parts[0] + '<span class=\"highlight\">' + parts[1] + '</span>' + parts[2];\n        }\n        else {\n            div.appendChild(document.createTextNode(parts[0]));\n            if (parts[1]) {\n                const highlight = document.createElement('span');\n                highlight.textContent = parts[1];\n                highlight.classList.add('highlight');\n                div.appendChild(highlight);\n                div.appendChild(document.createTextNode(parts[2]));\n            }\n        }\n        const itemText = document.createElement('div');\n        itemText.classList.add('item-text');\n        itemText.setAttribute('style', 'padding:5px;overflow:hidden;');\n        item.appendChild(itemText);\n        item.querySelector('.item-text').appendChild(div);\n        // Description\n        if (typeof entry.description === 'string' || (typeof entry.description === 'number' && !isNaN(entry.description))) {\n            const description = document.createElement('small');\n            description.setAttribute('style', 'line-height:1.3;color:grey;white-space:nowrap;text-overflow:ellipsis;display:block;width:90%;overflow:hidden;');\n            description.innerText = entry.description;\n            item.querySelector('.item-text').appendChild(description);\n        }\n        // Set Grid\n        const getGridConfig = () => {\n            if (this.options.isMultiSelect) {\n                if (entry.image)\n                    return '40px min-content auto'; // cb-img-txt\n                return '40px auto'; // cb-txt\n            }\n            if (entry.image)\n                return 'min-content auto'; // img-txt\n            return 'auto'; // txt\n        };\n        item.style.gridTemplateColumns = getGridConfig();\n        return item;\n    }\n    _renderDropdown() {\n        this._resetAutocomplete();\n        // Check if Data is empty\n        if (this.menuItems.length === 0) {\n            this.menuItems = this.selectedValues; // Show selected Items\n        }\n        for (let i = 0; i < this.menuItems.length; i++) {\n            const item = this._createDropdownItem(this.menuItems[i]);\n            this.container.append(item);\n        }\n    }\n    _setStatusLoading() {\n        this.el.parentElement.querySelector('.status-info').innerHTML = `<div style=\"height:100%;width:50px;\"><svg version=\"1.1\" id=\"L4\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\">\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"6\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\" begin=\"0.1\"/></circle>\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"26\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\" begin=\"0.2\"/></circle>\n    <circle fill=\"#888c\" stroke=\"none\" cx=\"46\" cy=\"50\" r=\"6\"><animate attributeName=\"opacity\" dur=\"1s\" values=\"0;1;0\" repeatCount=\"indefinite\"  begin=\"0.3\"/></circle>\n  </svg></div>`;\n    }\n    _updateSelectedInfo() {\n        const statusElement = this.el.parentElement.querySelector('.status-info');\n        if (statusElement) {\n            if (this.options.isMultiSelect)\n                statusElement.innerHTML = this.selectedValues.length.toString();\n            else\n                statusElement.innerHTML = '';\n        }\n    }\n    _refreshInputText() {\n        if (this.selectedValues.length === 1) {\n            const entry = this.selectedValues[0];\n            this.el.value = entry.text || entry.id; // Write Text to Input\n        }\n    }\n    _triggerChanged() {\n        this.el.dispatchEvent(new Event('change'));\n        // Trigger Autocomplete Event\n        if (typeof this.options.onAutocomplete === 'function')\n            this.options.onAutocomplete.call(this, this.selectedValues);\n    }\n    /**\n     * Updates the visible or selectable items shown in the menu.\n     * @param menuItems Items to be available.\n     */\n    setMenuItems(menuItems) {\n        this.menuItems = menuItems;\n        this.open();\n        this._updateSelectedInfo();\n    }\n    /**\n     * Sets selected values.\n     * @param entries\n     */\n    setValues(entries) {\n        this.selectedValues = entries;\n        this._updateSelectedInfo();\n        if (!this.options.isMultiSelect) {\n            this._refreshInputText();\n        }\n        this._triggerChanged();\n    }\n    /**\n     * Select a specific autocomplete option via id-property.\n     * @param id The id of a data-entry.\n     */\n    selectOption(id) {\n        const entry = this.menuItems.find((item) => item.id == id);\n        if (!entry)\n            return;\n        // Toggle Checkbox\n        const li = this.container.querySelector('li[data-id=\"' + id + '\"]');\n        if (!li)\n            return;\n        if (this.options.isMultiSelect) {\n            const checkbox = li.querySelector('input[type=\"checkbox\"]');\n            checkbox.checked = !checkbox.checked;\n            if (checkbox.checked)\n                this.selectedValues.push(entry);\n            else\n                this.selectedValues = this.selectedValues.filter((selectedEntry) => selectedEntry.id !== entry.id);\n            this.el.focus();\n        }\n        else {\n            // Single-Select\n            this.selectedValues = [entry];\n            this._refreshInputText();\n            this._resetAutocomplete();\n            this.close();\n        }\n        this._updateSelectedInfo();\n        this._triggerChanged();\n    }\n}\nexports.Autocomplete = Autocomplete;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b21wbGV0ZS50cz9kZWZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7IERyb3Bkb3duLCBEcm9wZG93bk9wdGlvbnMgfSBmcm9tIFwiLi9kcm9wZG93blwiO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBCYXNlT3B0aW9ucywgSW5pdEVsZW1lbnRzLCBNRWxlbWVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEF1dG9jb21wbGV0ZURhdGEge1xuICAvKiogXG4gICAqIEEgcHJpbWl0aXZlIHZhbHVlIHRoYXQgY2FuIGJlIGNvbnZlcnRlZCB0byBzdHJpbmcuXG4gICAqIElmIFwidGV4dFwiIGlzIG5vdCBwcm92aWRlZCwgaXQgd2lsbCBhbHNvIGJlIHVzZWQgYXMgXCJvcHRpb24gdGV4dFwiIGFzIHdlbGxcbiAgICovXG4gIGlkOiBzdHJpbmcgfCBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGlzIG9wdGlvbmFsIGF0dHJpYnV0ZSBpcyB1c2VkIGFzIFwiZGlzcGxheSB2YWx1ZVwiIGZvciB0aGUgY3VycmVudCBlbnRyeS5cbiAgICogV2hlbiBwcm92aWRlZCwgaXQgd2lsbCBhbHNvIGJlIHRha2VuIGludG8gY29uc2lkZXJhdGlvbiBieSB0aGUgc3RhbmRhcmQgc2VhcmNoIGZ1bmN0aW9uLlxuICAgKi9cbiAgdGV4dD86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoaXMgb3B0aW9uYWwgYXR0cmlidXRlIGlzIHVzZWQgdG8gcHJvdmlkZSBhIHZhbGlkIGltYWdlIFVSTCB0byB0aGUgY3VycmVudCBvcHRpb24uXG4gICAqL1xuICBpbWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGF0dHJpYnV0ZXMgd2hpY2ggZGVzY3JpYmVzIHRoZSBvcHRpb24uXG4gICAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdXRvY29tcGxldGVPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge1xuICAvKipcbiAgICogRGF0YSBvYmplY3QgZGVmaW5pbmcgYXV0b2NvbXBsZXRlIG9wdGlvbnMgd2l0aFxuICAgKiBvcHRpb25hbCBpY29uIHN0cmluZ3MuXG4gICAqL1xuICBkYXRhOiBBdXRvY29tcGxldGVEYXRhW107XG4gIC8qKlxuICAgKiBGbGFnIHdoaWNoIGNhbiBiZSBzZXQgaWYgbXVsdGlwbGUgdmFsdWVzIGNhbiBiZSBzZWxlY3RlZC4gVGhlIFJlc3VsdCB3aWxsIGJlIGFuIEFycmF5LlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgaXNNdWx0aVNlbGVjdDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZvciB3aGVuIGF1dG9jb21wbGV0ZWQuXG4gICAqL1xuICBvbkF1dG9jb21wbGV0ZTogKGVudHJpZXM6IEF1dG9jb21wbGV0ZURhdGFbXSkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIE1pbmltdW0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgYmVmb3JlIGF1dG9jb21wbGV0ZSBzdGFydHMuXG4gICAqIEBkZWZhdWx0IDFcbiAgICovXG4gIG1pbkxlbmd0aDogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIGhlaWdodCBvZiB0aGUgTWVudSB3aGljaCBjYW4gYmUgc2V0IHZpYSBjc3MtcHJvcGVydHkuXG4gICAqIEBkZWZhdWx0ICczMDBweCdcbiAgICovXG4gIG1heERyb3BEb3duSGVpZ2h0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiB0aGUgaW5wdXQgdGV4dCBpcyBhbHRlcmVkIGFuZCBkYXRhIGNhbiBhbHNvIGJlIGxvYWRlZCBhc3luY2hyb25vdXNseS5cbiAgICogSWYgdGhlIHJlc3VsdHMgYXJlIGNvbGxlY3RlZCB0aGUgaXRlbXMgaW4gdGhlIGxpc3QgY2FuIGJlIHVwZGF0ZWQgdmlhIHRoZSBmdW5jdGlvbiBzZXRNZW51SXRlbXMoY29sbGVjdGVkSXRlbXMpLlxuICAgKiBAcGFyYW0gdGV4dCBTZWFyY2hlZCB0ZXh0LlxuICAgKiBAcGFyYW0gYXV0b2NvbXBsZXRlIEN1cnJlbnQgYXV0b2NvbXBsZXRlIGluc3RhbmNlLlxuICAgKi9cbiAgb25TZWFyY2g6ICh0ZXh0OiBzdHJpbmcsIGF1dG9jb21wbGV0ZTogQXV0b2NvbXBsZXRlKSA9PiB2b2lkO1xuICAvKipcbiAgICogSWYgdHJ1ZSB3aWxsIHJlbmRlciB0aGUga2V5IGZyb20gZWFjaCBpdGVtIGRpcmVjdGx5IGFzIEhUTUwuXG4gICAqIFVzZXIgaW5wdXQgTVVTVCBiZSBwcm9wZXJseSBzYW5pdGl6ZWQgZmlyc3QuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBhbGxvd1Vuc2FmZUhUTUw6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBQYXNzIG9wdGlvbnMgb2JqZWN0IHRvIHNlbGVjdCBkcm9wZG93biBpbml0aWFsaXphdGlvbi5cbiAgICogQGRlZmF1bHQge31cbiAgICovXG4gIGRyb3Bkb3duT3B0aW9uczogUGFydGlhbDxEcm9wZG93bk9wdGlvbnM+O1xufTtcblxubGV0IF9kZWZhdWx0czogQXV0b2NvbXBsZXRlT3B0aW9ucyA9IHtcbiAgZGF0YTogW10sIC8vIEF1dG9jb21wbGV0ZSBkYXRhIHNldFxuICBvbkF1dG9jb21wbGV0ZTogbnVsbCwgLy8gQ2FsbGJhY2sgZm9yIHdoZW4gYXV0b2NvbXBsZXRlZFxuICBkcm9wZG93bk9wdGlvbnM6IHtcbiAgICAvLyBEZWZhdWx0IGRyb3Bkb3duIG9wdGlvbnNcbiAgICBhdXRvRm9jdXM6IGZhbHNlLFxuICAgIGNsb3NlT25DbGljazogZmFsc2UsXG4gICAgY292ZXJUcmlnZ2VyOiBmYWxzZVxuICB9LFxuICBtaW5MZW5ndGg6IDEsIC8vIE1pbiBjaGFyYWN0ZXJzIGJlZm9yZSBhdXRvY29tcGxldGUgc3RhcnRzXG4gIGlzTXVsdGlTZWxlY3Q6IGZhbHNlLFxuICBvblNlYXJjaDogKHRleHQ6IHN0cmluZywgYXV0b2NvbXBsZXRlOiBBdXRvY29tcGxldGUpID0+IHtcbiAgICBjb25zdCBub3JtU2VhcmNoID0gdGV4dC50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIGF1dG9jb21wbGV0ZS5zZXRNZW51SXRlbXMoXG4gICAgICBhdXRvY29tcGxldGUub3B0aW9ucy5kYXRhLmZpbHRlcigob3B0aW9uKSA9PiBcbiAgICAgICAgb3B0aW9uLmlkLnRvU3RyaW5nKCkudG9Mb2NhbGVMb3dlckNhc2UoKS5pbmNsdWRlcyhub3JtU2VhcmNoKVxuICAgICAgICAgIHx8IG9wdGlvbi50ZXh0Py50b0xvY2FsZUxvd2VyQ2FzZSgpLmluY2x1ZGVzKG5vcm1TZWFyY2gpXG4gICAgICApXG4gICAgKTtcbiAgfSxcbiAgbWF4RHJvcERvd25IZWlnaHQ6ICczMDBweCcsXG4gIGFsbG93VW5zYWZlSFRNTDogZmFsc2Vcbn07XG5cblxuZXhwb3J0IGNsYXNzIEF1dG9jb21wbGV0ZSBleHRlbmRzIENvbXBvbmVudDxBdXRvY29tcGxldGVPcHRpb25zPiB7XG4gIGRlY2xhcmUgZWw6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIC8qKiBJZiB0aGUgYXV0b2NvbXBsZXRlIGlzIG9wZW4uICovXG4gIGlzT3BlbjogYm9vbGVhbjtcbiAgLyoqIE51bWJlciBvZiBtYXRjaGluZyBhdXRvY29tcGxldGUgb3B0aW9ucy4gKi9cbiAgY291bnQ6IG51bWJlcjtcbiAgLyoqIEluZGV4IG9mIHRoZSBjdXJyZW50IHNlbGVjdGVkIG9wdGlvbi4gKi9cbiAgYWN0aXZlSW5kZXg6IG51bWJlcjtcbiAgcHJpdmF0ZSBvbGRWYWw6IHN0cmluZztcbiAgcHJpdmF0ZSAkYWN0aXZlOiBIVE1MRWxlbWVudHxudWxsO1xuICBwcml2YXRlIF9tb3VzZWRvd246IGJvb2xlYW47XG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIC8qKiBJbnN0YW5jZSBvZiB0aGUgZHJvcGRvd24gcGx1Z2luIGZvciB0aGlzIGF1dG9jb21wbGV0ZS4gKi9cbiAgZHJvcGRvd246IERyb3Bkb3duO1xuICBzdGF0aWMgX2tleWRvd246IGJvb2xlYW47XG4gIHNlbGVjdGVkVmFsdWVzOiBBdXRvY29tcGxldGVEYXRhW107XG4gIG1lbnVJdGVtczogQXV0b2NvbXBsZXRlRGF0YVtdO1xuXG5cbiAgY29uc3RydWN0b3IoZWw6IEhUTUxJbnB1dEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8QXV0b2NvbXBsZXRlT3B0aW9ucz4pIHtcbiAgICBzdXBlcihlbCwgb3B0aW9ucywgQXV0b2NvbXBsZXRlKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQXV0b2NvbXBsZXRlID0gdGhpcztcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLkF1dG9jb21wbGV0ZS5kZWZhdWx0cyxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gICAgdGhpcy5hY3RpdmVJbmRleCA9IC0xO1xuICAgIHRoaXMub2xkVmFsID0gXCJcIjtcbiAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gW107XG4gICAgdGhpcy5tZW51SXRlbXMgPSBbXTtcbiAgICB0aGlzLiRhY3RpdmUgPSBudWxsO1xuICAgIHRoaXMuX21vdXNlZG93biA9IGZhbHNlO1xuICAgIHRoaXMuX3NldHVwRHJvcGRvd24oKTtcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKTogQXV0b2NvbXBsZXRlT3B0aW9ucyB7XG4gICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZSBvZiBBdXRvY29tcGxldGUuXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWw6IEhUTUxJbnB1dEVsZW1lbnQsIG9wdGlvbnM/OiBQYXJ0aWFsPEF1dG9jb21wbGV0ZU9wdGlvbnM+KTogQXV0b2NvbXBsZXRlO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIEF1dG9jb21wbGV0ZS5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPEhUTUxJbnB1dEVsZW1lbnQgfCBNRWxlbWVudD4sIG9wdGlvbnM/OiBQYXJ0aWFsPEF1dG9jb21wbGV0ZU9wdGlvbnM+KTogQXV0b2NvbXBsZXRlW107XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgQXV0b2NvbXBsZXRlLlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWxzOiBIVE1MSW5wdXRFbGVtZW50IHwgSW5pdEVsZW1lbnRzPEhUTUxJbnB1dEVsZW1lbnQgfCBNRWxlbWVudD4sIG9wdGlvbnM6IFBhcnRpYWw8QXV0b2NvbXBsZXRlT3B0aW9ucz4gPSB7fSk6IEF1dG9jb21wbGV0ZSB8IEF1dG9jb21wbGV0ZVtdIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIEF1dG9jb21wbGV0ZSk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxFbGVtZW50KTogQXV0b2NvbXBsZXRlIHtcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9BdXRvY29tcGxldGU7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLl9yZW1vdmVEcm9wZG93bigpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9BdXRvY29tcGxldGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1cik7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1cyk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1cyk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGljayk7XG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdtb3VzZWRvd24nLFxuICAgICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydFxuICAgICk7XG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNldXBBbmRUb3VjaGVuZCk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cub250b3VjaHN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ3RvdWNoc3RhcnQnLFxuICAgICAgICB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZWRvd25BbmRUb3VjaHN0YXJ0XG4gICAgICApO1xuICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmQpO1xuICAgIH1cbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1cik7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1cyk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1cyk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGljayk7XG4gICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICdtb3VzZWRvd24nLFxuICAgICAgdGhpcy5faGFuZGxlQ29udGFpbmVyTW91c2Vkb3duQW5kVG91Y2hzdGFydFxuICAgICk7XG4gICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNldXBBbmRUb3VjaGVuZCk7XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAndG91Y2hzdGFydCcsXG4gICAgICAgIHRoaXMuX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnRcbiAgICAgICk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAndG91Y2hlbmQnLFxuICAgICAgICB0aGlzLl9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmRcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwRHJvcGRvd24oKSB7XG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLm1heEhlaWdodCA9IHRoaXMub3B0aW9ucy5tYXhEcm9wRG93bkhlaWdodDtcbiAgICB0aGlzLmNvbnRhaW5lci5pZCA9IGBhdXRvY29tcGxldGUtb3B0aW9ucy0ke1V0aWxzLmd1aWQoKX1gO1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2F1dG9jb21wbGV0ZS1jb250ZW50JywgJ2Ryb3Bkb3duLWNvbnRlbnQnKTtcbiAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnLCB0aGlzLmNvbnRhaW5lci5pZCk7XG5cbiAgICAvLyAhIElzc3VlIGluIENvbXBvbmVudCBEcm9wZG93bjogX3BsYWNlRHJvcGRvd24gbW92ZXMgZG9tLXBvc2l0aW9uXG4gICAgdGhpcy5lbC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKTtcblxuICAgIC8vIEluaXRpYWxpemUgZHJvcGRvd25cbiAgICBsZXQgZHJvcGRvd25PcHRpb25zID0ge1xuICAgICAgLi4uQXV0b2NvbXBsZXRlLmRlZmF1bHRzLmRyb3Bkb3duT3B0aW9ucyxcbiAgICAgIC4uLnRoaXMub3B0aW9ucy5kcm9wZG93bk9wdGlvbnNcbiAgICB9O1xuICAgIGxldCB1c2VyT25JdGVtQ2xpY2sgPSBkcm9wZG93bk9wdGlvbnMub25JdGVtQ2xpY2s7XG4gICAgLy8gRW5zdXJpbmcgdGhlIHNlbGVjdCBPcHRpb24gY2FsbCB3aGVuIHVzZXIgcGFzc2VzIGN1c3RvbSBvbkl0ZW1DbGljayBmdW5jdGlvbiB0byBkcm9wZG93blxuICAgIGRyb3Bkb3duT3B0aW9ucy5vbkl0ZW1DbGljayA9IChsaSkgPT4ge1xuICAgICAgaWYgKCFsaSkgcmV0dXJuO1xuICAgICAgY29uc3QgZW50cnlJRCA9IGxpLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xuICAgICAgdGhpcy5zZWxlY3RPcHRpb24oZW50cnlJRCk7XG4gICAgICAvLyBIYW5kbGUgdXNlciBkZWNsYXJlZCBvbkl0ZW1DbGljayBpZiBuZWVkZWRcbiAgICAgIGlmICh1c2VyT25JdGVtQ2xpY2sgJiYgdHlwZW9mIHVzZXJPbkl0ZW1DbGljayA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdXNlck9uSXRlbUNsaWNrLmNhbGwodGhpcy5kcm9wZG93biwgdGhpcy5lbCk7XG4gICAgfTtcbiAgICB0aGlzLmRyb3Bkb3duID0gRHJvcGRvd24uaW5pdCh0aGlzLmVsLCBkcm9wZG93bk9wdGlvbnMpO1xuXG4gICAgLy8gISBXb3JrYXJvdW5kIGZvciBMYWJlbDogbW92ZSBsYWJlbCB1cCBhZ2FpblxuICAgIC8vIFRPRE86IEp1c3QgdXNlIFBvcHBlckpTIGluIGZ1dHVyZSFcbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuZWwucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpO1xuICAgIGlmIChsYWJlbCkgdGhpcy5lbC5hZnRlcihsYWJlbCk7XG5cbiAgICAvLyBTa2V0Y2h5IHJlbW92YWwgb2YgZHJvcGRvd24gY2xpY2sgaGFuZGxlclxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRyb3Bkb3duLl9oYW5kbGVDbGljayk7XG4gICAgLy8gU2V0IFZhbHVlIGlmIGFscmVhZHkgc2V0IGluIEhUTUxcbiAgICBpZiAodGhpcy5lbC52YWx1ZSkgdGhpcy5zZWxlY3RPcHRpb24odGhpcy5lbC52YWx1ZSk7XG4gICAgLy8gQWRkIFN0YXR1c0luZm9cbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgnc3RhdHVzLWluZm8nKTtcbiAgICBkaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsICdwb3NpdGlvbjogYWJzb2x1dGU7cmlnaHQ6MDt0b3A6MDsnKTtcbiAgICB0aGlzLmVsLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICB0aGlzLl91cGRhdGVTZWxlY3RlZEluZm8oKTtcbiAgfVxuXG4gIF9yZW1vdmVEcm9wZG93bigpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY29udGFpbmVyKTtcbiAgfVxuXG4gIF9oYW5kbGVJbnB1dEJsdXIgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLl9tb3VzZWRvd24pIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIHRoaXMuX3Jlc2V0QXV0b2NvbXBsZXRlKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUlucHV0S2V5dXBBbmRGb2N1cyA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKGUudHlwZSA9PT0gJ2tleXVwJykgQXV0b2NvbXBsZXRlLl9rZXlkb3duID0gZmFsc2U7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gICAgY29uc3QgYWN0dWFsVmFsdWUgPSB0aGlzLmVsLnZhbHVlLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgLy8gRG9uJ3QgY2FwdHVyZSBlbnRlciBvciBhcnJvdyBrZXkgdXNhZ2UuXG4gICAgaWYgKFV0aWxzLmtleXMuRU5URVIuaW5jbHVkZXMoZS5rZXkpIHx8IFV0aWxzLmtleXMuQVJST1dfVVAuaW5jbHVkZXMoZS5rZXkpIHx8IFV0aWxzLmtleXMuQVJST1dfRE9XTi5pbmNsdWRlcyhlLmtleSkpIHJldHVybjtcbiAgICAvLyBDaGVjayBpZiB0aGUgaW5wdXQgaXNuJ3QgZW1wdHlcbiAgICAvLyBDaGVjayBpZiBmb2N1cyB0cmlnZ2VyZWQgYnkgdGFiXG4gICAgaWYgKHRoaXMub2xkVmFsICE9PSBhY3R1YWxWYWx1ZSAmJiAoVXRpbHMudGFiUHJlc3NlZCB8fCBlLnR5cGUgIT09ICdmb2N1cycpKSB7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gICAgLy8gVmFsdWUgaGFzIGNoYW5nZWQhXG4gICAgaWYgKHRoaXMub2xkVmFsICE9PSBhY3R1YWxWYWx1ZSkge1xuICAgICAgdGhpcy5fc2V0U3RhdHVzTG9hZGluZygpO1xuICAgICAgdGhpcy5vcHRpb25zLm9uU2VhcmNoKHRoaXMuZWwudmFsdWUsIHRoaXMpO1xuICAgIH1cbiAgICAvLyBSZXNldCBTaW5nbGUtU2VsZWN0IHdoZW4gSW5wdXQgY2xlYXJlZFxuICAgIGlmICghdGhpcy5vcHRpb25zLmlzTXVsdGlTZWxlY3QgJiYgdGhpcy5lbC52YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcbiAgICAgIHRoaXMuX3RyaWdnZXJDaGFuZ2VkKCk7XG4gICAgfVxuICAgIHRoaXMub2xkVmFsID0gYWN0dWFsVmFsdWU7XG4gIH1cblxuICBfaGFuZGxlSW5wdXRLZXlkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBBdXRvY29tcGxldGUuX2tleWRvd24gPSB0cnVlO1xuICAgIC8vIEFycm93IGtleXMgYW5kIGVudGVyIGtleSB1c2FnZVxuICAgIGNvbnN0IG51bUl0ZW1zID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnbGknKS5sZW5ndGg7XG4gICAgLy8gc2VsZWN0IGVsZW1lbnQgb24gRW50ZXJcbiAgICBpZiAoVXRpbHMua2V5cy5FTlRFUi5pbmNsdWRlcyhlLmtleSkgJiYgdGhpcy5hY3RpdmVJbmRleCA+PSAwKSB7XG4gICAgICBjb25zdCBsaUVsZW1lbnQgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdsaScpW3RoaXMuYWN0aXZlSW5kZXhdO1xuICAgICAgaWYgKGxpRWxlbWVudCkge1xuICAgICAgICB0aGlzLnNlbGVjdE9wdGlvbihsaUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIENhcHR1cmUgdXAgYW5kIGRvd24ga2V5XG4gICAgaWYgKFV0aWxzLmtleXMuQVJST1dfVVAuaW5jbHVkZXMoZS5rZXkpIHx8IFV0aWxzLmtleXMuQVJST1dfRE9XTi5pbmNsdWRlcyhlLmtleSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChVdGlscy5rZXlzLkFSUk9XX1VQLmluY2x1ZGVzKGUua2V5KSAmJiB0aGlzLmFjdGl2ZUluZGV4ID4gMCkgdGhpcy5hY3RpdmVJbmRleC0tO1xuICAgICAgaWYgKFV0aWxzLmtleXMuQVJST1dfRE9XTi5pbmNsdWRlcyhlLmtleSkgJiYgdGhpcy5hY3RpdmVJbmRleCA8IG51bUl0ZW1zIC0gMSkgdGhpcy5hY3RpdmVJbmRleCsrO1xuICAgICAgdGhpcy4kYWN0aXZlPy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZUluZGV4ID49IDApIHtcbiAgICAgICAgdGhpcy4kYWN0aXZlID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnbGknKVt0aGlzLmFjdGl2ZUluZGV4XTtcbiAgICAgICAgdGhpcy4kYWN0aXZlPy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgLy8gRm9jdXMgc2VsZWN0ZWRcbiAgICAgICAgdGhpcy5jb250YWluZXIuY2hpbGRyZW5bdGhpcy5hY3RpdmVJbmRleF0uc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcbiAgICAgICAgICBibG9jazogJ25lYXJlc3QnLFxuICAgICAgICAgIGlubGluZTogJ25lYXJlc3QnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVJbnB1dENsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMub3BlbigpO1xuICB9XG5cbiAgX2hhbmRsZUNvbnRhaW5lck1vdXNlZG93bkFuZFRvdWNoc3RhcnQgPSAoKSA9PiB7XG4gICAgdGhpcy5fbW91c2Vkb3duID0gdHJ1ZTtcbiAgfVxuXG4gIF9oYW5kbGVDb250YWluZXJNb3VzZXVwQW5kVG91Y2hlbmQgPSAoKSA9PiB7XG4gICAgdGhpcy5fbW91c2Vkb3duID0gZmFsc2U7XG4gIH1cblxuICBfcmVzZXRDdXJyZW50RWxlbWVudFBvc2l0aW9uKCkge1xuICAgIHRoaXMuYWN0aXZlSW5kZXggPSAtMTtcbiAgICB0aGlzLiRhY3RpdmU/LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9XG5cbiAgX3Jlc2V0QXV0b2NvbXBsZXRlKCkge1xuICAgIHRoaXMuY29udGFpbmVyLnJlcGxhY2VDaGlsZHJlbigpO1xuICAgIHRoaXMuX3Jlc2V0Q3VycmVudEVsZW1lbnRQb3NpdGlvbigpO1xuICAgIHRoaXMub2xkVmFsID0gbnVsbDtcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuX21vdXNlZG93biA9IGZhbHNlO1xuICB9XG5cbiAgX2hpZ2hsaWdodFBhcnRpYWxUZXh0KGlucHV0OiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzdGFydCA9IGxhYmVsLnRvTG9jYWxlTG93ZXJDYXNlKCkuaW5kZXhPZignJyArIGlucHV0LnRvTG9jYWxlTG93ZXJDYXNlKCkgKyAnJyk7XG4gICAgY29uc3QgZW5kID0gc3RhcnQgKyBpbnB1dC5sZW5ndGggLSAxO1xuICAgIC8vY3VzdG9tIGZpbHRlcnMgbWF5IHJldHVybiByZXN1bHRzIHdoZXJlIHRoZSBzdHJpbmcgZG9lcyBub3QgbWF0Y2ggYW55IHBhcnRcbiAgICBpZiAoc3RhcnQgPT0gLTEgfHwgZW5kID09IC0xKSB7XG4gICAgICByZXR1cm4gW2xhYmVsLCAnJywgJyddO1xuICAgIH1cbiAgICByZXR1cm4gW2xhYmVsLnNsaWNlKDAsIHN0YXJ0KSwgbGFiZWwuc2xpY2Uoc3RhcnQsIGVuZCArIDEpLCBsYWJlbC5zbGljZShlbmQgKyAxKV07XG4gIH1cblxuICBfY3JlYXRlRHJvcGRvd25JdGVtKGVudHJ5OiBBdXRvY29tcGxldGVEYXRhKSB7XG4gICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCA8c3RyaW5nPmVudHJ5LmlkKTtcbiAgICBpdGVtLnNldEF0dHJpYnV0ZShcbiAgICAgICdzdHlsZScsXG4gICAgICAnZGlzcGxheTpncmlkOyBncmlkLWF1dG8tZmxvdzogY29sdW1uOyB1c2VyLXNlbGVjdDogbm9uZTsgYWxpZ24taXRlbXM6IGNlbnRlcjsnXG4gICAgKTtcbiAgICAvLyBDaGVja2JveFxuICAgIGlmICh0aGlzLm9wdGlvbnMuaXNNdWx0aVNlbGVjdCkge1xuICAgICAgaXRlbS5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJpdGVtLXNlbGVjdGlvblwiIHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXI7XCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiR7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZFZhbHVlcy5zb21lKChzZWwpID0+IHNlbC5pZCA9PT0gZW50cnkuaWQpID8gJyBjaGVja2VkPVwiY2hlY2tlZFwiJyA6ICcnXG4gICAgICAgIH0+PHNwYW4gc3R5bGU9XCJwYWRkaW5nLWxlZnQ6MjFweDtcIj48L3NwYW4+XG4gICAgICA8L2Rpdj5gO1xuICAgIH1cbiAgICAvLyBJbWFnZVxuICAgIGlmIChlbnRyeS5pbWFnZSkge1xuICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICBpbWcuY2xhc3NMaXN0LmFkZCgnY2lyY2xlJyk7XG4gICAgICBpbWcuc3JjID0gZW50cnkuaW1hZ2U7XG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGltZyk7XG4gICAgfVxuXG4gICAgLy8gVGV4dFxuICAgIGNvbnN0IGlucHV0VGV4dCA9IHRoaXMuZWwudmFsdWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICBjb25zdCBwYXJ0cyA9IHRoaXMuX2hpZ2hsaWdodFBhcnRpYWxUZXh0KGlucHV0VGV4dCwgKGVudHJ5LnRleHQgfHwgZW50cnkuaWQpLnRvU3RyaW5nKCkpO1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2xpbmUtaGVpZ2h0OjEuMjtmb250LXdlaWdodDo1MDA7Jyk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbGxvd1Vuc2FmZUhUTUwpIHtcbiAgICAgIGRpdi5pbm5lckhUTUwgPSBwYXJ0c1swXSArICc8c3BhbiBjbGFzcz1cImhpZ2hsaWdodFwiPicgKyBwYXJ0c1sxXSArICc8L3NwYW4+JyArIHBhcnRzWzJdO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocGFydHNbMF0pKTtcbiAgICAgIGlmIChwYXJ0c1sxXSkge1xuICAgICAgICBjb25zdCBoaWdobGlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGhpZ2hsaWdodC50ZXh0Q29udGVudCA9IHBhcnRzWzFdO1xuICAgICAgICBoaWdobGlnaHQuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0Jyk7XG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChoaWdobGlnaHQpO1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocGFydHNbMl0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGl0ZW1UZXh0LmNsYXNzTGlzdC5hZGQoJ2l0ZW0tdGV4dCcpO1xuICAgIGl0ZW1UZXh0LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAncGFkZGluZzo1cHg7b3ZlcmZsb3c6aGlkZGVuOycpO1xuICAgIGl0ZW0uYXBwZW5kQ2hpbGQoaXRlbVRleHQpO1xuICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignLml0ZW0tdGV4dCcpLmFwcGVuZENoaWxkKGRpdik7XG4gICAgLy8gRGVzY3JpcHRpb25cbiAgICBpZiAodHlwZW9mIGVudHJ5LmRlc2NyaXB0aW9uID09PSAnc3RyaW5nJyB8fCAodHlwZW9mIGVudHJ5LmRlc2NyaXB0aW9uID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oZW50cnkuZGVzY3JpcHRpb24pKSkge1xuICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzbWFsbCcpO1xuICAgICAgZGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKFxuICAgICAgICAnc3R5bGUnLFxuICAgICAgICAnbGluZS1oZWlnaHQ6MS4zO2NvbG9yOmdyZXk7d2hpdGUtc3BhY2U6bm93cmFwO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7ZGlzcGxheTpibG9jazt3aWR0aDo5MCU7b3ZlcmZsb3c6aGlkZGVuOydcbiAgICAgICk7XG4gICAgICBkZXNjcmlwdGlvbi5pbm5lclRleHQgPSBlbnRyeS5kZXNjcmlwdGlvbjtcbiAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignLml0ZW0tdGV4dCcpLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKTtcbiAgICB9XG4gICAgLy8gU2V0IEdyaWRcbiAgICBjb25zdCBnZXRHcmlkQ29uZmlnID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc011bHRpU2VsZWN0KSB7XG4gICAgICAgIGlmIChlbnRyeS5pbWFnZSkgcmV0dXJuICc0MHB4IG1pbi1jb250ZW50IGF1dG8nOyAvLyBjYi1pbWctdHh0XG4gICAgICAgIHJldHVybiAnNDBweCBhdXRvJzsgLy8gY2ItdHh0XG4gICAgICB9XG4gICAgICBpZiAoZW50cnkuaW1hZ2UpIHJldHVybiAnbWluLWNvbnRlbnQgYXV0byc7IC8vIGltZy10eHRcbiAgICAgIHJldHVybiAnYXV0byc7IC8vIHR4dFxuICAgIH07XG4gICAgaXRlbS5zdHlsZS5ncmlkVGVtcGxhdGVDb2x1bW5zID0gZ2V0R3JpZENvbmZpZygpO1xuICAgIHJldHVybiBpdGVtO1xuICB9XG5cbiAgX3JlbmRlckRyb3Bkb3duKCkge1xuICAgIHRoaXMuX3Jlc2V0QXV0b2NvbXBsZXRlKCk7XG4gICAgLy8gQ2hlY2sgaWYgRGF0YSBpcyBlbXB0eVxuICAgIGlmICh0aGlzLm1lbnVJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMubWVudUl0ZW1zID0gdGhpcy5zZWxlY3RlZFZhbHVlczsgLy8gU2hvdyBzZWxlY3RlZCBJdGVtc1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVudUl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gdGhpcy5fY3JlYXRlRHJvcGRvd25JdGVtKHRoaXMubWVudUl0ZW1zW2ldKTtcbiAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZChpdGVtKTtcbiAgICB9XG4gIH1cblxuICBfc2V0U3RhdHVzTG9hZGluZygpIHtcbiAgICB0aGlzLmVsLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICcuc3RhdHVzLWluZm8nXG4gICAgKS5pbm5lckhUTUwgPSBgPGRpdiBzdHlsZT1cImhlaWdodDoxMDAlO3dpZHRoOjUwcHg7XCI+PHN2ZyB2ZXJzaW9uPVwiMS4xXCIgaWQ9XCJMNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHZpZXdCb3g9XCIwIDAgMTAwIDEwMFwiIGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCAwIDBcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxuICAgIDxjaXJjbGUgZmlsbD1cIiM4ODhjXCIgc3Ryb2tlPVwibm9uZVwiIGN4PVwiNlwiIGN5PVwiNTBcIiByPVwiNlwiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCIgZHVyPVwiMXNcIiB2YWx1ZXM9XCIwOzE7MFwiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiIGJlZ2luPVwiMC4xXCIvPjwvY2lyY2xlPlxuICAgIDxjaXJjbGUgZmlsbD1cIiM4ODhjXCIgc3Ryb2tlPVwibm9uZVwiIGN4PVwiMjZcIiBjeT1cIjUwXCIgcj1cIjZcIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwib3BhY2l0eVwiIGR1cj1cIjFzXCIgdmFsdWVzPVwiMDsxOzBcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiBiZWdpbj1cIjAuMlwiLz48L2NpcmNsZT5cbiAgICA8Y2lyY2xlIGZpbGw9XCIjODg4Y1wiIHN0cm9rZT1cIm5vbmVcIiBjeD1cIjQ2XCIgY3k9XCI1MFwiIHI9XCI2XCI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cIm9wYWNpdHlcIiBkdXI9XCIxc1wiIHZhbHVlcz1cIjA7MTswXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgIGJlZ2luPVwiMC4zXCIvPjwvY2lyY2xlPlxuICA8L3N2Zz48L2Rpdj5gO1xuICB9XG5cbiAgX3VwZGF0ZVNlbGVjdGVkSW5mbygpIHtcbiAgICBjb25zdCBzdGF0dXNFbGVtZW50ID0gdGhpcy5lbC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGF0dXMtaW5mbycpO1xuICAgIGlmIChzdGF0dXNFbGVtZW50KSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmlzTXVsdGlTZWxlY3QpIHN0YXR1c0VsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5zZWxlY3RlZFZhbHVlcy5sZW5ndGgudG9TdHJpbmcoKTtcbiAgICAgIGVsc2Ugc3RhdHVzRWxlbWVudC5pbm5lckhUTUwgPSAnJztcbiAgICB9XG4gIH1cblxuICBfcmVmcmVzaElucHV0VGV4dCgpIHtcbiAgICBpZiAodGhpcy5zZWxlY3RlZFZhbHVlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5zZWxlY3RlZFZhbHVlc1swXTtcbiAgICAgIHRoaXMuZWwudmFsdWUgPSBlbnRyeS50ZXh0IHx8IDxzdHJpbmc+ZW50cnkuaWQ7IC8vIFdyaXRlIFRleHQgdG8gSW5wdXRcbiAgICB9XG4gIH1cblxuICBfdHJpZ2dlckNoYW5nZWQoKSB7XG4gICAgdGhpcy5lbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJykpO1xuICAgIC8vIFRyaWdnZXIgQXV0b2NvbXBsZXRlIEV2ZW50XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25BdXRvY29tcGxldGUgPT09ICdmdW5jdGlvbicpXG4gICAgICB0aGlzLm9wdGlvbnMub25BdXRvY29tcGxldGUuY2FsbCh0aGlzLCB0aGlzLnNlbGVjdGVkVmFsdWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGF1dG9jb21wbGV0ZS5cbiAgICovXG4gIG9wZW4gPSAoKSA9PiB7XG4gICAgY29uc3QgaW5wdXRUZXh0ID0gdGhpcy5lbC52YWx1ZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIHRoaXMuX3Jlc2V0QXV0b2NvbXBsZXRlKCk7XG4gICAgaWYgKGlucHV0VGV4dC5sZW5ndGggPj0gdGhpcy5vcHRpb25zLm1pbkxlbmd0aCkge1xuICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgdGhpcy5fcmVuZGVyRHJvcGRvd24oKTtcbiAgICB9XG4gICAgLy8gT3BlbiBkcm9wZG93blxuICAgIGlmICghdGhpcy5kcm9wZG93bi5pc09wZW4pIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmRyb3Bkb3duLm9wZW4oKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICAgIGVsc2UgdGhpcy5kcm9wZG93bi5yZWNhbGN1bGF0ZURpbWVuc2lvbnMoKTsgLy8gUmVjYWxjdWxhdGUgZHJvcGRvd24gd2hlbiBpdHMgYWxyZWFkeSBvcGVuXG4gIH1cblxuICAvKipcbiAgICogSGlkZSBhdXRvY29tcGxldGUuXG4gICAqL1xuICBjbG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmRyb3Bkb3duLmNsb3NlKCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdmlzaWJsZSBvciBzZWxlY3RhYmxlIGl0ZW1zIHNob3duIGluIHRoZSBtZW51LlxuICAgKiBAcGFyYW0gbWVudUl0ZW1zIEl0ZW1zIHRvIGJlIGF2YWlsYWJsZS5cbiAgICovXG4gIHNldE1lbnVJdGVtcyhtZW51SXRlbXM6IEF1dG9jb21wbGV0ZURhdGFbXSkge1xuICAgIHRoaXMubWVudUl0ZW1zID0gbWVudUl0ZW1zO1xuICAgIHRoaXMub3BlbigpO1xuICAgIHRoaXMuX3VwZGF0ZVNlbGVjdGVkSW5mbygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgc2VsZWN0ZWQgdmFsdWVzLlxuICAgKiBAcGFyYW0gZW50cmllc1xuICAgKi9cbiAgc2V0VmFsdWVzKGVudHJpZXM6IEF1dG9jb21wbGV0ZURhdGFbXSkge1xuICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSBlbnRyaWVzO1xuICAgIHRoaXMuX3VwZGF0ZVNlbGVjdGVkSW5mbygpO1xuICAgIGlmICghdGhpcy5vcHRpb25zLmlzTXVsdGlTZWxlY3QpIHtcbiAgICAgIHRoaXMuX3JlZnJlc2hJbnB1dFRleHQoKTtcbiAgICB9XG4gICAgdGhpcy5fdHJpZ2dlckNoYW5nZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3QgYSBzcGVjaWZpYyBhdXRvY29tcGxldGUgb3B0aW9uIHZpYSBpZC1wcm9wZXJ0eS5cbiAgICogQHBhcmFtIGlkIFRoZSBpZCBvZiBhIGRhdGEtZW50cnkuXG4gICAqL1xuICBzZWxlY3RPcHRpb24oaWQ6IG51bWJlciB8IHN0cmluZykge1xuICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5tZW51SXRlbXMuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PSBpZCk7XG4gICAgaWYgKCFlbnRyeSkgcmV0dXJuO1xuICAgIC8vIFRvZ2dsZSBDaGVja2JveFxuICAgIGNvbnN0IGxpID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignbGlbZGF0YS1pZD1cIicraWQrJ1wiXScpO1xuICAgIGlmICghbGkpIHJldHVybjtcbiAgICBpZiAodGhpcy5vcHRpb25zLmlzTXVsdGlTZWxlY3QpIHtcbiAgICAgIGNvbnN0IGNoZWNrYm94ID0gPEhUTUxJbnB1dEVsZW1lbnR8bnVsbD5saS5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSAhY2hlY2tib3guY2hlY2tlZDtcbiAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB0aGlzLnNlbGVjdGVkVmFsdWVzLnB1c2goZW50cnkpO1xuICAgICAgZWxzZVxuICAgICAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gdGhpcy5zZWxlY3RlZFZhbHVlcy5maWx0ZXIoXG4gICAgICAgICAgKHNlbGVjdGVkRW50cnkpID0+IHNlbGVjdGVkRW50cnkuaWQgIT09IGVudHJ5LmlkXG4gICAgICAgICk7XG4gICAgICB0aGlzLmVsLmZvY3VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNpbmdsZS1TZWxlY3RcbiAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSBbZW50cnldO1xuICAgICAgdGhpcy5fcmVmcmVzaElucHV0VGV4dCgpO1xuICAgICAgdGhpcy5fcmVzZXRBdXRvY29tcGxldGUoKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlU2VsZWN0ZWRJbmZvKCk7XG4gICAgdGhpcy5fdHJpZ2dlckNoYW5nZWQoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/autocomplete.ts\n");

/***/ }),

/***/ "./src/buttons.ts":
/*!************************!*\
  !*** ./src/buttons.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FloatingActionButton = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nlet _defaults = {\n    direction: 'top',\n    hoverEnabled: true,\n    toolbarEnabled: false\n};\nclass FloatingActionButton extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, FloatingActionButton);\n        this._handleFABClick = () => {\n            if (this.isOpen) {\n                this.close();\n            }\n            else {\n                this.open();\n            }\n        };\n        this._handleDocumentClick = (e) => {\n            const elem = e.target;\n            if (elem !== this._menu)\n                this.close;\n        };\n        /**\n         * Open FAB.\n         */\n        this.open = () => {\n            if (this.isOpen)\n                return;\n            if (this.options.toolbarEnabled)\n                this._animateInToolbar();\n            else\n                this._animateInFAB();\n            this.isOpen = true;\n        };\n        /**\n         * Close FAB.\n         */\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            if (this.options.toolbarEnabled) {\n                window.removeEventListener('scroll', this.close, true);\n                document.body.removeEventListener('click', this._handleDocumentClick, true);\n            }\n            else {\n                this._animateOutFAB();\n            }\n            this.isOpen = false;\n        };\n        this.el.M_FloatingActionButton = this;\n        this.options = Object.assign(Object.assign({}, FloatingActionButton.defaults), options);\n        this.isOpen = false;\n        this._anchor = this.el.querySelector('a');\n        this._menu = this.el.querySelector('ul');\n        this._floatingBtns = Array.from(this.el.querySelectorAll('ul .btn-floating'));\n        this._floatingBtnsReverse = this._floatingBtns.reverse();\n        this.offsetY = 0;\n        this.offsetX = 0;\n        this.el.classList.add(`direction-${this.options.direction}`);\n        if (this.options.direction === 'top')\n            this.offsetY = 40;\n        else if (this.options.direction === 'right')\n            this.offsetX = -40;\n        else if (this.options.direction === 'bottom')\n            this.offsetY = -40;\n        else\n            this.offsetX = 40;\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of FloatingActionButton.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, FloatingActionButton);\n    }\n    static getInstance(el) {\n        return el.M_FloatingActionButton;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_FloatingActionButton = undefined;\n    }\n    _setupEventHandlers() {\n        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {\n            this.el.addEventListener('mouseenter', this.open);\n            this.el.addEventListener('mouseleave', this.close);\n        }\n        else {\n            this.el.addEventListener('click', this._handleFABClick);\n        }\n    }\n    _removeEventHandlers() {\n        if (this.options.hoverEnabled && !this.options.toolbarEnabled) {\n            this.el.removeEventListener('mouseenter', this.open);\n            this.el.removeEventListener('mouseleave', this.close);\n        }\n        else {\n            this.el.removeEventListener('click', this._handleFABClick);\n        }\n    }\n    _animateInFAB() {\n        this.el.classList.add('active');\n        let time = 0;\n        this._floatingBtnsReverse.forEach((el) => {\n            (0, animejs_1.default)({\n                targets: el,\n                opacity: 1,\n                scale: [0.4, 1],\n                translateY: [this.offsetY, 0],\n                translateX: [this.offsetX, 0],\n                duration: 275,\n                delay: time,\n                easing: 'easeInOutQuad'\n            });\n            time += 40;\n        });\n    }\n    _animateOutFAB() {\n        this._floatingBtnsReverse.forEach((el) => {\n            animejs_1.default.remove(el);\n            (0, animejs_1.default)({\n                targets: el,\n                opacity: 0,\n                scale: 0.4,\n                translateY: this.offsetY,\n                translateX: this.offsetX,\n                duration: 175,\n                easing: 'easeOutQuad',\n                complete: () => {\n                    this.el.classList.remove('active');\n                }\n            });\n        });\n    }\n    _animateInToolbar() {\n        let scaleFactor;\n        let windowWidth = window.innerWidth;\n        let windowHeight = window.innerHeight;\n        let btnRect = this.el.getBoundingClientRect();\n        const backdrop = document.createElement('div');\n        backdrop.classList.add('fab-backdrop'); //  $('<div class=\"fab-backdrop\"></div>');\n        const fabColor = getComputedStyle(this._anchor).backgroundColor; // css('background-color');\n        this._anchor.append(backdrop);\n        this.offsetX = btnRect.left - windowWidth / 2 + btnRect.width / 2;\n        this.offsetY = windowHeight - btnRect.bottom;\n        scaleFactor = windowWidth / backdrop[0].clientWidth;\n        this.btnBottom = btnRect.bottom;\n        this.btnLeft = btnRect.left;\n        this.btnWidth = btnRect.width;\n        // Set initial state\n        this.el.classList.add('active');\n        this.el.style.textAlign = 'center';\n        this.el.style.width = '100%';\n        this.el.style.bottom = '0';\n        this.el.style.left = '0';\n        this.el.style.transform = 'translateX(' + this.offsetX + 'px)';\n        this.el.style.transition = 'none';\n        this._anchor.style.transform = `translateY(${this.offsetY}px`;\n        this._anchor.style.transition = 'none';\n        backdrop.style.backgroundColor = fabColor;\n        setTimeout(() => {\n            this.el.style.transform = '';\n            this.el.style.transition = 'transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s';\n            this._anchor.style.overflow = 'visible';\n            this._anchor.style.transform = '';\n            this._anchor.style.transition = 'transform .2s';\n            setTimeout(() => {\n                this.el.style.overflow = 'hidden';\n                this.el.style.backgroundColor = fabColor;\n                backdrop.style.transform = 'scale(' + scaleFactor + ')';\n                backdrop.style.transition = 'transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)';\n                this._menu.querySelectorAll('li > a').forEach((a) => a.style.opacity = '1');\n                // Scroll to close.\n                window.addEventListener('scroll', this.close, true);\n                document.body.addEventListener('click', this._handleDocumentClick, true);\n            }, 100);\n        }, 0);\n    }\n}\nexports.FloatingActionButton = FloatingActionButton;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUMzRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDVixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDO0NBQ0Y7QUF2T0Qsb0RBdU9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL2J1dHRvbnMudHM/M2ZjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50LCBPcGVuYWJsZSB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZsb2F0aW5nQWN0aW9uQnV0dG9uT3B0aW9ucyBleHRlbmRzIEJhc2VPcHRpb25zIHtcbiAgLyoqXG4gICAqIERpcmVjdGlvbiBGQUIgbWVudSBvcGVucy5cbiAgICogQGRlZmF1bHQgXCJ0b3BcIlxuICAgKi9cbiAgZGlyZWN0aW9uOiBcInRvcFwiIHwgXCJyaWdodFwiIHwgXCJib3R0b21cIiB8IFwibGVmdFwiO1xuICAvKipcbiAgICogdHJ1ZTogRkFCIG1lbnUgYXBwZWFycyBvbiBob3ZlciwgZmFsc2U6IEZBQiBtZW51IGFwcGVhcnMgb24gY2xpY2suXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGhvdmVyRW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEVuYWJsZSB0cmFuc2l0IHRoZSBGQUIgaW50byBhIHRvb2xiYXIgb24gY2xpY2suXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICB0b29sYmFyRW5hYmxlZDogYm9vbGVhbjtcbn07XG5cbmxldCBfZGVmYXVsdHM6IEZsb2F0aW5nQWN0aW9uQnV0dG9uT3B0aW9ucyA9IHtcbiAgZGlyZWN0aW9uOiAndG9wJyxcbiAgaG92ZXJFbmFibGVkOiB0cnVlLFxuICB0b29sYmFyRW5hYmxlZDogZmFsc2Vcbn07XG5cbmV4cG9ydCBjbGFzcyBGbG9hdGluZ0FjdGlvbkJ1dHRvbiBleHRlbmRzIENvbXBvbmVudDxGbG9hdGluZ0FjdGlvbkJ1dHRvbk9wdGlvbnM+IGltcGxlbWVudHMgT3BlbmFibGUge1xuICAvKipcbiAgICogRGVzY3JpYmVzIG9wZW4vY2xvc2Ugc3RhdGUgb2YgRkFCLlxuICAgKi9cbiAgaXNPcGVuOiBib29sZWFuO1xuXG4gIHByaXZhdGUgX2FuY2hvcjogSFRNTEFuY2hvckVsZW1lbnQ7XG4gIHByaXZhdGUgX21lbnU6IEhUTUxFbGVtZW50fG51bGw7XG4gIHByaXZhdGUgX2Zsb2F0aW5nQnRuczogSFRNTEVsZW1lbnRbXTtcbiAgcHJpdmF0ZSBfZmxvYXRpbmdCdG5zUmV2ZXJzZTogSFRNTEVsZW1lbnRbXTtcblxuICBvZmZzZXRZOiBudW1iZXI7XG4gIG9mZnNldFg6IG51bWJlcjtcbiAgYnRuQm90dG9tOiBudW1iZXI7XG4gIGJ0bkxlZnQ6IG51bWJlcjtcbiAgYnRuV2lkdGg6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8RmxvYXRpbmdBY3Rpb25CdXR0b25PcHRpb25zPikge1xuICAgIHN1cGVyKGVsLCBvcHRpb25zLCBGbG9hdGluZ0FjdGlvbkJ1dHRvbik7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0Zsb2F0aW5nQWN0aW9uQnV0dG9uID0gdGhpcztcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLkZsb2F0aW5nQWN0aW9uQnV0dG9uLmRlZmF1bHRzLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG5cbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuX2FuY2hvciA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignYScpO1xuICAgIHRoaXMuX21lbnUgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ3VsJyk7XG4gICAgdGhpcy5fZmxvYXRpbmdCdG5zID0gQXJyYXkuZnJvbSh0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ3VsIC5idG4tZmxvYXRpbmcnKSk7XG4gICAgdGhpcy5fZmxvYXRpbmdCdG5zUmV2ZXJzZSA9IHRoaXMuX2Zsb2F0aW5nQnRucy5yZXZlcnNlKCk7XG4gICAgdGhpcy5vZmZzZXRZID0gMDtcbiAgICB0aGlzLm9mZnNldFggPSAwO1xuXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKGBkaXJlY3Rpb24tJHt0aGlzLm9wdGlvbnMuZGlyZWN0aW9ufWApO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAndG9wJylcbiAgICAgIHRoaXMub2Zmc2V0WSA9IDQwO1xuICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPT09ICdyaWdodCcpXG4gICAgICB0aGlzLm9mZnNldFggPSAtNDA7XG4gICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ2JvdHRvbScpXG4gICAgICB0aGlzLm9mZnNldFkgPSAtNDA7XG4gICAgZWxzZVxuICAgICAgdGhpcy5vZmZzZXRYID0gNDA7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgRmxvYXRpbmdBY3Rpb25CdXR0b24uXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zPzogUGFydGlhbDxGbG9hdGluZ0FjdGlvbkJ1dHRvbk9wdGlvbnM+KTogRmxvYXRpbmdBY3Rpb25CdXR0b25cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBGbG9hdGluZ0FjdGlvbkJ1dHRvbi5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8RmxvYXRpbmdBY3Rpb25CdXR0b25PcHRpb25zPik6IEZsb2F0aW5nQWN0aW9uQnV0dG9uW107XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgRmxvYXRpbmdBY3Rpb25CdXR0b24uXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxFbGVtZW50IHwgSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxGbG9hdGluZ0FjdGlvbkJ1dHRvbk9wdGlvbnM+ID0ge30pOiBGbG9hdGluZ0FjdGlvbkJ1dHRvbiB8IEZsb2F0aW5nQWN0aW9uQnV0dG9uW10ge1xuICAgIHJldHVybiBzdXBlci5pbml0KGVscywgb3B0aW9ucywgRmxvYXRpbmdBY3Rpb25CdXR0b24pO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsOiBIVE1MRWxlbWVudCk6IEZsb2F0aW5nQWN0aW9uQnV0dG9uIHtcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9GbG9hdGluZ0FjdGlvbkJ1dHRvbjtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9GbG9hdGluZ0FjdGlvbkJ1dHRvbiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5ob3ZlckVuYWJsZWQgJiYgIXRoaXMub3B0aW9ucy50b29sYmFyRW5hYmxlZCkge1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5vcGVuKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuY2xvc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRkFCQ2xpY2spO1xuICAgIH1cbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuaG92ZXJFbmFibGVkICYmICF0aGlzLm9wdGlvbnMudG9vbGJhckVuYWJsZWQpIHtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMub3Blbik7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmNsb3NlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUZBQkNsaWNrKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlRkFCQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVEb2N1bWVudENsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICBjb25zdCBlbGVtID0gZS50YXJnZXQ7XG4gICAgaWYgKGVsZW0gIT09IHRoaXMuX21lbnUpIHRoaXMuY2xvc2U7XG4gIH1cblxuICAvKipcbiAgICogT3BlbiBGQUIuXG4gICAqL1xuICBvcGVuID0gKCk6IHZvaWQgPT4ge1xuICAgIGlmICh0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgIGlmICh0aGlzLm9wdGlvbnMudG9vbGJhckVuYWJsZWQpXG4gICAgICB0aGlzLl9hbmltYXRlSW5Ub29sYmFyKCk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5fYW5pbWF0ZUluRkFCKCk7XG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIEZBQi5cbiAgICovXG4gIGNsb3NlID0gKCk6IHZvaWQgPT4ge1xuICAgIGlmICghdGhpcy5pc09wZW4pIHJldHVybjtcbiAgICBpZiAodGhpcy5vcHRpb25zLnRvb2xiYXJFbmFibGVkKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5jbG9zZSwgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGljaywgdHJ1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fYW5pbWF0ZU91dEZBQigpO1xuICAgIH1cbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICB9XG5cbiAgX2FuaW1hdGVJbkZBQigpIHtcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGxldCB0aW1lID0gMDtcbiAgICB0aGlzLl9mbG9hdGluZ0J0bnNSZXZlcnNlLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBhbmltKHtcbiAgICAgICAgdGFyZ2V0czogZWwsXG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIHNjYWxlOiBbMC40LCAxXSxcbiAgICAgICAgdHJhbnNsYXRlWTogW3RoaXMub2Zmc2V0WSwgMF0sXG4gICAgICAgIHRyYW5zbGF0ZVg6IFt0aGlzLm9mZnNldFgsIDBdLFxuICAgICAgICBkdXJhdGlvbjogMjc1LFxuICAgICAgICBkZWxheTogdGltZSxcbiAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0UXVhZCdcbiAgICAgIH0pO1xuICAgICAgdGltZSArPSA0MDtcbiAgICB9KTtcbiAgfVxuXG4gIF9hbmltYXRlT3V0RkFCKCkge1xuICAgIHRoaXMuX2Zsb2F0aW5nQnRuc1JldmVyc2UuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGFuaW0ucmVtb3ZlKGVsKTtcbiAgICAgIGFuaW0oe1xuICAgICAgICB0YXJnZXRzOiBlbCxcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgc2NhbGU6IDAuNCxcbiAgICAgICAgdHJhbnNsYXRlWTogdGhpcy5vZmZzZXRZLFxuICAgICAgICB0cmFuc2xhdGVYOiB0aGlzLm9mZnNldFgsXG4gICAgICAgIGR1cmF0aW9uOiAxNzUsXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9hbmltYXRlSW5Ub29sYmFyKCkge1xuICAgIGxldCBzY2FsZUZhY3RvcjtcbiAgICBsZXQgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBsZXQgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGxldCBidG5SZWN0ID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGNvbnN0IGJhY2tkcm9wID0gIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGJhY2tkcm9wLmNsYXNzTGlzdC5hZGQoJ2ZhYi1iYWNrZHJvcCcpOyAvLyAgJCgnPGRpdiBjbGFzcz1cImZhYi1iYWNrZHJvcFwiPjwvZGl2PicpO1xuXG4gICAgY29uc3QgZmFiQ29sb3IgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMuX2FuY2hvcikuYmFja2dyb3VuZENvbG9yOyAvLyBjc3MoJ2JhY2tncm91bmQtY29sb3InKTtcblxuICAgIHRoaXMuX2FuY2hvci5hcHBlbmQoYmFja2Ryb3ApO1xuXG4gICAgdGhpcy5vZmZzZXRYID0gYnRuUmVjdC5sZWZ0IC0gd2luZG93V2lkdGggLyAyICsgYnRuUmVjdC53aWR0aCAvIDI7XG4gICAgdGhpcy5vZmZzZXRZID0gd2luZG93SGVpZ2h0IC0gYnRuUmVjdC5ib3R0b207XG4gICAgc2NhbGVGYWN0b3IgPSB3aW5kb3dXaWR0aCAvIGJhY2tkcm9wWzBdLmNsaWVudFdpZHRoO1xuICAgIHRoaXMuYnRuQm90dG9tID0gYnRuUmVjdC5ib3R0b207XG4gICAgdGhpcy5idG5MZWZ0ID0gYnRuUmVjdC5sZWZ0O1xuICAgIHRoaXMuYnRuV2lkdGggPSBidG5SZWN0LndpZHRoO1xuXG4gICAgLy8gU2V0IGluaXRpYWwgc3RhdGVcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIHRoaXMuZWwuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgdGhpcy5lbC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICB0aGlzLmVsLnN0eWxlLmJvdHRvbSA9ICcwJztcbiAgICB0aGlzLmVsLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgdGhpcy5lbC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgnICsgdGhpcy5vZmZzZXRYICsgJ3B4KSc7XG4gICAgdGhpcy5lbC5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuXG4gICAgdGhpcy5fYW5jaG9yLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7dGhpcy5vZmZzZXRZfXB4YDtcbiAgICB0aGlzLl9hbmNob3Iuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcblxuICAgIGJhY2tkcm9wLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGZhYkNvbG9yO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmVsLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgdGhpcy5lbC5zdHlsZS50cmFuc2l0aW9uICA9ICd0cmFuc2Zvcm0gLjJzIGN1YmljLWJlemllcigwLjU1MCwgMC4wODUsIDAuNjgwLCAwLjUzMCksIGJhY2tncm91bmQtY29sb3IgMHMgbGluZWFyIC4ycyc7XG5cbiAgICAgIHRoaXMuX2FuY2hvci5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIHRoaXMuX2FuY2hvci5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgIHRoaXMuX2FuY2hvci5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSAuMnMnO1xuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGZhYkNvbG9yO1xuXG4gICAgICAgIGJhY2tkcm9wLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgnICsgc2NhbGVGYWN0b3IgKyAnKSc7XG4gICAgICAgIGJhY2tkcm9wLnN0eWxlLnRyYW5zaXRpb24gPSAndHJhbnNmb3JtIC4ycyBjdWJpYy1iZXppZXIoMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTApJztcblxuICAgICAgICB0aGlzLl9tZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpID4gYScpLmZvckVhY2goKGE6IEhUTUxBbmNob3JFbGVtZW50KSA9PiBhLnN0eWxlLm9wYWNpdHkgPSAnMScpO1xuXG4gICAgICAgIC8vIFNjcm9sbCB0byBjbG9zZS5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuY2xvc2UsIHRydWUpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGljaywgdHJ1ZSk7XG4gICAgICB9LCAxMDApO1xuICAgIH0sIDApO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/buttons.ts\n");

/***/ }),

/***/ "./src/cards.ts":
/*!**********************!*\
  !*** ./src/cards.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Cards = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nclass Cards {\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            document.body.addEventListener('click', e => {\n                const trigger = e.target;\n                const card = trigger.closest('.card');\n                if (!card)\n                    return;\n                const cardReveal = Array.from(card.children).find(elem => elem.classList.contains('card-reveal'));\n                if (!cardReveal)\n                    return;\n                const initialOverflow = getComputedStyle(card).overflow;\n                // Close Card\n                const closeArea = cardReveal.querySelector('.card-reveal .card-title');\n                if (trigger === closeArea || closeArea.contains(trigger)) {\n                    (0, animejs_1.default)({\n                        targets: cardReveal,\n                        translateY: 0,\n                        duration: 225,\n                        easing: 'easeInOutQuad',\n                        complete: (anim) => {\n                            cardReveal.style.display = 'none';\n                            card.style.overflow = initialOverflow;\n                        }\n                    });\n                }\n                ;\n                // Reveal Card\n                const activators = card.querySelectorAll('.activator');\n                activators.forEach(activator => {\n                    if (trigger === activator || activator.contains(trigger)) {\n                        card.style.overflow = 'hidden';\n                        cardReveal.style.display = 'block';\n                        (0, animejs_1.default)({\n                            targets: cardReveal,\n                            translateY: '-100%',\n                            duration: 300,\n                            easing: 'easeInOutQuad'\n                        });\n                    }\n                });\n            });\n        });\n    }\n}\nexports.Cards = Cards;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2FyZHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsZ0hBQTJCO0FBRTNCLE1BQWEsS0FBSztJQUVoQixNQUFNLENBQUMsSUFBSTtRQUVULFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7WUFDakQsUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUU7Z0JBQzFDLE1BQU0sT0FBTyxHQUFnQixDQUFDLENBQUMsTUFBTSxDQUFDO2dCQUV0QyxNQUFNLElBQUksR0FBZ0IsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDbkQsSUFBSSxDQUFDLElBQUk7b0JBQUUsT0FBTztnQkFFbEIsTUFBTSxVQUFVLEdBQXFCLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BILElBQUksQ0FBQyxVQUFVO29CQUFFLE9BQU87Z0JBQ3hCLE1BQU0sZUFBZSxHQUFHLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQztnQkFFeEQsYUFBYTtnQkFDYixNQUFNLFNBQVMsR0FBRyxVQUFVLENBQUMsYUFBYSxDQUFDLDBCQUEwQixDQUFDLENBQUM7Z0JBQ3ZFLElBQUksT0FBTyxLQUFLLFNBQVMsSUFBSSxTQUFTLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFO29CQUN4RCxxQkFBSSxFQUFDO3dCQUNILE9BQU8sRUFBRSxVQUFVO3dCQUNuQixVQUFVLEVBQUUsQ0FBQzt3QkFDYixRQUFRLEVBQUUsR0FBRzt3QkFDYixNQUFNLEVBQUUsZUFBZTt3QkFDdkIsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUU7NEJBQ2pCLFVBQVUsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQzs0QkFDbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsZUFBZSxDQUFDO3dCQUN4QyxDQUFDO3FCQUNGLENBQUMsQ0FBQztpQkFDSjtnQkFBQSxDQUFDO2dCQUVGLGNBQWM7Z0JBQ2QsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUN2RCxVQUFVLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFO29CQUM3QixJQUFJLE9BQU8sS0FBSyxTQUFTLElBQUksU0FBUyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsRUFBRTt3QkFDeEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO3dCQUMvQixVQUFVLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7d0JBQ25DLHFCQUFJLEVBQUM7NEJBQ0gsT0FBTyxFQUFFLFVBQVU7NEJBQ25CLFVBQVUsRUFBRSxPQUFPOzRCQUNuQixRQUFRLEVBQUUsR0FBRzs0QkFDYixNQUFNLEVBQUUsZUFBZTt5QkFDeEIsQ0FBQyxDQUFDO3FCQUNKO2dCQUNILENBQUMsQ0FBQyxDQUFDO1lBR0wsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUVMLENBQUM7Q0FDRjtBQWxERCxzQkFrREMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvY2FyZHMudHM/MTM2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5leHBvcnQgY2xhc3MgQ2FyZHMge1xuXG4gIHN0YXRpYyBJbml0KCkge1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICBjb25zdCB0cmlnZ2VyID0gPEhUTUxFbGVtZW50PmUudGFyZ2V0O1xuXG4gICAgICAgIGNvbnN0IGNhcmQ6IEhUTUxFbGVtZW50ID0gdHJpZ2dlci5jbG9zZXN0KCcuY2FyZCcpO1xuICAgICAgICBpZiAoIWNhcmQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBjYXJkUmV2ZWFsID0gPEhUTUxFbGVtZW50fG51bGw+QXJyYXkuZnJvbShjYXJkLmNoaWxkcmVuKS5maW5kKGVsZW0gPT4gZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmQtcmV2ZWFsJykpO1xuICAgICAgICBpZiAoIWNhcmRSZXZlYWwpIHJldHVybjtcbiAgICAgICAgY29uc3QgaW5pdGlhbE92ZXJmbG93ID0gZ2V0Q29tcHV0ZWRTdHlsZShjYXJkKS5vdmVyZmxvdztcblxuICAgICAgICAvLyBDbG9zZSBDYXJkXG4gICAgICAgIGNvbnN0IGNsb3NlQXJlYSA9IGNhcmRSZXZlYWwucXVlcnlTZWxlY3RvcignLmNhcmQtcmV2ZWFsIC5jYXJkLXRpdGxlJyk7XG4gICAgICAgIGlmICh0cmlnZ2VyID09PSBjbG9zZUFyZWEgfHwgY2xvc2VBcmVhLmNvbnRhaW5zKHRyaWdnZXIpKSB7XG4gICAgICAgICAgYW5pbSh7XG4gICAgICAgICAgICB0YXJnZXRzOiBjYXJkUmV2ZWFsLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMjUsXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRRdWFkJyxcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoYW5pbSkgPT4ge1xuICAgICAgICAgICAgICBjYXJkUmV2ZWFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgIGNhcmQuc3R5bGUub3ZlcmZsb3cgPSBpbml0aWFsT3ZlcmZsb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUmV2ZWFsIENhcmRcbiAgICAgICAgY29uc3QgYWN0aXZhdG9ycyA9IGNhcmQucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2YXRvcicpO1xuICAgICAgICBhY3RpdmF0b3JzLmZvckVhY2goYWN0aXZhdG9yID0+IHtcbiAgICAgICAgICBpZiAodHJpZ2dlciA9PT0gYWN0aXZhdG9yIHx8IGFjdGl2YXRvci5jb250YWlucyh0cmlnZ2VyKSkge1xuICAgICAgICAgICAgY2FyZC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgY2FyZFJldmVhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIGFuaW0oe1xuICAgICAgICAgICAgICB0YXJnZXRzOiBjYXJkUmV2ZWFsLFxuICAgICAgICAgICAgICB0cmFuc2xhdGVZOiAnLTEwMCUnLFxuICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRRdWFkJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICB9KTtcbiAgICB9KTtcblxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/cards.ts\n");

/***/ }),

/***/ "./src/carousel.ts":
/*!*************************!*\
  !*** ./src/carousel.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Carousel = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {\n    duration: 200,\n    dist: -100,\n    shift: 0,\n    padding: 0,\n    numVisible: 5,\n    fullWidth: false,\n    indicators: false,\n    noWrap: false,\n    onCycleTo: null // Callback for when a new slide is cycled to.\n};\nclass Carousel extends component_1.Component {\n    constructor(el, options) {\n        var _a;\n        super(el, options, Carousel);\n        /** The index of the center carousel item. */\n        this.center = 0;\n        this._handleThrottledResize = utils_1.Utils.throttle(function () { this._handleResize(); }, 200, null).bind(this);\n        this._handleCarouselTap = (e) => {\n            // Fixes firefox draggable image bug\n            if (e.type === 'mousedown' && e.target.tagName === 'IMG') {\n                e.preventDefault();\n            }\n            this.pressed = true;\n            this.dragged = false;\n            this.verticalDragged = false;\n            this.reference = this._xpos(e);\n            this.referenceY = this._ypos(e);\n            this.velocity = this.amplitude = 0;\n            this.frame = this.offset;\n            this.timestamp = Date.now();\n            clearInterval(this.ticker);\n            this.ticker = setInterval(this._track, 100);\n        };\n        this._handleCarouselDrag = (e) => {\n            let x, y, delta, deltaY;\n            if (this.pressed) {\n                x = this._xpos(e);\n                y = this._ypos(e);\n                delta = this.reference - x;\n                deltaY = Math.abs(this.referenceY - y);\n                if (deltaY < 30 && !this.verticalDragged) {\n                    // If vertical scrolling don't allow dragging.\n                    if (delta > 2 || delta < -2) {\n                        this.dragged = true;\n                        this.reference = x;\n                        this._scroll(this.offset + delta);\n                    }\n                }\n                else if (this.dragged) {\n                    // If dragging don't allow vertical scroll.\n                    e.preventDefault();\n                    e.stopPropagation();\n                    return false;\n                }\n                else {\n                    // Vertical scrolling.\n                    this.verticalDragged = true;\n                }\n            }\n            if (this.dragged) {\n                // If dragging don't allow vertical scroll.\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n            }\n        };\n        this._handleCarouselRelease = (e) => {\n            if (this.pressed) {\n                this.pressed = false;\n            }\n            else {\n                return;\n            }\n            clearInterval(this.ticker);\n            this.target = this.offset;\n            if (this.velocity > 10 || this.velocity < -10) {\n                this.amplitude = 0.9 * this.velocity;\n                this.target = this.offset + this.amplitude;\n            }\n            this.target = Math.round(this.target / this.dim) * this.dim;\n            // No wrap of items.\n            if (this.noWrap) {\n                if (this.target >= this.dim * (this.count - 1)) {\n                    this.target = this.dim * (this.count - 1);\n                }\n                else if (this.target < 0) {\n                    this.target = 0;\n                }\n            }\n            this.amplitude = this.target - this.offset;\n            this.timestamp = Date.now();\n            requestAnimationFrame(this._autoScroll);\n            if (this.dragged) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n            return false;\n        };\n        this._handleCarouselClick = (e) => {\n            // Disable clicks if carousel was dragged.\n            if (this.dragged) {\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n            }\n            else if (!this.options.fullWidth) {\n                const clickedElem = e.target.closest('.carousel-item');\n                if (!clickedElem)\n                    return;\n                const clickedIndex = [...clickedElem.parentNode.children].indexOf(clickedElem);\n                const diff = this._wrap(this.center) - clickedIndex;\n                // Disable clicks if carousel was shifted by click\n                if (diff !== 0) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                // fixes https://github.com/materializecss/materialize/issues/180\n                if (clickedIndex < 0) {\n                    // relative X position > center of carousel = clicked at the right part of the carousel\n                    if (e.clientX - e.target.getBoundingClientRect().left > this.el.clientWidth / 2) {\n                        this.next();\n                    }\n                    else {\n                        this.prev();\n                    }\n                }\n                else {\n                    this._cycleTo(clickedIndex);\n                }\n            }\n        };\n        this._handleIndicatorClick = (e) => {\n            e.stopPropagation();\n            const indicator = e.target.closest('.indicator-item');\n            if (indicator) {\n                const index = [...indicator.parentNode.children].indexOf(indicator);\n                this._cycleTo(index);\n            }\n        };\n        this._handleResize = () => {\n            if (this.options.fullWidth) {\n                this.itemWidth = this.el.querySelector('.carousel-item').clientWidth;\n                this.imageHeight = this.el.querySelector('.carousel-item.active').clientHeight;\n                this.dim = this.itemWidth * 2 + this.options.padding;\n                this.offset = this.center * 2 * this.itemWidth;\n                this.target = this.offset;\n                this._setCarouselHeight(true);\n            }\n            else {\n                this._scroll();\n            }\n        };\n        this._track = () => {\n            let now, elapsed, delta, v;\n            now = Date.now();\n            elapsed = now - this.timestamp;\n            this.timestamp = now;\n            delta = this.offset - this.frame;\n            this.frame = this.offset;\n            v = (1000 * delta) / (1 + elapsed);\n            this.velocity = 0.8 * v + 0.2 * this.velocity;\n        };\n        this._autoScroll = () => {\n            let elapsed, delta;\n            if (this.amplitude) {\n                elapsed = Date.now() - this.timestamp;\n                delta = this.amplitude * Math.exp(-elapsed / this.options.duration);\n                if (delta > 2 || delta < -2) {\n                    this._scroll(this.target - delta);\n                    requestAnimationFrame(this._autoScroll);\n                }\n                else {\n                    this._scroll(this.target);\n                }\n            }\n        };\n        this.el.M_Carousel = this;\n        this.options = Object.assign(Object.assign({}, Carousel.defaults), options);\n        // Setup\n        this.hasMultipleSlides = this.el.querySelectorAll('.carousel-item').length > 1;\n        this.showIndicators = this.options.indicators && this.hasMultipleSlides;\n        this.noWrap = this.options.noWrap || !this.hasMultipleSlides;\n        this.pressed = false;\n        this.dragged = false;\n        this.offset = this.target = 0;\n        this.images = [];\n        this.itemWidth = this.el.querySelector('.carousel-item').clientWidth;\n        this.itemHeight = this.el.querySelector('.carousel-item').clientHeight;\n        this.dim = this.itemWidth * 2 + this.options.padding || 1; // Make sure dim is non zero for divisions.\n        // Full Width carousel setup\n        if (this.options.fullWidth) {\n            this.options.dist = 0;\n            this._setCarouselHeight();\n            // Offset fixed items when indicators.\n            if (this.showIndicators) {\n                (_a = this.el.querySelector('.carousel-fixed-item')) === null || _a === void 0 ? void 0 : _a.classList.add('with-indicators');\n            }\n        }\n        // Iterate through slides\n        this._indicators = document.createElement('ul');\n        this._indicators.classList.add('indicators');\n        this.el.querySelectorAll('.carousel-item').forEach((item, i) => {\n            this.images.push(item);\n            if (this.showIndicators) {\n                const indicator = document.createElement('li');\n                indicator.classList.add('indicator-item');\n                if (i === 0) {\n                    indicator.classList.add('active');\n                }\n                this._indicators.appendChild(indicator);\n            }\n        });\n        if (this.showIndicators)\n            this.el.appendChild(this._indicators);\n        this.count = this.images.length;\n        // Cap numVisible at count\n        this.options.numVisible = Math.min(this.count, this.options.numVisible);\n        // Setup cross browser string\n        this.xform = 'transform';\n        ['webkit', 'Moz', 'O', 'ms'].every((prefix) => {\n            var e = prefix + 'Transform';\n            if (typeof document.body.style[e] !== 'undefined') {\n                this.xform = e;\n                return false;\n            }\n            return true;\n        });\n        this._setupEventHandlers();\n        this._scroll(this.offset);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Carousel.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Carousel);\n    }\n    static getInstance(el) {\n        return el.M_Carousel;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_Carousel = undefined;\n    }\n    _setupEventHandlers() {\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.el.addEventListener('touchstart', this._handleCarouselTap);\n            this.el.addEventListener('touchmove', this._handleCarouselDrag);\n            this.el.addEventListener('touchend', this._handleCarouselRelease);\n        }\n        this.el.addEventListener('mousedown', this._handleCarouselTap);\n        this.el.addEventListener('mousemove', this._handleCarouselDrag);\n        this.el.addEventListener('mouseup', this._handleCarouselRelease);\n        this.el.addEventListener('mouseleave', this._handleCarouselRelease);\n        this.el.addEventListener('click', this._handleCarouselClick);\n        if (this.showIndicators && this._indicators) {\n            this._indicators.querySelectorAll('.indicator-item').forEach((el) => {\n                el.addEventListener('click', this._handleIndicatorClick);\n            });\n        }\n        // Resize\n        window.addEventListener('resize', this._handleThrottledResize);\n    }\n    _removeEventHandlers() {\n        if (typeof window.ontouchstart !== 'undefined') {\n            this.el.removeEventListener('touchstart', this._handleCarouselTap);\n            this.el.removeEventListener('touchmove', this._handleCarouselDrag);\n            this.el.removeEventListener('touchend', this._handleCarouselRelease);\n        }\n        this.el.removeEventListener('mousedown', this._handleCarouselTap);\n        this.el.removeEventListener('mousemove', this._handleCarouselDrag);\n        this.el.removeEventListener('mouseup', this._handleCarouselRelease);\n        this.el.removeEventListener('mouseleave', this._handleCarouselRelease);\n        this.el.removeEventListener('click', this._handleCarouselClick);\n        if (this.showIndicators && this._indicators) {\n            this._indicators.querySelectorAll('.indicator-item').forEach((el) => {\n                el.removeEventListener('click', this._handleIndicatorClick);\n            });\n        }\n        window.removeEventListener('resize', this._handleThrottledResize);\n    }\n    _setCarouselHeight(imageOnly = false) {\n        const firstSlide = this.el.querySelector('.carousel-item.active')\n            ? this.el.querySelector('.carousel-item.active')\n            : this.el.querySelector('.carousel-item');\n        const firstImage = firstSlide.querySelector('img');\n        if (firstImage) {\n            if (firstImage.complete) {\n                // If image won't trigger the load event\n                const imageHeight = firstImage.clientHeight;\n                if (imageHeight > 0) {\n                    this.el.style.height = imageHeight + 'px';\n                }\n                else {\n                    // If image still has no height, use the natural dimensions to calculate\n                    const naturalWidth = firstImage.naturalWidth;\n                    const naturalHeight = firstImage.naturalHeight;\n                    const adjustedHeight = (this.el.clientWidth / naturalWidth) * naturalHeight;\n                    this.el.style.height = adjustedHeight + 'px';\n                }\n            }\n            else {\n                // Get height when image is loaded normally\n                firstImage.addEventListener('load', () => {\n                    this.el.style.height = firstImage.offsetHeight + 'px';\n                });\n            }\n        }\n        else if (!imageOnly) {\n            const slideHeight = firstSlide.clientHeight;\n            this.el.style.height = slideHeight + 'px';\n        }\n    }\n    _xpos(e) {\n        // touch event\n        if (e.type.startsWith(\"touch\") && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientX;\n        }\n        // mouse event\n        return e.clientX;\n    }\n    _ypos(e) {\n        // touch event\n        if (e.type.startsWith(\"touch\") && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientY;\n        }\n        // mouse event\n        return e.clientY;\n    }\n    _wrap(x) {\n        return x >= this.count\n            ? x % this.count\n            : x < 0\n                ? this._wrap(this.count + (x % this.count))\n                : x;\n    }\n    _scroll(x = 0) {\n        // Track scrolling state\n        if (!this.el.classList.contains('scrolling')) {\n            this.el.classList.add('scrolling');\n        }\n        if (this.scrollingTimeout != null) {\n            window.clearTimeout(this.scrollingTimeout);\n        }\n        this.scrollingTimeout = window.setTimeout(() => {\n            this.el.classList.remove('scrolling');\n        }, this.options.duration);\n        // Start actual scroll\n        let i, half, delta, dir, tween, el, alignment, zTranslation, tweenedOpacity, centerTweenedOpacity;\n        let lastCenter = this.center;\n        let numVisibleOffset = 1 / this.options.numVisible;\n        this.offset = typeof x === 'number' ? x : this.offset;\n        this.center = Math.floor((this.offset + this.dim / 2) / this.dim);\n        delta = this.offset - this.center * this.dim;\n        dir = delta < 0 ? 1 : -1;\n        tween = (-dir * delta * 2) / this.dim;\n        half = this.count >> 1;\n        if (this.options.fullWidth) {\n            alignment = 'translateX(0)';\n            centerTweenedOpacity = 1;\n        }\n        else {\n            alignment = 'translateX(' + (this.el.clientWidth - this.itemWidth) / 2 + 'px) ';\n            alignment += 'translateY(' + (this.el.clientHeight - this.itemHeight) / 2 + 'px)';\n            centerTweenedOpacity = 1 - numVisibleOffset * tween;\n        }\n        // Set indicator active\n        if (this.showIndicators) {\n            const diff = this.center % this.count;\n            const activeIndicator = this._indicators.querySelector('.indicator-item.active');\n            const activeIndicatorIndex = [...activeIndicator.parentNode.children].indexOf(activeIndicator);\n            if (activeIndicatorIndex !== diff) {\n                activeIndicator.classList.remove('active');\n                const pos = diff < 0 ? this.count + diff : diff;\n                this._indicators.querySelectorAll('.indicator-item')[pos].classList.add('active');\n            }\n        }\n        // center\n        // Don't show wrapped items.\n        if (!this.noWrap || (this.center >= 0 && this.center < this.count)) {\n            el = this.images[this._wrap(this.center)];\n            // Add active class to center item.\n            if (!el.classList.contains('active')) {\n                this.el.querySelector('.carousel-item').classList.remove('active');\n                el.classList.add('active');\n            }\n            let transformString = `${alignment} translateX(${-delta / 2}px) translateX(${dir *\n                this.options.shift *\n                tween *\n                i}px) translateZ(${this.options.dist * tween}px)`;\n            this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);\n        }\n        for (i = 1; i <= half; ++i) {\n            // right side\n            if (this.options.fullWidth) {\n                zTranslation = this.options.dist;\n                tweenedOpacity = i === half && delta < 0 ? 1 - tween : 1;\n            }\n            else {\n                zTranslation = this.options.dist * (i * 2 + tween * dir);\n                tweenedOpacity = 1 - numVisibleOffset * (i * 2 + tween * dir);\n            }\n            // Don't show wrapped items.\n            if (!this.noWrap || this.center + i < this.count) {\n                el = this.images[this._wrap(this.center + i)];\n                let transformString = `${alignment} translateX(${this.options.shift +\n                    (this.dim * i - delta) / 2}px) translateZ(${zTranslation}px)`;\n                this._updateItemStyle(el, tweenedOpacity, -i, transformString);\n            }\n            // left side\n            if (this.options.fullWidth) {\n                zTranslation = this.options.dist;\n                tweenedOpacity = i === half && delta > 0 ? 1 - tween : 1;\n            }\n            else {\n                zTranslation = this.options.dist * (i * 2 - tween * dir);\n                tweenedOpacity = 1 - numVisibleOffset * (i * 2 - tween * dir);\n            }\n            // Don't show wrapped items.\n            if (!this.noWrap || this.center - i >= 0) {\n                el = this.images[this._wrap(this.center - i)];\n                let transformString = `${alignment} translateX(${-this.options.shift +\n                    (-this.dim * i - delta) / 2}px) translateZ(${zTranslation}px)`;\n                this._updateItemStyle(el, tweenedOpacity, -i, transformString);\n            }\n        }\n        // center\n        // Don't show wrapped items.\n        if (!this.noWrap || (this.center >= 0 && this.center < this.count)) {\n            el = this.images[this._wrap(this.center)];\n            let transformString = `${alignment} translateX(${-delta / 2}px) translateX(${dir *\n                this.options.shift *\n                tween}px) translateZ(${this.options.dist * tween}px)`;\n            this._updateItemStyle(el, centerTweenedOpacity, 0, transformString);\n        }\n        // onCycleTo callback\n        const _currItem = this.el.querySelectorAll('.carousel-item')[this._wrap(this.center)];\n        if (lastCenter !== this.center && typeof this.options.onCycleTo === 'function') {\n            this.options.onCycleTo.call(this, _currItem, this.dragged);\n        }\n        // One time callback\n        if (typeof this.oneTimeCallback === 'function') {\n            this.oneTimeCallback.call(this, _currItem, this.dragged);\n            this.oneTimeCallback = null;\n        }\n    }\n    _updateItemStyle(el, opacity, zIndex, transform) {\n        el.style[this.xform] = transform;\n        el.style.zIndex = zIndex.toString();\n        el.style.opacity = opacity.toString();\n        el.style.visibility = 'visible';\n    }\n    _cycleTo(n, callback = null) {\n        let diff = (this.center % this.count) - n;\n        // Account for wraparound.\n        if (!this.noWrap) {\n            if (diff < 0) {\n                if (Math.abs(diff + this.count) < Math.abs(diff)) {\n                    diff += this.count;\n                }\n            }\n            else if (diff > 0) {\n                if (Math.abs(diff - this.count) < diff) {\n                    diff -= this.count;\n                }\n            }\n        }\n        this.target = this.dim * Math.round(this.offset / this.dim);\n        // Next\n        if (diff < 0) {\n            this.target += this.dim * Math.abs(diff);\n        } // Prev\n        else if (diff > 0) {\n            this.target -= this.dim * diff;\n        }\n        // Set one time callback\n        if (typeof callback === 'function') {\n            this.oneTimeCallback = callback;\n        }\n        // Scroll\n        if (this.offset !== this.target) {\n            this.amplitude = this.target - this.offset;\n            this.timestamp = Date.now();\n            requestAnimationFrame(this._autoScroll);\n        }\n    }\n    /**\n     * Move carousel to next slide or go forward a given amount of slides.\n     * @param n How many times the carousel slides.\n     */\n    next(n = 1) {\n        if (n === undefined || isNaN(n)) {\n            n = 1;\n        }\n        let index = this.center + n;\n        if (index >= this.count || index < 0) {\n            if (this.noWrap)\n                return;\n            index = this._wrap(index);\n        }\n        this._cycleTo(index);\n    }\n    /**\n     * Move carousel to previous slide or go back a given amount of slides.\n     * @param n How many times the carousel slides.\n     */\n    prev(n = 1) {\n        if (n === undefined || isNaN(n)) {\n            n = 1;\n        }\n        let index = this.center - n;\n        if (index >= this.count || index < 0) {\n            if (this.noWrap)\n                return;\n            index = this._wrap(index);\n        }\n        this._cycleTo(index);\n    }\n    /**\n     * Move carousel to nth slide.\n     * @param n Index of slide.\n     * @param callback \"onCycleTo\" optional callback.\n     */\n    set(n, callback) {\n        if (n === undefined || isNaN(n)) {\n            n = 0;\n        }\n        if (n > this.count || n < 0) {\n            if (this.noWrap)\n                return;\n            n = this._wrap(n);\n        }\n        this._cycleTo(n, callback);\n    }\n}\nexports.Carousel = Carousel;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbkI7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUM3QixDQUFDO0NBQ0Y7QUFwbUJELDRCQW9tQkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvY2Fyb3VzZWwudHM/ZTRjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2Fyb3VzZWxPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnN7XG4gIC8qKlxuICAgKiBUcmFuc2l0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAgICogQGRlZmF1bHQgMjAwXG4gICAqL1xuICBkdXJhdGlvbjogbnVtYmVyO1xuICAvKipcbiAgICogUGVyc3BlY3RpdmUgem9vbS4gSWYgMCwgYWxsIGl0ZW1zIGFyZSB0aGUgc2FtZSBzaXplLlxuICAgKiBAZGVmYXVsdCAtMTAwXG4gICAqL1xuICBkaXN0OiBudW1iZXI7XG4gIC8qKlxuICAgKiBTZXQgdGhlIHNwYWNpbmcgb2YgdGhlIGNlbnRlciBpdGVtLlxuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBzaGlmdDogbnVtYmVyO1xuICAvKipcbiAgICogU2V0IHRoZSBwYWRkaW5nIGJldHdlZW4gbm9uIGNlbnRlciBpdGVtcy5cbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgcGFkZGluZzogbnVtYmVyO1xuICAvKipcbiAgICogU2V0IHRoZSBudW1iZXIgb2YgdmlzaWJsZSBpdGVtcy5cbiAgICogQGRlZmF1bHQgNVxuICAgKi9cbiAgbnVtVmlzaWJsZTogbnVtYmVyO1xuICAvKipcbiAgICogTWFrZSB0aGUgY2Fyb3VzZWwgYSBmdWxsIHdpZHRoIHNsaWRlciBsaWtlIHRoZSBzZWNvbmQgZXhhbXBsZS5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGZ1bGxXaWR0aDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIHRvIHNob3cgaW5kaWNhdG9ycy5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGluZGljYXRvcnM6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBEb24ndCB3cmFwIGFyb3VuZCBhbmQgY3ljbGUgdGhyb3VnaCBpdGVtcy5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIG5vV3JhcDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZvciB3aGVuIGEgbmV3IHNsaWRlIGlzIGN5Y2xlZCB0by5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25DeWNsZVRvOiAoY3VycmVudDogRWxlbWVudCwgZHJhZ2dlZDogYm9vbGVhbikgPT4gdm9pZDtcbn1cblxubGV0IF9kZWZhdWx0czogQ2Fyb3VzZWxPcHRpb25zID0ge1xuICBkdXJhdGlvbjogMjAwLCAvLyBtc1xuICBkaXN0OiAtMTAwLCAvLyB6b29tIHNjYWxlIFRPRE86IG1ha2UgdGhpcyBtb3JlIGludHVpdGl2ZSBhcyBhbiBvcHRpb25cbiAgc2hpZnQ6IDAsIC8vIHNwYWNpbmcgZm9yIGNlbnRlciBpbWFnZVxuICBwYWRkaW5nOiAwLCAvLyBQYWRkaW5nIGJldHdlZW4gbm9uIGNlbnRlciBpdGVtc1xuICBudW1WaXNpYmxlOiA1LCAvLyBOdW1iZXIgb2YgdmlzaWJsZSBpdGVtcyBpbiBjYXJvdXNlbFxuICBmdWxsV2lkdGg6IGZhbHNlLCAvLyBDaGFuZ2UgdG8gZnVsbCB3aWR0aCBzdHlsZXNcbiAgaW5kaWNhdG9yczogZmFsc2UsIC8vIFRvZ2dsZSBpbmRpY2F0b3JzXG4gIG5vV3JhcDogZmFsc2UsIC8vIERvbid0IHdyYXAgYXJvdW5kIGFuZCBjeWNsZSB0aHJvdWdoIGl0ZW1zLlxuICBvbkN5Y2xlVG86IG51bGwgLy8gQ2FsbGJhY2sgZm9yIHdoZW4gYSBuZXcgc2xpZGUgaXMgY3ljbGVkIHRvLlxufTtcblxuZXhwb3J0IGNsYXNzIENhcm91c2VsIGV4dGVuZHMgQ29tcG9uZW50PENhcm91c2VsT3B0aW9ucz4ge1xuICBoYXNNdWx0aXBsZVNsaWRlczogYm9vbGVhbjtcbiAgc2hvd0luZGljYXRvcnM6IGJvb2xlYW47XG4gIG5vV3JhcDogYm9vbGVhbjtcbiAgLyoqIElmIHRoZSBjYXJvdXNlbCBpcyBiZWluZyBjbGlja2VkIG9yIHRhcHBlZC4gKi9cbiAgcHJlc3NlZDogYm9vbGVhbjtcbiAgLyoqIElmIHRoZSBjYXJvdXNlbCBpcyBjdXJyZW50bHkgYmVpbmcgZHJhZ2dlZC4gKi9cbiAgZHJhZ2dlZDogYm9vbGVhbjtcbiAgb2Zmc2V0OiBudW1iZXI7XG4gIHRhcmdldDogbnVtYmVyO1xuICBpbWFnZXM6IEhUTUxFbGVtZW50W107XG4gIGl0ZW1XaWR0aDogYW55O1xuICBpdGVtSGVpZ2h0OiBhbnk7XG4gIGRpbTogbnVtYmVyO1xuICBfaW5kaWNhdG9yczogYW55O1xuICBjb3VudDogbnVtYmVyO1xuICB4Zm9ybTogc3RyaW5nO1xuICB2ZXJ0aWNhbERyYWdnZWQ6IGJvb2xlYW47XG4gIHJlZmVyZW5jZTogYW55O1xuICByZWZlcmVuY2VZOiBhbnk7XG4gIHZlbG9jaXR5OiBudW1iZXI7XG4gIGZyYW1lOiBudW1iZXI7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xuICB0aWNrZXI6IE5vZGVKUy5UaW1lcjtcbiAgYW1wbGl0dWRlOiBudW1iZXI7XG4gIC8qKiBUaGUgaW5kZXggb2YgdGhlIGNlbnRlciBjYXJvdXNlbCBpdGVtLiAqL1xuICBjZW50ZXI6IG51bWJlciA9IDA7XG4gIGltYWdlSGVpZ2h0OiBhbnk7XG4gIHNjcm9sbGluZ1RpbWVvdXQ6IGFueTtcbiAgb25lVGltZUNhbGxiYWNrOiBhbnk7XG5cbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPENhcm91c2VsT3B0aW9ucz4pIHtcbiAgICBzdXBlcihlbCwgb3B0aW9ucywgQ2Fyb3VzZWwpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9DYXJvdXNlbCA9IHRoaXM7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi5DYXJvdXNlbC5kZWZhdWx0cyxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuXG4gICAgLy8gU2V0dXBcbiAgICB0aGlzLmhhc011bHRpcGxlU2xpZGVzID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwtaXRlbScpLmxlbmd0aCA+IDE7XG4gICAgdGhpcy5zaG93SW5kaWNhdG9ycyA9IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzICYmIHRoaXMuaGFzTXVsdGlwbGVTbGlkZXM7XG4gICAgdGhpcy5ub1dyYXAgPSB0aGlzLm9wdGlvbnMubm9XcmFwIHx8ICF0aGlzLmhhc011bHRpcGxlU2xpZGVzO1xuICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuICAgIHRoaXMuZHJhZ2dlZCA9IGZhbHNlO1xuICAgIHRoaXMub2Zmc2V0ID0gdGhpcy50YXJnZXQgPSAwO1xuICAgIHRoaXMuaW1hZ2VzID0gW107XG4gICAgdGhpcy5pdGVtV2lkdGggPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtJykuY2xpZW50V2lkdGg7XG4gICAgdGhpcy5pdGVtSGVpZ2h0ID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtaXRlbScpLmNsaWVudEhlaWdodDtcbiAgICB0aGlzLmRpbSA9IHRoaXMuaXRlbVdpZHRoICogMiArIHRoaXMub3B0aW9ucy5wYWRkaW5nIHx8IDE7IC8vIE1ha2Ugc3VyZSBkaW0gaXMgbm9uIHplcm8gZm9yIGRpdmlzaW9ucy5cblxuICAgIC8vIEZ1bGwgV2lkdGggY2Fyb3VzZWwgc2V0dXBcbiAgICBpZiAodGhpcy5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgdGhpcy5vcHRpb25zLmRpc3QgPSAwO1xuICAgICAgdGhpcy5fc2V0Q2Fyb3VzZWxIZWlnaHQoKTtcblxuICAgICAgLy8gT2Zmc2V0IGZpeGVkIGl0ZW1zIHdoZW4gaW5kaWNhdG9ycy5cbiAgICAgIGlmICh0aGlzLnNob3dJbmRpY2F0b3JzKSB7XG4gICAgICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWZpeGVkLWl0ZW0nKT8uY2xhc3NMaXN0LmFkZCgnd2l0aC1pbmRpY2F0b3JzJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHNsaWRlc1xuICAgIHRoaXMuX2luZGljYXRvcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgIHRoaXMuX2luZGljYXRvcnMuY2xhc3NMaXN0LmFkZCgnaW5kaWNhdG9ycycpO1xuXG4gICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwtaXRlbScpLmZvckVhY2goKGl0ZW06IEhUTUxFbGVtZW50LCBpKSA9PiB7XG4gICAgICB0aGlzLmltYWdlcy5wdXNoKGl0ZW0pO1xuICAgICAgaWYgKHRoaXMuc2hvd0luZGljYXRvcnMpIHtcbiAgICAgICAgY29uc3QgaW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgaW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoJ2luZGljYXRvci1pdGVtJyk7XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgaW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2luZGljYXRvcnMuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0aGlzLnNob3dJbmRpY2F0b3JzKVxuICAgICAgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLl9pbmRpY2F0b3JzKTtcblxuICAgIHRoaXMuY291bnQgPSB0aGlzLmltYWdlcy5sZW5ndGg7XG5cbiAgICAvLyBDYXAgbnVtVmlzaWJsZSBhdCBjb3VudFxuICAgIHRoaXMub3B0aW9ucy5udW1WaXNpYmxlID0gTWF0aC5taW4odGhpcy5jb3VudCwgdGhpcy5vcHRpb25zLm51bVZpc2libGUpO1xuXG4gICAgLy8gU2V0dXAgY3Jvc3MgYnJvd3NlciBzdHJpbmdcbiAgICB0aGlzLnhmb3JtID0gJ3RyYW5zZm9ybSc7XG4gICAgWyd3ZWJraXQnLCAnTW96JywgJ08nLCAnbXMnXS5ldmVyeSgocHJlZml4KSA9PiB7XG4gICAgICB2YXIgZSA9IHByZWZpeCArICdUcmFuc2Zvcm0nO1xuICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudC5ib2R5LnN0eWxlW2VdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLnhmb3JtID0gZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLl9zY3JvbGwodGhpcy5vZmZzZXQpO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpOiBDYXJvdXNlbE9wdGlvbnMge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgQ2Fyb3VzZWwuXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zPzogUGFydGlhbDxDYXJvdXNlbE9wdGlvbnM+KTogQ2Fyb3VzZWw7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgQ2Fyb3VzZWwuXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbHM6IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM/OiBQYXJ0aWFsPENhcm91c2VsT3B0aW9ucz4pOiBDYXJvdXNlbFtdO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIENhcm91c2VsLlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWxzOiBIVE1MRWxlbWVudCB8IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM6IFBhcnRpYWw8Q2Fyb3VzZWxPcHRpb25zPiA9IHt9KTogQ2Fyb3VzZWwgfCBDYXJvdXNlbFtdIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIENhcm91c2VsKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBDYXJvdXNlbCB7XG4gICAgcmV0dXJuIChlbCBhcyBhbnkpLk1fQ2Fyb3VzZWw7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQ2Fyb3VzZWwgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93Lm9udG91Y2hzdGFydCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxEcmFnKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2UpO1xuICAgIH1cbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZUNhcm91c2VsVGFwKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZUNhcm91c2VsRHJhZyk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxSZWxlYXNlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2UpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDYXJvdXNlbENsaWNrKTtcbiAgICBpZiAodGhpcy5zaG93SW5kaWNhdG9ycyAmJiB0aGlzLl9pbmRpY2F0b3JzKSB7XG4gICAgICB0aGlzLl9pbmRpY2F0b3JzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbmRpY2F0b3ItaXRlbScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5kaWNhdG9yQ2xpY2spO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFJlc2l6ZVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVUaHJvdHRsZWRSZXNpemUpO1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cub250b3VjaHN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxUYXApO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbERyYWcpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZSk7XG4gICAgfVxuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxUYXApO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlQ2Fyb3VzZWxEcmFnKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVDYXJvdXNlbFJlbGVhc2UpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZUNhcm91c2VsUmVsZWFzZSk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNhcm91c2VsQ2xpY2spO1xuICAgIGlmICh0aGlzLnNob3dJbmRpY2F0b3JzICYmIHRoaXMuX2luZGljYXRvcnMpIHtcbiAgICAgIHRoaXMuX2luZGljYXRvcnMucXVlcnlTZWxlY3RvckFsbCgnLmluZGljYXRvci1pdGVtJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbmRpY2F0b3JDbGljayk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZSk7XG4gIH1cblxuICBfaGFuZGxlVGhyb3R0bGVkUmVzaXplOiAoKSA9PiB2b2lkID0gVXRpbHMudGhyb3R0bGUoZnVuY3Rpb24oKXsgdGhpcy5faGFuZGxlUmVzaXplKCk7IH0sIDIwMCwgbnVsbCkuYmluZCh0aGlzKTtcblxuICBfaGFuZGxlQ2Fyb3VzZWxUYXAgPSAoZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcbiAgICAvLyBGaXhlcyBmaXJlZm94IGRyYWdnYWJsZSBpbWFnZSBidWdcbiAgICBpZiAoZS50eXBlID09PSAnbW91c2Vkb3duJyAmJiAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS50YWdOYW1lID09PSAnSU1HJykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuICAgIHRoaXMuZHJhZ2dlZCA9IGZhbHNlO1xuICAgIHRoaXMudmVydGljYWxEcmFnZ2VkID0gZmFsc2U7XG4gICAgdGhpcy5yZWZlcmVuY2UgPSB0aGlzLl94cG9zKGUpO1xuICAgIHRoaXMucmVmZXJlbmNlWSA9IHRoaXMuX3lwb3MoZSk7XG5cbiAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy5hbXBsaXR1ZGUgPSAwO1xuICAgIHRoaXMuZnJhbWUgPSB0aGlzLm9mZnNldDtcbiAgICB0aGlzLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpY2tlcik7XG4gICAgdGhpcy50aWNrZXIgPSBzZXRJbnRlcnZhbCh0aGlzLl90cmFjaywgMTAwKTtcbiAgfVxuXG4gIF9oYW5kbGVDYXJvdXNlbERyYWcgPSAoZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcbiAgICBsZXQgeDogbnVtYmVyLCB5OiBudW1iZXIsIGRlbHRhOiBudW1iZXIsIGRlbHRhWTogbnVtYmVyO1xuICAgIGlmICh0aGlzLnByZXNzZWQpIHtcbiAgICAgIHggPSB0aGlzLl94cG9zKGUpO1xuICAgICAgeSA9IHRoaXMuX3lwb3MoZSk7XG4gICAgICBkZWx0YSA9IHRoaXMucmVmZXJlbmNlIC0geDtcbiAgICAgIGRlbHRhWSA9IE1hdGguYWJzKHRoaXMucmVmZXJlbmNlWSAtIHkpO1xuICAgICAgaWYgKGRlbHRhWSA8IDMwICYmICF0aGlzLnZlcnRpY2FsRHJhZ2dlZCkge1xuICAgICAgICAvLyBJZiB2ZXJ0aWNhbCBzY3JvbGxpbmcgZG9uJ3QgYWxsb3cgZHJhZ2dpbmcuXG4gICAgICAgIGlmIChkZWx0YSA+IDIgfHwgZGVsdGEgPCAtMikge1xuICAgICAgICAgIHRoaXMuZHJhZ2dlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5yZWZlcmVuY2UgPSB4O1xuICAgICAgICAgIHRoaXMuX3Njcm9sbCh0aGlzLm9mZnNldCArIGRlbHRhKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmRyYWdnZWQpIHtcbiAgICAgICAgLy8gSWYgZHJhZ2dpbmcgZG9uJ3QgYWxsb3cgdmVydGljYWwgc2Nyb2xsLlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFZlcnRpY2FsIHNjcm9sbGluZy5cbiAgICAgICAgdGhpcy52ZXJ0aWNhbERyYWdnZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5kcmFnZ2VkKSB7XG4gICAgICAvLyBJZiBkcmFnZ2luZyBkb24ndCBhbGxvdyB2ZXJ0aWNhbCBzY3JvbGwuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVDYXJvdXNlbFJlbGVhc2UgPSAoZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5wcmVzc2VkKSB7XG4gICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjbGVhckludGVydmFsKHRoaXMudGlja2VyKTtcbiAgICB0aGlzLnRhcmdldCA9IHRoaXMub2Zmc2V0O1xuICAgIGlmICh0aGlzLnZlbG9jaXR5ID4gMTAgfHwgdGhpcy52ZWxvY2l0eSA8IC0xMCkge1xuICAgICAgdGhpcy5hbXBsaXR1ZGUgPSAwLjkgKiB0aGlzLnZlbG9jaXR5O1xuICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm9mZnNldCArIHRoaXMuYW1wbGl0dWRlO1xuICAgIH1cbiAgICB0aGlzLnRhcmdldCA9IE1hdGgucm91bmQodGhpcy50YXJnZXQgLyB0aGlzLmRpbSkgKiB0aGlzLmRpbTtcbiAgICAvLyBObyB3cmFwIG9mIGl0ZW1zLlxuICAgIGlmICh0aGlzLm5vV3JhcCkge1xuICAgICAgaWYgKHRoaXMudGFyZ2V0ID49IHRoaXMuZGltICogKHRoaXMuY291bnQgLSAxKSkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuZGltICogKHRoaXMuY291bnQgLSAxKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy50YXJnZXQgPCAwKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5hbXBsaXR1ZGUgPSB0aGlzLnRhcmdldCAtIHRoaXMub2Zmc2V0O1xuICAgIHRoaXMudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fYXV0b1Njcm9sbCk7XG4gICAgaWYgKHRoaXMuZHJhZ2dlZCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgX2hhbmRsZUNhcm91c2VsQ2xpY2sgPSAoZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcbiAgICAvLyBEaXNhYmxlIGNsaWNrcyBpZiBjYXJvdXNlbCB3YXMgZHJhZ2dlZC5cbiAgICBpZiAodGhpcy5kcmFnZ2VkKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIGlmICghdGhpcy5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgY29uc3QgY2xpY2tlZEVsZW0gPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcuY2Fyb3VzZWwtaXRlbScpO1xuICAgICAgaWYgKCFjbGlja2VkRWxlbSkgcmV0dXJuO1xuICAgICAgY29uc3QgY2xpY2tlZEluZGV4ID0gWy4uLmNsaWNrZWRFbGVtLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YoY2xpY2tlZEVsZW0pO1xuICAgICAgY29uc3QgZGlmZiA9IHRoaXMuX3dyYXAodGhpcy5jZW50ZXIpIC0gY2xpY2tlZEluZGV4O1xuICAgICAgLy8gRGlzYWJsZSBjbGlja3MgaWYgY2Fyb3VzZWwgd2FzIHNoaWZ0ZWQgYnkgY2xpY2tcbiAgICAgIGlmIChkaWZmICE9PSAwKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIC8vIGZpeGVzIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS9pc3N1ZXMvMTgwXG4gICAgICBpZiAoY2xpY2tlZEluZGV4IDwgMCkge1xuICAgICAgICAvLyByZWxhdGl2ZSBYIHBvc2l0aW9uID4gY2VudGVyIG9mIGNhcm91c2VsID0gY2xpY2tlZCBhdCB0aGUgcmlnaHQgcGFydCBvZiB0aGUgY2Fyb3VzZWxcbiAgICAgICAgaWYgKChlIGFzIE1vdXNlRXZlbnQpLmNsaWVudFggLSAoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgPiB0aGlzLmVsLmNsaWVudFdpZHRoIC8gMikge1xuICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucHJldigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jeWNsZVRvKGNsaWNrZWRJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUluZGljYXRvckNsaWNrID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCBpbmRpY2F0b3IgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcuaW5kaWNhdG9yLWl0ZW0nKTtcbiAgICBpZiAoaW5kaWNhdG9yKSB7XG4gICAgICBjb25zdCBpbmRleCA9IFsuLi5pbmRpY2F0b3IucGFyZW50Tm9kZS5jaGlsZHJlbl0uaW5kZXhPZihpbmRpY2F0b3IpO1xuICAgICAgdGhpcy5fY3ljbGVUbyhpbmRleCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgdGhpcy5pdGVtV2lkdGggPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtJykuY2xpZW50V2lkdGg7XG4gICAgICB0aGlzLmltYWdlSGVpZ2h0ID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtaXRlbS5hY3RpdmUnKS5jbGllbnRIZWlnaHQ7XG4gICAgICB0aGlzLmRpbSA9IHRoaXMuaXRlbVdpZHRoICogMiArIHRoaXMub3B0aW9ucy5wYWRkaW5nO1xuICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLmNlbnRlciAqIDIgKiB0aGlzLml0ZW1XaWR0aDtcbiAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5vZmZzZXQ7XG4gICAgICB0aGlzLl9zZXRDYXJvdXNlbEhlaWdodCh0cnVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9zY3JvbGwoKTtcbiAgICB9XG4gIH1cblxuICBfc2V0Q2Fyb3VzZWxIZWlnaHQoaW1hZ2VPbmx5OiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBjb25zdCBmaXJzdFNsaWRlID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtaXRlbS5hY3RpdmUnKVxuICAgICAgPyB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC1pdGVtLmFjdGl2ZScpXG4gICAgICA6IHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmNhcm91c2VsLWl0ZW0nKTtcblxuICAgIGNvbnN0IGZpcnN0SW1hZ2UgPSBmaXJzdFNsaWRlLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgIGlmIChmaXJzdEltYWdlKSB7XG4gICAgICBpZiAoZmlyc3RJbWFnZS5jb21wbGV0ZSkge1xuICAgICAgICAvLyBJZiBpbWFnZSB3b24ndCB0cmlnZ2VyIHRoZSBsb2FkIGV2ZW50XG4gICAgICAgIGNvbnN0IGltYWdlSGVpZ2h0ID0gZmlyc3RJbWFnZS5jbGllbnRIZWlnaHQ7XG4gICAgICAgIGlmIChpbWFnZUhlaWdodCA+IDApIHtcbiAgICAgICAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IGltYWdlSGVpZ2h0KydweCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gSWYgaW1hZ2Ugc3RpbGwgaGFzIG5vIGhlaWdodCwgdXNlIHRoZSBuYXR1cmFsIGRpbWVuc2lvbnMgdG8gY2FsY3VsYXRlXG4gICAgICAgICAgY29uc3QgbmF0dXJhbFdpZHRoID0gZmlyc3RJbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgICAgY29uc3QgbmF0dXJhbEhlaWdodCA9IGZpcnN0SW1hZ2UubmF0dXJhbEhlaWdodDtcbiAgICAgICAgICBjb25zdCBhZGp1c3RlZEhlaWdodCA9ICh0aGlzLmVsLmNsaWVudFdpZHRoIC8gbmF0dXJhbFdpZHRoKSAqIG5hdHVyYWxIZWlnaHQ7XG4gICAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBhZGp1c3RlZEhlaWdodCsncHgnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBHZXQgaGVpZ2h0IHdoZW4gaW1hZ2UgaXMgbG9hZGVkIG5vcm1hbGx5XG4gICAgICAgIGZpcnN0SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IGZpcnN0SW1hZ2Uub2Zmc2V0SGVpZ2h0KydweCc7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICghaW1hZ2VPbmx5KSB7XG4gICAgICBjb25zdCBzbGlkZUhlaWdodCA9IGZpcnN0U2xpZGUuY2xpZW50SGVpZ2h0O1xuICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBzbGlkZUhlaWdodCsncHgnO1xuICAgIH1cbiAgfVxuXG4gIF94cG9zKGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSB7XG4gICAgLy8gdG91Y2ggZXZlbnRcbiAgICBpZiAoZS50eXBlLnN0YXJ0c1dpdGgoXCJ0b3VjaFwiKSAmJiAoZSBhcyBUb3VjaEV2ZW50KS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICByZXR1cm4gKGUgYXMgVG91Y2hFdmVudCkudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYO1xuICAgIH1cbiAgICAvLyBtb3VzZSBldmVudFxuICAgIHJldHVybiAoZSBhcyBNb3VzZUV2ZW50KS5jbGllbnRYO1xuICB9XG5cbiAgX3lwb3MoZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpIHtcbiAgICAvLyB0b3VjaCBldmVudFxuICAgIGlmIChlLnR5cGUuc3RhcnRzV2l0aChcInRvdWNoXCIpICYmIChlIGFzIFRvdWNoRXZlbnQpLnRhcmdldFRvdWNoZXMubGVuZ3RoID49IDEpIHtcbiAgICAgIHJldHVybiAoZSBhcyBUb3VjaEV2ZW50KS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfVxuICAgIC8vIG1vdXNlIGV2ZW50XG4gICAgcmV0dXJuIChlIGFzIE1vdXNlRXZlbnQpLmNsaWVudFk7XG4gIH1cblxuICBfd3JhcCh4OiBudW1iZXIpIHtcbiAgICByZXR1cm4geCA+PSB0aGlzLmNvdW50XG4gICAgICA/IHggJSB0aGlzLmNvdW50XG4gICAgICA6IHggPCAwXG4gICAgICA/IHRoaXMuX3dyYXAodGhpcy5jb3VudCArICh4ICUgdGhpcy5jb3VudCkpXG4gICAgICA6IHg7XG4gIH1cblxuICBfdHJhY2sgPSAoKSA9PiB7XG4gICAgbGV0IG5vdzogbnVtYmVyLCBlbGFwc2VkOiBudW1iZXIsIGRlbHRhOiBudW1iZXIsIHY6IG51bWJlcjtcbiAgICBub3cgPSBEYXRlLm5vdygpO1xuICAgIGVsYXBzZWQgPSBub3cgLSB0aGlzLnRpbWVzdGFtcDtcbiAgICB0aGlzLnRpbWVzdGFtcCA9IG5vdztcbiAgICBkZWx0YSA9IHRoaXMub2Zmc2V0IC0gdGhpcy5mcmFtZTtcbiAgICB0aGlzLmZyYW1lID0gdGhpcy5vZmZzZXQ7XG4gICAgdiA9ICgxMDAwICogZGVsdGEpIC8gKDEgKyBlbGFwc2VkKTtcbiAgICB0aGlzLnZlbG9jaXR5ID0gMC44ICogdiArIDAuMiAqIHRoaXMudmVsb2NpdHk7XG4gIH1cblxuICBfYXV0b1Njcm9sbCA9ICgpID0+IHtcbiAgICBsZXQgZWxhcHNlZDogbnVtYmVyLCBkZWx0YTogbnVtYmVyO1xuICAgIGlmICh0aGlzLmFtcGxpdHVkZSkge1xuICAgICAgZWxhcHNlZCA9IERhdGUubm93KCkgLSB0aGlzLnRpbWVzdGFtcDtcbiAgICAgIGRlbHRhID0gdGhpcy5hbXBsaXR1ZGUgKiBNYXRoLmV4cCgtZWxhcHNlZCAvIHRoaXMub3B0aW9ucy5kdXJhdGlvbik7XG4gICAgICBpZiAoZGVsdGEgPiAyIHx8IGRlbHRhIDwgLTIpIHtcbiAgICAgICAgdGhpcy5fc2Nyb2xsKHRoaXMudGFyZ2V0IC0gZGVsdGEpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fYXV0b1Njcm9sbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zY3JvbGwodGhpcy50YXJnZXQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9zY3JvbGwoeDogbnVtYmVyID0gMCkge1xuICAgIC8vIFRyYWNrIHNjcm9sbGluZyBzdGF0ZVxuICAgIGlmICghdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Njcm9sbGluZycpKSB7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3Njcm9sbGluZycpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zY3JvbGxpbmdUaW1lb3V0ICE9IG51bGwpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5zY3JvbGxpbmdUaW1lb3V0KTtcbiAgICB9XG4gICAgdGhpcy5zY3JvbGxpbmdUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdzY3JvbGxpbmcnKTtcbiAgICB9LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xuXG4gICAgLy8gU3RhcnQgYWN0dWFsIHNjcm9sbFxuICAgIGxldCBpOiBudW1iZXIsXG4gICAgICBoYWxmOiBudW1iZXIsXG4gICAgICBkZWx0YTogbnVtYmVyLFxuICAgICAgZGlyOiBudW1iZXIsXG4gICAgICB0d2VlbjogbnVtYmVyLFxuICAgICAgZWw6IEhUTUxFbGVtZW50LFxuICAgICAgYWxpZ25tZW50OiBzdHJpbmcsXG4gICAgICB6VHJhbnNsYXRpb246IG51bWJlcixcbiAgICAgIHR3ZWVuZWRPcGFjaXR5OiBudW1iZXIsXG4gICAgICBjZW50ZXJUd2VlbmVkT3BhY2l0eTogbnVtYmVyO1xuICAgIGxldCBsYXN0Q2VudGVyID0gdGhpcy5jZW50ZXI7XG4gICAgbGV0IG51bVZpc2libGVPZmZzZXQgPSAxIC8gdGhpcy5vcHRpb25zLm51bVZpc2libGU7XG5cbiAgICB0aGlzLm9mZnNldCA9IHR5cGVvZiB4ID09PSAnbnVtYmVyJyA/IHggOiB0aGlzLm9mZnNldDtcbiAgICB0aGlzLmNlbnRlciA9IE1hdGguZmxvb3IoKHRoaXMub2Zmc2V0ICsgdGhpcy5kaW0gLyAyKSAvIHRoaXMuZGltKTtcblxuICAgIGRlbHRhID0gdGhpcy5vZmZzZXQgLSB0aGlzLmNlbnRlciAqIHRoaXMuZGltO1xuICAgIGRpciA9IGRlbHRhIDwgMCA/IDEgOiAtMTtcbiAgICB0d2VlbiA9ICgtZGlyICogZGVsdGEgKiAyKSAvIHRoaXMuZGltO1xuICAgIGhhbGYgPSB0aGlzLmNvdW50ID4+IDE7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgYWxpZ25tZW50ID0gJ3RyYW5zbGF0ZVgoMCknO1xuICAgICAgY2VudGVyVHdlZW5lZE9wYWNpdHkgPSAxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGFsaWdubWVudCA9ICd0cmFuc2xhdGVYKCcgKyAodGhpcy5lbC5jbGllbnRXaWR0aCAtIHRoaXMuaXRlbVdpZHRoKSAvIDIgKyAncHgpICc7XG4gICAgICBhbGlnbm1lbnQgKz0gJ3RyYW5zbGF0ZVkoJyArICh0aGlzLmVsLmNsaWVudEhlaWdodCAtIHRoaXMuaXRlbUhlaWdodCkgLyAyICsgJ3B4KSc7XG4gICAgICBjZW50ZXJUd2VlbmVkT3BhY2l0eSA9IDEgLSBudW1WaXNpYmxlT2Zmc2V0ICogdHdlZW47XG4gICAgfVxuXG4gICAgLy8gU2V0IGluZGljYXRvciBhY3RpdmVcbiAgICBpZiAodGhpcy5zaG93SW5kaWNhdG9ycykge1xuICAgICAgY29uc3QgZGlmZiA9IHRoaXMuY2VudGVyICUgdGhpcy5jb3VudDtcbiAgICAgIGNvbnN0IGFjdGl2ZUluZGljYXRvciA9IHRoaXMuX2luZGljYXRvcnMucXVlcnlTZWxlY3RvcignLmluZGljYXRvci1pdGVtLmFjdGl2ZScpO1xuICAgICAgY29uc3QgYWN0aXZlSW5kaWNhdG9ySW5kZXggPSBbLi4uYWN0aXZlSW5kaWNhdG9yLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YoYWN0aXZlSW5kaWNhdG9yKTtcbiAgICAgIGlmIChhY3RpdmVJbmRpY2F0b3JJbmRleCAhPT0gZGlmZikge1xuICAgICAgICBhY3RpdmVJbmRpY2F0b3IuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIGNvbnN0IHBvcyA9IGRpZmYgPCAwID8gdGhpcy5jb3VudCArIGRpZmYgOiBkaWZmO1xuICAgICAgICB0aGlzLl9pbmRpY2F0b3JzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbmRpY2F0b3ItaXRlbScpW3Bvc10uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gY2VudGVyXG4gICAgLy8gRG9uJ3Qgc2hvdyB3cmFwcGVkIGl0ZW1zLlxuICAgIGlmICghdGhpcy5ub1dyYXAgfHwgKHRoaXMuY2VudGVyID49IDAgJiYgdGhpcy5jZW50ZXIgPCB0aGlzLmNvdW50KSkge1xuICAgICAgZWwgPSB0aGlzLmltYWdlc1t0aGlzLl93cmFwKHRoaXMuY2VudGVyKV07XG5cbiAgICAgIC8vIEFkZCBhY3RpdmUgY2xhc3MgdG8gY2VudGVyIGl0ZW0uXG4gICAgICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtaXRlbScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHRyYW5zZm9ybVN0cmluZyA9IGAke2FsaWdubWVudH0gdHJhbnNsYXRlWCgkey1kZWx0YSAvIDJ9cHgpIHRyYW5zbGF0ZVgoJHtkaXIgKlxuICAgICAgICB0aGlzLm9wdGlvbnMuc2hpZnQgKlxuICAgICAgICB0d2VlbiAqXG4gICAgICAgIGl9cHgpIHRyYW5zbGF0ZVooJHt0aGlzLm9wdGlvbnMuZGlzdCAqIHR3ZWVufXB4KWA7XG4gICAgICB0aGlzLl91cGRhdGVJdGVtU3R5bGUoZWwsIGNlbnRlclR3ZWVuZWRPcGFjaXR5LCAwLCB0cmFuc2Zvcm1TdHJpbmcpO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDE7IGkgPD0gaGFsZjsgKytpKSB7XG4gICAgICAvLyByaWdodCBzaWRlXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgICB6VHJhbnNsYXRpb24gPSB0aGlzLm9wdGlvbnMuZGlzdDtcbiAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSBpID09PSBoYWxmICYmIGRlbHRhIDwgMCA/IDEgLSB0d2VlbiA6IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB6VHJhbnNsYXRpb24gPSB0aGlzLm9wdGlvbnMuZGlzdCAqIChpICogMiArIHR3ZWVuICogZGlyKTtcbiAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSAxIC0gbnVtVmlzaWJsZU9mZnNldCAqIChpICogMiArIHR3ZWVuICogZGlyKTtcbiAgICAgIH1cbiAgICAgIC8vIERvbid0IHNob3cgd3JhcHBlZCBpdGVtcy5cbiAgICAgIGlmICghdGhpcy5ub1dyYXAgfHwgdGhpcy5jZW50ZXIgKyBpIDwgdGhpcy5jb3VudCkge1xuICAgICAgICBlbCA9IHRoaXMuaW1hZ2VzW3RoaXMuX3dyYXAodGhpcy5jZW50ZXIgKyBpKV07XG4gICAgICAgIGxldCB0cmFuc2Zvcm1TdHJpbmcgPSBgJHthbGlnbm1lbnR9IHRyYW5zbGF0ZVgoJHt0aGlzLm9wdGlvbnMuc2hpZnQgK1xuICAgICAgICAgICh0aGlzLmRpbSAqIGkgLSBkZWx0YSkgLyAyfXB4KSB0cmFuc2xhdGVaKCR7elRyYW5zbGF0aW9ufXB4KWA7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUl0ZW1TdHlsZShlbCwgdHdlZW5lZE9wYWNpdHksIC1pLCB0cmFuc2Zvcm1TdHJpbmcpO1xuICAgICAgfVxuICAgICAgLy8gbGVmdCBzaWRlXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmZ1bGxXaWR0aCkge1xuICAgICAgICB6VHJhbnNsYXRpb24gPSB0aGlzLm9wdGlvbnMuZGlzdDtcbiAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSBpID09PSBoYWxmICYmIGRlbHRhID4gMCA/IDEgLSB0d2VlbiA6IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB6VHJhbnNsYXRpb24gPSB0aGlzLm9wdGlvbnMuZGlzdCAqIChpICogMiAtIHR3ZWVuICogZGlyKTtcbiAgICAgICAgdHdlZW5lZE9wYWNpdHkgPSAxIC0gbnVtVmlzaWJsZU9mZnNldCAqIChpICogMiAtIHR3ZWVuICogZGlyKTtcbiAgICAgIH1cbiAgICAgIC8vIERvbid0IHNob3cgd3JhcHBlZCBpdGVtcy5cbiAgICAgIGlmICghdGhpcy5ub1dyYXAgfHwgdGhpcy5jZW50ZXIgLSBpID49IDApIHtcbiAgICAgICAgZWwgPSB0aGlzLmltYWdlc1t0aGlzLl93cmFwKHRoaXMuY2VudGVyIC0gaSldO1xuICAgICAgICBsZXQgdHJhbnNmb3JtU3RyaW5nID0gYCR7YWxpZ25tZW50fSB0cmFuc2xhdGVYKCR7LXRoaXMub3B0aW9ucy5zaGlmdCArXG4gICAgICAgICAgKC10aGlzLmRpbSAqIGkgLSBkZWx0YSkgLyAyfXB4KSB0cmFuc2xhdGVaKCR7elRyYW5zbGF0aW9ufXB4KWA7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUl0ZW1TdHlsZShlbCwgdHdlZW5lZE9wYWNpdHksIC1pLCB0cmFuc2Zvcm1TdHJpbmcpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBjZW50ZXJcbiAgICAvLyBEb24ndCBzaG93IHdyYXBwZWQgaXRlbXMuXG4gICAgaWYgKCF0aGlzLm5vV3JhcCB8fCAodGhpcy5jZW50ZXIgPj0gMCAmJiB0aGlzLmNlbnRlciA8IHRoaXMuY291bnQpKSB7XG4gICAgICBlbCA9IHRoaXMuaW1hZ2VzW3RoaXMuX3dyYXAodGhpcy5jZW50ZXIpXTtcbiAgICAgIGxldCB0cmFuc2Zvcm1TdHJpbmcgPSBgJHthbGlnbm1lbnR9IHRyYW5zbGF0ZVgoJHstZGVsdGEgLyAyfXB4KSB0cmFuc2xhdGVYKCR7ZGlyICpcbiAgICAgICAgdGhpcy5vcHRpb25zLnNoaWZ0ICpcbiAgICAgICAgdHdlZW59cHgpIHRyYW5zbGF0ZVooJHt0aGlzLm9wdGlvbnMuZGlzdCAqIHR3ZWVufXB4KWA7XG4gICAgICB0aGlzLl91cGRhdGVJdGVtU3R5bGUoZWwsIGNlbnRlclR3ZWVuZWRPcGFjaXR5LCAwLCB0cmFuc2Zvcm1TdHJpbmcpO1xuICAgIH1cbiAgICAvLyBvbkN5Y2xlVG8gY2FsbGJhY2tcbiAgICBjb25zdCBfY3Vyckl0ZW0gPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbC1pdGVtJylbdGhpcy5fd3JhcCh0aGlzLmNlbnRlcildO1xuXG4gICAgaWYgKGxhc3RDZW50ZXIgIT09IHRoaXMuY2VudGVyICYmIHR5cGVvZiB0aGlzLm9wdGlvbnMub25DeWNsZVRvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25DeWNsZVRvLmNhbGwodGhpcywgX2N1cnJJdGVtLCB0aGlzLmRyYWdnZWQpO1xuICAgIH1cbiAgICAvLyBPbmUgdGltZSBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vbmVUaW1lQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub25lVGltZUNhbGxiYWNrLmNhbGwodGhpcywgX2N1cnJJdGVtLCB0aGlzLmRyYWdnZWQpO1xuICAgICAgdGhpcy5vbmVUaW1lQ2FsbGJhY2sgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIF91cGRhdGVJdGVtU3R5bGUoZWw6IEhUTUxFbGVtZW50LCBvcGFjaXR5OiBudW1iZXIsIHpJbmRleDogbnVtYmVyLCB0cmFuc2Zvcm06IHN0cmluZykge1xuICAgIGVsLnN0eWxlW3RoaXMueGZvcm1dID0gdHJhbnNmb3JtO1xuICAgIGVsLnN0eWxlLnpJbmRleCA9IHpJbmRleC50b1N0cmluZygpO1xuICAgIGVsLnN0eWxlLm9wYWNpdHkgPSBvcGFjaXR5LnRvU3RyaW5nKCk7XG4gICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgfVxuXG4gIF9jeWNsZVRvKG46IG51bWJlciwgY2FsbGJhY2s6IENhcm91c2VsT3B0aW9uc1tcIm9uQ3ljbGVUb1wiXSA9IG51bGwpIHtcbiAgICBsZXQgZGlmZiA9ICh0aGlzLmNlbnRlciAlIHRoaXMuY291bnQpIC0gbjtcbiAgICAvLyBBY2NvdW50IGZvciB3cmFwYXJvdW5kLlxuICAgIGlmICghdGhpcy5ub1dyYXApIHtcbiAgICAgIGlmIChkaWZmIDwgMCkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZGlmZiArIHRoaXMuY291bnQpIDwgTWF0aC5hYnMoZGlmZikpIHtcbiAgICAgICAgICBkaWZmICs9IHRoaXMuY291bnQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZGlmZiA+IDApIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGRpZmYgLSB0aGlzLmNvdW50KSA8IGRpZmYpIHtcbiAgICAgICAgICBkaWZmIC09IHRoaXMuY291bnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50YXJnZXQgPSB0aGlzLmRpbSAqIE1hdGgucm91bmQodGhpcy5vZmZzZXQgLyB0aGlzLmRpbSk7XG4gICAgLy8gTmV4dFxuICAgIGlmIChkaWZmIDwgMCkge1xuICAgICAgdGhpcy50YXJnZXQgKz0gdGhpcy5kaW0gKiBNYXRoLmFicyhkaWZmKTtcbiAgICB9IC8vIFByZXZcbiAgICBlbHNlIGlmIChkaWZmID4gMCkge1xuICAgICAgdGhpcy50YXJnZXQgLT0gdGhpcy5kaW0gKiBkaWZmO1xuICAgIH1cbiAgICAvLyBTZXQgb25lIHRpbWUgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9uZVRpbWVDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICAvLyBTY3JvbGxcbiAgICBpZiAodGhpcy5vZmZzZXQgIT09IHRoaXMudGFyZ2V0KSB7XG4gICAgICB0aGlzLmFtcGxpdHVkZSA9IHRoaXMudGFyZ2V0IC0gdGhpcy5vZmZzZXQ7XG4gICAgICB0aGlzLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fYXV0b1Njcm9sbCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgY2Fyb3VzZWwgdG8gbmV4dCBzbGlkZSBvciBnbyBmb3J3YXJkIGEgZ2l2ZW4gYW1vdW50IG9mIHNsaWRlcy5cbiAgICogQHBhcmFtIG4gSG93IG1hbnkgdGltZXMgdGhlIGNhcm91c2VsIHNsaWRlcy5cbiAgICovXG4gIG5leHQobjogbnVtYmVyID0gMSkge1xuICAgIGlmIChuID09PSB1bmRlZmluZWQgfHwgaXNOYU4obikpIHtcbiAgICAgIG4gPSAxO1xuICAgIH1cbiAgICBsZXQgaW5kZXggPSB0aGlzLmNlbnRlciArIG47XG4gICAgaWYgKGluZGV4ID49IHRoaXMuY291bnQgfHwgaW5kZXggPCAwKSB7XG4gICAgICBpZiAodGhpcy5ub1dyYXApIHJldHVybjtcbiAgICAgIGluZGV4ID0gdGhpcy5fd3JhcChpbmRleCk7XG4gICAgfVxuICAgIHRoaXMuX2N5Y2xlVG8oaW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgY2Fyb3VzZWwgdG8gcHJldmlvdXMgc2xpZGUgb3IgZ28gYmFjayBhIGdpdmVuIGFtb3VudCBvZiBzbGlkZXMuXG4gICAqIEBwYXJhbSBuIEhvdyBtYW55IHRpbWVzIHRoZSBjYXJvdXNlbCBzbGlkZXMuXG4gICAqL1xuICBwcmV2KG46IG51bWJlciA9IDEpIHtcbiAgICBpZiAobiA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKG4pKSB7XG4gICAgICBuID0gMTtcbiAgICB9XG4gICAgbGV0IGluZGV4ID0gdGhpcy5jZW50ZXIgLSBuO1xuICAgIGlmIChpbmRleCA+PSB0aGlzLmNvdW50IHx8IGluZGV4IDwgMCkge1xuICAgICAgaWYgKHRoaXMubm9XcmFwKSByZXR1cm47XG4gICAgICBpbmRleCA9IHRoaXMuX3dyYXAoaW5kZXgpO1xuICAgIH1cbiAgICB0aGlzLl9jeWNsZVRvKGluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIGNhcm91c2VsIHRvIG50aCBzbGlkZS5cbiAgICogQHBhcmFtIG4gSW5kZXggb2Ygc2xpZGUuXG4gICAqIEBwYXJhbSBjYWxsYmFjayBcIm9uQ3ljbGVUb1wiIG9wdGlvbmFsIGNhbGxiYWNrLlxuICAgKi9cbiAgc2V0KG46IG51bWJlciwgY2FsbGJhY2s/OiBDYXJvdXNlbE9wdGlvbnNbXCJvbkN5Y2xlVG9cIl0pIHtcbiAgICBpZiAobiA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKG4pKSB7XG4gICAgICBuID0gMDtcbiAgICB9XG4gICAgaWYgKG4gPiB0aGlzLmNvdW50IHx8IG4gPCAwKSB7XG4gICAgICBpZiAodGhpcy5ub1dyYXApIHJldHVybjtcbiAgICAgIG4gPSB0aGlzLl93cmFwKG4pO1xuICAgIH1cbiAgICB0aGlzLl9jeWNsZVRvKG4sIGNhbGxiYWNrKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/carousel.ts\n");

/***/ }),

/***/ "./src/characterCounter.ts":
/*!*********************************!*\
  !*** ./src/characterCounter.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CharacterCounter = void 0;\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nconst _defaults = Object.freeze({});\nclass CharacterCounter extends component_1.Component {\n    constructor(el, options) {\n        super(el, {}, CharacterCounter);\n        this.updateCounter = () => {\n            let maxLength = parseInt(this.el.getAttribute('maxlength')), actualLength = this.el.value.length;\n            this.isValidLength = actualLength <= maxLength;\n            let counterString = actualLength.toString();\n            if (maxLength) {\n                counterString += '/' + maxLength;\n                this._validateInput();\n            }\n            this.counterEl.innerHTML = counterString;\n        };\n        this.el.M_CharacterCounter = this;\n        this.options = Object.assign(Object.assign({}, CharacterCounter.defaults), options);\n        this.isInvalid = false;\n        this.isValidLength = false;\n        this._setupCounter();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of CharacterCounter.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, CharacterCounter);\n    }\n    static getInstance(el) {\n        return el.M_CharacterCounter;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.CharacterCounter = undefined;\n        this._removeCounter();\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('focus', this.updateCounter, true);\n        this.el.addEventListener('input', this.updateCounter, true);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('focus', this.updateCounter, true);\n        this.el.removeEventListener('input', this.updateCounter, true);\n    }\n    _setupCounter() {\n        this.counterEl = document.createElement('span');\n        this.counterEl.classList.add('character-counter');\n        this.counterEl.style.float = 'right';\n        this.counterEl.style.fontSize = '12px';\n        this.counterEl.style.height = '1';\n        this.el.parentElement.appendChild(this.counterEl);\n    }\n    _removeCounter() {\n        this.counterEl.remove();\n    }\n    _validateInput() {\n        if (this.isValidLength && this.isInvalid) {\n            this.isInvalid = false;\n            this.el.classList.remove('invalid');\n        }\n        else if (!this.isValidLength && !this.isInvalid) {\n            this.isInvalid = true;\n            this.el.classList.remove('valid');\n            this.el.classList.add('invalid');\n        }\n    }\n}\nexports.CharacterCounter = CharacterCounter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUM7UUFDdkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztRQUNsQyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRCxjQUFjO1FBQ1osSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUMxQixDQUFDO0lBZUQsY0FBYztRQUNaLElBQUksSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ3hDLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUNyQzthQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUMvQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztZQUN0QixJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDbEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ2xDO0lBQ0gsQ0FBQztDQUNGO0FBNUdELDRDQTRHQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9jaGFyYWN0ZXJDb3VudGVyLnRzPzNiMmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBCYXNlT3B0aW9ucywgSW5pdEVsZW1lbnRzLCBNRWxlbWVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENoYXJhY3RlckNvdW50ZXJPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge307XG5cbmNvbnN0IF9kZWZhdWx0cyA9IE9iamVjdC5mcmVlemUoe30pO1xuXG50eXBlIElucHV0RWxlbWVudCA9IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50O1xuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyQ291bnRlciBleHRlbmRzIENvbXBvbmVudDx7fT4ge1xuICBcbiAgZGVjbGFyZSBlbDogSW5wdXRFbGVtZW50O1xuICAvKiogU3RvcmVzIHRoZSByZWZlcmVuY2UgdG8gdGhlIGNvdW50ZXIgSFRNTCBlbGVtZW50LiAqL1xuICBjb3VudGVyRWw6IEhUTUxTcGFuRWxlbWVudDtcbiAgLyoqIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBpbnB1dCBpcyB2YWxpZCBvciBub3QuICovXG4gIGlzSW52YWxpZDogYm9vbGVhbjtcbiAgLyoqIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBpbnB1dCB0ZXh0IGhhcyB2YWxpZCBsZW5ndGggb3Igbm90LiAqL1xuICBpc1ZhbGlkTGVuZ3RoOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKGVsOiBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFRleHRBcmVhRWxlbWVudCwgb3B0aW9uczogUGFydGlhbDxDaGFyYWN0ZXJDb3VudGVyT3B0aW9ucz4pIHtcbiAgICBzdXBlcihlbCwge30sIENoYXJhY3RlckNvdW50ZXIpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9DaGFyYWN0ZXJDb3VudGVyID0gdGhpcztcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLkNoYXJhY3RlckNvdW50ZXIuZGVmYXVsdHMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcblxuICAgIHRoaXMuaXNJbnZhbGlkID0gZmFsc2U7XG4gICAgdGhpcy5pc1ZhbGlkTGVuZ3RoID0gZmFsc2U7XG4gICAgXG4gICAgdGhpcy5fc2V0dXBDb3VudGVyKCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCk6IENoYXJhY3RlckNvdW50ZXJPcHRpb25zIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlIG9mIENoYXJhY3RlckNvdW50ZXIuXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWw6IElucHV0RWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8Q2hhcmFjdGVyQ291bnRlck9wdGlvbnM+KTogQ2hhcmFjdGVyQ291bnRlcjtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBDaGFyYWN0ZXJDb3VudGVyLlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8SW5wdXRFbGVtZW50IHwgTUVsZW1lbnQ+LCBvcHRpb25zPzogUGFydGlhbDxDaGFyYWN0ZXJDb3VudGVyT3B0aW9ucz4pOiBDaGFyYWN0ZXJDb3VudGVyW107XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgQ2hhcmFjdGVyQ291bnRlci5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsczogSW5wdXRFbGVtZW50IHwgSW5pdEVsZW1lbnRzPElucHV0RWxlbWVudCB8IE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxDaGFyYWN0ZXJDb3VudGVyT3B0aW9ucz4gPSB7fSk6IENoYXJhY3RlckNvdW50ZXIgfCBDaGFyYWN0ZXJDb3VudGVyW10ge1xuICAgIHJldHVybiBzdXBlci5pbml0KGVscywgb3B0aW9ucywgQ2hhcmFjdGVyQ291bnRlcik7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IElucHV0RWxlbWVudCk6IENoYXJhY3RlckNvdW50ZXIge1xuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX0NoYXJhY3RlckNvdW50ZXI7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLkNoYXJhY3RlckNvdW50ZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fcmVtb3ZlQ291bnRlcigpO1xuICB9XG5cbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy51cGRhdGVDb3VudGVyLCB0cnVlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy51cGRhdGVDb3VudGVyLCB0cnVlKTtcbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLnVwZGF0ZUNvdW50ZXIsIHRydWUpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLnVwZGF0ZUNvdW50ZXIsIHRydWUpO1xuICB9XG5cbiAgX3NldHVwQ291bnRlcigpIHtcbiAgICB0aGlzLmNvdW50ZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICB0aGlzLmNvdW50ZXJFbC5jbGFzc0xpc3QuYWRkKCdjaGFyYWN0ZXItY291bnRlcicpO1xuICAgIHRoaXMuY291bnRlckVsLnN0eWxlLmZsb2F0ID0gJ3JpZ2h0JztcbiAgICB0aGlzLmNvdW50ZXJFbC5zdHlsZS5mb250U2l6ZSA9ICcxMnB4JztcbiAgICB0aGlzLmNvdW50ZXJFbC5zdHlsZS5oZWlnaHQgPSAnMSc7XG4gICAgdGhpcy5lbC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY291bnRlckVsKTtcbiAgfVxuXG4gIF9yZW1vdmVDb3VudGVyKCkge1xuICAgIHRoaXMuY291bnRlckVsLnJlbW92ZSgpO1xuICB9XG5cbiAgdXBkYXRlQ291bnRlciA9ICgpID0+IHtcbiAgICBsZXQgbWF4TGVuZ3RoID0gcGFyc2VJbnQodGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ21heGxlbmd0aCcpKSxcbiAgICAgIGFjdHVhbExlbmd0aCA9ICh0aGlzLmVsIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLmxlbmd0aDtcblxuICAgIHRoaXMuaXNWYWxpZExlbmd0aCA9IGFjdHVhbExlbmd0aCA8PSBtYXhMZW5ndGg7XG4gICAgbGV0IGNvdW50ZXJTdHJpbmcgPSBhY3R1YWxMZW5ndGgudG9TdHJpbmcoKTtcbiAgICBpZiAobWF4TGVuZ3RoKSB7XG4gICAgICBjb3VudGVyU3RyaW5nICs9ICcvJyArIG1heExlbmd0aDtcbiAgICAgIHRoaXMuX3ZhbGlkYXRlSW5wdXQoKTtcbiAgICB9XG4gICAgdGhpcy5jb3VudGVyRWwuaW5uZXJIVE1MID0gY291bnRlclN0cmluZztcbiAgfVxuXG4gIF92YWxpZGF0ZUlucHV0KCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWRMZW5ndGggJiYgdGhpcy5pc0ludmFsaWQpIHtcbiAgICAgIHRoaXMuaXNJbnZhbGlkID0gZmFsc2U7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2ludmFsaWQnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIXRoaXMuaXNWYWxpZExlbmd0aCAmJiAhdGhpcy5pc0ludmFsaWQpIHtcbiAgICAgIHRoaXMuaXNJbnZhbGlkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmFsaWQnKTtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnaW52YWxpZCcpO1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/characterCounter.ts\n");

/***/ }),

/***/ "./src/chips.ts":
/*!**********************!*\
  !*** ./src/chips.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Chips = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst autocomplete_1 = __webpack_require__(/*! ./autocomplete */ \"./src/autocomplete.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {\n    data: [],\n    placeholder: '',\n    secondaryPlaceholder: '',\n    closeIconClass: 'material-icons',\n    autocompleteOptions: {},\n    autocompleteOnly: false,\n    limit: Infinity,\n    onChipAdd: null,\n    onChipSelect: null,\n    onChipDelete: null\n};\nfunction gGetIndex(el) {\n    return [...el.parentNode.children].indexOf(el);\n}\nclass Chips extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Chips);\n        this._handleChipClick = (e) => {\n            const _chip = e.target.closest('.chip');\n            const clickedClose = e.target.classList.contains('close');\n            if (_chip) {\n                const index = [..._chip.parentNode.children].indexOf(_chip);\n                if (clickedClose) {\n                    this.deleteChip(index);\n                    this._input.focus();\n                }\n                else {\n                    this.selectChip(index);\n                }\n                // Default handle click to focus on input\n            }\n            else {\n                this._input.focus();\n            }\n        };\n        this._handleInputFocus = () => {\n            this.el.classList.add('focus');\n        };\n        this._handleInputBlur = () => {\n            this.el.classList.remove('focus');\n        };\n        this._handleInputKeydown = (e) => {\n            Chips._keydown = true;\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\n                // Override enter if autocompleting.\n                if (this.hasAutocomplete && this.autocomplete && this.autocomplete.isOpen) {\n                    return;\n                }\n                e.preventDefault();\n                if (!this.hasAutocomplete || (this.hasAutocomplete && !this.options.autocompleteOnly)) {\n                    this.addChip({ id: this._input.value });\n                }\n                this._input.value = '';\n            }\n            else if ((utils_1.Utils.keys.BACKSPACE.includes(e.key) || utils_1.Utils.keys.ARROW_LEFT.includes(e.key)) &&\n                this._input.value === '' &&\n                this.chipsData.length) {\n                e.preventDefault();\n                this.selectChip(this.chipsData.length - 1);\n            }\n        };\n        this.el.M_Chips = this;\n        this.options = Object.assign(Object.assign({}, Chips.defaults), options);\n        this.el.classList.add('chips', 'input-field');\n        this.chipsData = [];\n        this._chips = [];\n        this._setupInput();\n        this.hasAutocomplete = Object.keys(this.options.autocompleteOptions).length > 0;\n        // Set input id\n        if (!this._input.getAttribute('id'))\n            this._input.setAttribute('id', utils_1.Utils.guid());\n        // Render initial chips\n        if (this.options.data.length) {\n            this.chipsData = this.options.data;\n            this._renderChips();\n        }\n        // Setup autocomplete if needed\n        if (this.hasAutocomplete)\n            this._setupAutocomplete();\n        this._setPlaceholder();\n        this._setupLabel();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Chips.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Chips);\n    }\n    static getInstance(el) {\n        return el.M_Chips;\n    }\n    getData() {\n        return this.chipsData;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._chips.forEach(c => c.remove());\n        this._chips = [];\n        this.el.M_Chips = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleChipClick);\n        document.addEventListener('keydown', Chips._handleChipsKeydown);\n        document.addEventListener('keyup', Chips._handleChipsKeyup);\n        this.el.addEventListener('blur', Chips._handleChipsBlur, true);\n        this._input.addEventListener('focus', this._handleInputFocus);\n        this._input.addEventListener('blur', this._handleInputBlur);\n        this._input.addEventListener('keydown', this._handleInputKeydown);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleChipClick);\n        document.removeEventListener('keydown', Chips._handleChipsKeydown);\n        document.removeEventListener('keyup', Chips._handleChipsKeyup);\n        this.el.removeEventListener('blur', Chips._handleChipsBlur, true);\n        this._input.removeEventListener('focus', this._handleInputFocus);\n        this._input.removeEventListener('blur', this._handleInputBlur);\n        this._input.removeEventListener('keydown', this._handleInputKeydown);\n    }\n    static _handleChipsKeydown(e) {\n        Chips._keydown = true;\n        const chips = e.target.closest('.chips');\n        const chipsKeydown = e.target && chips;\n        // Don't handle keydown inputs on input and textarea\n        const tag = e.target.tagName;\n        if (tag === 'INPUT' || tag === 'TEXTAREA' || !chipsKeydown)\n            return;\n        const currChips = chips.M_Chips;\n        if (utils_1.Utils.keys.BACKSPACE.includes(e.key) || utils_1.Utils.keys.DELETE.includes(e.key)) {\n            e.preventDefault();\n            let selectIndex = currChips.chipsData.length;\n            if (currChips._selectedChip) {\n                const index = gGetIndex(currChips._selectedChip);\n                currChips.deleteChip(index);\n                currChips._selectedChip = null;\n                // Make sure selectIndex doesn't go negative\n                selectIndex = Math.max(index - 1, 0);\n            }\n            if (currChips.chipsData.length)\n                currChips.selectChip(selectIndex);\n            else\n                currChips._input.focus();\n        }\n        else if (utils_1.Utils.keys.ARROW_LEFT.includes(e.key)) {\n            if (currChips._selectedChip) {\n                const selectIndex = gGetIndex(currChips._selectedChip) - 1;\n                if (selectIndex < 0)\n                    return;\n                currChips.selectChip(selectIndex);\n            }\n        }\n        else if (utils_1.Utils.keys.ARROW_RIGHT.includes(e.key)) {\n            if (currChips._selectedChip) {\n                const selectIndex = gGetIndex(currChips._selectedChip) + 1;\n                if (selectIndex >= currChips.chipsData.length)\n                    currChips._input.focus();\n                else\n                    currChips.selectChip(selectIndex);\n            }\n        }\n    }\n    static _handleChipsKeyup(e) {\n        Chips._keydown = false;\n    }\n    static _handleChipsBlur(e) {\n        if (!Chips._keydown && document.hidden) {\n            const chips = e.target.closest('.chips');\n            const currChips = chips.M_Chips;\n            currChips._selectedChip = null;\n        }\n    }\n    _renderChip(chip) {\n        if (!chip.id)\n            return;\n        const renderedChip = document.createElement('div');\n        renderedChip.classList.add('chip');\n        renderedChip.innerText = chip.text || chip.id;\n        renderedChip.setAttribute('tabindex', \"0\");\n        const closeIcon = document.createElement('i');\n        closeIcon.classList.add(this.options.closeIconClass, 'close');\n        closeIcon.innerText = 'close';\n        // attach image if needed\n        if (chip.image) {\n            const img = document.createElement('img');\n            img.setAttribute('src', chip.image);\n            renderedChip.insertBefore(img, renderedChip.firstChild);\n        }\n        renderedChip.appendChild(closeIcon);\n        return renderedChip;\n    }\n    _renderChips() {\n        this._chips = []; //.remove();\n        for (let i = 0; i < this.chipsData.length; i++) {\n            const chipElem = this._renderChip(this.chipsData[i]);\n            this.el.appendChild(chipElem);\n            this._chips.push(chipElem);\n        }\n        // move input to end\n        this.el.append(this._input);\n    }\n    _setupAutocomplete() {\n        this.options.autocompleteOptions.onAutocomplete = (items) => {\n            if (items.length > 0)\n                this.addChip({\n                    id: items[0].id,\n                    text: items[0].text,\n                    image: items[0].image\n                });\n            this._input.value = '';\n            this._input.focus();\n        };\n        this.autocomplete = autocomplete_1.Autocomplete.init(this._input, this.options.autocompleteOptions);\n    }\n    _setupInput() {\n        this._input = this.el.querySelector('input');\n        if (!this._input) {\n            this._input = document.createElement('input');\n            this.el.append(this._input);\n        }\n        this._input.classList.add('input');\n    }\n    _setupLabel() {\n        this._label = this.el.querySelector('label');\n        if (this._label)\n            this._label.setAttribute('for', this._input.getAttribute('id'));\n    }\n    _setPlaceholder() {\n        if (this.chipsData !== undefined && !this.chipsData.length && this.options.placeholder) {\n            this._input.placeholder = this.options.placeholder;\n        }\n        else if ((this.chipsData === undefined || !!this.chipsData.length) &&\n            this.options.secondaryPlaceholder) {\n            this._input.placeholder = this.options.secondaryPlaceholder;\n        }\n    }\n    _isValidAndNotExist(chip) {\n        const isValid = !!chip.id;\n        const doesNotExist = !this.chipsData.some(item => item.id == chip.id);\n        return isValid && doesNotExist;\n    }\n    /**\n     * Add chip to input.\n     * @param chip Chip data object\n     */\n    addChip(chip) {\n        if (!this._isValidAndNotExist(chip) || this.chipsData.length >= this.options.limit)\n            return;\n        const renderedChip = this._renderChip(chip);\n        this._chips.push(renderedChip);\n        this.chipsData.push(chip);\n        //$(this._input).before(renderedChip);\n        this._input.before(renderedChip);\n        this._setPlaceholder();\n        // fire chipAdd callback\n        if (typeof this.options.onChipAdd === 'function') {\n            this.options.onChipAdd(this.el, renderedChip);\n        }\n    }\n    /**\n     * Delete nth chip.\n     * @param chipIndex  Index of chip\n     */\n    deleteChip(chipIndex) {\n        const chip = this._chips[chipIndex];\n        this._chips[chipIndex].remove();\n        this._chips.splice(chipIndex, 1);\n        this.chipsData.splice(chipIndex, 1);\n        this._setPlaceholder();\n        // fire chipDelete callback\n        if (typeof this.options.onChipDelete === 'function') {\n            this.options.onChipDelete(this.el, chip);\n        }\n    }\n    /**\n     * Select nth chip.\n     * @param chipIndex Index of chip\n     */\n    selectChip(chipIndex) {\n        const chip = this._chips[chipIndex];\n        this._selectedChip = chip;\n        chip.focus();\n        // fire chipSelect callback\n        if (typeof this.options.onChipSelect === 'function') {\n            this.options.onChipSelect(this.el, chip);\n        }\n    }\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            // Handle removal of static chips.\n            document.body.addEventListener('click', e => {\n                if (e.target.closest('.chip .close')) {\n                    const chips = e.target.closest('.chips');\n                    if (chips && chips.M_Chips == undefined)\n                        return;\n                    e.target.closest('.chip').remove();\n                }\n            });\n        });\n    }\n}\nexports.Chips = Chips;\n(() => {\n    Chips._keydown = false;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWtDO1lBQ2xDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFO2dCQUMxQyxJQUFrQixDQUFDLENBQUMsTUFBTyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsRUFBRTtvQkFDbkQsTUFBTSxLQUFLLEdBQWlCLENBQUMsQ0FBQyxNQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUN4RCxJQUFJLEtBQUssSUFBSyxLQUFhLENBQUMsT0FBTyxJQUFJLFNBQVM7d0JBQUUsT0FBTztvQkFDM0MsQ0FBQyxDQUFDLE1BQU8sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7aUJBQ25EO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FLRjtBQTdWRCxzQkE2VkM7QUFIQztJQUNFLEtBQUssQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO0FBQ3pCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvY2hpcHMudHM/ZTQ4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBBdXRvY29tcGxldGUsIEF1dG9jb21wbGV0ZU9wdGlvbnMgfSBmcm9tIFwiLi9hdXRvY29tcGxldGVcIjtcbmltcG9ydCB7IENvbXBvbmVudCwgQmFzZU9wdGlvbnMsIEluaXRFbGVtZW50cywgTUVsZW1lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBDaGlwRGF0YSB7XG4gIC8qKlxuICAgKiBVbmlxdWUgaWRlbnRpZmllci5cbiAgICovXG4gIGlkOiBudW1iZXJ8c3RyaW5nO1xuICAvKipcbiAgICogQ2hpcCB0ZXh0LiBJZiBub3Qgc3BlY2lmaWVkLCBcImlkXCIgd2lsbCBiZSB1c2VkLlxuICAgKi9cbiAgdGV4dD86IHN0cmluZztcbiAgLyoqXG4gICAqIENoaXAgaW1hZ2UgKFVSTCkuXG4gICAqL1xuICBpbWFnZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGlwc09wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9uc3tcbiAgLyoqXG4gICAqIFNldCB0aGUgY2hpcCBkYXRhLlxuICAgKiBAZGVmYXVsdCBbXVxuICAgKi9cbiAgZGF0YTogQ2hpcERhdGFbXTtcbiAgLyoqXG4gICAqIFNldCBmaXJzdCBwbGFjZWhvbGRlciB3aGVuIHRoZXJlIGFyZSBubyB0YWdzLlxuICAgKiBAZGVmYXVsdCBcIlwiXG4gICAqL1xuICBwbGFjZWhvbGRlcjogc3RyaW5nO1xuICAvKipcbiAgICogU2V0IHNlY29uZCBwbGFjZWhvbGRlciB3aGVuIGFkZGluZyBhZGRpdGlvbmFsIHRhZ3MuXG4gICAqIEBkZWZhdWx0IFwiXCJcbiAgICovXG4gIHNlY29uZGFyeVBsYWNlaG9sZGVyOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBTZXQgYXV0b2NvbXBsZXRlIG9wdGlvbnMuXG4gICAqIEBkZWZhdWx0IHt9XG4gICAqL1xuICBhdXRvY29tcGxldGVPcHRpb25zOiBQYXJ0aWFsPEF1dG9jb21wbGV0ZU9wdGlvbnM+O1xuICAvKipcbiAgICogVG9nZ2xlcyBhYmlsaWx0eSB0byBhZGQgY3VzdG9tIHZhbHVlIG5vdCBpbiBhdXRvY29tcGxldGUgbGlzdC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGF1dG9jb21wbGV0ZU9ubHk6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBTZXQgY2hpcHMgbGltaXQuXG4gICAqIEBkZWZhdWx0IEluZmluaXR5XG4gICAqL1xuICBsaW1pdDogbnVtYmVyO1xuICAvKipcbiAgICogU3BlY2lmaWVzIGNsYXNzIHRvIGJlIHVzZWQgaW4gXCJjbG9zZVwiIGJ1dHRvbiAodXNlZnVsIHdoZW4gd29ya2luZyB3aXRoIE1hdGVyaWFsIFN5bWJvbHMgaWNvbiBzZXQpLlxuICAgKiBAZGVmYXVsdCAnbWF0ZXJpYWwtaWNvbnMnXG4gICAqL1xuICBjbG9zZUljb25DbGFzczogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIGNoaXAgYWRkLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBvbkNoaXBBZGQ6IChlbGVtZW50OiBIVE1MRWxlbWVudCwgY2hpcDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBDYWxsYmFjayBmb3IgY2hpcCBzZWxlY3QuXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIG9uQ2hpcFNlbGVjdDogKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjaGlwOiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZvciBjaGlwIGRlbGV0ZS5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25DaGlwRGVsZXRlOiAoZWxlbWVudDogSFRNTEVsZW1lbnQsIGNoaXA6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xufVxuXG5sZXQgX2RlZmF1bHRzOiBDaGlwc09wdGlvbnMgPSB7XG4gIGRhdGE6IFtdLFxuICBwbGFjZWhvbGRlcjogJycsXG4gIHNlY29uZGFyeVBsYWNlaG9sZGVyOiAnJyxcbiAgY2xvc2VJY29uQ2xhc3M6ICdtYXRlcmlhbC1pY29ucycsXG4gIGF1dG9jb21wbGV0ZU9wdGlvbnM6IHt9LFxuICBhdXRvY29tcGxldGVPbmx5OiBmYWxzZSxcbiAgbGltaXQ6IEluZmluaXR5LFxuICBvbkNoaXBBZGQ6IG51bGwsXG4gIG9uQ2hpcFNlbGVjdDogbnVsbCxcbiAgb25DaGlwRGVsZXRlOiBudWxsXG59O1xuXG5mdW5jdGlvbiBnR2V0SW5kZXgoZWw6IEhUTUxFbGVtZW50KTogbnVtYmVyIHtcbiAgcmV0dXJuIFsuLi5lbC5wYXJlbnROb2RlLmNoaWxkcmVuXS5pbmRleE9mKGVsKTtcbn1cblxuZXhwb3J0IGNsYXNzIENoaXBzIGV4dGVuZHMgQ29tcG9uZW50PENoaXBzT3B0aW9ucz4ge1xuICAvKiogQXJyYXkgb2YgdGhlIGN1cnJlbnQgY2hpcHMgZGF0YS4gKi9cbiAgY2hpcHNEYXRhOiBDaGlwRGF0YVtdO1xuICAvKiogSWYgdGhlIGNoaXBzIGhhcyBhdXRvY29tcGxldGUgZW5hYmxlZC4gKi9cbiAgaGFzQXV0b2NvbXBsZXRlOiBib29sZWFuO1xuICAvKiogQXV0b2NvbXBsZXRlIGluc3RhbmNlLCBpZiBhbnkuICovXG4gIGF1dG9jb21wbGV0ZTogQXV0b2NvbXBsZXRlO1xuICBfaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIF9sYWJlbDogYW55O1xuICBfY2hpcHM6IEhUTUxFbGVtZW50W107XG4gIHN0YXRpYyBfa2V5ZG93bjogYm9vbGVhbjtcbiAgcHJpdmF0ZSBfc2VsZWN0ZWRDaGlwOiBhbnk7XG5cbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPENoaXBzT3B0aW9ucz4pIHtcbiAgICBzdXBlcihlbCwgb3B0aW9ucywgQ2hpcHMpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9DaGlwcyA9IHRoaXM7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi5DaGlwcy5kZWZhdWx0cyxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdjaGlwcycsICdpbnB1dC1maWVsZCcpO1xuICAgIHRoaXMuY2hpcHNEYXRhID0gW107XG4gICAgdGhpcy5fY2hpcHMgPSBbXTtcbiAgICB0aGlzLl9zZXR1cElucHV0KCk7XG4gICAgdGhpcy5oYXNBdXRvY29tcGxldGUgPSBPYmplY3Qua2V5cyh0aGlzLm9wdGlvbnMuYXV0b2NvbXBsZXRlT3B0aW9ucykubGVuZ3RoID4gMDtcblxuICAgIC8vIFNldCBpbnB1dCBpZFxuICAgIGlmICghdGhpcy5faW5wdXQuZ2V0QXR0cmlidXRlKCdpZCcpKVxuICAgICAgdGhpcy5faW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsIFV0aWxzLmd1aWQoKSk7XG5cbiAgICAvLyBSZW5kZXIgaW5pdGlhbCBjaGlwc1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZGF0YS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY2hpcHNEYXRhID0gdGhpcy5vcHRpb25zLmRhdGE7XG4gICAgICB0aGlzLl9yZW5kZXJDaGlwcygpO1xuICAgIH1cbiAgICAvLyBTZXR1cCBhdXRvY29tcGxldGUgaWYgbmVlZGVkXG4gICAgaWYgKHRoaXMuaGFzQXV0b2NvbXBsZXRlKSB0aGlzLl9zZXR1cEF1dG9jb21wbGV0ZSgpO1xuICAgIHRoaXMuX3NldFBsYWNlaG9sZGVyKCk7XG4gICAgdGhpcy5fc2V0dXBMYWJlbCgpO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlIG9mIENoaXBzLlxuICAgKiBAcGFyYW0gZWwgSFRNTCBlbGVtZW50LlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsOiBIVE1MRWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8Q2hpcHNPcHRpb25zPik6IENoaXBzO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIENoaXBzLlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zPzogUGFydGlhbDxDaGlwc09wdGlvbnM+KTogQ2hpcHNbXTtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBDaGlwcy5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsczogSFRNTEVsZW1lbnQgfCBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPENoaXBzT3B0aW9ucz4gPSB7fSk6IENoaXBzIHwgQ2hpcHNbXSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQoZWxzLCBvcHRpb25zLCBDaGlwcyk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxFbGVtZW50KTogQ2hpcHMge1xuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX0NoaXBzO1xuICB9XG5cbiAgZ2V0RGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5jaGlwc0RhdGE7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLl9jaGlwcy5mb3JFYWNoKGMgPT4gYy5yZW1vdmUoKSk7XG4gICAgdGhpcy5fY2hpcHMgPSBbXTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fQ2hpcHMgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDaGlwQ2xpY2spO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBDaGlwcy5faGFuZGxlQ2hpcHNLZXlkb3duKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIENoaXBzLl9oYW5kbGVDaGlwc0tleXVwKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBDaGlwcy5faGFuZGxlQ2hpcHNCbHVyLCB0cnVlKTtcbiAgICB0aGlzLl9pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUlucHV0Rm9jdXMpO1xuICAgIHRoaXMuX2lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVJbnB1dEJsdXIpO1xuICAgIHRoaXMuX2lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd24pO1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNoaXBDbGljayk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIENoaXBzLl9oYW5kbGVDaGlwc0tleWRvd24pO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgQ2hpcHMuX2hhbmRsZUNoaXBzS2V5dXApO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIENoaXBzLl9oYW5kbGVDaGlwc0JsdXIsIHRydWUpO1xuICAgIHRoaXMuX2lucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlSW5wdXRGb2N1cyk7XG4gICAgdGhpcy5faW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUlucHV0Qmx1cik7XG4gICAgdGhpcy5faW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bik7XG4gIH1cblxuICBfaGFuZGxlQ2hpcENsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICBjb25zdCBfY2hpcCA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy5jaGlwJyk7XG4gICAgY29uc3QgY2xpY2tlZENsb3NlID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZScpO1xuICAgIGlmIChfY2hpcCkge1xuICAgICAgY29uc3QgaW5kZXggPSBbLi4uX2NoaXAucGFyZW50Tm9kZS5jaGlsZHJlbl0uaW5kZXhPZihfY2hpcCk7XG4gICAgICBpZiAoY2xpY2tlZENsb3NlKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlQ2hpcChpbmRleCk7XG4gICAgICAgIHRoaXMuX2lucHV0LmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5zZWxlY3RDaGlwKGluZGV4KTtcbiAgICAgIH1cbiAgICAgIC8vIERlZmF1bHQgaGFuZGxlIGNsaWNrIHRvIGZvY3VzIG9uIGlucHV0XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5faW5wdXQuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2hhbmRsZUNoaXBzS2V5ZG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgQ2hpcHMuX2tleWRvd24gPSB0cnVlO1xuICAgIGNvbnN0IGNoaXBzID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xvc2VzdCgnLmNoaXBzJyk7XG4gICAgY29uc3QgY2hpcHNLZXlkb3duID0gZS50YXJnZXQgJiYgY2hpcHM7XG5cbiAgICAvLyBEb24ndCBoYW5kbGUga2V5ZG93biBpbnB1dHMgb24gaW5wdXQgYW5kIHRleHRhcmVhXG4gICAgY29uc3QgdGFnID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCkudGFnTmFtZTtcbiAgICBpZiAodGFnID09PSAnSU5QVVQnIHx8IHRhZyA9PT0gJ1RFWFRBUkVBJyB8fCAhY2hpcHNLZXlkb3duKSByZXR1cm47XG5cbiAgICBjb25zdCBjdXJyQ2hpcHM6IENoaXBzID0gKGNoaXBzIGFzIGFueSkuTV9DaGlwcztcblxuICAgIGlmIChVdGlscy5rZXlzLkJBQ0tTUEFDRS5pbmNsdWRlcyhlLmtleSkgfHwgVXRpbHMua2V5cy5ERUxFVEUuaW5jbHVkZXMoZS5rZXkpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBsZXQgc2VsZWN0SW5kZXggPSBjdXJyQ2hpcHMuY2hpcHNEYXRhLmxlbmd0aDtcbiAgICAgIGlmIChjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IGdHZXRJbmRleChjdXJyQ2hpcHMuX3NlbGVjdGVkQ2hpcCk7XG4gICAgICAgIGN1cnJDaGlwcy5kZWxldGVDaGlwKGluZGV4KTtcbiAgICAgICAgY3VyckNoaXBzLl9zZWxlY3RlZENoaXAgPSBudWxsO1xuICAgICAgICAvLyBNYWtlIHN1cmUgc2VsZWN0SW5kZXggZG9lc24ndCBnbyBuZWdhdGl2ZVxuICAgICAgICBzZWxlY3RJbmRleCA9IE1hdGgubWF4KGluZGV4IC0gMSwgMCk7XG4gICAgICB9XG4gICAgICBpZiAoY3VyckNoaXBzLmNoaXBzRGF0YS5sZW5ndGgpXG4gICAgICAgIGN1cnJDaGlwcy5zZWxlY3RDaGlwKHNlbGVjdEluZGV4KTtcbiAgICAgIGVsc2VcbiAgICAgICAgY3VyckNoaXBzLl9pbnB1dC5mb2N1cygpO1xuICAgIH1cbiAgICBlbHNlIGlmIChVdGlscy5rZXlzLkFSUk9XX0xFRlQuaW5jbHVkZXMoZS5rZXkpKSB7XG4gICAgICBpZiAoY3VyckNoaXBzLl9zZWxlY3RlZENoaXApIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0SW5kZXggPSBnR2V0SW5kZXgoY3VyckNoaXBzLl9zZWxlY3RlZENoaXApIC0gMTtcbiAgICAgICAgaWYgKHNlbGVjdEluZGV4IDwgMCkgcmV0dXJuO1xuICAgICAgICBjdXJyQ2hpcHMuc2VsZWN0Q2hpcChzZWxlY3RJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKFV0aWxzLmtleXMuQVJST1dfUklHSFQuaW5jbHVkZXMoZS5rZXkpKSB7XG4gICAgICBpZiAoY3VyckNoaXBzLl9zZWxlY3RlZENoaXApIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0SW5kZXggPSBnR2V0SW5kZXgoY3VyckNoaXBzLl9zZWxlY3RlZENoaXApICsgMTtcbiAgICAgICAgaWYgKHNlbGVjdEluZGV4ID49IGN1cnJDaGlwcy5jaGlwc0RhdGEubGVuZ3RoKVxuICAgICAgICAgIGN1cnJDaGlwcy5faW5wdXQuZm9jdXMoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGN1cnJDaGlwcy5zZWxlY3RDaGlwKHNlbGVjdEluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2hhbmRsZUNoaXBzS2V5dXAoZTogRXZlbnQpIHtcbiAgICBDaGlwcy5fa2V5ZG93biA9IGZhbHNlO1xuICB9XG5cbiAgc3RhdGljIF9oYW5kbGVDaGlwc0JsdXIoZTogRXZlbnQpIHtcbiAgICBpZiAoIUNoaXBzLl9rZXlkb3duICYmIGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgY29uc3QgY2hpcHMgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcuY2hpcHMnKTtcbiAgICAgIGNvbnN0IGN1cnJDaGlwczogQ2hpcHMgPSAoY2hpcHMgYXMgYW55KS5NX0NoaXBzO1xuICAgICAgY3VyckNoaXBzLl9zZWxlY3RlZENoaXAgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVJbnB1dEZvY3VzID0gKCkgPT4ge1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnZm9jdXMnKTtcbiAgfVxuXG4gIF9oYW5kbGVJbnB1dEJsdXIgPSAoKSA9PiB7XG4gICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1cycpO1xuICB9XG5cbiAgX2hhbmRsZUlucHV0S2V5ZG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgQ2hpcHMuX2tleWRvd24gPSB0cnVlO1xuICAgIGlmIChVdGlscy5rZXlzLkVOVEVSLmluY2x1ZGVzKGUua2V5KSkge1xuICAgICAgLy8gT3ZlcnJpZGUgZW50ZXIgaWYgYXV0b2NvbXBsZXRpbmcuXG4gICAgICBpZiAodGhpcy5oYXNBdXRvY29tcGxldGUgJiYgdGhpcy5hdXRvY29tcGxldGUgJiYgdGhpcy5hdXRvY29tcGxldGUuaXNPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghdGhpcy5oYXNBdXRvY29tcGxldGUgfHwgKHRoaXMuaGFzQXV0b2NvbXBsZXRlICYmICF0aGlzLm9wdGlvbnMuYXV0b2NvbXBsZXRlT25seSkpIHtcbiAgICAgICAgdGhpcy5hZGRDaGlwKHtpZDogdGhpcy5faW5wdXQudmFsdWV9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2lucHV0LnZhbHVlID0gJyc7XG4gICAgfVxuICAgIGVsc2UgaWYgKCAgICAgIFxuICAgICAgKFV0aWxzLmtleXMuQkFDS1NQQUNFLmluY2x1ZGVzKGUua2V5KSB8fCBVdGlscy5rZXlzLkFSUk9XX0xFRlQuaW5jbHVkZXMoZS5rZXkpKSAmJlxuICAgICAgdGhpcy5faW5wdXQudmFsdWUgPT09ICcnICYmXG4gICAgICB0aGlzLmNoaXBzRGF0YS5sZW5ndGhcbiAgICApIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuc2VsZWN0Q2hpcCh0aGlzLmNoaXBzRGF0YS5sZW5ndGggLSAxKTtcbiAgICB9XG4gIH1cblxuICBfcmVuZGVyQ2hpcChjaGlwOiBDaGlwRGF0YSk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICBpZiAoIWNoaXAuaWQpIHJldHVybjtcbiAgICBjb25zdCByZW5kZXJlZENoaXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByZW5kZXJlZENoaXAuY2xhc3NMaXN0LmFkZCgnY2hpcCcpO1xuICAgIHJlbmRlcmVkQ2hpcC5pbm5lclRleHQgPSBjaGlwLnRleHQgfHwgPHN0cmluZz5jaGlwLmlkO1xuICAgIHJlbmRlcmVkQ2hpcC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgXCIwXCIpO1xuICAgIGNvbnN0IGNsb3NlSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICBjbG9zZUljb24uY2xhc3NMaXN0LmFkZCh0aGlzLm9wdGlvbnMuY2xvc2VJY29uQ2xhc3MsICdjbG9zZScpO1xuICAgIGNsb3NlSWNvbi5pbm5lclRleHQgPSAnY2xvc2UnO1xuICAgIC8vIGF0dGFjaCBpbWFnZSBpZiBuZWVkZWRcbiAgICBpZiAoY2hpcC5pbWFnZSkge1xuICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBjaGlwLmltYWdlKTtcbiAgICAgIHJlbmRlcmVkQ2hpcC5pbnNlcnRCZWZvcmUoaW1nLCByZW5kZXJlZENoaXAuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHJlbmRlcmVkQ2hpcC5hcHBlbmRDaGlsZChjbG9zZUljb24pO1xuICAgIHJldHVybiByZW5kZXJlZENoaXA7XG4gIH1cblxuICBfcmVuZGVyQ2hpcHMoKSB7XG4gICAgdGhpcy5fY2hpcHMgPSBbXTsgLy8ucmVtb3ZlKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaXBzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hpcEVsZW0gPSB0aGlzLl9yZW5kZXJDaGlwKHRoaXMuY2hpcHNEYXRhW2ldKTtcbiAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQoY2hpcEVsZW0pO1xuICAgICAgdGhpcy5fY2hpcHMucHVzaChjaGlwRWxlbSk7XG4gICAgfVxuICAgIC8vIG1vdmUgaW5wdXQgdG8gZW5kXG4gICAgdGhpcy5lbC5hcHBlbmQodGhpcy5faW5wdXQpO1xuICB9XG5cbiAgX3NldHVwQXV0b2NvbXBsZXRlKCkge1xuICAgIHRoaXMub3B0aW9ucy5hdXRvY29tcGxldGVPcHRpb25zLm9uQXV0b2NvbXBsZXRlID0gKGl0ZW1zKSA9PiB7XG4gICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMCkgdGhpcy5hZGRDaGlwKHtcbiAgICAgICAgaWQ6IGl0ZW1zWzBdLmlkLFxuICAgICAgICB0ZXh0OiBpdGVtc1swXS50ZXh0LFxuICAgICAgICBpbWFnZTogaXRlbXNbMF0uaW1hZ2VcbiAgICAgIH0pO1xuICAgICAgdGhpcy5faW5wdXQudmFsdWUgPSAnJztcbiAgICAgIHRoaXMuX2lucHV0LmZvY3VzKCk7XG4gICAgfTtcbiAgICB0aGlzLmF1dG9jb21wbGV0ZSA9IEF1dG9jb21wbGV0ZS5pbml0KHRoaXMuX2lucHV0LCB0aGlzLm9wdGlvbnMuYXV0b2NvbXBsZXRlT3B0aW9ucyk7XG4gIH1cblxuICBfc2V0dXBJbnB1dCgpIHtcbiAgICB0aGlzLl9pbnB1dCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICBpZiAoIXRoaXMuX2lucHV0KSB7XG4gICAgICB0aGlzLl9pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICB0aGlzLmVsLmFwcGVuZCh0aGlzLl9pbnB1dCk7XG4gICAgfVxuICAgIHRoaXMuX2lucHV0LmNsYXNzTGlzdC5hZGQoJ2lucHV0Jyk7XG4gIH1cblxuICBfc2V0dXBMYWJlbCgpIHtcbiAgICB0aGlzLl9sYWJlbCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignbGFiZWwnKTtcbiAgICBpZiAodGhpcy5fbGFiZWwpIHRoaXMuX2xhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgdGhpcy5faW5wdXQuZ2V0QXR0cmlidXRlKCdpZCcpKTtcbiAgfVxuXG4gIF9zZXRQbGFjZWhvbGRlcigpIHtcbiAgICBpZiAodGhpcy5jaGlwc0RhdGEgIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5jaGlwc0RhdGEubGVuZ3RoICYmIHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcikge1xuICAgICAgdGhpcy5faW5wdXQucGxhY2Vob2xkZXIgPSB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXI7XG4gICAgfVxuICAgIGVsc2UgaWYgKFxuICAgICAgKHRoaXMuY2hpcHNEYXRhID09PSB1bmRlZmluZWQgfHwgISF0aGlzLmNoaXBzRGF0YS5sZW5ndGgpICYmXG4gICAgICB0aGlzLm9wdGlvbnMuc2Vjb25kYXJ5UGxhY2Vob2xkZXJcbiAgICApIHtcbiAgICAgIHRoaXMuX2lucHV0LnBsYWNlaG9sZGVyID0gdGhpcy5vcHRpb25zLnNlY29uZGFyeVBsYWNlaG9sZGVyO1xuICAgIH1cbiAgfVxuXG4gIF9pc1ZhbGlkQW5kTm90RXhpc3QoY2hpcDogQ2hpcERhdGEpIHtcbiAgICBjb25zdCBpc1ZhbGlkID0gISFjaGlwLmlkO1xuICAgIGNvbnN0IGRvZXNOb3RFeGlzdCA9ICF0aGlzLmNoaXBzRGF0YS5zb21lKGl0ZW0gPT4gaXRlbS5pZCA9PSBjaGlwLmlkKTtcbiAgICByZXR1cm4gaXNWYWxpZCAmJiBkb2VzTm90RXhpc3Q7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGNoaXAgdG8gaW5wdXQuXG4gICAqIEBwYXJhbSBjaGlwIENoaXAgZGF0YSBvYmplY3RcbiAgICovXG4gIGFkZENoaXAoY2hpcDogQ2hpcERhdGEpIHtcbiAgICBpZiAoIXRoaXMuX2lzVmFsaWRBbmROb3RFeGlzdChjaGlwKSB8fCB0aGlzLmNoaXBzRGF0YS5sZW5ndGggPj0gdGhpcy5vcHRpb25zLmxpbWl0KSByZXR1cm47XG4gICAgY29uc3QgcmVuZGVyZWRDaGlwID0gdGhpcy5fcmVuZGVyQ2hpcChjaGlwKTtcbiAgICB0aGlzLl9jaGlwcy5wdXNoKHJlbmRlcmVkQ2hpcCk7XG4gICAgdGhpcy5jaGlwc0RhdGEucHVzaChjaGlwKTtcbiAgICAvLyQodGhpcy5faW5wdXQpLmJlZm9yZShyZW5kZXJlZENoaXApO1xuICAgIHRoaXMuX2lucHV0LmJlZm9yZShyZW5kZXJlZENoaXApO1xuICAgIHRoaXMuX3NldFBsYWNlaG9sZGVyKCk7XG4gICAgLy8gZmlyZSBjaGlwQWRkIGNhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DaGlwQWRkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25DaGlwQWRkKHRoaXMuZWwsIHJlbmRlcmVkQ2hpcCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBudGggY2hpcC5cbiAgICogQHBhcmFtIGNoaXBJbmRleCAgSW5kZXggb2YgY2hpcFxuICAgKi9cbiAgZGVsZXRlQ2hpcChjaGlwSW5kZXg6IG51bWJlcikge1xuICAgIGNvbnN0IGNoaXAgPSB0aGlzLl9jaGlwc1tjaGlwSW5kZXhdO1xuICAgIHRoaXMuX2NoaXBzW2NoaXBJbmRleF0ucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2hpcHMuc3BsaWNlKGNoaXBJbmRleCwgMSk7XG4gICAgdGhpcy5jaGlwc0RhdGEuc3BsaWNlKGNoaXBJbmRleCwgMSk7XG4gICAgdGhpcy5fc2V0UGxhY2Vob2xkZXIoKTtcbiAgICAvLyBmaXJlIGNoaXBEZWxldGUgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNoaXBEZWxldGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vbkNoaXBEZWxldGUodGhpcy5lbCwgY2hpcCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdCBudGggY2hpcC5cbiAgICogQHBhcmFtIGNoaXBJbmRleCBJbmRleCBvZiBjaGlwXG4gICAqL1xuICBzZWxlY3RDaGlwKGNoaXBJbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgY2hpcCA9IHRoaXMuX2NoaXBzW2NoaXBJbmRleF07XG4gICAgdGhpcy5fc2VsZWN0ZWRDaGlwID0gY2hpcDtcbiAgICBjaGlwLmZvY3VzKCk7XG4gICAgLy8gZmlyZSBjaGlwU2VsZWN0IGNhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DaGlwU2VsZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25DaGlwU2VsZWN0KHRoaXMuZWwsIGNoaXApO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBJbml0KCl7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgICAgLy8gSGFuZGxlIHJlbW92YWwgb2Ygc3RhdGljIGNoaXBzLlxuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xvc2VzdCgnLmNoaXAgLmNsb3NlJykpIHtcbiAgICAgICAgICBjb25zdCBjaGlwcyA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy5jaGlwcycpO1xuICAgICAgICAgIGlmIChjaGlwcyAmJiAoY2hpcHMgYXMgYW55KS5NX0NoaXBzID09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy5jaGlwJykucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIHtcbiAgICBDaGlwcy5fa2V5ZG93biA9IGZhbHNlO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/chips.ts\n");

/***/ }),

/***/ "./src/collapsible.ts":
/*!****************************!*\
  !*** ./src/collapsible.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Collapsible = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst _defaults = {\n    accordion: true,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    inDuration: 300,\n    outDuration: 300\n};\nclass Collapsible extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Collapsible);\n        this._handleCollapsibleClick = (e) => {\n            const header = e.target.closest('.collapsible-header');\n            if (e.target && header) {\n                const collapsible = header.closest('.collapsible');\n                if (collapsible !== this.el)\n                    return;\n                const li = header.closest('li');\n                const isActive = li.classList.contains('active');\n                const index = [...li.parentNode.children].indexOf(li);\n                if (isActive)\n                    this.close(index);\n                else\n                    this.open(index);\n            }\n        };\n        this._handleCollapsibleKeydown = (e) => {\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\n                this._handleCollapsibleClick(e);\n            }\n        };\n        /**\n         * Open collapsible section.\n         * @param n Nth section to open.\n         */\n        this.open = (index) => {\n            const listItems = Array.from(this.el.children).filter(c => c.tagName === 'LI');\n            const li = listItems[index];\n            if (li && !li.classList.contains('active')) {\n                // onOpenStart callback\n                if (typeof this.options.onOpenStart === 'function') {\n                    this.options.onOpenStart.call(this, li);\n                }\n                // Handle accordion behavior\n                if (this.options.accordion) {\n                    const activeLis = listItems.filter(li => li.classList.contains('active'));\n                    activeLis.forEach(activeLi => {\n                        const index = listItems.indexOf(activeLi);\n                        this.close(index);\n                    });\n                }\n                // Animate in\n                li.classList.add('active');\n                this._animateIn(index);\n            }\n        };\n        /**\n         * Close collapsible section.\n         * @param n Nth section to close.\n         */\n        this.close = (index) => {\n            const li = Array.from(this.el.children).filter(c => c.tagName === 'LI')[index];\n            if (li && li.classList.contains('active')) {\n                // onCloseStart callback\n                if (typeof this.options.onCloseStart === 'function') {\n                    this.options.onCloseStart.call(this, li);\n                }\n                // Animate out\n                li.classList.remove('active');\n                this._animateOut(index);\n            }\n        };\n        this.el.M_Collapsible = this;\n        this.options = Object.assign(Object.assign({}, Collapsible.defaults), options);\n        // Setup tab indices\n        this._headers = Array.from(this.el.querySelectorAll('li > .collapsible-header'));\n        this._headers.forEach(el => el.tabIndex = 0);\n        this._setupEventHandlers();\n        // Open first active\n        const activeBodies = Array.from(this.el.querySelectorAll('li.active > .collapsible-body'));\n        if (this.options.accordion)\n            if (activeBodies.length > 0)\n                activeBodies[0].style.display = 'block'; // Accordion\n            else\n                activeBodies.forEach(el => el.style.display = 'block'); // Expandables\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Collapsible.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Collapsible);\n    }\n    static getInstance(el) {\n        return el.M_Collapsible;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_Collapsible = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleCollapsibleClick);\n        this._headers.forEach(header => header.addEventListener('keydown', this._handleCollapsibleKeydown));\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleCollapsibleClick);\n        this._headers.forEach(header => header.removeEventListener('keydown', this._handleCollapsibleKeydown));\n    }\n    _animateIn(index) {\n        const li = this.el.children[index];\n        if (!li)\n            return;\n        const body = li.querySelector('.collapsible-body');\n        animejs_1.default.remove(body);\n        body.style.display = 'block';\n        body.style.overflow = 'hidden';\n        body.style.height = '0';\n        body.style.paddingTop = '';\n        body.style.paddingBottom = '';\n        const pTop = getComputedStyle(body).paddingTop; //  . css('padding-top');\n        const pBottom = getComputedStyle(body).paddingBottom; //body.css('padding-bottom');\n        const finalHeight = body.scrollHeight;\n        body.style.paddingTop = '0';\n        body.style.paddingBottom = '0';\n        (0, animejs_1.default)({\n            targets: body,\n            height: finalHeight,\n            paddingTop: pTop,\n            paddingBottom: pBottom,\n            duration: this.options.inDuration,\n            easing: 'easeInOutCubic',\n            complete: (anim) => {\n                body.style.overflow = '';\n                body.style.height = '';\n                body.style.paddingTop = '';\n                body.style.paddingBottom = '';\n                // onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, li);\n                }\n            }\n        });\n    }\n    _animateOut(index) {\n        const li = this.el.children[index];\n        if (!li)\n            return;\n        const body = li.querySelector('.collapsible-body');\n        animejs_1.default.remove(body);\n        body.style.overflow = 'hidden';\n        (0, animejs_1.default)({\n            targets: body,\n            height: 0,\n            paddingTop: 0,\n            paddingBottom: 0,\n            duration: this.options.outDuration,\n            easing: 'easeInOutCubic',\n            complete: () => {\n                body.style.overflow = '';\n                body.style.height = '';\n                body.style.padding = '';\n                body.style.display = '';\n                // onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, li);\n                }\n            }\n        });\n    }\n}\nexports.Collapsible = Collapsible;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b2xsYXBzaWJsZS50cz8xZDU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5cbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7IENvbXBvbmVudCwgQmFzZU9wdGlvbnMsIEluaXRFbGVtZW50cywgTUVsZW1lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBDb2xsYXBzaWJsZU9wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBJZiBhY2NvcmRpb24gdmVyc3VzIGNvbGxhcHNpYmxlLlxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBhY2NvcmRpb246IGJvb2xlYW47XG4gIC8qKlxuICAgKiBUcmFuc2l0aW9uIGluIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAgICogQGRlZmF1bHQgMzAwXG4gICAqL1xuICBpbkR1cmF0aW9uOiBudW1iZXI7XG4gIC8qKlxuICAgKiBUcmFuc2l0aW9uIG91dCBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gICAqIEBkZWZhdWx0IDMwMFxuICAgKi9cbiAgb3V0RHVyYXRpb246IG51bWJlcjtcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBiZWZvcmUgY29sbGFwc2libGUgaXMgb3BlbmVkLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBvbk9wZW5TdGFydDogKGVsOiBFbGVtZW50KSA9PiB2b2lkO1xuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIGNvbGxhcHNpYmxlIGlzIG9wZW5lZC5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25PcGVuRW5kOiAoZWw6IEVsZW1lbnQpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYmVmb3JlIGNvbGxhcHNpYmxlIGlzIGNsb3NlZC5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25DbG9zZVN0YXJ0OiAoZWw6IEVsZW1lbnQpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgY29sbGFwc2libGUgaXMgY2xvc2VkLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBvbkNsb3NlRW5kOiAoZWw6IEVsZW1lbnQpID0+IHZvaWQ7XG59XG5cbmNvbnN0IF9kZWZhdWx0czogQ29sbGFwc2libGVPcHRpb25zID0ge1xuICBhY2NvcmRpb246IHRydWUsXG4gIG9uT3BlblN0YXJ0OiBudWxsLFxuICBvbk9wZW5FbmQ6IG51bGwsXG4gIG9uQ2xvc2VTdGFydDogbnVsbCwgIFxuICBvbkNsb3NlRW5kOiBudWxsLFxuICBpbkR1cmF0aW9uOiAzMDAsXG4gIG91dER1cmF0aW9uOiAzMDBcbn07XG5cbmV4cG9ydCBjbGFzcyBDb2xsYXBzaWJsZSBleHRlbmRzIENvbXBvbmVudDxDb2xsYXBzaWJsZU9wdGlvbnM+IHtcbiAgcHJpdmF0ZSBfaGVhZGVyczogSFRNTEVsZW1lbnRbXTtcblxuICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8Q29sbGFwc2libGVPcHRpb25zPikge1xuICAgIHN1cGVyKGVsLCBvcHRpb25zLCBDb2xsYXBzaWJsZSk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0NvbGxhcHNpYmxlID0gdGhpcztcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLkNvbGxhcHNpYmxlLmRlZmF1bHRzLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG5cbiAgICAvLyBTZXR1cCB0YWIgaW5kaWNlc1xuICAgIHRoaXMuX2hlYWRlcnMgPSBBcnJheS5mcm9tKHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCgnbGkgPiAuY29sbGFwc2libGUtaGVhZGVyJykpO1xuICAgIHRoaXMuX2hlYWRlcnMuZm9yRWFjaChlbCA9PiBlbC50YWJJbmRleCA9IDApO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgIC8vIE9wZW4gZmlyc3QgYWN0aXZlXG4gICAgY29uc3QgYWN0aXZlQm9kaWVzOiBIVE1MRWxlbWVudFtdID0gQXJyYXkuZnJvbSh0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpLmFjdGl2ZSA+IC5jb2xsYXBzaWJsZS1ib2R5JykpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuYWNjb3JkaW9uKVxuICAgICAgaWYgKGFjdGl2ZUJvZGllcy5sZW5ndGggPiAwKVxuICAgICAgICBhY3RpdmVCb2RpZXNbMF0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IC8vIEFjY29yZGlvblxuICAgIGVsc2VcbiAgICAgIGFjdGl2ZUJvZGllcy5mb3JFYWNoKGVsID0+IGVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snKTsgLy8gRXhwYW5kYWJsZXNcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKTogQ29sbGFwc2libGVPcHRpb25zIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlIG9mIENvbGxhcHNpYmxlLlxuICAgKiBAcGFyYW0gZWwgSFRNTCBlbGVtZW50LlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsOiBIVE1MRWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8Q29sbGFwc2libGVPcHRpb25zPik6IENvbGxhcHNpYmxlO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIENvbGxhcHNpYmxlLlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zPzogUGFydGlhbDxDb2xsYXBzaWJsZU9wdGlvbnM+KTogQ29sbGFwc2libGVbXTtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBDb2xsYXBzaWJsZS5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsczogSFRNTEVsZW1lbnQgfCBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPENvbGxhcHNpYmxlT3B0aW9ucz4gPSB7fSk6IENvbGxhcHNpYmxlIHwgQ29sbGFwc2libGVbXSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQoZWxzLCBvcHRpb25zLCBDb2xsYXBzaWJsZSk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxFbGVtZW50KTogQ29sbGFwc2libGUge1xuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX0NvbGxhcHNpYmxlO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX0NvbGxhcHNpYmxlID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ29sbGFwc2libGVDbGljayk7XG4gICAgdGhpcy5faGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiBoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlS2V5ZG93bikpO1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNvbGxhcHNpYmxlQ2xpY2spO1xuICAgIHRoaXMuX2hlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4gaGVhZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVDb2xsYXBzaWJsZUtleWRvd24pKTtcbiAgfVxuXG4gIF9oYW5kbGVDb2xsYXBzaWJsZUNsaWNrID0gKGU6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgY29uc3QgaGVhZGVyID0gKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KCcuY29sbGFwc2libGUtaGVhZGVyJyk7XG4gICAgaWYgKGUudGFyZ2V0ICYmIGhlYWRlcikge1xuICAgICAgY29uc3QgY29sbGFwc2libGUgPSBoZWFkZXIuY2xvc2VzdCgnLmNvbGxhcHNpYmxlJyk7XG4gICAgICBpZiAoY29sbGFwc2libGUgIT09IHRoaXMuZWwpIHJldHVybjtcblxuICAgICAgY29uc3QgbGkgPSBoZWFkZXIuY2xvc2VzdCgnbGknKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gbGkuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gWy4uLmxpLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YobGkpO1xuXG4gICAgICBpZiAoaXNBY3RpdmUpXG4gICAgICAgIHRoaXMuY2xvc2UoaW5kZXgpO1xuICAgICAgZWxzZVxuICAgICAgICB0aGlzLm9wZW4oaW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVDb2xsYXBzaWJsZUtleWRvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChVdGlscy5rZXlzLkVOVEVSLmluY2x1ZGVzKGUua2V5KSkge1xuICAgICAgdGhpcy5faGFuZGxlQ29sbGFwc2libGVDbGljayhlKTtcbiAgICB9XG4gIH1cblxuICBfYW5pbWF0ZUluKGluZGV4OiBudW1iZXIpIHtcbiAgICBjb25zdCBsaSA9IHRoaXMuZWwuY2hpbGRyZW5baW5kZXhdO1xuICAgIGlmICghbGkpIHJldHVybjtcbiAgICBjb25zdCBib2R5OiBIVE1MRWxlbWVudCA9IGxpLnF1ZXJ5U2VsZWN0b3IoJy5jb2xsYXBzaWJsZS1ib2R5Jyk7XG4gICAgYW5pbS5yZW1vdmUoYm9keSk7XG4gICAgYm9keS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgYm9keS5zdHlsZS5oZWlnaHQgPSAnMCc7XG4gICAgYm9keS5zdHlsZS5wYWRkaW5nVG9wID0gJyc7XG4gICAgYm9keS5zdHlsZS5wYWRkaW5nQm90dG9tID0gJyc7XG4gICAgY29uc3QgcFRvcCA9IGdldENvbXB1dGVkU3R5bGUoYm9keSkucGFkZGluZ1RvcDsgLy8gIC4gY3NzKCdwYWRkaW5nLXRvcCcpO1xuICAgIGNvbnN0IHBCb3R0b20gPSBnZXRDb21wdXRlZFN0eWxlKGJvZHkpLnBhZGRpbmdCb3R0b207IC8vYm9keS5jc3MoJ3BhZGRpbmctYm90dG9tJyk7XG4gICAgY29uc3QgZmluYWxIZWlnaHQgPSBib2R5LnNjcm9sbEhlaWdodDtcbiAgICBib2R5LnN0eWxlLnBhZGRpbmdUb3AgPSAnMCc7XG4gICAgYm9keS5zdHlsZS5wYWRkaW5nQm90dG9tID0gJzAnO1xuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogYm9keSxcbiAgICAgIGhlaWdodDogZmluYWxIZWlnaHQsXG4gICAgICBwYWRkaW5nVG9wOiBwVG9wLFxuICAgICAgcGFkZGluZ0JvdHRvbTogcEJvdHRvbSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VJbk91dEN1YmljJyxcbiAgICAgIGNvbXBsZXRlOiAoYW5pbSkgPT4ge1xuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgICAgIGJvZHkuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgIGJvZHkuc3R5bGUucGFkZGluZ1RvcCA9ICcnO1xuICAgICAgICBib2R5LnN0eWxlLnBhZGRpbmdCb3R0b20gPSAnJztcbiAgICAgICAgLy8gb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQuY2FsbCh0aGlzLCBsaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9hbmltYXRlT3V0KGluZGV4OiBudW1iZXIpIHtcbiAgICBjb25zdCBsaSA9IHRoaXMuZWwuY2hpbGRyZW5baW5kZXhdO1xuICAgIGlmICghbGkpIHJldHVybjtcbiAgICBjb25zdCBib2R5OiBIVE1MRWxlbWVudCA9IGxpLnF1ZXJ5U2VsZWN0b3IoJy5jb2xsYXBzaWJsZS1ib2R5Jyk7XG4gICAgYW5pbS5yZW1vdmUoYm9keSk7XG4gICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogYm9keSxcbiAgICAgIGhlaWdodDogMCxcbiAgICAgIHBhZGRpbmdUb3A6IDAsXG4gICAgICBwYWRkaW5nQm90dG9tOiAwLFxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VJbk91dEN1YmljJyxcbiAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgICAgYm9keS5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgYm9keS5zdHlsZS5wYWRkaW5nID0gJyc7XG4gICAgICAgIGJvZHkuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAvLyBvbkNsb3NlRW5kIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKHRoaXMsIGxpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW4gY29sbGFwc2libGUgc2VjdGlvbi5cbiAgICogQHBhcmFtIG4gTnRoIHNlY3Rpb24gdG8gb3Blbi5cbiAgICovXG4gIG9wZW4gPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IGxpc3RJdGVtcyA9IEFycmF5LmZyb20odGhpcy5lbC5jaGlsZHJlbikuZmlsdGVyKGMgPT4gYy50YWdOYW1lID09PSAnTEknKTtcbiAgICBjb25zdCBsaSA9IGxpc3RJdGVtc1tpbmRleF07XG4gICAgaWYgKGxpICYmICFsaS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAvLyBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LmNhbGwodGhpcywgbGkpO1xuICAgICAgfVxuICAgICAgLy8gSGFuZGxlIGFjY29yZGlvbiBiZWhhdmlvclxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hY2NvcmRpb24pIHtcbiAgICAgICAgY29uc3QgYWN0aXZlTGlzID0gbGlzdEl0ZW1zLmZpbHRlcihsaSA9PiBsaS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKTtcbiAgICAgICAgYWN0aXZlTGlzLmZvckVhY2goYWN0aXZlTGkgPT4ge1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdEl0ZW1zLmluZGV4T2YoYWN0aXZlTGkpO1xuICAgICAgICAgIHRoaXMuY2xvc2UoaW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIEFuaW1hdGUgaW5cbiAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5fYW5pbWF0ZUluKGluZGV4KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgY29sbGFwc2libGUgc2VjdGlvbi5cbiAgICogQHBhcmFtIG4gTnRoIHNlY3Rpb24gdG8gY2xvc2UuXG4gICAqL1xuICBjbG9zZSA9IChpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgbGkgPSBBcnJheS5mcm9tKHRoaXMuZWwuY2hpbGRyZW4pLmZpbHRlcihjID0+IGMudGFnTmFtZSA9PT0gJ0xJJylbaW5kZXhdO1xuICAgIGlmIChsaSAmJiBsaS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAvLyBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZVN0YXJ0LmNhbGwodGhpcywgbGkpO1xuICAgICAgfVxuICAgICAgLy8gQW5pbWF0ZSBvdXRcbiAgICAgIGxpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5fYW5pbWF0ZU91dChpbmRleCk7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/collapsible.ts\n");

/***/ }),

/***/ "./src/component.ts":
/*!**************************!*\
  !*** ./src/component.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Component = void 0;\n;\n;\n/**\n * Base class implementation for Materialize components.\n */\nclass Component {\n    /**\n     * Constructs component instance and set everything up.\n     */\n    constructor(el, options, classDef) {\n        // Display error if el is not a valid HTML Element\n        if (!(el instanceof HTMLElement)) {\n            console.error(Error(el + ' is not an HTML Element'));\n        }\n        // If exists, destroy and reinitialize in child\n        let ins = classDef.getInstance(el);\n        if (!!ins) {\n            ins.destroy();\n        }\n        this.el = el;\n    }\n    /**\n     * Initializes component instances.\n     * @param els HTML elements.\n     * @param options Component options.\n     * @param classDef Class definition.\n     */\n    static init(els, options, classDef) {\n        let instances = null;\n        if (els instanceof Element) {\n            instances = new classDef(els, options);\n        }\n        else if (!!els && els.length) {\n            instances = [];\n            for (let i = 0; i < els.length; i++) {\n                instances.push(new classDef(els[i], options));\n            }\n        }\n        return instances;\n    }\n    /**\n     * @returns default options for component instance.\n     */\n    static get defaults() { return {}; }\n    /**\n     * Retrieves component instance for the given element.\n     * @param el Associated HTML Element.\n     */\n    static getInstance(el) {\n        throw new Error(\"This method must be implemented.\");\n    }\n    /**\n     * Destroy plugin instance and teardown.\n     */\n    destroy() { throw new Error(\"This method must be implemented.\"); }\n}\nexports.Component = Component;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50LnRzLmpzIiwibWFwcGluZ3MiOiI7OztBQUcrQixDQUFDO0FBbUIvQixDQUFDO0FBRUY7O0dBRUc7QUFDSCxNQUFhLFNBQVM7SUFVcEI7O09BRUc7SUFDSCxZQUFZLEVBQWUsRUFBRSxPQUFtQixFQUFFLFFBQXdDO1FBQ3hGLGtEQUFrRDtRQUNsRCxJQUFJLENBQUMsQ0FBQyxFQUFFLFlBQVksV0FBVyxDQUFDLEVBQUU7WUFDaEMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFHLHlCQUF5QixDQUFDLENBQUMsQ0FBQztTQUN0RDtRQUNELCtDQUErQztRQUMvQyxJQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRTtZQUNULEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUNmO1FBQ0QsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDZixDQUFDO0lBNkJEOzs7OztPQUtHO0lBQ08sTUFBTSxDQUFDLElBQUksQ0FFbkIsR0FBd0IsRUFBRSxPQUFtQixFQUFFLFFBQTZCO1FBQzVFLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLEdBQUcsWUFBWSxPQUFPLEVBQUU7WUFDMUIsU0FBUyxHQUFHLElBQUksUUFBUSxDQUFjLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUNyRDthQUNJLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxFQUFFO1lBQzVCLFNBQVMsR0FBRyxFQUFFLENBQUM7WUFDZixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDbkMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLFFBQVEsQ0FBYyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQzthQUM1RDtTQUNGO1FBQ0QsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQztJQUVEOztPQUVHO0lBQ0gsTUFBTSxLQUFLLFFBQVEsS0FBaUIsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBRWhEOzs7T0FHRztJQUNILE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBZTtRQUNoQyxNQUFNLElBQUksS0FBSyxDQUFDLGtDQUFrQyxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVEOztPQUVHO0lBQ0gsT0FBTyxLQUFXLE1BQU0sSUFBSSxLQUFLLENBQUMsa0NBQWtDLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDekU7QUE1RkQsOEJBNEZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL2NvbXBvbmVudC50cz80MzllIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQmFzZSBvcHRpb25zIGZvciBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZU9wdGlvbnMge307XG5cbmV4cG9ydCB0eXBlIE1FbGVtZW50ID0gSFRNTEVsZW1lbnQgfCBFbGVtZW50O1xuZXhwb3J0IHR5cGUgSW5pdEVsZW1lbnRzPFQgZXh0ZW5kcyBNRWxlbWVudD4gPSBOb2RlTGlzdE9mPFQ+IHwgSFRNTENvbGxlY3Rpb25PZjxUPjtcbnR5cGUgQ29tcG9uZW50Q29uc3RydWN0b3I8VCBleHRlbmRzIENvbXBvbmVudDxPPiwgTyBleHRlbmRzIEJhc2VPcHRpb25zPiA9IHtcbiAgbmV3IChlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8Tz4pOiBUXG59O1xudHlwZSBDb21wb25lbnRUeXBlPEMgZXh0ZW5kcyBDb21wb25lbnQ8Tz4sIE8gZXh0ZW5kcyBCYXNlT3B0aW9ucz4gPSBDb21wb25lbnRDb25zdHJ1Y3RvcjxDLCBPPiAmIHR5cGVvZiBDb21wb25lbnQ8Tz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgSTE4bk9wdGlvbnMge1xuICBjYW5jZWw6IHN0cmluZztcbiAgY2xlYXI6IHN0cmluZztcbiAgZG9uZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9wZW5hYmxlIHtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBvcGVuKCk6IHZvaWQ7XG4gIGNsb3NlKCk6IHZvaWQ7XG59O1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgaW1wbGVtZW50YXRpb24gZm9yIE1hdGVyaWFsaXplIGNvbXBvbmVudHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21wb25lbnQ8TyBleHRlbmRzIEJhc2VPcHRpb25zPntcbiAgLyoqXG4gICAqIFRoZSBET00gZWxlbWVudCB0aGUgcGx1Z2luIHdhcyBpbml0aWFsaXplZCB3aXRoLlxuICAgKi9cbiAgZWw6IEhUTUxFbGVtZW50O1xuICAvKipcbiAgICogVGhlIG9wdGlvbnMgdGhlIGluc3RhbmNlIHdhcyBpbml0aWFsaXplZCB3aXRoLlxuICAgKi9cbiAgb3B0aW9uczogTztcblxuICAvKipcbiAgICogQ29uc3RydWN0cyBjb21wb25lbnQgaW5zdGFuY2UgYW5kIHNldCBldmVyeXRoaW5nIHVwLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPE8+LCBjbGFzc0RlZjogQ29tcG9uZW50VHlwZTxDb21wb25lbnQ8Tz4sIE8+KXtcbiAgICAvLyBEaXNwbGF5IGVycm9yIGlmIGVsIGlzIG5vdCBhIHZhbGlkIEhUTUwgRWxlbWVudFxuICAgIGlmICghKGVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKEVycm9yKGVsICsgJyBpcyBub3QgYW4gSFRNTCBFbGVtZW50JykpO1xuICAgIH1cbiAgICAvLyBJZiBleGlzdHMsIGRlc3Ryb3kgYW5kIHJlaW5pdGlhbGl6ZSBpbiBjaGlsZFxuICAgIGxldCBpbnMgPSBjbGFzc0RlZi5nZXRJbnN0YW5jZShlbCk7XG4gICAgaWYgKCEhaW5zKSB7XG4gICAgICBpbnMuZGVzdHJveSgpO1xuICAgIH1cbiAgICB0aGlzLmVsID0gZWw7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgY29tcG9uZW50IGluc3RhbmNlLlxuICAgKiBAcGFyYW0gZWwgSFRNTCBlbGVtZW50LlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICogQHBhcmFtIGNsYXNzRGVmIENsYXNzIGRlZmluaXRpb24uXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGluaXQ8XG4gICAgSSBleHRlbmRzIEhUTUxFbGVtZW50LCBPIGV4dGVuZHMgQmFzZU9wdGlvbnMsIEMgZXh0ZW5kcyBDb21wb25lbnQ8Tz5cbiAgPihlbDogSSwgb3B0aW9uczogTywgY2xhc3NEZWY6IENvbXBvbmVudFR5cGU8QywgTz4pOiBDO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgY29tcG9uZW50IGluc3RhbmNlcy5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICogQHBhcmFtIGNsYXNzRGVmIENsYXNzIGRlZmluaXRpb24uXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGluaXQ8XG4gICAgSSBleHRlbmRzIE1FbGVtZW50LCBPIGV4dGVuZHMgQmFzZU9wdGlvbnMsIEMgZXh0ZW5kcyBDb21wb25lbnQ8Tz5cbiAgPihlbHM6IEluaXRFbGVtZW50czxJPiwgb3B0aW9uczogUGFydGlhbDxPPiwgY2xhc3NEZWY6IENvbXBvbmVudFR5cGU8QywgTz4pOiBDW107XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBjb21wb25lbnQgaW5zdGFuY2VzLlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKiBAcGFyYW0gY2xhc3NEZWYgQ2xhc3MgZGVmaW5pdGlvbi5cbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgaW5pdDxcbiAgICBJIGV4dGVuZHMgTUVsZW1lbnQsIE8gZXh0ZW5kcyBCYXNlT3B0aW9ucywgQyBleHRlbmRzIENvbXBvbmVudDxPPlxuICA+KGVsczogSSB8IEluaXRFbGVtZW50czxJPiwgb3B0aW9uczogUGFydGlhbDxPPiwgY2xhc3NEZWY6IENvbXBvbmVudFR5cGU8QywgTz4pOiBDIHwgQ1tdO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgY29tcG9uZW50IGluc3RhbmNlcy5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICogQHBhcmFtIGNsYXNzRGVmIENsYXNzIGRlZmluaXRpb24uXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGluaXQ8XG4gICAgSSBleHRlbmRzIE1FbGVtZW50LCBPIGV4dGVuZHMgQmFzZU9wdGlvbnMsIEMgZXh0ZW5kcyBDb21wb25lbnQ8Tz5cbiAgPihlbHM6IEkgfCBJbml0RWxlbWVudHM8ST4sIG9wdGlvbnM6IFBhcnRpYWw8Tz4sIGNsYXNzRGVmOiBDb21wb25lbnRUeXBlPEMsIE8+KTogQyB8IENbXSB7XG4gICAgbGV0IGluc3RhbmNlcyA9IG51bGw7XG4gICAgaWYgKGVscyBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgIGluc3RhbmNlcyA9IG5ldyBjbGFzc0RlZig8SFRNTEVsZW1lbnQ+ZWxzLCBvcHRpb25zKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoISFlbHMgJiYgZWxzLmxlbmd0aCkge1xuICAgICAgaW5zdGFuY2VzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpbnN0YW5jZXMucHVzaChuZXcgY2xhc3NEZWYoPEhUTUxFbGVtZW50PmVsc1tpXSwgb3B0aW9ucykpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIGRlZmF1bHQgb3B0aW9ucyBmb3IgY29tcG9uZW50IGluc3RhbmNlLlxuICAgKi9cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpOiBCYXNlT3B0aW9uc3sgcmV0dXJuIHt9OyB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBjb21wb25lbnQgaW5zdGFuY2UgZm9yIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKiBAcGFyYW0gZWwgQXNzb2NpYXRlZCBIVE1MIEVsZW1lbnQuXG4gICAqL1xuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxFbGVtZW50KTogQ29tcG9uZW50PEJhc2VPcHRpb25zPiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBtZXRob2QgbXVzdCBiZSBpbXBsZW1lbnRlZC5cIik7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSBwbHVnaW4gaW5zdGFuY2UgYW5kIHRlYXJkb3duLlxuICAgKi9cbiAgZGVzdHJveSgpOiB2b2lkIHsgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBtZXRob2QgbXVzdCBiZSBpbXBsZW1lbnRlZC5cIik7IH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/component.ts\n");

/***/ }),

/***/ "./src/datepicker.ts":
/*!***************************!*\
  !*** ./src/datepicker.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Datepicker = void 0;\nconst modal_1 = __webpack_require__(/*! ./modal */ \"./src/modal.ts\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst select_1 = __webpack_require__(/*! ./select */ \"./src/select.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nlet _defaults = {\n    // Close when date is selected\n    autoClose: false,\n    // the default output format for the input field value\n    format: 'mmm dd, yyyy',\n    // Used to create date object from current input string\n    parse: null,\n    // The initial date to view when first opened\n    defaultDate: null,\n    // Make the `defaultDate` the initial selected value\n    setDefaultDate: false,\n    disableWeekends: false,\n    disableDayFn: null,\n    // First day of week (0: Sunday, 1: Monday etc)\n    firstDay: 0,\n    // The earliest date that can be selected\n    minDate: null,\n    // Thelatest date that can be selected\n    maxDate: null,\n    // Number of years either side, or array of upper/lower range\n    yearRange: 10,\n    // used internally (don't config outside)\n    minYear: 0,\n    maxYear: 9999,\n    minMonth: undefined,\n    maxMonth: undefined,\n    startRange: null,\n    endRange: null,\n    isRTL: false,\n    yearRangeReverse: false,\n    // Render the month after year in the calendar title\n    showMonthAfterYear: false,\n    // Render days of the calendar grid that fall in the next or previous month\n    showDaysInNextAndPreviousMonths: false,\n    // Specify a DOM element to render the calendar in\n    container: null,\n    // Show clear button\n    showClearBtn: false,\n    // internationalization\n    i18n: {\n        cancel: 'Cancel',\n        clear: 'Clear',\n        done: 'Ok',\n        previousMonth: 'â¹',\n        nextMonth: 'âº',\n        months: [\n            'January',\n            'February',\n            'March',\n            'April',\n            'May',\n            'June',\n            'July',\n            'August',\n            'September',\n            'October',\n            'November',\n            'December'\n        ],\n        monthsShort: [\n            'Jan',\n            'Feb',\n            'Mar',\n            'Apr',\n            'May',\n            'Jun',\n            'Jul',\n            'Aug',\n            'Sep',\n            'Oct',\n            'Nov',\n            'Dec'\n        ],\n        weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n        weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n        weekdaysAbbrev: ['S', 'M', 'T', 'W', 'T', 'F', 'S']\n    },\n    // events array\n    events: [],\n    // callback function\n    onSelect: null,\n    onOpen: null,\n    onClose: null,\n    onDraw: null\n};\nclass Datepicker extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Datepicker);\n        this._handleInputClick = () => {\n            this.open();\n        };\n        this._handleInputKeydown = (e) => {\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\n                e.preventDefault();\n                this.open();\n            }\n        };\n        this._handleCalendarClick = (e) => {\n            if (!this.isOpen)\n                return;\n            const target = (e.target);\n            if (!target.classList.contains('is-disabled')) {\n                if (target.classList.contains('datepicker-day-button') &&\n                    !target.classList.contains('is-empty') &&\n                    !target.parentElement.classList.contains('is-disabled')) {\n                    this.setDate(new Date(e.target.getAttribute('data-year'), e.target.getAttribute('data-month'), e.target.getAttribute('data-day')));\n                    if (this.options.autoClose) {\n                        this._finishSelection();\n                    }\n                }\n                else if (target.closest('.month-prev')) {\n                    this.prevMonth();\n                }\n                else if (target.closest('.month-next')) {\n                    this.nextMonth();\n                }\n            }\n        };\n        this._handleClearClick = () => {\n            this.date = null;\n            this.setInputValue();\n            this.close();\n        };\n        this._handleMonthChange = (e) => {\n            this.gotoMonth(e.target.value);\n        };\n        this._handleYearChange = (e) => {\n            this.gotoYear(e.target.value);\n        };\n        this._handleInputChange = (e) => {\n            var _a;\n            let date;\n            // Prevent change event from being fired when triggered by the plugin\n            if (((_a = e['detail']) === null || _a === void 0 ? void 0 : _a.firedBy) === this)\n                return;\n            if (this.options.parse) {\n                date = this.options.parse(this.el.value, typeof this.options.format === \"function\"\n                    ? this.options.format(new Date(this.el.value))\n                    : this.options.format);\n            }\n            else {\n                date = new Date(Date.parse(this.el.value));\n            }\n            if (Datepicker._isDate(date))\n                this.setDate(date);\n        };\n        // Set input value to the selected date and close Datepicker\n        this._finishSelection = () => {\n            this.setInputValue();\n            this.close();\n        };\n        /**\n         * Open datepicker.\n         */\n        this.open = () => {\n            if (this.isOpen)\n                return;\n            this.isOpen = true;\n            if (typeof this.options.onOpen === 'function') {\n                this.options.onOpen.call(this);\n            }\n            this.draw();\n            this.modal.open(undefined);\n            return this;\n        };\n        /**\n         * Close datepicker.\n         */\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            this.isOpen = false;\n            if (typeof this.options.onClose === 'function') {\n                this.options.onClose.call(this);\n            }\n            this.modal.close();\n            return this;\n        };\n        this.el.M_Datepicker = this;\n        this.options = Object.assign(Object.assign({}, Datepicker.defaults), options);\n        // make sure i18n defaults are not lost when only few i18n option properties are passed\n        if (!!options && options.hasOwnProperty('i18n') && typeof options.i18n === 'object') {\n            this.options.i18n = Object.assign(Object.assign({}, Datepicker.defaults.i18n), options.i18n);\n        }\n        // Remove time component from minDate and maxDate options\n        if (this.options.minDate)\n            this.options.minDate.setHours(0, 0, 0, 0);\n        if (this.options.maxDate)\n            this.options.maxDate.setHours(0, 0, 0, 0);\n        this.id = utils_1.Utils.guid();\n        this._setupVariables();\n        this._insertHTMLIntoDOM();\n        this._setupModal();\n        this._setupEventHandlers();\n        if (!this.options.defaultDate) {\n            this.options.defaultDate = new Date(Date.parse(this.el.value));\n        }\n        let defDate = this.options.defaultDate;\n        if (Datepicker._isDate(defDate)) {\n            if (this.options.setDefaultDate) {\n                this.setDate(defDate, true);\n                this.setInputValue();\n            }\n            else {\n                this.gotoDate(defDate);\n            }\n        }\n        else {\n            this.gotoDate(new Date());\n        }\n        this.isOpen = false;\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Datepicker.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Datepicker);\n    }\n    static _isDate(obj) {\n        return /Date/.test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n    }\n    static _isWeekend(date) {\n        let day = date.getDay();\n        return day === 0 || day === 6;\n    }\n    static _setToStartOfDay(date) {\n        if (Datepicker._isDate(date))\n            date.setHours(0, 0, 0, 0);\n    }\n    static _getDaysInMonth(year, month) {\n        return [31, Datepicker._isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    }\n    static _isLeapYear(year) {\n        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n    static _compareDates(a, b) {\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n        return a.getTime() === b.getTime();\n    }\n    static getInstance(el) {\n        return el.M_Datepicker;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.modal.destroy();\n        this.modalEl.remove();\n        this.destroySelects();\n        this.el.M_Datepicker = undefined;\n    }\n    destroySelects() {\n        let oldYearSelect = this.calendarEl.querySelector('.orig-select-year');\n        if (oldYearSelect) {\n            select_1.FormSelect.getInstance(oldYearSelect).destroy();\n        }\n        let oldMonthSelect = this.calendarEl.querySelector('.orig-select-month');\n        if (oldMonthSelect) {\n            select_1.FormSelect.getInstance(oldMonthSelect).destroy();\n        }\n    }\n    _insertHTMLIntoDOM() {\n        if (this.options.showClearBtn) {\n            this.clearBtn.style.visibility = '';\n            this.clearBtn.innerText = this.options.i18n.clear;\n        }\n        this.doneBtn.innerText = this.options.i18n.done;\n        this.cancelBtn.innerText = this.options.i18n.cancel;\n        if (this.options.container) {\n            const optEl = this.options.container;\n            this.options.container =\n                optEl instanceof HTMLElement ? optEl : document.querySelector(optEl);\n            this.options.container.append(this.modalEl);\n        }\n        else {\n            //this.modalEl.before(this.el);\n            this.el.parentElement.appendChild(this.modalEl);\n        }\n    }\n    _setupModal() {\n        this.modalEl.id = 'modal-' + this.id;\n        this.modal = modal_1.Modal.init(this.modalEl, {\n            onCloseEnd: () => {\n                this.isOpen = false;\n            }\n        });\n    }\n    /**\n     * Gets a string representation of the selected date.\n     */\n    toString(format = null) {\n        format = format || this.options.format;\n        if (typeof format === 'function')\n            return format(this.date);\n        if (!Datepicker._isDate(this.date))\n            return '';\n        // String Format\n        const formatArray = format.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g);\n        const formattedDate = formatArray\n            .map(label => this.formats[label] ? this.formats[label]() : label)\n            .join('');\n        return formattedDate;\n    }\n    /**\n     * Set a date on the datepicker.\n     * @param date Date to set on the datepicker.\n     * @param preventOnSelect Undocumented as of 5 March 2018.\n     */\n    setDate(date = null, preventOnSelect = false) {\n        if (!date) {\n            this.date = null;\n            this._renderDateDisplay();\n            return this.draw();\n        }\n        if (typeof date === 'string') {\n            date = new Date(Date.parse(date));\n        }\n        if (!Datepicker._isDate(date)) {\n            return;\n        }\n        let min = this.options.minDate, max = this.options.maxDate;\n        if (Datepicker._isDate(min) && date < min) {\n            date = min;\n        }\n        else if (Datepicker._isDate(max) && date > max) {\n            date = max;\n        }\n        this.date = new Date(date.getTime());\n        this._renderDateDisplay();\n        Datepicker._setToStartOfDay(this.date);\n        this.gotoDate(this.date);\n        if (!preventOnSelect && typeof this.options.onSelect === 'function') {\n            this.options.onSelect.call(this, this.date);\n        }\n    }\n    /**\n     * Sets current date as the input value.\n     */\n    setInputValue() {\n        this.el.value = this.toString();\n        this.el.dispatchEvent(new CustomEvent('change', { detail: { firedBy: this } }));\n    }\n    _renderDateDisplay() {\n        let displayDate = Datepicker._isDate(this.date) ? this.date : new Date();\n        let i18n = this.options.i18n;\n        let day = i18n.weekdaysShort[displayDate.getDay()];\n        let month = i18n.monthsShort[displayDate.getMonth()];\n        let date = displayDate.getDate();\n        this.yearTextEl.innerHTML = displayDate.getFullYear().toString();\n        this.dateTextEl.innerHTML = `${day}, ${month} ${date}`;\n    }\n    /**\n     * Change date view to a specific date on the datepicker.\n     * @param date Date to show on the datepicker.\n     */\n    gotoDate(date) {\n        let newCalendar = true;\n        if (!Datepicker._isDate(date)) {\n            return;\n        }\n        if (this.calendars) {\n            let firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1), lastVisibleDate = new Date(this.calendars[this.calendars.length - 1].year, this.calendars[this.calendars.length - 1].month, 1), visibleDate = date.getTime();\n            // get the end of the month\n            lastVisibleDate.setMonth(lastVisibleDate.getMonth() + 1);\n            lastVisibleDate.setDate(lastVisibleDate.getDate() - 1);\n            newCalendar =\n                visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate;\n        }\n        if (newCalendar) {\n            this.calendars = [\n                {\n                    month: date.getMonth(),\n                    year: date.getFullYear()\n                }\n            ];\n        }\n        this.adjustCalendars();\n    }\n    adjustCalendars() {\n        this.calendars[0] = this.adjustCalendar(this.calendars[0]);\n        this.draw();\n    }\n    adjustCalendar(calendar) {\n        if (calendar.month < 0) {\n            calendar.year -= Math.ceil(Math.abs(calendar.month) / 12);\n            calendar.month += 12;\n        }\n        if (calendar.month > 11) {\n            calendar.year += Math.floor(Math.abs(calendar.month) / 12);\n            calendar.month -= 12;\n        }\n        return calendar;\n    }\n    nextMonth() {\n        this.calendars[0].month++;\n        this.adjustCalendars();\n    }\n    prevMonth() {\n        this.calendars[0].month--;\n        this.adjustCalendars();\n    }\n    render(year, month, randId) {\n        let opts = this.options, now = new Date(), days = Datepicker._getDaysInMonth(year, month), before = new Date(year, month, 1).getDay(), data = [], row = [];\n        Datepicker._setToStartOfDay(now);\n        if (opts.firstDay > 0) {\n            before -= opts.firstDay;\n            if (before < 0) {\n                before += 7;\n            }\n        }\n        let previousMonth = month === 0 ? 11 : month - 1, nextMonth = month === 11 ? 0 : month + 1, yearOfPreviousMonth = month === 0 ? year - 1 : year, yearOfNextMonth = month === 11 ? year + 1 : year, daysInPreviousMonth = Datepicker._getDaysInMonth(yearOfPreviousMonth, previousMonth);\n        let cells = days + before, after = cells;\n        while (after > 7) {\n            after -= 7;\n        }\n        cells += 7 - after;\n        let isWeekSelected = false;\n        for (let i = 0, r = 0; i < cells; i++) {\n            let day = new Date(year, month, 1 + (i - before)), isSelected = Datepicker._isDate(this.date)\n                ? Datepicker._compareDates(day, this.date)\n                : false, isToday = Datepicker._compareDates(day, now), hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false, isEmpty = i < before || i >= days + before, dayNumber = 1 + (i - before), monthNumber = month, yearNumber = year, isStartRange = opts.startRange && Datepicker._compareDates(opts.startRange, day), isEndRange = opts.endRange && Datepicker._compareDates(opts.endRange, day), isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange, isDisabled = (opts.minDate && day < opts.minDate) ||\n                (opts.maxDate && day > opts.maxDate) ||\n                (opts.disableWeekends && Datepicker._isWeekend(day)) ||\n                (opts.disableDayFn && opts.disableDayFn(day));\n            if (isEmpty) {\n                if (i < before) {\n                    dayNumber = daysInPreviousMonth + dayNumber;\n                    monthNumber = previousMonth;\n                    yearNumber = yearOfPreviousMonth;\n                }\n                else {\n                    dayNumber = dayNumber - days;\n                    monthNumber = nextMonth;\n                    yearNumber = yearOfNextMonth;\n                }\n            }\n            let dayConfig = {\n                day: dayNumber,\n                month: monthNumber,\n                year: yearNumber,\n                hasEvent: hasEvent,\n                isSelected: isSelected,\n                isToday: isToday,\n                isDisabled: isDisabled,\n                isEmpty: isEmpty,\n                isStartRange: isStartRange,\n                isEndRange: isEndRange,\n                isInRange: isInRange,\n                showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths\n            };\n            row.push(this.renderDay(dayConfig));\n            if (++r === 7) {\n                data.push(this.renderRow(row, opts.isRTL, isWeekSelected));\n                row = [];\n                r = 0;\n                isWeekSelected = false;\n            }\n        }\n        return this.renderTable(opts, data, randId);\n    }\n    renderDay(opts) {\n        let arr = [];\n        let ariaSelected = 'false';\n        if (opts.isEmpty) {\n            if (opts.showDaysInNextAndPreviousMonths) {\n                arr.push('is-outside-current-month');\n                arr.push('is-selection-disabled');\n            }\n            else {\n                return '<td class=\"is-empty\"></td>';\n            }\n        }\n        if (opts.isDisabled) {\n            arr.push('is-disabled');\n        }\n        if (opts.isToday) {\n            arr.push('is-today');\n        }\n        if (opts.isSelected) {\n            arr.push('is-selected');\n            ariaSelected = 'true';\n        }\n        if (opts.hasEvent) {\n            arr.push('has-event');\n        }\n        if (opts.isInRange) {\n            arr.push('is-inrange');\n        }\n        if (opts.isStartRange) {\n            arr.push('is-startrange');\n        }\n        if (opts.isEndRange) {\n            arr.push('is-endrange');\n        }\n        return (`<td data-day=\"${opts.day}\" class=\"${arr.join(' ')}\" aria-selected=\"${ariaSelected}\">` +\n            `<button class=\"datepicker-day-button\" type=\"button\" data-year=\"${opts.year}\" data-month=\"${opts.month}\" data-day=\"${opts.day}\">${opts.day}</button>` +\n            '</td>');\n    }\n    renderRow(days, isRTL, isRowSelected) {\n        return ('<tr class=\"datepicker-row' +\n            (isRowSelected ? ' is-selected' : '') +\n            '\">' +\n            (isRTL ? days.reverse() : days).join('') +\n            '</tr>');\n    }\n    renderTable(opts, data, randId) {\n        return ('<div class=\"datepicker-table-wrapper\"><table cellpadding=\"0\" cellspacing=\"0\" class=\"datepicker-table\" role=\"grid\" aria-labelledby=\"' +\n            randId +\n            '\">' +\n            this.renderHead(opts) +\n            this.renderBody(data) +\n            '</table></div>');\n    }\n    renderHead(opts) {\n        let i, arr = [];\n        for (i = 0; i < 7; i++) {\n            arr.push(`<th scope=\"col\"><abbr title=\"${this.renderDayName(opts, i)}\">${this.renderDayName(opts, i, true)}</abbr></th>`);\n        }\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n    }\n    renderBody(rows) {\n        return '<tbody>' + rows.join('') + '</tbody>';\n    }\n    renderTitle(instance, c, year, month, refYear, randId) {\n        let i, j, arr, opts = this.options, isMinYear = year === opts.minYear, isMaxYear = year === opts.maxYear, html = '<div id=\"' +\n            randId +\n            '\" class=\"datepicker-controls\" role=\"heading\" aria-live=\"assertive\">', monthHtml, yearHtml, prev = true, next = true;\n        for (arr = [], i = 0; i < 12; i++) {\n            arr.push('<option value=\"' +\n                (year === refYear ? i - c : 12 + i - c) +\n                '\"' +\n                (i === month ? ' selected=\"selected\"' : '') +\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth)\n                    ? 'disabled=\"disabled\"'\n                    : '') +\n                '>' +\n                opts.i18n.months[i] +\n                '</option>');\n        }\n        monthHtml = '<select class=\"datepicker-select orig-select-month\" tabindex=\"-1\">' + arr.join('') + '</select>';\n        if (Array.isArray(opts.yearRange)) {\n            i = opts.yearRange[0];\n            j = opts.yearRange[1] + 1;\n        }\n        else {\n            i = year - opts.yearRange;\n            j = 1 + year + opts.yearRange;\n        }\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\n            if (i >= opts.minYear) {\n                arr.push(`<option value=\"${i}\" ${i === year ? 'selected=\"selected\"' : ''}>${i}</option>`);\n            }\n        }\n        if (opts.yearRangeReverse)\n            arr.reverse();\n        yearHtml = `<select class=\"datepicker-select orig-select-year\" tabindex=\"-1\">${arr.join('')}</select>`;\n        let leftArrow = '<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"/><path d=\"M0-.5h24v24H0z\" fill=\"none\"/></svg>';\n        html += `<button class=\"month-prev${prev ? '' : ' is-disabled'} btn-flat\" type=\"button\">${leftArrow}</button>`;\n        html += '<div class=\"selects-container\">';\n        if (opts.showMonthAfterYear) {\n            html += yearHtml + monthHtml;\n        }\n        else {\n            html += monthHtml + yearHtml;\n        }\n        html += '</div>';\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n            prev = false;\n        }\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n            next = false;\n        }\n        let rightArrow = '<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"/><path d=\"M0-.25h24v24H0z\" fill=\"none\"/></svg>';\n        html += `<button class=\"month-next${next ? '' : ' is-disabled'} btn-flat\" type=\"button\">${rightArrow}</button>`;\n        return (html += '</div>');\n    }\n    // refresh HTML\n    draw(force = false) {\n        if (!this.isOpen && !force)\n            return;\n        let opts = this.options, minYear = opts.minYear, maxYear = opts.maxYear, minMonth = opts.minMonth, maxMonth = opts.maxMonth, html = '', randId;\n        if (this._y <= minYear) {\n            this._y = minYear;\n            if (!isNaN(minMonth) && this._m < minMonth) {\n                this._m = minMonth;\n            }\n        }\n        if (this._y >= maxYear) {\n            this._y = maxYear;\n            if (!isNaN(maxMonth) && this._m > maxMonth) {\n                this._m = maxMonth;\n            }\n        }\n        randId =\n            'datepicker-title-' +\n                Math.random()\n                    .toString(36)\n                    .replace(/[^a-z]+/g, '')\n                    .substr(0, 2);\n        for (let c = 0; c < 1; c++) {\n            this._renderDateDisplay();\n            html +=\n                this.renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId);\n        }\n        this.destroySelects();\n        this.calendarEl.innerHTML = html;\n        // Init Materialize Select\n        let yearSelect = this.calendarEl.querySelector('.orig-select-year');\n        let monthSelect = this.calendarEl.querySelector('.orig-select-month');\n        select_1.FormSelect.init(yearSelect, {\n            classes: 'select-year',\n            dropdownOptions: { container: document.body, constrainWidth: false }\n        });\n        select_1.FormSelect.init(monthSelect, {\n            classes: 'select-month',\n            dropdownOptions: { container: document.body, constrainWidth: false }\n        });\n        // Add change handlers for select\n        yearSelect.addEventListener('change', () => this._handleYearChange);\n        monthSelect.addEventListener('change', () => this._handleMonthChange);\n        if (typeof this.options.onDraw === 'function') {\n            this.options.onDraw.call(this);\n        }\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleInputClick);\n        this.el.addEventListener('keydown', this._handleInputKeydown);\n        this.el.addEventListener('change', this._handleInputChange);\n        this.calendarEl.addEventListener('click', this._handleCalendarClick);\n        this.doneBtn.addEventListener('click', this._finishSelection);\n        this.cancelBtn.addEventListener('click', this.close);\n        if (this.options.showClearBtn) {\n            this.clearBtn.addEventListener('click', this._handleClearClick);\n        }\n    }\n    _setupVariables() {\n        const template = document.createElement('template');\n        template.innerHTML = Datepicker._template.trim();\n        this.modalEl = template.content.firstChild;\n        this.calendarEl = this.modalEl.querySelector('.datepicker-calendar');\n        this.yearTextEl = this.modalEl.querySelector('.year-text');\n        this.dateTextEl = this.modalEl.querySelector('.date-text');\n        if (this.options.showClearBtn) {\n            this.clearBtn = this.modalEl.querySelector('.datepicker-clear');\n        }\n        this.doneBtn = this.modalEl.querySelector('.datepicker-done');\n        this.cancelBtn = this.modalEl.querySelector('.datepicker-cancel');\n        this.formats = {\n            d: () => {\n                return this.date.getDate();\n            },\n            dd: () => {\n                let d = this.date.getDate();\n                return (d < 10 ? '0' : '') + d;\n            },\n            ddd: () => {\n                return this.options.i18n.weekdaysShort[this.date.getDay()];\n            },\n            dddd: () => {\n                return this.options.i18n.weekdays[this.date.getDay()];\n            },\n            m: () => {\n                return this.date.getMonth() + 1;\n            },\n            mm: () => {\n                let m = this.date.getMonth() + 1;\n                return (m < 10 ? '0' : '') + m;\n            },\n            mmm: () => {\n                return this.options.i18n.monthsShort[this.date.getMonth()];\n            },\n            mmmm: () => {\n                return this.options.i18n.months[this.date.getMonth()];\n            },\n            yy: () => {\n                return ('' + this.date.getFullYear()).slice(2);\n            },\n            yyyy: () => {\n                return this.date.getFullYear();\n            }\n        };\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleInputClick);\n        this.el.removeEventListener('keydown', this._handleInputKeydown);\n        this.el.removeEventListener('change', this._handleInputChange);\n        this.calendarEl.removeEventListener('click', this._handleCalendarClick);\n    }\n    // change view to a specific month (zero-index, e.g. 0: January)\n    gotoMonth(month) {\n        if (!isNaN(month)) {\n            this.calendars[0].month = parseInt(month, 10);\n            this.adjustCalendars();\n        }\n    }\n    // change view to a specific full year (e.g. \"2012\")\n    gotoYear(year) {\n        if (!isNaN(year)) {\n            this.calendars[0].year = parseInt(year, 10);\n            this.adjustCalendars();\n        }\n    }\n    renderDayName(opts, day, abbr = false) {\n        day += opts.firstDay;\n        while (day >= 7) {\n            day -= 7;\n        }\n        return abbr ? opts.i18n.weekdaysAbbrev[day] : opts.i18n.weekdays[day];\n    }\n}\nexports.Datepicker = Datepicker;\n(() => {\n    Datepicker._template = `\n      <div class=\"modal datepicker-modal\">\n        <div class=\"modal-content datepicker-container\">\n          <div class=\"datepicker-date-display\">\n            <span class=\"year-text\"></span>\n            <span class=\"date-text\"></span>\n          </div>\n          <div class=\"datepicker-calendar-container\">\n            <div class=\"datepicker-calendar\"></div>\n            <div class=\"datepicker-footer\">\n              <button class=\"btn-flat datepicker-clear waves-effect\" style=\"visibility: hidden;\" type=\"button\"></button>\n              <div class=\"confirmation-btns\">\n                <button class=\"btn-flat datepicker-cancel waves-effect\" type=\"button\"></button>\n                <button class=\"btn-flat datepicker-done waves-effect\" type=\"button\"></button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>`;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7O2FBa0JkLENBQUM7QUFDWixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL2RhdGVwaWNrZXIudHM/YTkzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RhbCB9IGZyb20gXCIuL21vZGFsXCI7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBGb3JtU2VsZWN0IH0gZnJvbSBcIi4vc2VsZWN0XCI7XG5pbXBvcnQgeyBCYXNlT3B0aW9ucywgQ29tcG9uZW50LCBJbml0RWxlbWVudHMsIE1FbGVtZW50LCBJMThuT3B0aW9ucyB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGVJMThuT3B0aW9ucyBleHRlbmRzIEkxOG5PcHRpb25zIHtcbiAgcHJldmlvdXNNb250aDogc3RyaW5nO1xuICBuZXh0TW9udGg6IHN0cmluZztcbiAgbW9udGhzOiBzdHJpbmdbXTtcbiAgbW9udGhzU2hvcnQ6IHN0cmluZ1tdO1xuICB3ZWVrZGF5czogc3RyaW5nW107XG4gIHdlZWtkYXlzU2hvcnQ6IHN0cmluZ1tdO1xuICB3ZWVrZGF5c0FiYnJldjogc3RyaW5nW107XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGVwaWNrZXJPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge1xuICAvKipcbiAgICogQXV0b21hdGljYWxseSBjbG9zZSBwaWNrZXIgd2hlbiBkYXRlIGlzIHNlbGVjdGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgYXV0b0Nsb3NlOiBib29sZWFuO1xuICAvKipcbiAgICogVGhlIGRhdGUgb3V0cHV0IGZvcm1hdCBmb3IgdGhlIGlucHV0IGZpZWxkIHZhbHVlXG4gICAqIG9yIGEgZnVuY3Rpb24gdGFraW5nIHRoZSBkYXRlIGFuZCBvdXRwdXR0aW5nIHRoZVxuICAgKiBmb3JtYXR0ZWQgZGF0ZSBzdHJpbmcuXG4gICAqIEBkZWZhdWx0ICdtbW0gZGQsIHl5eXknXG4gICAqL1xuICBmb3JtYXQ6IHN0cmluZyB8ICgoZDogRGF0ZSkgPT4gc3RyaW5nKTtcbiAgLyoqXG4gICAqIFVzZWQgdG8gY3JlYXRlIGRhdGUgb2JqZWN0IGZyb20gY3VycmVudCBpbnB1dCBzdHJpbmcuXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIHBhcnNlOiAoKHZhbHVlOiBzdHJpbmcsIGZvcm1hdDogc3RyaW5nKSA9PiBEYXRlKSB8IG51bGw7XG4gIC8qKlxuICAgKiBUaGUgaW5pdGlhbCBkYXRlIHRvIHZpZXcgd2hlbiBmaXJzdCBvcGVuZWQuXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIGRlZmF1bHREYXRlOiBEYXRlIHwgbnVsbDtcbiAgLyoqXG4gICAqIE1ha2UgdGhlIGBkZWZhdWx0RGF0ZWAgdGhlIGluaXRpYWwgc2VsZWN0ZWQgdmFsdWUuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBzZXREZWZhdWx0RGF0ZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFByZXZlbnQgc2VsZWN0aW9uIG9mIGFueSBkYXRlIG9uIHRoZSB3ZWVrZW5kLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZGlzYWJsZVdlZWtlbmRzOiBib29sZWFuO1xuICAvKipcbiAgICogQ3VzdG9tIGZ1bmN0aW9uIHRvIGRpc2FibGUgY2VydGFpbiBkYXlzLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBkaXNhYmxlRGF5Rm46ICgoZGF5OiBEYXRlKSA9PiBib29sZWFuKSB8IG51bGw7XG4gIC8qKlxuICAgKiBGaXJzdCBkYXkgb2Ygd2VlayAoMDogU3VuZGF5LCAxOiBNb25kYXkgZXRjKS5cbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgZmlyc3REYXk6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBlYXJsaWVzdCBkYXRlIHRoYXQgY2FuIGJlIHNlbGVjdGVkLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBtaW5EYXRlOiBEYXRlIHwgbnVsbDtcbiAgLyoqXG4gICAqIFRoZSBsYXRlc3QgZGF0ZSB0aGF0IGNhbiBiZSBzZWxlY3RlZC5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgbWF4RGF0ZTogRGF0ZSB8IG51bGw7XG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgeWVhcnMgZWl0aGVyIHNpZGUsIG9yIGFycmF5IG9mIHVwcGVyL2xvd2VyIHJhbmdlLlxuICAgKiBAZGVmYXVsdCAxMFxuICAgKi9cbiAgeWVhclJhbmdlOiBudW1iZXIgfCBudW1iZXJbXTtcbiAgLyoqXG4gICAqIFNvcnQgeWVhciByYW5nZSBpbiByZXZlcnNlIG9yZGVyLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgeWVhclJhbmdlUmV2ZXJzZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqIENoYW5nZXMgRGF0ZXBpY2tlciB0byBSVEwuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBpc1JUTDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFNob3cgbW9udGggYWZ0ZXIgeWVhciBpbiBEYXRlcGlja2VyIHRpdGxlLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgc2hvd01vbnRoQWZ0ZXJZZWFyOiBib29sZWFuO1xuICAvKipcbiAgICogUmVuZGVyIGRheXMgb2YgdGhlIGNhbGVuZGFyIGdyaWQgdGhhdCBmYWxsIGluIHRoZSBuZXh0XG4gICAqIG9yIHByZXZpb3VzIG1vbnRoLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgc2hvd0RheXNJbk5leHRBbmRQcmV2aW91c01vbnRoczogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFNwZWNpZnkgYSBET00gZWxlbWVudCBPUiBzZWxlY3RvciBmb3IgYSBET00gZWxlbWVudCB0byByZW5kZXJcbiAgICogdGhlIGNhbGVuZGFyIGluLCBieSBkZWZhdWx0IGl0IHdpbGwgYmUgcGxhY2VkIGJlZm9yZSB0aGUgaW5wdXQuXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBzdHJpbmcgfCBudWxsO1xuICAvKipcbiAgICogU2hvdyB0aGUgY2xlYXIgYnV0dG9uIGluIHRoZSBkYXRlcGlja2VyLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgc2hvd0NsZWFyQnRuOiBib29sZWFuO1xuICAvKipcbiAgICogSW50ZXJuYXRpb25hbGl6YXRpb24gb3B0aW9ucy5cbiAgICovXG4gIGkxOG46IFBhcnRpYWw8RGF0ZUkxOG5PcHRpb25zPjtcbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIHN0cmluZyByZXR1cm5lZCBieSBgRGF0ZS50b0RhdGVTdHJpbmcoKWAsXG4gICAqIGluZGljYXRpbmcgdGhlcmUgYXJlIGV2ZW50cyBpbiB0aGUgc3BlY2lmaWVkIGRheXMuXG4gICAqIEBkZWZhdWx0IFtdXG4gICAqL1xuICBldmVudHM6IHN0cmluZ1tdO1xuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gd2hlbiBkYXRlIGlzIHNlbGVjdGVkLFxuICAgKiBmaXJzdCBwYXJhbWV0ZXIgaXMgdGhlIG5ld2x5IHNlbGVjdGVkIGRhdGUuXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIG9uU2VsZWN0OiAoKHNlbGVjdGVkRGF0ZTogRGF0ZSkgPT4gdm9pZCkgfCBudWxsO1xuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gd2hlbiBEYXRlcGlja2VyIGlzIG9wZW5lZC5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25PcGVuOiAoKCkgPT4gdm9pZCkgfCBudWxsO1xuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gd2hlbiBEYXRlcGlja2VyIGlzIGNsb3NlZC5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25DbG9zZTogKCgpID0+IHZvaWQpIHwgbnVsbDtcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gRGF0ZXBpY2tlciBIVE1MIGlzIHJlZnJlc2hlZC5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25EcmF3OiAoKCkgPT4gdm9pZCkgfCBudWxsO1xuICBcbiAgLyoqIEZpZWxkIHVzZWQgZm9yIGludGVybmFsIGNhbGN1bGF0aW9ucyBETyBOT1QgQ0hBTkdFIElUICovXG4gIG1pblllYXI/OiBhbnk7XG4gIC8qKiBGaWVsZCB1c2VkIGZvciBpbnRlcm5hbCBjYWxjdWxhdGlvbnMgRE8gTk9UIENIQU5HRSBJVCAqL1xuICBtYXhZZWFyPzogYW55O1xuICAvKiogRmllbGQgdXNlZCBmb3IgaW50ZXJuYWwgY2FsY3VsYXRpb25zIERPIE5PVCBDSEFOR0UgSVQgKi9cbiAgbWluTW9udGg/OiBhbnk7XG4gIC8qKiBGaWVsZCB1c2VkIGZvciBpbnRlcm5hbCBjYWxjdWxhdGlvbnMgRE8gTk9UIENIQU5HRSBJVCAqL1xuICBtYXhNb250aD86IGFueTtcbiAgLyoqIEZpZWxkIHVzZWQgZm9yIGludGVybmFsIGNhbGN1bGF0aW9ucyBETyBOT1QgQ0hBTkdFIElUICovXG4gIHN0YXJ0UmFuZ2U/OiBhbnk7XG4gIC8qKiBGaWVsZCB1c2VkIGZvciBpbnRlcm5hbCBjYWxjdWxhdGlvbnMgRE8gTk9UIENIQU5HRSBJVCAqL1xuICBlbmRSYW5nZT86IGFueTtcbn1cblxubGV0IF9kZWZhdWx0czogRGF0ZXBpY2tlck9wdGlvbnMgPSB7XG4gIC8vIENsb3NlIHdoZW4gZGF0ZSBpcyBzZWxlY3RlZFxuICBhdXRvQ2xvc2U6IGZhbHNlLFxuICAvLyB0aGUgZGVmYXVsdCBvdXRwdXQgZm9ybWF0IGZvciB0aGUgaW5wdXQgZmllbGQgdmFsdWVcbiAgZm9ybWF0OiAnbW1tIGRkLCB5eXl5JyxcbiAgLy8gVXNlZCB0byBjcmVhdGUgZGF0ZSBvYmplY3QgZnJvbSBjdXJyZW50IGlucHV0IHN0cmluZ1xuICBwYXJzZTogbnVsbCxcbiAgLy8gVGhlIGluaXRpYWwgZGF0ZSB0byB2aWV3IHdoZW4gZmlyc3Qgb3BlbmVkXG4gIGRlZmF1bHREYXRlOiBudWxsLFxuICAvLyBNYWtlIHRoZSBgZGVmYXVsdERhdGVgIHRoZSBpbml0aWFsIHNlbGVjdGVkIHZhbHVlXG4gIHNldERlZmF1bHREYXRlOiBmYWxzZSxcbiAgZGlzYWJsZVdlZWtlbmRzOiBmYWxzZSxcbiAgZGlzYWJsZURheUZuOiBudWxsLFxuICAvLyBGaXJzdCBkYXkgb2Ygd2VlayAoMDogU3VuZGF5LCAxOiBNb25kYXkgZXRjKVxuICBmaXJzdERheTogMCxcbiAgLy8gVGhlIGVhcmxpZXN0IGRhdGUgdGhhdCBjYW4gYmUgc2VsZWN0ZWRcbiAgbWluRGF0ZTogbnVsbCxcbiAgLy8gVGhlbGF0ZXN0IGRhdGUgdGhhdCBjYW4gYmUgc2VsZWN0ZWRcbiAgbWF4RGF0ZTogbnVsbCxcbiAgLy8gTnVtYmVyIG9mIHllYXJzIGVpdGhlciBzaWRlLCBvciBhcnJheSBvZiB1cHBlci9sb3dlciByYW5nZVxuICB5ZWFyUmFuZ2U6IDEwLFxuICAvLyB1c2VkIGludGVybmFsbHkgKGRvbid0IGNvbmZpZyBvdXRzaWRlKVxuICBtaW5ZZWFyOiAwLFxuICBtYXhZZWFyOiA5OTk5LFxuICBtaW5Nb250aDogdW5kZWZpbmVkLFxuICBtYXhNb250aDogdW5kZWZpbmVkLFxuICBzdGFydFJhbmdlOiBudWxsLFxuICBlbmRSYW5nZTogbnVsbCxcbiAgaXNSVEw6IGZhbHNlLFxuICB5ZWFyUmFuZ2VSZXZlcnNlOiBmYWxzZSxcbiAgLy8gUmVuZGVyIHRoZSBtb250aCBhZnRlciB5ZWFyIGluIHRoZSBjYWxlbmRhciB0aXRsZVxuICBzaG93TW9udGhBZnRlclllYXI6IGZhbHNlLFxuICAvLyBSZW5kZXIgZGF5cyBvZiB0aGUgY2FsZW5kYXIgZ3JpZCB0aGF0IGZhbGwgaW4gdGhlIG5leHQgb3IgcHJldmlvdXMgbW9udGhcbiAgc2hvd0RheXNJbk5leHRBbmRQcmV2aW91c01vbnRoczogZmFsc2UsXG4gIC8vIFNwZWNpZnkgYSBET00gZWxlbWVudCB0byByZW5kZXIgdGhlIGNhbGVuZGFyIGluXG4gIGNvbnRhaW5lcjogbnVsbCxcbiAgLy8gU2hvdyBjbGVhciBidXR0b25cbiAgc2hvd0NsZWFyQnRuOiBmYWxzZSxcbiAgLy8gaW50ZXJuYXRpb25hbGl6YXRpb25cbiAgaTE4bjoge1xuICAgIGNhbmNlbDogJ0NhbmNlbCcsXG4gICAgY2xlYXI6ICdDbGVhcicsXG4gICAgZG9uZTogJ09rJyxcbiAgICBwcmV2aW91c01vbnRoOiAn4oC5JyxcbiAgICBuZXh0TW9udGg6ICfigLonLFxuICAgIG1vbnRoczogW1xuICAgICAgJ0phbnVhcnknLFxuICAgICAgJ0ZlYnJ1YXJ5JyxcbiAgICAgICdNYXJjaCcsXG4gICAgICAnQXByaWwnLFxuICAgICAgJ01heScsXG4gICAgICAnSnVuZScsXG4gICAgICAnSnVseScsXG4gICAgICAnQXVndXN0JyxcbiAgICAgICdTZXB0ZW1iZXInLFxuICAgICAgJ09jdG9iZXInLFxuICAgICAgJ05vdmVtYmVyJyxcbiAgICAgICdEZWNlbWJlcidcbiAgICBdLFxuICAgIG1vbnRoc1Nob3J0OiBbXG4gICAgICAnSmFuJyxcbiAgICAgICdGZWInLFxuICAgICAgJ01hcicsXG4gICAgICAnQXByJyxcbiAgICAgICdNYXknLFxuICAgICAgJ0p1bicsXG4gICAgICAnSnVsJyxcbiAgICAgICdBdWcnLFxuICAgICAgJ1NlcCcsXG4gICAgICAnT2N0JyxcbiAgICAgICdOb3YnLFxuICAgICAgJ0RlYydcbiAgICBdLFxuICAgIHdlZWtkYXlzOiBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J10sXG4gICAgd2Vla2RheXNTaG9ydDogWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXSxcbiAgICB3ZWVrZGF5c0FiYnJldjogWydTJywgJ00nLCAnVCcsICdXJywgJ1QnLCAnRicsICdTJ11cbiAgfSxcbiAgLy8gZXZlbnRzIGFycmF5XG4gIGV2ZW50czogW10sXG4gIC8vIGNhbGxiYWNrIGZ1bmN0aW9uXG4gIG9uU2VsZWN0OiBudWxsLFxuICBvbk9wZW46IG51bGwsXG4gIG9uQ2xvc2U6IG51bGwsXG4gIG9uRHJhdzogbnVsbFxufTtcblxuZXhwb3J0IGNsYXNzIERhdGVwaWNrZXIgZXh0ZW5kcyBDb21wb25lbnQ8RGF0ZXBpY2tlck9wdGlvbnM+IHtcbiAgZGVjbGFyZSBlbDogSFRNTElucHV0RWxlbWVudFxuICBpZDogc3RyaW5nO1xuICAvKiogSWYgdGhlIHBpY2tlciBpcyBvcGVuLiAqL1xuICBpc09wZW46IGJvb2xlYW47XG4gIG1vZGFsOiBNb2RhbDtcbiAgY2FsZW5kYXJFbDogSFRNTEVsZW1lbnQ7XG4gIC8qKiBDTEVBUiBidXR0b24gaW5zdGFuY2UuICovXG4gIGNsZWFyQnRuOiBIVE1MRWxlbWVudDtcbiAgLyoqIERPTkUgYnV0dG9uIGluc3RhbmNlICovXG4gIGRvbmVCdG46IEhUTUxFbGVtZW50O1xuICBjYW5jZWxCdG46IEhUTUxFbGVtZW50O1xuICBtb2RhbEVsOiBIVE1MRWxlbWVudDtcbiAgeWVhclRleHRFbDogSFRNTEVsZW1lbnQ7XG4gIGRhdGVUZXh0RWw6IEhUTUxFbGVtZW50O1xuICAvKiogVGhlIHNlbGVjdGVkIERhdGUuICovXG4gIGRhdGU6IERhdGU7XG4gIGZvcm1hdHM6IGFueTtcbiAgY2FsZW5kYXJzOiBhbnk7XG4gIHByaXZhdGUgX3k6IGFueTtcbiAgcHJpdmF0ZSBfbTogYW55O1xuICBzdGF0aWMgX3RlbXBsYXRlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoZWw6IEhUTUxJbnB1dEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8RGF0ZXBpY2tlck9wdGlvbnM+KSB7XG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIERhdGVwaWNrZXIpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9EYXRlcGlja2VyID0gdGhpcztcbiAgICBcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi5EYXRlcGlja2VyLmRlZmF1bHRzLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG5cbiAgICAvLyBtYWtlIHN1cmUgaTE4biBkZWZhdWx0cyBhcmUgbm90IGxvc3Qgd2hlbiBvbmx5IGZldyBpMThuIG9wdGlvbiBwcm9wZXJ0aWVzIGFyZSBwYXNzZWRcbiAgICBpZiAoISFvcHRpb25zICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2kxOG4nKSAmJiB0eXBlb2Ygb3B0aW9ucy5pMThuID09PSAnb2JqZWN0Jykge1xuICAgICAgdGhpcy5vcHRpb25zLmkxOG4gPSB7Li4uRGF0ZXBpY2tlci5kZWZhdWx0cy5pMThuLCAuLi5vcHRpb25zLmkxOG59O1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSB0aW1lIGNvbXBvbmVudCBmcm9tIG1pbkRhdGUgYW5kIG1heERhdGUgb3B0aW9uc1xuICAgIGlmICh0aGlzLm9wdGlvbnMubWluRGF0ZSkgdGhpcy5vcHRpb25zLm1pbkRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5tYXhEYXRlKSB0aGlzLm9wdGlvbnMubWF4RGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcblxuICAgIHRoaXMuaWQgPSBVdGlscy5ndWlkKCk7XG5cbiAgICB0aGlzLl9zZXR1cFZhcmlhYmxlcygpO1xuICAgIHRoaXMuX2luc2VydEhUTUxJbnRvRE9NKCk7XG4gICAgdGhpcy5fc2V0dXBNb2RhbCgpO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZGVmYXVsdERhdGUpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5kZWZhdWx0RGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2UodGhpcy5lbC52YWx1ZSkpO1xuICAgIH1cblxuICAgIGxldCBkZWZEYXRlID0gdGhpcy5vcHRpb25zLmRlZmF1bHREYXRlO1xuICAgIGlmIChEYXRlcGlja2VyLl9pc0RhdGUoZGVmRGF0ZSkpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2V0RGVmYXVsdERhdGUpIHtcbiAgICAgICAgdGhpcy5zZXREYXRlKGRlZkRhdGUsIHRydWUpO1xuICAgICAgICB0aGlzLnNldElucHV0VmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmdvdG9EYXRlKGRlZkRhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuZ290b0RhdGUobmV3IERhdGUoKSk7XG4gICAgfVxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgRGF0ZXBpY2tlci5cbiAgICogQHBhcmFtIGVsIEhUTUwgZWxlbWVudC5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbDogSFRNTElucHV0RWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8RGF0ZXBpY2tlck9wdGlvbnM+KTogRGF0ZXBpY2tlcjtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBEYXRlcGlja2VyLlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8SFRNTElucHV0RWxlbWVudCB8IE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8RGF0ZXBpY2tlck9wdGlvbnM+KTogRGF0ZXBpY2tlcltdO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIERhdGVwaWNrZXIuXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxJbnB1dEVsZW1lbnQgfCBJbml0RWxlbWVudHM8SFRNTElucHV0RWxlbWVudCB8IE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxEYXRlcGlja2VyT3B0aW9ucz4gPSB7fSk6IERhdGVwaWNrZXIgfCBEYXRlcGlja2VyW10ge1xuICAgIHJldHVybiBzdXBlci5pbml0KGVscywgb3B0aW9ucywgRGF0ZXBpY2tlcik7XG4gIH1cblxuICBzdGF0aWMgX2lzRGF0ZShvYmopIHtcbiAgICByZXR1cm4gL0RhdGUvLnRlc3QoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpICYmICFpc05hTihvYmouZ2V0VGltZSgpKTtcbiAgfVxuXG4gIHN0YXRpYyBfaXNXZWVrZW5kKGRhdGUpIHtcbiAgICBsZXQgZGF5ID0gZGF0ZS5nZXREYXkoKTtcbiAgICByZXR1cm4gZGF5ID09PSAwIHx8IGRheSA9PT0gNjtcbiAgfVxuXG4gIHN0YXRpYyBfc2V0VG9TdGFydE9mRGF5KGRhdGUpIHtcbiAgICBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKGRhdGUpKSBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICB9XG5cbiAgc3RhdGljIF9nZXREYXlzSW5Nb250aCh5ZWFyLCBtb250aCkge1xuICAgIHJldHVybiBbMzEsIERhdGVwaWNrZXIuX2lzTGVhcFllYXIoeWVhcikgPyAyOSA6IDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV1bXG4gICAgICBtb250aFxuICAgIF07XG4gIH1cblxuICBzdGF0aWMgX2lzTGVhcFllYXIoeWVhcikge1xuICAgIC8vIHNvbHV0aW9uIGJ5IE1hdHRpIFZpcmtrdW5lbjogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDg4MTk1MVxuICAgIHJldHVybiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMDtcbiAgfVxuXG4gIHN0YXRpYyBfY29tcGFyZURhdGVzKGEsIGIpIHtcbiAgICAvLyB3ZWFrIGRhdGUgY29tcGFyaXNvbiAodXNlIHNldFRvU3RhcnRPZkRheShkYXRlKSB0byBlbnN1cmUgY29ycmVjdCByZXN1bHQpXG4gICAgcmV0dXJuIGEuZ2V0VGltZSgpID09PSBiLmdldFRpbWUoKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBEYXRlcGlja2VyIHtcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9EYXRlcGlja2VyO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5tb2RhbC5kZXN0cm95KCk7XG4gICAgdGhpcy5tb2RhbEVsLnJlbW92ZSgpO1xuICAgIHRoaXMuZGVzdHJveVNlbGVjdHMoKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fRGF0ZXBpY2tlciA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGRlc3Ryb3lTZWxlY3RzKCkge1xuICAgIGxldCBvbGRZZWFyU2VsZWN0ID0gdGhpcy5jYWxlbmRhckVsLnF1ZXJ5U2VsZWN0b3IoJy5vcmlnLXNlbGVjdC15ZWFyJyk7XG4gICAgaWYgKG9sZFllYXJTZWxlY3QpIHtcbiAgICAgIEZvcm1TZWxlY3QuZ2V0SW5zdGFuY2Uob2xkWWVhclNlbGVjdCBhcyBIVE1MRWxlbWVudCkuZGVzdHJveSgpO1xuICAgIH1cbiAgICBsZXQgb2xkTW9udGhTZWxlY3QgPSB0aGlzLmNhbGVuZGFyRWwucXVlcnlTZWxlY3RvcignLm9yaWctc2VsZWN0LW1vbnRoJyk7XG4gICAgaWYgKG9sZE1vbnRoU2VsZWN0KSB7XG4gICAgICBGb3JtU2VsZWN0LmdldEluc3RhbmNlKG9sZE1vbnRoU2VsZWN0IGFzIEhUTUxFbGVtZW50KS5kZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgX2luc2VydEhUTUxJbnRvRE9NKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NsZWFyQnRuKSB7XG4gICAgICB0aGlzLmNsZWFyQnRuLnN0eWxlLnZpc2liaWxpdHkgPSAnJztcbiAgICAgIHRoaXMuY2xlYXJCdG4uaW5uZXJUZXh0ID0gdGhpcy5vcHRpb25zLmkxOG4uY2xlYXI7XG4gICAgfVxuICAgIHRoaXMuZG9uZUJ0bi5pbm5lclRleHQgPSB0aGlzLm9wdGlvbnMuaTE4bi5kb25lO1xuICAgIHRoaXMuY2FuY2VsQnRuLmlubmVyVGV4dCA9IHRoaXMub3B0aW9ucy5pMThuLmNhbmNlbDtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGFpbmVyKSB7XG4gICAgICBjb25zdCBvcHRFbCA9IHRoaXMub3B0aW9ucy5jb250YWluZXI7XG4gICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID1cbiAgICAgICAgb3B0RWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IG9wdEVsIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRFbCkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyLmFwcGVuZCh0aGlzLm1vZGFsRWwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vdGhpcy5tb2RhbEVsLmJlZm9yZSh0aGlzLmVsKTtcbiAgICAgIHRoaXMuZWwucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsRWwpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXR1cE1vZGFsKCkge1xuICAgIHRoaXMubW9kYWxFbC5pZCA9ICdtb2RhbC0nICsgdGhpcy5pZDtcbiAgICB0aGlzLm1vZGFsID0gTW9kYWwuaW5pdCh0aGlzLm1vZGFsRWwsIHtcbiAgICAgIG9uQ2xvc2VFbmQ6ICgpID0+IHtcbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBzZWxlY3RlZCBkYXRlLlxuICAgKi9cbiAgdG9TdHJpbmcoZm9ybWF0OiBzdHJpbmcgfCAoKGQ6IERhdGUpID0+IHN0cmluZykgPSBudWxsKTogc3RyaW5nIHtcbiAgICBmb3JtYXQgPSBmb3JtYXQgfHwgdGhpcy5vcHRpb25zLmZvcm1hdDtcbiAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZvcm1hdCh0aGlzLmRhdGUpO1xuICAgIGlmICghRGF0ZXBpY2tlci5faXNEYXRlKHRoaXMuZGF0ZSkpIHJldHVybiAnJztcbiAgICAvLyBTdHJpbmcgRm9ybWF0XG4gICAgY29uc3QgZm9ybWF0QXJyYXkgPSBmb3JtYXQuc3BsaXQoLyhkezEsNH18bXsxLDR9fHl7NH18eXl8IS4pL2cpO1xuICAgIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBmb3JtYXRBcnJheVxuICAgICAgLm1hcChsYWJlbCA9PiB0aGlzLmZvcm1hdHNbbGFiZWxdID8gdGhpcy5mb3JtYXRzW2xhYmVsXSgpIDogbGFiZWwpXG4gICAgICAuam9pbignJyk7XG4gICAgcmV0dXJuIGZvcm1hdHRlZERhdGU7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgZGF0ZSBvbiB0aGUgZGF0ZXBpY2tlci5cbiAgICogQHBhcmFtIGRhdGUgRGF0ZSB0byBzZXQgb24gdGhlIGRhdGVwaWNrZXIuXG4gICAqIEBwYXJhbSBwcmV2ZW50T25TZWxlY3QgVW5kb2N1bWVudGVkIGFzIG9mIDUgTWFyY2ggMjAxOC5cbiAgICovXG4gIHNldERhdGUoZGF0ZTogRGF0ZSB8IHN0cmluZyA9IG51bGwsIHByZXZlbnRPblNlbGVjdDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgaWYgKCFkYXRlKSB7XG4gICAgICB0aGlzLmRhdGUgPSBudWxsO1xuICAgICAgdGhpcy5fcmVuZGVyRGF0ZURpc3BsYXkoKTtcbiAgICAgIHJldHVybiB0aGlzLmRyYXcoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJykge1xuICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2UoZGF0ZSkpO1xuICAgIH1cbiAgICBpZiAoIURhdGVwaWNrZXIuX2lzRGF0ZShkYXRlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbWluID0gdGhpcy5vcHRpb25zLm1pbkRhdGUsXG4gICAgICBtYXggPSB0aGlzLm9wdGlvbnMubWF4RGF0ZTtcbiAgICBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKG1pbikgJiYgZGF0ZSA8IG1pbikge1xuICAgICAgZGF0ZSA9IG1pbjtcbiAgICB9XG4gICAgZWxzZSBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKG1heCkgJiYgZGF0ZSA+IG1heCkge1xuICAgICAgZGF0ZSA9IG1heDtcbiAgICB9XG4gICAgdGhpcy5kYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICAgIHRoaXMuX3JlbmRlckRhdGVEaXNwbGF5KCk7XG4gICAgRGF0ZXBpY2tlci5fc2V0VG9TdGFydE9mRGF5KHRoaXMuZGF0ZSk7XG4gICAgdGhpcy5nb3RvRGF0ZSh0aGlzLmRhdGUpO1xuICAgIGlmICghcHJldmVudE9uU2VsZWN0ICYmIHR5cGVvZiB0aGlzLm9wdGlvbnMub25TZWxlY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vblNlbGVjdC5jYWxsKHRoaXMsIHRoaXMuZGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgY3VycmVudCBkYXRlIGFzIHRoZSBpbnB1dCB2YWx1ZS5cbiAgICovXG4gIHNldElucHV0VmFsdWUoKSB7XG4gICAgdGhpcy5lbC52YWx1ZSA9IHRoaXMudG9TdHJpbmcoKTtcbiAgICB0aGlzLmVsLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjaGFuZ2UnLCB7ZGV0YWlsOiB7ZmlyZWRCeTogdGhpc319KSk7XG4gIH1cblxuICBfcmVuZGVyRGF0ZURpc3BsYXkoKSB7XG4gICAgbGV0IGRpc3BsYXlEYXRlID0gRGF0ZXBpY2tlci5faXNEYXRlKHRoaXMuZGF0ZSkgPyB0aGlzLmRhdGUgOiBuZXcgRGF0ZSgpO1xuICAgIGxldCBpMThuID0gdGhpcy5vcHRpb25zLmkxOG47XG4gICAgbGV0IGRheSA9IGkxOG4ud2Vla2RheXNTaG9ydFtkaXNwbGF5RGF0ZS5nZXREYXkoKV07XG4gICAgbGV0IG1vbnRoID0gaTE4bi5tb250aHNTaG9ydFtkaXNwbGF5RGF0ZS5nZXRNb250aCgpXTtcbiAgICBsZXQgZGF0ZSA9IGRpc3BsYXlEYXRlLmdldERhdGUoKTtcbiAgICB0aGlzLnllYXJUZXh0RWwuaW5uZXJIVE1MID0gZGlzcGxheURhdGUuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xuICAgIHRoaXMuZGF0ZVRleHRFbC5pbm5lckhUTUwgPSBgJHtkYXl9LCAke21vbnRofSAke2RhdGV9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFuZ2UgZGF0ZSB2aWV3IHRvIGEgc3BlY2lmaWMgZGF0ZSBvbiB0aGUgZGF0ZXBpY2tlci5cbiAgICogQHBhcmFtIGRhdGUgRGF0ZSB0byBzaG93IG9uIHRoZSBkYXRlcGlja2VyLlxuICAgKi9cbiAgZ290b0RhdGUoZGF0ZTogRGF0ZSkge1xuICAgIGxldCBuZXdDYWxlbmRhciA9IHRydWU7XG4gICAgaWYgKCFEYXRlcGlja2VyLl9pc0RhdGUoZGF0ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FsZW5kYXJzKSB7XG4gICAgICBsZXQgZmlyc3RWaXNpYmxlRGF0ZSA9IG5ldyBEYXRlKHRoaXMuY2FsZW5kYXJzWzBdLnllYXIsIHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoLCAxKSxcbiAgICAgICAgbGFzdFZpc2libGVEYXRlID0gbmV3IERhdGUoXG4gICAgICAgICAgdGhpcy5jYWxlbmRhcnNbdGhpcy5jYWxlbmRhcnMubGVuZ3RoIC0gMV0ueWVhcixcbiAgICAgICAgICB0aGlzLmNhbGVuZGFyc1t0aGlzLmNhbGVuZGFycy5sZW5ndGggLSAxXS5tb250aCxcbiAgICAgICAgICAxXG4gICAgICAgICksXG4gICAgICAgIHZpc2libGVEYXRlID0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAvLyBnZXQgdGhlIGVuZCBvZiB0aGUgbW9udGhcbiAgICAgIGxhc3RWaXNpYmxlRGF0ZS5zZXRNb250aChsYXN0VmlzaWJsZURhdGUuZ2V0TW9udGgoKSArIDEpO1xuICAgICAgbGFzdFZpc2libGVEYXRlLnNldERhdGUobGFzdFZpc2libGVEYXRlLmdldERhdGUoKSAtIDEpO1xuICAgICAgbmV3Q2FsZW5kYXIgPVxuICAgICAgICB2aXNpYmxlRGF0ZSA8IGZpcnN0VmlzaWJsZURhdGUuZ2V0VGltZSgpIHx8IGxhc3RWaXNpYmxlRGF0ZS5nZXRUaW1lKCkgPCB2aXNpYmxlRGF0ZTtcbiAgICB9XG4gICAgaWYgKG5ld0NhbGVuZGFyKSB7XG4gICAgICB0aGlzLmNhbGVuZGFycyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIG1vbnRoOiBkYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgeWVhcjogZGF0ZS5nZXRGdWxsWWVhcigpXG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgfVxuICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gIH1cblxuICBhZGp1c3RDYWxlbmRhcnMoKSB7XG4gICAgdGhpcy5jYWxlbmRhcnNbMF0gPSB0aGlzLmFkanVzdENhbGVuZGFyKHRoaXMuY2FsZW5kYXJzWzBdKTtcbiAgICB0aGlzLmRyYXcoKTtcbiAgfVxuXG4gIGFkanVzdENhbGVuZGFyKGNhbGVuZGFyKSB7XG4gICAgaWYgKGNhbGVuZGFyLm1vbnRoIDwgMCkge1xuICAgICAgY2FsZW5kYXIueWVhciAtPSBNYXRoLmNlaWwoTWF0aC5hYnMoY2FsZW5kYXIubW9udGgpIC8gMTIpO1xuICAgICAgY2FsZW5kYXIubW9udGggKz0gMTI7XG4gICAgfVxuICAgIGlmIChjYWxlbmRhci5tb250aCA+IDExKSB7XG4gICAgICBjYWxlbmRhci55ZWFyICs9IE1hdGguZmxvb3IoTWF0aC5hYnMoY2FsZW5kYXIubW9udGgpIC8gMTIpO1xuICAgICAgY2FsZW5kYXIubW9udGggLT0gMTI7XG4gICAgfVxuICAgIHJldHVybiBjYWxlbmRhcjtcbiAgfVxuXG4gIG5leHRNb250aCgpIHtcbiAgICB0aGlzLmNhbGVuZGFyc1swXS5tb250aCsrO1xuICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gIH1cblxuICBwcmV2TW9udGgoKSB7XG4gICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGgtLTtcbiAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICB9XG5cbiAgcmVuZGVyKHllYXIsIG1vbnRoLCByYW5kSWQpIHtcbiAgICBsZXQgb3B0cyA9IHRoaXMub3B0aW9ucyxcbiAgICAgIG5vdyA9IG5ldyBEYXRlKCksXG4gICAgICBkYXlzID0gRGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoeWVhciwgbW9udGgpLFxuICAgICAgYmVmb3JlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpLmdldERheSgpLFxuICAgICAgZGF0YSA9IFtdLFxuICAgICAgcm93ID0gW107XG4gICAgRGF0ZXBpY2tlci5fc2V0VG9TdGFydE9mRGF5KG5vdyk7XG4gICAgaWYgKG9wdHMuZmlyc3REYXkgPiAwKSB7XG4gICAgICBiZWZvcmUgLT0gb3B0cy5maXJzdERheTtcbiAgICAgIGlmIChiZWZvcmUgPCAwKSB7XG4gICAgICAgIGJlZm9yZSArPSA3O1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcHJldmlvdXNNb250aCA9IG1vbnRoID09PSAwID8gMTEgOiBtb250aCAtIDEsXG4gICAgICBuZXh0TW9udGggPSBtb250aCA9PT0gMTEgPyAwIDogbW9udGggKyAxLFxuICAgICAgeWVhck9mUHJldmlvdXNNb250aCA9IG1vbnRoID09PSAwID8geWVhciAtIDEgOiB5ZWFyLFxuICAgICAgeWVhck9mTmV4dE1vbnRoID0gbW9udGggPT09IDExID8geWVhciArIDEgOiB5ZWFyLFxuICAgICAgZGF5c0luUHJldmlvdXNNb250aCA9IERhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKHllYXJPZlByZXZpb3VzTW9udGgsIHByZXZpb3VzTW9udGgpO1xuICAgIGxldCBjZWxscyA9IGRheXMgKyBiZWZvcmUsXG4gICAgICBhZnRlciA9IGNlbGxzO1xuICAgIHdoaWxlIChhZnRlciA+IDcpIHtcbiAgICAgIGFmdGVyIC09IDc7XG4gICAgfVxuICAgIGNlbGxzICs9IDcgLSBhZnRlcjtcbiAgICBsZXQgaXNXZWVrU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMCwgciA9IDA7IGkgPCBjZWxsczsgaSsrKSB7XG4gICAgICBsZXQgZGF5ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEgKyAoaSAtIGJlZm9yZSkpLFxuICAgICAgICBpc1NlbGVjdGVkID0gRGF0ZXBpY2tlci5faXNEYXRlKHRoaXMuZGF0ZSlcbiAgICAgICAgICA/IERhdGVwaWNrZXIuX2NvbXBhcmVEYXRlcyhkYXksIHRoaXMuZGF0ZSlcbiAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICBpc1RvZGF5ID0gRGF0ZXBpY2tlci5fY29tcGFyZURhdGVzKGRheSwgbm93KSxcbiAgICAgICAgaGFzRXZlbnQgPSBvcHRzLmV2ZW50cy5pbmRleE9mKGRheS50b0RhdGVTdHJpbmcoKSkgIT09IC0xID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICBpc0VtcHR5ID0gaSA8IGJlZm9yZSB8fCBpID49IGRheXMgKyBiZWZvcmUsXG4gICAgICAgIGRheU51bWJlciA9IDEgKyAoaSAtIGJlZm9yZSksXG4gICAgICAgIG1vbnRoTnVtYmVyID0gbW9udGgsXG4gICAgICAgIHllYXJOdW1iZXIgPSB5ZWFyLFxuICAgICAgICBpc1N0YXJ0UmFuZ2UgPSBvcHRzLnN0YXJ0UmFuZ2UgJiYgRGF0ZXBpY2tlci5fY29tcGFyZURhdGVzKG9wdHMuc3RhcnRSYW5nZSwgZGF5KSxcbiAgICAgICAgaXNFbmRSYW5nZSA9IG9wdHMuZW5kUmFuZ2UgJiYgRGF0ZXBpY2tlci5fY29tcGFyZURhdGVzKG9wdHMuZW5kUmFuZ2UsIGRheSksXG4gICAgICAgIGlzSW5SYW5nZSA9XG4gICAgICAgICAgb3B0cy5zdGFydFJhbmdlICYmIG9wdHMuZW5kUmFuZ2UgJiYgb3B0cy5zdGFydFJhbmdlIDwgZGF5ICYmIGRheSA8IG9wdHMuZW5kUmFuZ2UsXG4gICAgICAgIGlzRGlzYWJsZWQgPVxuICAgICAgICAgIChvcHRzLm1pbkRhdGUgJiYgZGF5IDwgb3B0cy5taW5EYXRlKSB8fFxuICAgICAgICAgIChvcHRzLm1heERhdGUgJiYgZGF5ID4gb3B0cy5tYXhEYXRlKSB8fFxuICAgICAgICAgIChvcHRzLmRpc2FibGVXZWVrZW5kcyAmJiBEYXRlcGlja2VyLl9pc1dlZWtlbmQoZGF5KSkgfHxcbiAgICAgICAgICAob3B0cy5kaXNhYmxlRGF5Rm4gJiYgb3B0cy5kaXNhYmxlRGF5Rm4oZGF5KSk7XG5cbiAgICAgIGlmIChpc0VtcHR5KSB7XG4gICAgICAgIGlmIChpIDwgYmVmb3JlKSB7XG4gICAgICAgICAgZGF5TnVtYmVyID0gZGF5c0luUHJldmlvdXNNb250aCArIGRheU51bWJlcjtcbiAgICAgICAgICBtb250aE51bWJlciA9IHByZXZpb3VzTW9udGg7XG4gICAgICAgICAgeWVhck51bWJlciA9IHllYXJPZlByZXZpb3VzTW9udGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF5TnVtYmVyID0gZGF5TnVtYmVyIC0gZGF5cztcbiAgICAgICAgICBtb250aE51bWJlciA9IG5leHRNb250aDtcbiAgICAgICAgICB5ZWFyTnVtYmVyID0geWVhck9mTmV4dE1vbnRoO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxldCBkYXlDb25maWcgPSB7XG4gICAgICAgIGRheTogZGF5TnVtYmVyLFxuICAgICAgICBtb250aDogbW9udGhOdW1iZXIsXG4gICAgICAgIHllYXI6IHllYXJOdW1iZXIsXG4gICAgICAgIGhhc0V2ZW50OiBoYXNFdmVudCxcbiAgICAgICAgaXNTZWxlY3RlZDogaXNTZWxlY3RlZCxcbiAgICAgICAgaXNUb2RheTogaXNUb2RheSxcbiAgICAgICAgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgICAgaXNFbXB0eTogaXNFbXB0eSxcbiAgICAgICAgaXNTdGFydFJhbmdlOiBpc1N0YXJ0UmFuZ2UsXG4gICAgICAgIGlzRW5kUmFuZ2U6IGlzRW5kUmFuZ2UsXG4gICAgICAgIGlzSW5SYW5nZTogaXNJblJhbmdlLFxuICAgICAgICBzaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzOiBvcHRzLnNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHNcbiAgICAgIH07XG5cbiAgICAgIHJvdy5wdXNoKHRoaXMucmVuZGVyRGF5KGRheUNvbmZpZykpO1xuXG4gICAgICBpZiAoKytyID09PSA3KSB7XG4gICAgICAgIGRhdGEucHVzaCh0aGlzLnJlbmRlclJvdyhyb3csIG9wdHMuaXNSVEwsIGlzV2Vla1NlbGVjdGVkKSk7XG4gICAgICAgIHJvdyA9IFtdO1xuICAgICAgICByID0gMDtcbiAgICAgICAgaXNXZWVrU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyVGFibGUob3B0cywgZGF0YSwgcmFuZElkKTtcbiAgfVxuXG4gIHJlbmRlckRheShvcHRzKSB7XG4gICAgbGV0IGFyciA9IFtdO1xuICAgIGxldCBhcmlhU2VsZWN0ZWQgPSAnZmFsc2UnO1xuICAgIGlmIChvcHRzLmlzRW1wdHkpIHtcbiAgICAgIGlmIChvcHRzLnNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHMpIHtcbiAgICAgICAgYXJyLnB1c2goJ2lzLW91dHNpZGUtY3VycmVudC1tb250aCcpO1xuICAgICAgICBhcnIucHVzaCgnaXMtc2VsZWN0aW9uLWRpc2FibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJzx0ZCBjbGFzcz1cImlzLWVtcHR5XCI+PC90ZD4nO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0cy5pc0Rpc2FibGVkKSB7XG4gICAgICBhcnIucHVzaCgnaXMtZGlzYWJsZWQnKTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5pc1RvZGF5KSB7XG4gICAgICBhcnIucHVzaCgnaXMtdG9kYXknKTtcbiAgICB9XG4gICAgaWYgKG9wdHMuaXNTZWxlY3RlZCkge1xuICAgICAgYXJyLnB1c2goJ2lzLXNlbGVjdGVkJyk7XG4gICAgICBhcmlhU2VsZWN0ZWQgPSAndHJ1ZSc7XG4gICAgfVxuICAgIGlmIChvcHRzLmhhc0V2ZW50KSB7XG4gICAgICBhcnIucHVzaCgnaGFzLWV2ZW50Jyk7XG4gICAgfVxuICAgIGlmIChvcHRzLmlzSW5SYW5nZSkge1xuICAgICAgYXJyLnB1c2goJ2lzLWlucmFuZ2UnKTtcbiAgICB9XG4gICAgaWYgKG9wdHMuaXNTdGFydFJhbmdlKSB7XG4gICAgICBhcnIucHVzaCgnaXMtc3RhcnRyYW5nZScpO1xuICAgIH1cbiAgICBpZiAob3B0cy5pc0VuZFJhbmdlKSB7XG4gICAgICBhcnIucHVzaCgnaXMtZW5kcmFuZ2UnKTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIGA8dGQgZGF0YS1kYXk9XCIke29wdHMuZGF5fVwiIGNsYXNzPVwiJHthcnIuam9pbignICcpfVwiIGFyaWEtc2VsZWN0ZWQ9XCIke2FyaWFTZWxlY3RlZH1cIj5gICtcbiAgICAgIGA8YnV0dG9uIGNsYXNzPVwiZGF0ZXBpY2tlci1kYXktYnV0dG9uXCIgdHlwZT1cImJ1dHRvblwiIGRhdGEteWVhcj1cIiR7b3B0cy55ZWFyfVwiIGRhdGEtbW9udGg9XCIke29wdHMubW9udGh9XCIgZGF0YS1kYXk9XCIke29wdHMuZGF5fVwiPiR7b3B0cy5kYXl9PC9idXR0b24+YCArXG4gICAgICAnPC90ZD4nXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclJvdyhkYXlzLCBpc1JUTCwgaXNSb3dTZWxlY3RlZCkge1xuICAgIHJldHVybiAoXG4gICAgICAnPHRyIGNsYXNzPVwiZGF0ZXBpY2tlci1yb3cnICtcbiAgICAgIChpc1Jvd1NlbGVjdGVkID8gJyBpcy1zZWxlY3RlZCcgOiAnJykgK1xuICAgICAgJ1wiPicgK1xuICAgICAgKGlzUlRMID8gZGF5cy5yZXZlcnNlKCkgOiBkYXlzKS5qb2luKCcnKSArXG4gICAgICAnPC90cj4nXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclRhYmxlKG9wdHMsIGRhdGEsIHJhbmRJZCkge1xuICAgIHJldHVybiAoXG4gICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItdGFibGUtd3JhcHBlclwiPjx0YWJsZSBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIiBjbGFzcz1cImRhdGVwaWNrZXItdGFibGVcIiByb2xlPVwiZ3JpZFwiIGFyaWEtbGFiZWxsZWRieT1cIicgK1xuICAgICAgcmFuZElkICtcbiAgICAgICdcIj4nICtcbiAgICAgIHRoaXMucmVuZGVySGVhZChvcHRzKSArXG4gICAgICB0aGlzLnJlbmRlckJvZHkoZGF0YSkgK1xuICAgICAgJzwvdGFibGU+PC9kaXY+J1xuICAgICk7XG4gIH1cblxuICByZW5kZXJIZWFkKG9wdHMpIHtcbiAgICBsZXQgaSxcbiAgICAgIGFyciA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgIGFyci5wdXNoKFxuICAgICAgICBgPHRoIHNjb3BlPVwiY29sXCI+PGFiYnIgdGl0bGU9XCIke3RoaXMucmVuZGVyRGF5TmFtZShvcHRzLCBpKX1cIj4ke3RoaXMucmVuZGVyRGF5TmFtZShcbiAgICAgICAgICBvcHRzLFxuICAgICAgICAgIGksXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApfTwvYWJicj48L3RoPmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAnPHRoZWFkPjx0cj4nICsgKG9wdHMuaXNSVEwgPyBhcnIucmV2ZXJzZSgpIDogYXJyKS5qb2luKCcnKSArICc8L3RyPjwvdGhlYWQ+JztcbiAgfVxuXG4gIHJlbmRlckJvZHkocm93cykge1xuICAgIHJldHVybiAnPHRib2R5PicgKyByb3dzLmpvaW4oJycpICsgJzwvdGJvZHk+JztcbiAgfVxuXG4gIHJlbmRlclRpdGxlKGluc3RhbmNlLCBjLCB5ZWFyLCBtb250aCwgcmVmWWVhciwgcmFuZElkKSB7XG4gICAgbGV0IGksXG4gICAgICBqLFxuICAgICAgYXJyLFxuICAgICAgb3B0cyA9IHRoaXMub3B0aW9ucyxcbiAgICAgIGlzTWluWWVhciA9IHllYXIgPT09IG9wdHMubWluWWVhcixcbiAgICAgIGlzTWF4WWVhciA9IHllYXIgPT09IG9wdHMubWF4WWVhcixcbiAgICAgIGh0bWwgPVxuICAgICAgICAnPGRpdiBpZD1cIicgK1xuICAgICAgICByYW5kSWQgK1xuICAgICAgICAnXCIgY2xhc3M9XCJkYXRlcGlja2VyLWNvbnRyb2xzXCIgcm9sZT1cImhlYWRpbmdcIiBhcmlhLWxpdmU9XCJhc3NlcnRpdmVcIj4nLFxuICAgICAgbW9udGhIdG1sLFxuICAgICAgeWVhckh0bWwsXG4gICAgICBwcmV2ID0gdHJ1ZSxcbiAgICAgIG5leHQgPSB0cnVlO1xuXG4gICAgZm9yIChhcnIgPSBbXSwgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICBhcnIucHVzaChcbiAgICAgICAgJzxvcHRpb24gdmFsdWU9XCInICtcbiAgICAgICAgICAoeWVhciA9PT0gcmVmWWVhciA/IGkgLSBjIDogMTIgKyBpIC0gYykgK1xuICAgICAgICAgICdcIicgK1xuICAgICAgICAgIChpID09PSBtb250aCA/ICcgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJyA6ICcnKSArXG4gICAgICAgICAgKChpc01pblllYXIgJiYgaSA8IG9wdHMubWluTW9udGgpIHx8IChpc01heFllYXIgJiYgaSA+IG9wdHMubWF4TW9udGgpXG4gICAgICAgICAgICA/ICdkaXNhYmxlZD1cImRpc2FibGVkXCInXG4gICAgICAgICAgICA6ICcnKSArXG4gICAgICAgICAgJz4nICtcbiAgICAgICAgICBvcHRzLmkxOG4ubW9udGhzW2ldICtcbiAgICAgICAgICAnPC9vcHRpb24+J1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBtb250aEh0bWwgPSAnPHNlbGVjdCBjbGFzcz1cImRhdGVwaWNrZXItc2VsZWN0IG9yaWctc2VsZWN0LW1vbnRoXCIgdGFiaW5kZXg9XCItMVwiPicrYXJyLmpvaW4oJycpKyc8L3NlbGVjdD4nO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0cy55ZWFyUmFuZ2UpKSB7XG4gICAgICBpID0gb3B0cy55ZWFyUmFuZ2VbMF07XG4gICAgICBqID0gb3B0cy55ZWFyUmFuZ2VbMV0gKyAxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGkgPSB5ZWFyIC0gb3B0cy55ZWFyUmFuZ2U7XG4gICAgICBqID0gMSArIHllYXIgKyBvcHRzLnllYXJSYW5nZTtcbiAgICB9XG5cbiAgICBmb3IgKGFyciA9IFtdOyBpIDwgaiAmJiBpIDw9IG9wdHMubWF4WWVhcjsgaSsrKSB7XG4gICAgICBpZiAoaSA+PSBvcHRzLm1pblllYXIpIHtcbiAgICAgICAgYXJyLnB1c2goYDxvcHRpb24gdmFsdWU9XCIke2l9XCIgJHtpID09PSB5ZWFyID8gJ3NlbGVjdGVkPVwic2VsZWN0ZWRcIicgOiAnJ30+JHtpfTwvb3B0aW9uPmApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0cy55ZWFyUmFuZ2VSZXZlcnNlKSBhcnIucmV2ZXJzZSgpO1xuXG4gICAgeWVhckh0bWwgPSBgPHNlbGVjdCBjbGFzcz1cImRhdGVwaWNrZXItc2VsZWN0IG9yaWctc2VsZWN0LXllYXJcIiB0YWJpbmRleD1cIi0xXCI+JHthcnIuam9pbignJyl9PC9zZWxlY3Q+YDtcblxuICAgIGxldCBsZWZ0QXJyb3cgPVxuICAgICAgJzxzdmcgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE1LjQxIDE2LjA5bC00LjU4LTQuNTkgNC41OC00LjU5TDE0IDUuNWwtNiA2IDYgNnpcIi8+PHBhdGggZD1cIk0wLS41aDI0djI0SDB6XCIgZmlsbD1cIm5vbmVcIi8+PC9zdmc+JztcbiAgICBodG1sICs9IGA8YnV0dG9uIGNsYXNzPVwibW9udGgtcHJldiR7XG4gICAgICBwcmV2ID8gJycgOiAnIGlzLWRpc2FibGVkJ1xuICAgIH0gYnRuLWZsYXRcIiB0eXBlPVwiYnV0dG9uXCI+JHtsZWZ0QXJyb3d9PC9idXR0b24+YDtcblxuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJzZWxlY3RzLWNvbnRhaW5lclwiPic7XG4gICAgaWYgKG9wdHMuc2hvd01vbnRoQWZ0ZXJZZWFyKSB7XG4gICAgICBodG1sICs9IHllYXJIdG1sICsgbW9udGhIdG1sO1xuICAgIH0gZWxzZSB7XG4gICAgICBodG1sICs9IG1vbnRoSHRtbCArIHllYXJIdG1sO1xuICAgIH1cbiAgICBodG1sICs9ICc8L2Rpdj4nO1xuXG4gICAgaWYgKGlzTWluWWVhciAmJiAobW9udGggPT09IDAgfHwgb3B0cy5taW5Nb250aCA+PSBtb250aCkpIHtcbiAgICAgIHByZXYgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoaXNNYXhZZWFyICYmIChtb250aCA9PT0gMTEgfHwgb3B0cy5tYXhNb250aCA8PSBtb250aCkpIHtcbiAgICAgIG5leHQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgcmlnaHRBcnJvdyA9XG4gICAgICAnPHN2ZyBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNOC41OSAxNi4zNGw0LjU4LTQuNTktNC41OC00LjU5TDEwIDUuNzVsNiA2LTYgNnpcIi8+PHBhdGggZD1cIk0wLS4yNWgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIvPjwvc3ZnPic7XG4gICAgaHRtbCArPSBgPGJ1dHRvbiBjbGFzcz1cIm1vbnRoLW5leHQke1xuICAgICAgbmV4dCA/ICcnIDogJyBpcy1kaXNhYmxlZCdcbiAgICB9IGJ0bi1mbGF0XCIgdHlwZT1cImJ1dHRvblwiPiR7cmlnaHRBcnJvd308L2J1dHRvbj5gO1xuXG4gICAgcmV0dXJuIChodG1sICs9ICc8L2Rpdj4nKTtcbiAgfVxuXG4gIC8vIHJlZnJlc2ggSFRNTFxuICBkcmF3KGZvcmNlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBpZiAoIXRoaXMuaXNPcGVuICYmICFmb3JjZSkgcmV0dXJuO1xuICAgIGxldCBvcHRzID0gdGhpcy5vcHRpb25zLFxuICAgICAgbWluWWVhciA9IG9wdHMubWluWWVhcixcbiAgICAgIG1heFllYXIgPSBvcHRzLm1heFllYXIsXG4gICAgICBtaW5Nb250aCA9IG9wdHMubWluTW9udGgsXG4gICAgICBtYXhNb250aCA9IG9wdHMubWF4TW9udGgsXG4gICAgICBodG1sID0gJycsXG4gICAgICByYW5kSWQ7XG5cbiAgICBpZiAodGhpcy5feSA8PSBtaW5ZZWFyKSB7XG4gICAgICB0aGlzLl95ID0gbWluWWVhcjtcbiAgICAgIGlmICghaXNOYU4obWluTW9udGgpICYmIHRoaXMuX20gPCBtaW5Nb250aCkge1xuICAgICAgICB0aGlzLl9tID0gbWluTW9udGg7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLl95ID49IG1heFllYXIpIHtcbiAgICAgIHRoaXMuX3kgPSBtYXhZZWFyO1xuICAgICAgaWYgKCFpc05hTihtYXhNb250aCkgJiYgdGhpcy5fbSA+IG1heE1vbnRoKSB7XG4gICAgICAgIHRoaXMuX20gPSBtYXhNb250aDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByYW5kSWQgPVxuICAgICAgJ2RhdGVwaWNrZXItdGl0bGUtJyArXG4gICAgICBNYXRoLnJhbmRvbSgpXG4gICAgICAgIC50b1N0cmluZygzNilcbiAgICAgICAgLnJlcGxhY2UoL1teYS16XSsvZywgJycpXG4gICAgICAgIC5zdWJzdHIoMCwgMik7XG5cbiAgICBmb3IgKGxldCBjID0gMDsgYyA8IDE7IGMrKykge1xuICAgICAgdGhpcy5fcmVuZGVyRGF0ZURpc3BsYXkoKTtcbiAgICAgIGh0bWwgKz1cbiAgICAgICAgdGhpcy5yZW5kZXJUaXRsZShcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIGMsXG4gICAgICAgICAgdGhpcy5jYWxlbmRhcnNbY10ueWVhcixcbiAgICAgICAgICB0aGlzLmNhbGVuZGFyc1tjXS5tb250aCxcbiAgICAgICAgICB0aGlzLmNhbGVuZGFyc1swXS55ZWFyLFxuICAgICAgICAgIHJhbmRJZFxuICAgICAgICApICsgdGhpcy5yZW5kZXIodGhpcy5jYWxlbmRhcnNbY10ueWVhciwgdGhpcy5jYWxlbmRhcnNbY10ubW9udGgsIHJhbmRJZCk7XG4gICAgfVxuXG4gICAgdGhpcy5kZXN0cm95U2VsZWN0cygpO1xuXG4gICAgdGhpcy5jYWxlbmRhckVsLmlubmVySFRNTCA9IGh0bWw7XG5cbiAgICAvLyBJbml0IE1hdGVyaWFsaXplIFNlbGVjdFxuICAgIGxldCB5ZWFyU2VsZWN0ID0gdGhpcy5jYWxlbmRhckVsLnF1ZXJ5U2VsZWN0b3IoJy5vcmlnLXNlbGVjdC15ZWFyJykgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XG4gICAgbGV0IG1vbnRoU2VsZWN0ID0gdGhpcy5jYWxlbmRhckVsLnF1ZXJ5U2VsZWN0b3IoJy5vcmlnLXNlbGVjdC1tb250aCcpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuICAgIEZvcm1TZWxlY3QuaW5pdCh5ZWFyU2VsZWN0LCB7XG4gICAgICBjbGFzc2VzOiAnc2VsZWN0LXllYXInLFxuICAgICAgZHJvcGRvd25PcHRpb25zOiB7IGNvbnRhaW5lcjogZG9jdW1lbnQuYm9keSwgY29uc3RyYWluV2lkdGg6IGZhbHNlIH1cbiAgICB9KTtcbiAgICBGb3JtU2VsZWN0LmluaXQobW9udGhTZWxlY3QsIHtcbiAgICAgIGNsYXNzZXM6ICdzZWxlY3QtbW9udGgnLFxuICAgICAgZHJvcGRvd25PcHRpb25zOiB7IGNvbnRhaW5lcjogZG9jdW1lbnQuYm9keSwgY29uc3RyYWluV2lkdGg6IGZhbHNlIH1cbiAgICB9KTtcblxuICAgIC8vIEFkZCBjaGFuZ2UgaGFuZGxlcnMgZm9yIHNlbGVjdFxuICAgIHllYXJTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gdGhpcy5faGFuZGxlWWVhckNoYW5nZSk7XG4gICAgbW9udGhTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gdGhpcy5faGFuZGxlTW9udGhDaGFuZ2UpO1xuXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25EcmF3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25EcmF3LmNhbGwodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGljayk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZUlucHV0Q2hhbmdlKTtcbiAgICB0aGlzLmNhbGVuZGFyRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDYWxlbmRhckNsaWNrKTtcbiAgICB0aGlzLmRvbmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9maW5pc2hTZWxlY3Rpb24pO1xuICAgIHRoaXMuY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZSk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDbGVhckJ0bikge1xuICAgICAgdGhpcy5jbGVhckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsZWFyQ2xpY2spO1xuICAgIH1cbiAgfVxuXG4gIF9zZXR1cFZhcmlhYmxlcygpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gRGF0ZXBpY2tlci5fdGVtcGxhdGUudHJpbSgpO1xuICAgIHRoaXMubW9kYWxFbCA9IDxIVE1MRWxlbWVudD50ZW1wbGF0ZS5jb250ZW50LmZpcnN0Q2hpbGQ7XG5cbiAgICB0aGlzLmNhbGVuZGFyRWwgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLmRhdGVwaWNrZXItY2FsZW5kYXInKTtcbiAgICB0aGlzLnllYXJUZXh0RWwgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnllYXItdGV4dCcpO1xuICAgIHRoaXMuZGF0ZVRleHRFbCA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcuZGF0ZS10ZXh0Jyk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Q2xlYXJCdG4pIHtcbiAgICAgIHRoaXMuY2xlYXJCdG4gPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLmRhdGVwaWNrZXItY2xlYXInKTtcbiAgICB9XG4gICAgdGhpcy5kb25lQnRuID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy5kYXRlcGlja2VyLWRvbmUnKTtcbiAgICB0aGlzLmNhbmNlbEJ0biA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcuZGF0ZXBpY2tlci1jYW5jZWwnKTtcblxuICAgIHRoaXMuZm9ybWF0cyA9IHtcbiAgICAgIGQ6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZS5nZXREYXRlKCk7XG4gICAgICB9LFxuICAgICAgZGQ6ICgpID0+IHtcbiAgICAgICAgbGV0IGQgPSB0aGlzLmRhdGUuZ2V0RGF0ZSgpO1xuICAgICAgICByZXR1cm4gKGQgPCAxMCA/ICcwJyA6ICcnKSArIGQ7XG4gICAgICB9LFxuICAgICAgZGRkOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaTE4bi53ZWVrZGF5c1Nob3J0W3RoaXMuZGF0ZS5nZXREYXkoKV07XG4gICAgICB9LFxuICAgICAgZGRkZDogKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmkxOG4ud2Vla2RheXNbdGhpcy5kYXRlLmdldERheSgpXTtcbiAgICAgIH0sXG4gICAgICBtOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGUuZ2V0TW9udGgoKSArIDE7XG4gICAgICB9LFxuICAgICAgbW06ICgpID0+IHtcbiAgICAgICAgbGV0IG0gPSB0aGlzLmRhdGUuZ2V0TW9udGgoKSArIDE7XG4gICAgICAgIHJldHVybiAobSA8IDEwID8gJzAnIDogJycpICsgbTtcbiAgICAgIH0sXG4gICAgICBtbW06ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pMThuLm1vbnRoc1Nob3J0W3RoaXMuZGF0ZS5nZXRNb250aCgpXTtcbiAgICAgIH0sXG4gICAgICBtbW1tOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaTE4bi5tb250aHNbdGhpcy5kYXRlLmdldE1vbnRoKCldO1xuICAgICAgfSxcbiAgICAgIHl5OiAoKSA9PiB7XG4gICAgICAgIHJldHVybiAoJycgKyB0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKSkuc2xpY2UoMik7XG4gICAgICB9LFxuICAgICAgeXl5eTogKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleWRvd24pO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlSW5wdXRDaGFuZ2UpO1xuICAgIHRoaXMuY2FsZW5kYXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNhbGVuZGFyQ2xpY2spO1xuICB9XG5cbiAgX2hhbmRsZUlucHV0Q2xpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy5vcGVuKCk7XG4gIH1cblxuICBfaGFuZGxlSW5wdXRLZXlkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBpZiAoVXRpbHMua2V5cy5FTlRFUi5pbmNsdWRlcyhlLmtleSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVDYWxlbmRhckNsaWNrID0gKGUpID0+IHtcbiAgICBpZiAoIXRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgY29uc3QgdGFyZ2V0ID0gPEhUTUxFbGVtZW50PihlLnRhcmdldCk7XG4gICAgaWYgKCF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1kaXNhYmxlZCcpKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RhdGVwaWNrZXItZGF5LWJ1dHRvbicpICYmXG4gICAgICAgICF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1lbXB0eScpICYmXG4gICAgICAgICF0YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWRpc2FibGVkJylcbiAgICAgICkge1xuICAgICAgICB0aGlzLnNldERhdGUoXG4gICAgICAgICAgbmV3IERhdGUoXG4gICAgICAgICAgICBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEteWVhcicpLFxuICAgICAgICAgICAgZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLW1vbnRoJyksXG4gICAgICAgICAgICBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGF5JylcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0Nsb3NlKSB7XG4gICAgICAgICAgdGhpcy5fZmluaXNoU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRhcmdldC5jbG9zZXN0KCcubW9udGgtcHJldicpKSB7XG4gICAgICAgIHRoaXMucHJldk1vbnRoKCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0YXJnZXQuY2xvc2VzdCgnLm1vbnRoLW5leHQnKSkge1xuICAgICAgICB0aGlzLm5leHRNb250aCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVDbGVhckNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMuZGF0ZSA9IG51bGw7XG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKCk7XG4gICAgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgX2hhbmRsZU1vbnRoQ2hhbmdlID0gKGUpID0+IHtcbiAgICB0aGlzLmdvdG9Nb250aChlLnRhcmdldC52YWx1ZSk7XG4gIH1cblxuICBfaGFuZGxlWWVhckNoYW5nZSA9IChlKSA9PiB7XG4gICAgdGhpcy5nb3RvWWVhcihlLnRhcmdldC52YWx1ZSk7XG4gIH1cblxuICAvLyBjaGFuZ2UgdmlldyB0byBhIHNwZWNpZmljIG1vbnRoICh6ZXJvLWluZGV4LCBlLmcuIDA6IEphbnVhcnkpXG4gIGdvdG9Nb250aChtb250aCkge1xuICAgIGlmICghaXNOYU4obW9udGgpKSB7XG4gICAgICB0aGlzLmNhbGVuZGFyc1swXS5tb250aCA9IHBhcnNlSW50KG1vbnRoLCAxMCk7XG4gICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNoYW5nZSB2aWV3IHRvIGEgc3BlY2lmaWMgZnVsbCB5ZWFyIChlLmcuIFwiMjAxMlwiKVxuICBnb3RvWWVhcih5ZWFyKSB7XG4gICAgaWYgKCFpc05hTih5ZWFyKSkge1xuICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ueWVhciA9IHBhcnNlSW50KHllYXIsIDEwKTtcbiAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUlucHV0Q2hhbmdlID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgbGV0IGRhdGU7XG4gICAgLy8gUHJldmVudCBjaGFuZ2UgZXZlbnQgZnJvbSBiZWluZyBmaXJlZCB3aGVuIHRyaWdnZXJlZCBieSB0aGUgcGx1Z2luXG4gICAgaWYgKGVbJ2RldGFpbCddPy5maXJlZEJ5ID09PSB0aGlzKSByZXR1cm47XG4gICAgaWYgKHRoaXMub3B0aW9ucy5wYXJzZSkge1xuICAgICAgZGF0ZSA9IHRoaXMub3B0aW9ucy5wYXJzZSh0aGlzLmVsLnZhbHVlLFxuICAgICAgICB0eXBlb2YgdGhpcy5vcHRpb25zLmZvcm1hdCA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyB0aGlzLm9wdGlvbnMuZm9ybWF0KG5ldyBEYXRlKHRoaXMuZWwudmFsdWUpKVxuICAgICAgICAgIDogdGhpcy5vcHRpb25zLmZvcm1hdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2UodGhpcy5lbC52YWx1ZSkpO1xuICAgIH1cbiAgICBpZiAoRGF0ZXBpY2tlci5faXNEYXRlKGRhdGUpKSB0aGlzLnNldERhdGUoZGF0ZSk7XG4gIH1cblxuICByZW5kZXJEYXlOYW1lKG9wdHMsIGRheSwgYWJicjogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgZGF5ICs9IG9wdHMuZmlyc3REYXk7XG4gICAgd2hpbGUgKGRheSA+PSA3KSB7XG4gICAgICBkYXkgLT0gNztcbiAgICB9XG4gICAgcmV0dXJuIGFiYnIgPyBvcHRzLmkxOG4ud2Vla2RheXNBYmJyZXZbZGF5XSA6IG9wdHMuaTE4bi53ZWVrZGF5c1tkYXldO1xuICB9XG5cbiAgLy8gU2V0IGlucHV0IHZhbHVlIHRvIHRoZSBzZWxlY3RlZCBkYXRlIGFuZCBjbG9zZSBEYXRlcGlja2VyXG4gIF9maW5pc2hTZWxlY3Rpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKCk7XG4gICAgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW4gZGF0ZXBpY2tlci5cbiAgICovXG4gIG9wZW4gPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uT3Blbi5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLmRyYXcoKTtcbiAgICB0aGlzLm1vZGFsLm9wZW4odW5kZWZpbmVkKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSBkYXRlcGlja2VyLlxuICAgKi9cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2UuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgdGhpcy5tb2RhbC5jbG9zZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc3RhdGljIHtcbiAgICBEYXRlcGlja2VyLl90ZW1wbGF0ZSA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbCBkYXRlcGlja2VyLW1vZGFsXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50IGRhdGVwaWNrZXItY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItZGF0ZS1kaXNwbGF5XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInllYXItdGV4dFwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGF0ZS10ZXh0XCI+PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWNhbGVuZGFyLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItY2FsZW5kYXJcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLWZsYXQgZGF0ZXBpY2tlci1jbGVhciB3YXZlcy1lZmZlY3RcIiBzdHlsZT1cInZpc2liaWxpdHk6IGhpZGRlbjtcIiB0eXBlPVwiYnV0dG9uXCI+PC9idXR0b24+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb25maXJtYXRpb24tYnRuc1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tZmxhdCBkYXRlcGlja2VyLWNhbmNlbCB3YXZlcy1lZmZlY3RcIiB0eXBlPVwiYnV0dG9uXCI+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1mbGF0IGRhdGVwaWNrZXItZG9uZSB3YXZlcy1lZmZlY3RcIiB0eXBlPVwiYnV0dG9uXCI+PC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+YDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/datepicker.ts\n");

/***/ }),

/***/ "./src/dropdown.ts":
/*!*************************!*\
  !*** ./src/dropdown.ts ***!
  \*************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Dropdown = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nconst _defaults = {\n    alignment: 'left',\n    autoFocus: true,\n    constrainWidth: true,\n    container: null,\n    coverTrigger: true,\n    closeOnClick: true,\n    hover: false,\n    inDuration: 150,\n    outDuration: 250,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    onItemClick: null\n};\nclass Dropdown extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Dropdown);\n        this._handleClick = (e) => {\n            e.preventDefault();\n            this.open();\n        };\n        this._handleMouseEnter = () => {\n            this.open();\n        };\n        this._handleMouseLeave = (e) => {\n            const toEl = e.relatedTarget;\n            const leaveToDropdownContent = !!toEl.closest('.dropdown-content');\n            let leaveToActiveDropdownTrigger = false;\n            const closestTrigger = toEl.closest('.dropdown-trigger');\n            if (closestTrigger &&\n                !!closestTrigger.M_Dropdown &&\n                closestTrigger.M_Dropdown.isOpen) {\n                leaveToActiveDropdownTrigger = true;\n            }\n            // Close hover dropdown if mouse did not leave to either active dropdown-trigger or dropdown-content\n            if (!leaveToActiveDropdownTrigger && !leaveToDropdownContent) {\n                this.close();\n            }\n        };\n        this._handleDocumentClick = (e) => {\n            const target = e.target;\n            if (this.options.closeOnClick &&\n                target.closest('.dropdown-content') &&\n                !this.isTouchMoving) {\n                // isTouchMoving to check if scrolling on mobile.\n                //setTimeout(() => {\n                this.close();\n                //}, 0);\n            }\n            else if (target.closest('.dropdown-trigger') ||\n                !target.closest('.dropdown-content')) {\n                //setTimeout(() => {\n                this.close();\n                //}, 0);\n            }\n            this.isTouchMoving = false;\n        };\n        this._handleTriggerKeydown = (e) => {\n            // ARROW DOWN OR ENTER WHEN SELECT IS CLOSED - open Dropdown\n            const arrowDownOrEnter = utils_1.Utils.keys.ARROW_DOWN.includes(e.key) || utils_1.Utils.keys.ENTER.includes(e.key);\n            if (arrowDownOrEnter && !this.isOpen) {\n                e.preventDefault();\n                this.open();\n            }\n        };\n        this._handleDocumentTouchmove = (e) => {\n            const target = e.target;\n            if (target.closest('.dropdown-content')) {\n                this.isTouchMoving = true;\n            }\n        };\n        this._handleDropdownClick = (e) => {\n            // onItemClick callback\n            if (typeof this.options.onItemClick === 'function') {\n                const itemEl = e.target.closest('li');\n                this.options.onItemClick.call(this, itemEl);\n            }\n        };\n        this._handleDropdownKeydown = (e) => {\n            const arrowUpOrDown = utils_1.Utils.keys.ARROW_DOWN.includes(e.key) || utils_1.Utils.keys.ARROW_UP.includes(e.key);\n            if (utils_1.Utils.keys.TAB.includes(e.key)) {\n                e.preventDefault();\n                this.close();\n            }\n            // Navigate down dropdown list\n            else if (arrowUpOrDown && this.isOpen) {\n                e.preventDefault();\n                const direction = utils_1.Utils.keys.ARROW_DOWN.includes(e.key) ? 1 : -1;\n                let newFocusedIndex = this.focusedIndex;\n                let hasFoundNewIndex = false;\n                do {\n                    newFocusedIndex = newFocusedIndex + direction;\n                    if (!!this.dropdownEl.children[newFocusedIndex] &&\n                        this.dropdownEl.children[newFocusedIndex].tabIndex !== -1) {\n                        hasFoundNewIndex = true;\n                        break;\n                    }\n                } while (newFocusedIndex < this.dropdownEl.children.length && newFocusedIndex >= 0);\n                if (hasFoundNewIndex) {\n                    // Remove active class from old element\n                    if (this.focusedIndex >= 0)\n                        this.dropdownEl.children[this.focusedIndex].classList.remove('active');\n                    this.focusedIndex = newFocusedIndex;\n                    this._focusFocusedItem();\n                }\n            }\n            // ENTER selects choice on focused item\n            else if (utils_1.Utils.keys.ENTER.includes(e.key) && this.isOpen) {\n                // Search for <a> and <button>\n                const focusedElement = this.dropdownEl.children[this.focusedIndex];\n                const activatableElement = focusedElement.querySelector('a, button');\n                // Click a or button tag if exists, otherwise click li tag\n                if (!!activatableElement) {\n                    activatableElement.click();\n                }\n                else if (!!focusedElement) {\n                    if (focusedElement instanceof HTMLElement) {\n                        focusedElement.click();\n                    }\n                }\n            }\n            // Close dropdown on ESC\n            else if (utils_1.Utils.keys.ESC.includes(e.key) && this.isOpen) {\n                e.preventDefault();\n                this.close();\n            }\n            // CASE WHEN USER TYPE LTTERS\n            const keyText = e.key.toLowerCase();\n            const isLetter = /[a-zA-Z0-9-_]/.test(keyText);\n            const specialKeys = [...utils_1.Utils.keys.ARROW_DOWN, ...utils_1.Utils.keys.ARROW_UP, ...utils_1.Utils.keys.ENTER, ...utils_1.Utils.keys.ESC, ...utils_1.Utils.keys.TAB];\n            if (isLetter && !specialKeys.includes(e.key)) {\n                this.filterQuery.push(keyText);\n                const string = this.filterQuery.join('');\n                const newOptionEl = Array.from(this.dropdownEl.querySelectorAll('li'))\n                    .find((el) => el.innerText.toLowerCase().indexOf(string) === 0);\n                if (newOptionEl) {\n                    this.focusedIndex = [...newOptionEl.parentNode.children].indexOf(newOptionEl);\n                    this._focusFocusedItem();\n                }\n            }\n            this.filterTimeout = setTimeout(this._resetFilterQuery, 1000);\n        };\n        this._resetFilterQuery = () => {\n            this.filterQuery = [];\n        };\n        /**\n         * Open dropdown.\n         */\n        this.open = () => {\n            if (this.isOpen)\n                return;\n            this.isOpen = true;\n            // onOpenStart callback\n            if (typeof this.options.onOpenStart === 'function') {\n                this.options.onOpenStart.call(this, this.el);\n            }\n            // Reset styles\n            this._resetDropdownStyles();\n            this.dropdownEl.style.display = 'block';\n            this._placeDropdown();\n            this._animateIn();\n            this._setupTemporaryEventHandlers();\n        };\n        /**\n         * Close dropdown.\n         */\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            this.isOpen = false;\n            this.focusedIndex = -1;\n            // onCloseStart callback\n            if (typeof this.options.onCloseStart === 'function') {\n                this.options.onCloseStart.call(this, this.el);\n            }\n            this._animateOut();\n            this._removeTemporaryEventHandlers();\n            if (this.options.autoFocus) {\n                this.el.focus();\n            }\n        };\n        /**\n         * While dropdown is open, you can recalculate its dimensions if its contents have changed.\n         */\n        this.recalculateDimensions = () => {\n            if (this.isOpen) {\n                this.dropdownEl.style.width = '';\n                this.dropdownEl.style.height = '';\n                this.dropdownEl.style.left = '';\n                this.dropdownEl.style.top = '';\n                this.dropdownEl.style.transformOrigin = '';\n                this._placeDropdown();\n            }\n        };\n        this.el.M_Dropdown = this;\n        Dropdown._dropdowns.push(this);\n        this.id = utils_1.Utils.getIdFromTrigger(el);\n        this.dropdownEl = document.getElementById(this.id);\n        this.options = Object.assign(Object.assign({}, Dropdown.defaults), options);\n        this.isOpen = false;\n        this.isScrollable = false;\n        this.isTouchMoving = false;\n        this.focusedIndex = -1;\n        this.filterQuery = [];\n        // Move dropdown-content after dropdown-trigger\n        this._moveDropdown();\n        this._makeDropdownFocusable();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Dropdown.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Dropdown);\n    }\n    static getInstance(el) {\n        return el.M_Dropdown;\n    }\n    destroy() {\n        this._resetDropdownStyles();\n        this._removeEventHandlers();\n        Dropdown._dropdowns.splice(Dropdown._dropdowns.indexOf(this), 1);\n        this.el.M_Dropdown = undefined;\n    }\n    _setupEventHandlers() {\n        var _a;\n        // Trigger keydown handler\n        this.el.addEventListener('keydown', this._handleTriggerKeydown);\n        // Item click handler\n        (_a = this.dropdownEl) === null || _a === void 0 ? void 0 : _a.addEventListener('click', this._handleDropdownClick);\n        // Hover event handlers\n        if (this.options.hover) {\n            this.el.addEventListener('mouseenter', this._handleMouseEnter);\n            this.el.addEventListener('mouseleave', this._handleMouseLeave);\n            this.dropdownEl.addEventListener('mouseleave', this._handleMouseLeave);\n            // Click event handlers\n        }\n        else {\n            this.el.addEventListener('click', this._handleClick);\n        }\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('keydown', this._handleTriggerKeydown);\n        this.dropdownEl.removeEventListener('click', this._handleDropdownClick);\n        if (this.options.hover) {\n            this.el.removeEventListener('mouseenter', this._handleMouseEnter);\n            this.el.removeEventListener('mouseleave', this._handleMouseLeave);\n            this.dropdownEl.removeEventListener('mouseleave', this._handleMouseLeave);\n        }\n        else {\n            this.el.removeEventListener('click', this._handleClick);\n        }\n    }\n    _setupTemporaryEventHandlers() {\n        // Use capture phase event handler to prevent click\n        document.body.addEventListener('click', this._handleDocumentClick, true);\n        document.body.addEventListener('touchmove', this._handleDocumentTouchmove);\n        this.dropdownEl.addEventListener('keydown', this._handleDropdownKeydown);\n    }\n    _removeTemporaryEventHandlers() {\n        // Use capture phase event handler to prevent click\n        document.body.removeEventListener('click', this._handleDocumentClick, true);\n        document.body.removeEventListener('touchmove', this._handleDocumentTouchmove);\n        this.dropdownEl.removeEventListener('keydown', this._handleDropdownKeydown);\n    }\n    _resetDropdownStyles() {\n        this.dropdownEl.style.display = '';\n        this.dropdownEl.style.width = '';\n        this.dropdownEl.style.height = '';\n        this.dropdownEl.style.left = '';\n        this.dropdownEl.style.top = '';\n        this.dropdownEl.style.transformOrigin = '';\n        this.dropdownEl.style.transform = '';\n        this.dropdownEl.style.opacity = '';\n    }\n    // Move dropdown after container or trigger\n    _moveDropdown(containerEl = null) {\n        if (!!this.options.container) {\n            this.options.container.append(this.dropdownEl);\n        }\n        else if (containerEl) {\n            if (!containerEl.contains(this.dropdownEl)) {\n                containerEl.append(this.dropdownEl);\n            }\n        }\n        else {\n            this.el.after(this.dropdownEl);\n        }\n    }\n    _makeDropdownFocusable() {\n        if (!this.dropdownEl)\n            return;\n        // Needed for arrow key navigation\n        this.dropdownEl.tabIndex = 0;\n        // Only set tabindex if it hasn't been set by user\n        Array.from(this.dropdownEl.children).forEach((el) => {\n            if (!el.getAttribute('tabindex'))\n                el.setAttribute('tabindex', '0');\n        });\n    }\n    _focusFocusedItem() {\n        if (this.focusedIndex >= 0 &&\n            this.focusedIndex < this.dropdownEl.children.length &&\n            this.options.autoFocus) {\n            this.dropdownEl.children[this.focusedIndex].focus({\n                preventScroll: true\n            });\n            this.dropdownEl.children[this.focusedIndex].scrollIntoView({\n                behavior: 'smooth',\n                block: 'nearest',\n                inline: 'nearest'\n            });\n        }\n    }\n    _getDropdownPosition(closestOverflowParent) {\n        const offsetParentBRect = this.el.offsetParent.getBoundingClientRect();\n        const triggerBRect = this.el.getBoundingClientRect();\n        const dropdownBRect = this.dropdownEl.getBoundingClientRect();\n        let idealHeight = dropdownBRect.height;\n        let idealWidth = dropdownBRect.width;\n        let idealXPos = triggerBRect.left - dropdownBRect.left;\n        let idealYPos = triggerBRect.top - dropdownBRect.top;\n        const dropdownBounds = {\n            left: idealXPos,\n            top: idealYPos,\n            height: idealHeight,\n            width: idealWidth\n        };\n        const alignments = utils_1.Utils.checkPossibleAlignments(this.el, closestOverflowParent, dropdownBounds, this.options.coverTrigger ? 0 : triggerBRect.height);\n        let verticalAlignment = 'top';\n        let horizontalAlignment = this.options.alignment;\n        idealYPos += this.options.coverTrigger ? 0 : triggerBRect.height;\n        // Reset isScrollable\n        this.isScrollable = false;\n        if (!alignments.top) {\n            if (alignments.bottom) {\n                verticalAlignment = 'bottom';\n                if (!this.options.coverTrigger) {\n                    idealYPos -= triggerBRect.height;\n                }\n            }\n            else {\n                this.isScrollable = true;\n                // Determine which side has most space and cutoff at correct height\n                idealHeight -= 20; // Add padding when cutoff\n                if (alignments.spaceOnTop > alignments.spaceOnBottom) {\n                    verticalAlignment = 'bottom';\n                    idealHeight += alignments.spaceOnTop;\n                    idealYPos -= this.options.coverTrigger\n                        ? alignments.spaceOnTop - 20\n                        : alignments.spaceOnTop - 20 + triggerBRect.height;\n                }\n                else {\n                    idealHeight += alignments.spaceOnBottom;\n                }\n            }\n        }\n        // If preferred horizontal alignment is possible\n        if (!alignments[horizontalAlignment]) {\n            const oppositeAlignment = horizontalAlignment === 'left' ? 'right' : 'left';\n            if (alignments[oppositeAlignment]) {\n                horizontalAlignment = oppositeAlignment;\n            }\n            else {\n                // Determine which side has most space and cutoff at correct height\n                if (alignments.spaceOnLeft > alignments.spaceOnRight) {\n                    horizontalAlignment = 'right';\n                    idealWidth += alignments.spaceOnLeft;\n                    idealXPos -= alignments.spaceOnLeft;\n                }\n                else {\n                    horizontalAlignment = 'left';\n                    idealWidth += alignments.spaceOnRight;\n                }\n            }\n        }\n        if (verticalAlignment === 'bottom') {\n            idealYPos =\n                idealYPos - dropdownBRect.height + (this.options.coverTrigger ? triggerBRect.height : 0);\n        }\n        if (horizontalAlignment === 'right') {\n            idealXPos = idealXPos - dropdownBRect.width + triggerBRect.width;\n        }\n        return {\n            x: idealXPos,\n            y: idealYPos,\n            verticalAlignment: verticalAlignment,\n            horizontalAlignment: horizontalAlignment,\n            height: idealHeight,\n            width: idealWidth\n        };\n    }\n    _animateIn() {\n        animejs_1.default.remove(this.dropdownEl);\n        (0, animejs_1.default)({\n            targets: this.dropdownEl,\n            opacity: {\n                value: [0, 1],\n                easing: 'easeOutQuad'\n            },\n            scaleX: [0.3, 1],\n            scaleY: [0.3, 1],\n            duration: this.options.inDuration,\n            easing: 'easeOutQuint',\n            complete: (anim) => {\n                if (this.options.autoFocus)\n                    this.dropdownEl.focus();\n                // onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    _animateOut() {\n        animejs_1.default.remove(this.dropdownEl);\n        (0, animejs_1.default)({\n            targets: this.dropdownEl,\n            opacity: {\n                value: 0,\n                easing: 'easeOutQuint'\n            },\n            scaleX: 0.3,\n            scaleY: 0.3,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuint',\n            complete: (anim) => {\n                this._resetDropdownStyles();\n                // onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    _getClosestAncestor(el, condition) {\n        let ancestor = el.parentNode;\n        while (ancestor !== null && ancestor !== document) {\n            if (condition(ancestor)) {\n                return ancestor;\n            }\n            ancestor = ancestor.parentElement;\n        }\n        return null;\n    }\n    ;\n    _placeDropdown() {\n        // Container here will be closest ancestor with overflow: hidden\n        let closestOverflowParent = this._getClosestAncestor(this.dropdownEl, (ancestor) => {\n            return !['HTML', 'BODY'].includes(ancestor.tagName) && getComputedStyle(ancestor).overflow !== 'visible';\n        });\n        // Fallback\n        if (!closestOverflowParent) {\n            closestOverflowParent = (!!this.dropdownEl.offsetParent\n                ? this.dropdownEl.offsetParent\n                : this.dropdownEl.parentNode);\n        }\n        if (getComputedStyle(closestOverflowParent).position === 'static')\n            closestOverflowParent.style.position = 'relative';\n        this._moveDropdown(closestOverflowParent);\n        // Set width before calculating positionInfo\n        const idealWidth = this.options.constrainWidth\n            ? this.el.getBoundingClientRect().width\n            : this.dropdownEl.getBoundingClientRect().width;\n        this.dropdownEl.style.width = idealWidth + 'px';\n        const positionInfo = this._getDropdownPosition(closestOverflowParent);\n        this.dropdownEl.style.left = positionInfo.x + 'px';\n        this.dropdownEl.style.top = positionInfo.y + 'px';\n        this.dropdownEl.style.height = positionInfo.height + 'px';\n        this.dropdownEl.style.width = positionInfo.width + 'px';\n        this.dropdownEl.style.transformOrigin = `${positionInfo.horizontalAlignment === 'left' ? '0' : '100%'} ${positionInfo.verticalAlignment === 'top' ? '0' : '100%'}`;\n    }\n}\nexports.Dropdown = Dropdown;\nDropdown._dropdowns = [];\n(() => {\n    Dropdown._dropdowns = [];\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dEMsWUFBWSxDQUFDLG1CQUFtQixLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUN0RCxJQUFJLFlBQVksQ0FBQyxpQkFBaUIsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDaEUsQ0FBQzs7QUFoZkgsNEJBdWlCQztBQXRpQlEsbUJBQVUsR0FBZSxFQUFFLENBQUM7QUFtaUJuQztJQUNFLFFBQVEsQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO0FBQzNCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvZHJvcGRvd24udHM/Yzc1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50LCBPcGVuYWJsZSB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIERyb3Bkb3duT3B0aW9ucyBleHRlbmRzIEJhc2VPcHRpb25zIHtcbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIGVkZ2UgdGhlIG1lbnUgaXMgYWxpZ25lZCB0by5cbiAgICogQGRlZmF1bHQgJ2xlZnQnXG4gICAqL1xuICBhbGlnbm1lbnQ6ICdsZWZ0JyB8ICdyaWdodCc7XG4gIC8qKlxuICAgKiBJZiB0cnVlLCBhdXRvbWF0aWNhbGx5IGZvY3VzIGRyb3Bkb3duIGVsIGZvciBrZXlib2FyZC5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgYXV0b0ZvY3VzOiBib29sZWFuO1xuICAvKipcbiAgICogSWYgdHJ1ZSwgY29uc3RyYWluV2lkdGggdG8gdGhlIHNpemUgb2YgdGhlIGRyb3Bkb3duIGFjdGl2YXRvci5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgY29uc3RyYWluV2lkdGg6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBQcm92aWRlIGFuIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHRoZSBib3VuZGluZyBjb250YWluZXIgb2YgdGhlIGRyb3Bkb3duLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBjb250YWluZXI6IEVsZW1lbnQ7XG4gIC8qKlxuICAgKiBJZiBmYWxzZSwgdGhlIGRyb3Bkb3duIHdpbGwgc2hvdyBiZWxvdyB0aGUgdHJpZ2dlci5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgY292ZXJUcmlnZ2VyOiBib29sZWFuO1xuICAvKipcbiAgICogSWYgdHJ1ZSwgY2xvc2UgZHJvcGRvd24gb24gaXRlbSBjbGljay5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgY2xvc2VPbkNsaWNrOiBib29sZWFuO1xuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIGRyb3Bkb3duIHdpbGwgb3BlbiBvbiBob3Zlci5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGhvdmVyOiBib29sZWFuO1xuICAvKipcbiAgICogVGhlIGR1cmF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uIGVudGVyIGluIG1pbGxpc2Vjb25kcy5cbiAgICogQGRlZmF1bHQgMTUwXG4gICAqL1xuICBpbkR1cmF0aW9uOiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgZHVyYXRpb24gb2YgdGhlIHRyYW5zaXRpb24gb3V0IGluIG1pbGxpc2Vjb25kcy5cbiAgICogQGRlZmF1bHQgMjUwXG4gICAqL1xuICBvdXREdXJhdGlvbjogbnVtYmVyO1xuICAvKipcbiAgICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gZHJvcGRvd24gc3RhcnRzIGVudGVyaW5nLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBvbk9wZW5TdGFydDogKGVsOiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGRyb3Bkb3duIGZpbmlzaGVzIGVudGVyaW5nLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBvbk9wZW5FbmQ6IChlbDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBkcm9wZG93biBzdGFydHMgZXhpdGluZy5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25DbG9zZVN0YXJ0OiAoZWw6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xuICAvKipcbiAgICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gZHJvcGRvd24gZmluaXNoZXMgZXhpdGluZy5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25DbG9zZUVuZDogKGVsOiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGl0ZW0gaXMgY2xpY2tlZC5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25JdGVtQ2xpY2s6IChlbDogSFRNTExJRWxlbWVudCkgPT4gdm9pZDtcbn07XG5cbmNvbnN0IF9kZWZhdWx0czogRHJvcGRvd25PcHRpb25zID0ge1xuICBhbGlnbm1lbnQ6ICdsZWZ0JyxcbiAgYXV0b0ZvY3VzOiB0cnVlLFxuICBjb25zdHJhaW5XaWR0aDogdHJ1ZSxcbiAgY29udGFpbmVyOiBudWxsLFxuICBjb3ZlclRyaWdnZXI6IHRydWUsXG4gIGNsb3NlT25DbGljazogdHJ1ZSxcbiAgaG92ZXI6IGZhbHNlLFxuICBpbkR1cmF0aW9uOiAxNTAsXG4gIG91dER1cmF0aW9uOiAyNTAsXG4gIG9uT3BlblN0YXJ0OiBudWxsLFxuICBvbk9wZW5FbmQ6IG51bGwsXG4gIG9uQ2xvc2VTdGFydDogbnVsbCxcbiAgb25DbG9zZUVuZDogbnVsbCxcbiAgb25JdGVtQ2xpY2s6IG51bGxcbn07XG5cbmV4cG9ydCBjbGFzcyBEcm9wZG93biBleHRlbmRzIENvbXBvbmVudDxEcm9wZG93bk9wdGlvbnM+IGltcGxlbWVudHMgT3BlbmFibGUge1xuICBzdGF0aWMgX2Ryb3Bkb3duczogRHJvcGRvd25bXSA9IFtdO1xuICAvKiogSUQgb2YgdGhlIGRyb3Bkb3duIGVsZW1lbnQuICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKiBUaGUgRE9NIGVsZW1lbnQgb2YgdGhlIGRyb3Bkb3duLiAqL1xuICBkcm9wZG93bkVsOiBIVE1MRWxlbWVudDtcbiAgLyoqIElmIHRoZSBkcm9wZG93biBpcyBvcGVuLiAqL1xuICBpc09wZW46IGJvb2xlYW47XG4gIC8qKiBJZiB0aGUgZHJvcGRvd24gY29udGVudCBpcyBzY3JvbGxhYmxlLiAqL1xuICBpc1Njcm9sbGFibGU6IGJvb2xlYW47XG4gIGlzVG91Y2hNb3Zpbmc6IGJvb2xlYW47XG4gIC8qKiBUaGUgaW5kZXggb2YgdGhlIGl0ZW0gZm9jdXNlZC4gKi9cbiAgZm9jdXNlZEluZGV4OiBudW1iZXI7XG4gIGZpbHRlclF1ZXJ5OiBhbnlbXTtcbiAgZmlsdGVyVGltZW91dDogTm9kZUpTLlRpbWVvdXQ7XG5cbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPERyb3Bkb3duT3B0aW9ucz4pIHtcbiAgICBzdXBlcihlbCwgb3B0aW9ucywgRHJvcGRvd24pO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9Ecm9wZG93biA9IHRoaXM7XG5cbiAgICBEcm9wZG93bi5fZHJvcGRvd25zLnB1c2godGhpcyk7XG4gICAgdGhpcy5pZCA9IFV0aWxzLmdldElkRnJvbVRyaWdnZXIoZWwpO1xuICAgIHRoaXMuZHJvcGRvd25FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpO1xuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4uRHJvcGRvd24uZGVmYXVsdHMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcblxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5pc1Njcm9sbGFibGUgPSBmYWxzZTtcbiAgICB0aGlzLmlzVG91Y2hNb3ZpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmZvY3VzZWRJbmRleCA9IC0xO1xuICAgIHRoaXMuZmlsdGVyUXVlcnkgPSBbXTtcblxuICAgIC8vIE1vdmUgZHJvcGRvd24tY29udGVudCBhZnRlciBkcm9wZG93bi10cmlnZ2VyXG4gICAgdGhpcy5fbW92ZURyb3Bkb3duKCk7XG4gICAgdGhpcy5fbWFrZURyb3Bkb3duRm9jdXNhYmxlKCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCk6IERyb3Bkb3duT3B0aW9ucyB7XG4gICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZSBvZiBEcm9wZG93bi5cbiAgICogQHBhcmFtIGVsIEhUTUwgZWxlbWVudC5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBQYXJ0aWFsPERyb3Bkb3duT3B0aW9ucz4pOiBEcm9wZG93bjtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBEcm9wZG93bi5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8RHJvcGRvd25PcHRpb25zPik6IERyb3Bkb3duW107XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgRHJvcGRvd24uXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxFbGVtZW50IHwgSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxEcm9wZG93bk9wdGlvbnM+ID0ge30pOiBEcm9wZG93biB8IERyb3Bkb3duW10ge1xuICAgIHJldHVybiBzdXBlci5pbml0KGVscywgb3B0aW9ucywgRHJvcGRvd24pO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsOiBIVE1MRWxlbWVudCk6IERyb3Bkb3duIHtcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9Ecm9wZG93bjtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVzZXREcm9wZG93blN0eWxlcygpO1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICBEcm9wZG93bi5fZHJvcGRvd25zLnNwbGljZShEcm9wZG93bi5fZHJvcGRvd25zLmluZGV4T2YodGhpcyksIDEpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9Ecm9wZG93biA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgLy8gVHJpZ2dlciBrZXlkb3duIGhhbmRsZXJcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVUcmlnZ2VyS2V5ZG93bik7XG4gICAgLy8gSXRlbSBjbGljayBoYW5kbGVyXG4gICAgdGhpcy5kcm9wZG93bkVsPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURyb3Bkb3duQ2xpY2spO1xuICAgIC8vIEhvdmVyIGV2ZW50IGhhbmRsZXJzXG4gICAgaWYgKHRoaXMub3B0aW9ucy5ob3Zlcikge1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlTW91c2VFbnRlcik7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlKTtcbiAgICAgIHRoaXMuZHJvcGRvd25FbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZSk7XG4gICAgICAvLyBDbGljayBldmVudCBoYW5kbGVyc1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2spO1xuICAgIH1cbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZVRyaWdnZXJLZXlkb3duKTtcbiAgICB0aGlzLmRyb3Bkb3duRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEcm9wZG93bkNsaWNrKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmhvdmVyKSB7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVNb3VzZUVudGVyKTtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmUpO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrKTtcbiAgICB9XG4gIH1cblxuICBfc2V0dXBUZW1wb3JhcnlFdmVudEhhbmRsZXJzKCkge1xuICAgIC8vIFVzZSBjYXB0dXJlIHBoYXNlIGV2ZW50IGhhbmRsZXIgdG8gcHJldmVudCBjbGlja1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrLCB0cnVlKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURvY3VtZW50VG91Y2htb3ZlKTtcbiAgICB0aGlzLmRyb3Bkb3duRWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZURyb3Bkb3duS2V5ZG93bik7XG4gIH1cblxuICBfcmVtb3ZlVGVtcG9yYXJ5RXZlbnRIYW5kbGVycygpIHtcbiAgICAvLyBVc2UgY2FwdHVyZSBwaGFzZSBldmVudCBoYW5kbGVyIHRvIHByZXZlbnQgY2xpY2tcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGljaywgdHJ1ZSk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudFRvdWNobW92ZSk7XG4gICAgdGhpcy5kcm9wZG93bkVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVEcm9wZG93bktleWRvd24pO1xuICB9XG5cbiAgX2hhbmRsZUNsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5vcGVuKCk7XG4gIH1cblxuICBfaGFuZGxlTW91c2VFbnRlciA9ICgpID0+IHtcbiAgICB0aGlzLm9wZW4oKTtcbiAgfVxuXG4gIF9oYW5kbGVNb3VzZUxlYXZlID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICBjb25zdCB0b0VsID0gZS5yZWxhdGVkVGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IGxlYXZlVG9Ecm9wZG93bkNvbnRlbnQgPSAhIXRvRWwuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKTtcbiAgICBsZXQgbGVhdmVUb0FjdGl2ZURyb3Bkb3duVHJpZ2dlciA9IGZhbHNlO1xuICAgIGNvbnN0IGNsb3Nlc3RUcmlnZ2VyID0gdG9FbC5jbG9zZXN0KCcuZHJvcGRvd24tdHJpZ2dlcicpO1xuICAgIGlmIChcbiAgICAgIGNsb3Nlc3RUcmlnZ2VyICYmXG4gICAgICAhISg8YW55PmNsb3Nlc3RUcmlnZ2VyKS5NX0Ryb3Bkb3duICYmXG4gICAgICAoPGFueT5jbG9zZXN0VHJpZ2dlcikuTV9Ecm9wZG93bi5pc09wZW5cbiAgICApIHtcbiAgICAgIGxlYXZlVG9BY3RpdmVEcm9wZG93blRyaWdnZXIgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBDbG9zZSBob3ZlciBkcm9wZG93biBpZiBtb3VzZSBkaWQgbm90IGxlYXZlIHRvIGVpdGhlciBhY3RpdmUgZHJvcGRvd24tdHJpZ2dlciBvciBkcm9wZG93bi1jb250ZW50XG4gICAgaWYgKCFsZWF2ZVRvQWN0aXZlRHJvcGRvd25UcmlnZ2VyICYmICFsZWF2ZVRvRHJvcGRvd25Db250ZW50KSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZURvY3VtZW50Q2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IDxIVE1MRWxlbWVudD5lLnRhcmdldDtcbiAgICBpZiAoXG4gICAgICB0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrICYmXG4gICAgICB0YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKSAmJlxuICAgICAgIXRoaXMuaXNUb3VjaE1vdmluZ1xuICAgICkge1xuICAgICAgLy8gaXNUb3VjaE1vdmluZyB0byBjaGVjayBpZiBzY3JvbGxpbmcgb24gbW9iaWxlLlxuICAgICAgLy9zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIC8vfSwgMCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKFxuICAgICAgdGFyZ2V0LmNsb3Nlc3QoJy5kcm9wZG93bi10cmlnZ2VyJykgfHxcbiAgICAgICF0YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKVxuICAgICkge1xuICAgICAgLy9zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIC8vfSwgMCk7XG4gICAgfVxuICAgIHRoaXMuaXNUb3VjaE1vdmluZyA9IGZhbHNlO1xuICB9XG5cbiAgX2hhbmRsZVRyaWdnZXJLZXlkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAvLyBBUlJPVyBET1dOIE9SIEVOVEVSIFdIRU4gU0VMRUNUIElTIENMT1NFRCAtIG9wZW4gRHJvcGRvd25cbiAgICBjb25zdCBhcnJvd0Rvd25PckVudGVyID0gVXRpbHMua2V5cy5BUlJPV19ET1dOLmluY2x1ZGVzKGUua2V5KSB8fCBVdGlscy5rZXlzLkVOVEVSLmluY2x1ZGVzKGUua2V5KTtcbiAgICBpZiAoYXJyb3dEb3duT3JFbnRlciAmJiAhdGhpcy5pc09wZW4pIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVEb2N1bWVudFRvdWNobW92ZSA9IChlOiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gPEhUTUxFbGVtZW50PmUudGFyZ2V0O1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmRyb3Bkb3duLWNvbnRlbnQnKSkge1xuICAgICAgdGhpcy5pc1RvdWNoTW92aW5nID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlRHJvcGRvd25DbGljayA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgLy8gb25JdGVtQ2xpY2sgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkl0ZW1DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc3QgaXRlbUVsID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xvc2VzdCgnbGknKTtcbiAgICAgIHRoaXMub3B0aW9ucy5vbkl0ZW1DbGljay5jYWxsKHRoaXMsIGl0ZW1FbCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZURyb3Bkb3duS2V5ZG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgY29uc3QgYXJyb3dVcE9yRG93biA9IFV0aWxzLmtleXMuQVJST1dfRE9XTi5pbmNsdWRlcyhlLmtleSkgfHwgVXRpbHMua2V5cy5BUlJPV19VUC5pbmNsdWRlcyhlLmtleSk7XG4gICAgaWYgKFV0aWxzLmtleXMuVEFCLmluY2x1ZGVzKGUua2V5KSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgICAvLyBOYXZpZ2F0ZSBkb3duIGRyb3Bkb3duIGxpc3RcbiAgICBlbHNlIGlmIChhcnJvd1VwT3JEb3duICYmIHRoaXMuaXNPcGVuKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSBVdGlscy5rZXlzLkFSUk9XX0RPV04uaW5jbHVkZXMoZS5rZXkpID8gMSA6IC0xO1xuICAgICAgbGV0IG5ld0ZvY3VzZWRJbmRleCA9IHRoaXMuZm9jdXNlZEluZGV4O1xuICAgICAgbGV0IGhhc0ZvdW5kTmV3SW5kZXggPSBmYWxzZTtcbiAgICAgIGRvIHtcbiAgICAgICAgbmV3Rm9jdXNlZEluZGV4ID0gbmV3Rm9jdXNlZEluZGV4ICsgZGlyZWN0aW9uO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgISF0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bbmV3Rm9jdXNlZEluZGV4XSAmJlxuICAgICAgICAgICg8YW55PnRoaXMuZHJvcGRvd25FbC5jaGlsZHJlbltuZXdGb2N1c2VkSW5kZXhdKS50YWJJbmRleCAhPT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgaGFzRm91bmROZXdJbmRleCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKG5ld0ZvY3VzZWRJbmRleCA8IHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlbi5sZW5ndGggJiYgbmV3Rm9jdXNlZEluZGV4ID49IDApO1xuXG4gICAgICBpZiAoaGFzRm91bmROZXdJbmRleCkge1xuICAgICAgICAvLyBSZW1vdmUgYWN0aXZlIGNsYXNzIGZyb20gb2xkIGVsZW1lbnRcbiAgICAgICAgaWYgKHRoaXMuZm9jdXNlZEluZGV4ID49IDApXG4gICAgICAgICAgdGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuW3RoaXMuZm9jdXNlZEluZGV4XS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgdGhpcy5mb2N1c2VkSW5kZXggPSBuZXdGb2N1c2VkSW5kZXg7XG4gICAgICAgIHRoaXMuX2ZvY3VzRm9jdXNlZEl0ZW0oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gRU5URVIgc2VsZWN0cyBjaG9pY2Ugb24gZm9jdXNlZCBpdGVtXG4gICAgZWxzZSBpZiAoVXRpbHMua2V5cy5FTlRFUi5pbmNsdWRlcyhlLmtleSkgJiYgdGhpcy5pc09wZW4pIHtcbiAgICAgIC8vIFNlYXJjaCBmb3IgPGE+IGFuZCA8YnV0dG9uPlxuICAgICAgY29uc3QgZm9jdXNlZEVsZW1lbnQgPSB0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bdGhpcy5mb2N1c2VkSW5kZXhdO1xuICAgICAgY29uc3QgYWN0aXZhdGFibGVFbGVtZW50ID0gPEhUTUxFbGVtZW50PmZvY3VzZWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2EsIGJ1dHRvbicpO1xuICAgICAgLy8gQ2xpY2sgYSBvciBidXR0b24gdGFnIGlmIGV4aXN0cywgb3RoZXJ3aXNlIGNsaWNrIGxpIHRhZ1xuICAgICAgaWYgKCEhYWN0aXZhdGFibGVFbGVtZW50KSB7XG4gICAgICAgIGFjdGl2YXRhYmxlRWxlbWVudC5jbGljaygpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoISFmb2N1c2VkRWxlbWVudCkge1xuICAgICAgICBpZiAoZm9jdXNlZEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgIGZvY3VzZWRFbGVtZW50LmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQ2xvc2UgZHJvcGRvd24gb24gRVNDXG4gICAgZWxzZSBpZiAoVXRpbHMua2V5cy5FU0MuaW5jbHVkZXMoZS5rZXkpICYmIHRoaXMuaXNPcGVuKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgLy8gQ0FTRSBXSEVOIFVTRVIgVFlQRSBMVFRFUlNcbiAgICBjb25zdCBrZXlUZXh0ID0gZS5rZXkudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBpc0xldHRlciA9IC9bYS16QS1aMC05LV9dLy50ZXN0KGtleVRleHQpO1xuICAgIGNvbnN0IHNwZWNpYWxLZXlzID0gWy4uLlV0aWxzLmtleXMuQVJST1dfRE9XTiwgLi4uVXRpbHMua2V5cy5BUlJPV19VUCwgLi4uVXRpbHMua2V5cy5FTlRFUiwgLi4uVXRpbHMua2V5cy5FU0MsIC4uLlV0aWxzLmtleXMuVEFCXTtcbiAgICBpZiAoaXNMZXR0ZXIgJiYgIXNwZWNpYWxLZXlzLmluY2x1ZGVzKGUua2V5KSkge1xuICAgICAgdGhpcy5maWx0ZXJRdWVyeS5wdXNoKGtleVRleHQpO1xuICAgICAgY29uc3Qgc3RyaW5nID0gdGhpcy5maWx0ZXJRdWVyeS5qb2luKCcnKTtcbiAgICAgIGNvbnN0IG5ld09wdGlvbkVsID0gQXJyYXkuZnJvbSh0aGlzLmRyb3Bkb3duRWwucXVlcnlTZWxlY3RvckFsbCgnbGknKSlcbiAgICAgICAgLmZpbmQoKGVsKSA9PiBlbC5pbm5lclRleHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHN0cmluZykgPT09IDApO1xuICAgICAgaWYgKG5ld09wdGlvbkVsKSB7XG4gICAgICAgIHRoaXMuZm9jdXNlZEluZGV4ID0gWy4uLm5ld09wdGlvbkVsLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2YobmV3T3B0aW9uRWwpO1xuICAgICAgICB0aGlzLl9mb2N1c0ZvY3VzZWRJdGVtKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZmlsdGVyVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fcmVzZXRGaWx0ZXJRdWVyeSwgMTAwMCk7XG4gIH1cblxuICBfcmVzZXRGaWx0ZXJRdWVyeSA9ICgpID0+IHtcbiAgICB0aGlzLmZpbHRlclF1ZXJ5ID0gW107XG4gIH1cblxuICBfcmVzZXREcm9wZG93blN0eWxlcygpIHtcbiAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS53aWR0aCA9ICcnO1xuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUubGVmdCA9ICcnO1xuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS50b3AgPSAnJztcbiAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJyc7XG4gICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5vcGFjaXR5ID0gJyc7XG4gIH1cblxuICAvLyBNb3ZlIGRyb3Bkb3duIGFmdGVyIGNvbnRhaW5lciBvciB0cmlnZ2VyXG4gIF9tb3ZlRHJvcGRvd24oY29udGFpbmVyRWw6IEhUTUxFbGVtZW50ID0gbnVsbCkge1xuICAgIGlmICghIXRoaXMub3B0aW9ucy5jb250YWluZXIpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIuYXBwZW5kKHRoaXMuZHJvcGRvd25FbCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbnRhaW5lckVsKSB7XG4gICAgICBpZiAoIWNvbnRhaW5lckVsLmNvbnRhaW5zKHRoaXMuZHJvcGRvd25FbCkpIHtcbiAgICAgICAgY29udGFpbmVyRWwuYXBwZW5kKHRoaXMuZHJvcGRvd25FbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5lbC5hZnRlcih0aGlzLmRyb3Bkb3duRWwpO1xuICAgIH1cbiAgfVxuXG4gIF9tYWtlRHJvcGRvd25Gb2N1c2FibGUoKSB7XG4gICAgaWYgKCF0aGlzLmRyb3Bkb3duRWwpIHJldHVybjtcbiAgICAvLyBOZWVkZWQgZm9yIGFycm93IGtleSBuYXZpZ2F0aW9uXG4gICAgdGhpcy5kcm9wZG93bkVsLnRhYkluZGV4ID0gMDtcbiAgICAvLyBPbmx5IHNldCB0YWJpbmRleCBpZiBpdCBoYXNuJ3QgYmVlbiBzZXQgYnkgdXNlclxuICAgIEFycmF5LmZyb20odGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuKS5mb3JFYWNoKChlbCk9PiB7XG4gICAgICBpZiAoIWVsLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSlcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgfSk7XG4gIH1cblxuICBfZm9jdXNGb2N1c2VkSXRlbSgpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmZvY3VzZWRJbmRleCA+PSAwICYmXG4gICAgICB0aGlzLmZvY3VzZWRJbmRleCA8IHRoaXMuZHJvcGRvd25FbC5jaGlsZHJlbi5sZW5ndGggJiZcbiAgICAgIHRoaXMub3B0aW9ucy5hdXRvRm9jdXNcbiAgICApIHtcbiAgICAgICh0aGlzLmRyb3Bkb3duRWwuY2hpbGRyZW5bdGhpcy5mb2N1c2VkSW5kZXhdIGFzIEhUTUxFbGVtZW50KS5mb2N1cyh7XG4gICAgICAgIHByZXZlbnRTY3JvbGw6IHRydWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kcm9wZG93bkVsLmNoaWxkcmVuW3RoaXMuZm9jdXNlZEluZGV4XS5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcbiAgICAgICAgYmxvY2s6ICduZWFyZXN0JyxcbiAgICAgICAgaW5saW5lOiAnbmVhcmVzdCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIF9nZXREcm9wZG93blBvc2l0aW9uKGNsb3Nlc3RPdmVyZmxvd1BhcmVudDogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBvZmZzZXRQYXJlbnRCUmVjdCA9IHRoaXMuZWwub2Zmc2V0UGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHRyaWdnZXJCUmVjdCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZHJvcGRvd25CUmVjdCA9IHRoaXMuZHJvcGRvd25FbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGxldCBpZGVhbEhlaWdodCA9IGRyb3Bkb3duQlJlY3QuaGVpZ2h0O1xuICAgIGxldCBpZGVhbFdpZHRoID0gZHJvcGRvd25CUmVjdC53aWR0aDtcbiAgICBsZXQgaWRlYWxYUG9zID0gdHJpZ2dlckJSZWN0LmxlZnQgLSBkcm9wZG93bkJSZWN0LmxlZnQ7XG4gICAgbGV0IGlkZWFsWVBvcyA9IHRyaWdnZXJCUmVjdC50b3AgLSBkcm9wZG93bkJSZWN0LnRvcDtcblxuICAgIGNvbnN0IGRyb3Bkb3duQm91bmRzID0ge1xuICAgICAgbGVmdDogaWRlYWxYUG9zLFxuICAgICAgdG9wOiBpZGVhbFlQb3MsXG4gICAgICBoZWlnaHQ6IGlkZWFsSGVpZ2h0LFxuICAgICAgd2lkdGg6IGlkZWFsV2lkdGhcbiAgICB9O1xuXG4gICAgY29uc3QgYWxpZ25tZW50cyA9IFV0aWxzLmNoZWNrUG9zc2libGVBbGlnbm1lbnRzKFxuICAgICAgdGhpcy5lbCxcbiAgICAgIGNsb3Nlc3RPdmVyZmxvd1BhcmVudCxcbiAgICAgIGRyb3Bkb3duQm91bmRzLFxuICAgICAgdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlciA/IDAgOiB0cmlnZ2VyQlJlY3QuaGVpZ2h0XG4gICAgKTtcblxuICAgIGxldCB2ZXJ0aWNhbEFsaWdubWVudCA9ICd0b3AnO1xuICAgIGxldCBob3Jpem9udGFsQWxpZ25tZW50ID0gdGhpcy5vcHRpb25zLmFsaWdubWVudDtcbiAgICBpZGVhbFlQb3MgKz0gdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlciA/IDAgOiB0cmlnZ2VyQlJlY3QuaGVpZ2h0O1xuXG4gICAgLy8gUmVzZXQgaXNTY3JvbGxhYmxlXG4gICAgdGhpcy5pc1Njcm9sbGFibGUgPSBmYWxzZTtcblxuICAgIGlmICghYWxpZ25tZW50cy50b3ApIHtcbiAgICAgIGlmIChhbGlnbm1lbnRzLmJvdHRvbSkge1xuICAgICAgICB2ZXJ0aWNhbEFsaWdubWVudCA9ICdib3R0b20nO1xuXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlcikge1xuICAgICAgICAgIGlkZWFsWVBvcyAtPSB0cmlnZ2VyQlJlY3QuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmlzU2Nyb2xsYWJsZSA9IHRydWU7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIHNpZGUgaGFzIG1vc3Qgc3BhY2UgYW5kIGN1dG9mZiBhdCBjb3JyZWN0IGhlaWdodFxuICAgICAgICBpZGVhbEhlaWdodCAtPSAyMDsgLy8gQWRkIHBhZGRpbmcgd2hlbiBjdXRvZmZcbiAgICAgICAgaWYgKGFsaWdubWVudHMuc3BhY2VPblRvcCA+IGFsaWdubWVudHMuc3BhY2VPbkJvdHRvbSkge1xuICAgICAgICAgIHZlcnRpY2FsQWxpZ25tZW50ID0gJ2JvdHRvbSc7XG4gICAgICAgICAgaWRlYWxIZWlnaHQgKz0gYWxpZ25tZW50cy5zcGFjZU9uVG9wO1xuICAgICAgICAgIGlkZWFsWVBvcyAtPSB0aGlzLm9wdGlvbnMuY292ZXJUcmlnZ2VyXG4gICAgICAgICAgICA/IGFsaWdubWVudHMuc3BhY2VPblRvcCAtIDIwXG4gICAgICAgICAgICA6IGFsaWdubWVudHMuc3BhY2VPblRvcCAtIDIwICsgdHJpZ2dlckJSZWN0LmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZGVhbEhlaWdodCArPSBhbGlnbm1lbnRzLnNwYWNlT25Cb3R0b207XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBwcmVmZXJyZWQgaG9yaXpvbnRhbCBhbGlnbm1lbnQgaXMgcG9zc2libGVcbiAgICBpZiAoIWFsaWdubWVudHNbaG9yaXpvbnRhbEFsaWdubWVudF0pIHtcbiAgICAgIGNvbnN0IG9wcG9zaXRlQWxpZ25tZW50ID0gaG9yaXpvbnRhbEFsaWdubWVudCA9PT0gJ2xlZnQnID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICAgIGlmIChhbGlnbm1lbnRzW29wcG9zaXRlQWxpZ25tZW50XSkge1xuICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50ID0gb3Bwb3NpdGVBbGlnbm1lbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBEZXRlcm1pbmUgd2hpY2ggc2lkZSBoYXMgbW9zdCBzcGFjZSBhbmQgY3V0b2ZmIGF0IGNvcnJlY3QgaGVpZ2h0XG4gICAgICAgIGlmIChhbGlnbm1lbnRzLnNwYWNlT25MZWZ0ID4gYWxpZ25tZW50cy5zcGFjZU9uUmlnaHQpIHtcbiAgICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50ID0gJ3JpZ2h0JztcbiAgICAgICAgICBpZGVhbFdpZHRoICs9IGFsaWdubWVudHMuc3BhY2VPbkxlZnQ7XG4gICAgICAgICAgaWRlYWxYUG9zIC09IGFsaWdubWVudHMuc3BhY2VPbkxlZnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaG9yaXpvbnRhbEFsaWdubWVudCA9ICdsZWZ0JztcbiAgICAgICAgICBpZGVhbFdpZHRoICs9IGFsaWdubWVudHMuc3BhY2VPblJpZ2h0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHZlcnRpY2FsQWxpZ25tZW50ID09PSAnYm90dG9tJykge1xuICAgICAgaWRlYWxZUG9zID1cbiAgICAgICAgaWRlYWxZUG9zIC0gZHJvcGRvd25CUmVjdC5oZWlnaHQgKyAodGhpcy5vcHRpb25zLmNvdmVyVHJpZ2dlciA/IHRyaWdnZXJCUmVjdC5oZWlnaHQgOiAwKTtcbiAgICB9XG4gICAgaWYgKGhvcml6b250YWxBbGlnbm1lbnQgPT09ICdyaWdodCcpIHtcbiAgICAgIGlkZWFsWFBvcyA9IGlkZWFsWFBvcyAtIGRyb3Bkb3duQlJlY3Qud2lkdGggKyB0cmlnZ2VyQlJlY3Qud2lkdGg7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB4OiBpZGVhbFhQb3MsXG4gICAgICB5OiBpZGVhbFlQb3MsXG4gICAgICB2ZXJ0aWNhbEFsaWdubWVudDogdmVydGljYWxBbGlnbm1lbnQsXG4gICAgICBob3Jpem9udGFsQWxpZ25tZW50OiBob3Jpem9udGFsQWxpZ25tZW50LFxuICAgICAgaGVpZ2h0OiBpZGVhbEhlaWdodCxcbiAgICAgIHdpZHRoOiBpZGVhbFdpZHRoXG4gICAgfTtcbiAgfVxuXG4gIF9hbmltYXRlSW4oKSB7XG4gICAgYW5pbS5yZW1vdmUodGhpcy5kcm9wZG93bkVsKTtcbiAgICBhbmltKHtcbiAgICAgIHRhcmdldHM6IHRoaXMuZHJvcGRvd25FbCxcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgdmFsdWU6IFswLCAxXSxcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICB9LFxuICAgICAgc2NhbGVYOiBbMC4zLCAxXSxcbiAgICAgIHNjYWxlWTogWzAuMywgMV0sXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVpbnQnLFxuICAgICAgY29tcGxldGU6IChhbmltKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzKSB0aGlzLmRyb3Bkb3duRWwuZm9jdXMoKTtcbiAgICAgICAgLy8gb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2FuaW1hdGVPdXQoKSB7XG4gICAgYW5pbS5yZW1vdmUodGhpcy5kcm9wZG93bkVsKTtcbiAgICBhbmltKHtcbiAgICAgIHRhcmdldHM6IHRoaXMuZHJvcGRvd25FbCxcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWludCdcbiAgICAgIH0sXG4gICAgICBzY2FsZVg6IDAuMyxcbiAgICAgIHNjYWxlWTogMC4zLFxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWludCcsXG4gICAgICBjb21wbGV0ZTogKGFuaW0pID0+IHtcbiAgICAgICAgdGhpcy5fcmVzZXREcm9wZG93blN0eWxlcygpO1xuICAgICAgICAvLyBvbkNsb3NlRW5kIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRDbG9zZXN0QW5jZXN0b3IoZWw6IEhUTUxFbGVtZW50LCBjb25kaXRpb246IEZ1bmN0aW9uKTogSFRNTEVsZW1lbnQge1xuICAgIGxldCBhbmNlc3RvciA9IGVsLnBhcmVudE5vZGU7XG4gICAgd2hpbGUgKGFuY2VzdG9yICE9PSBudWxsICYmIGFuY2VzdG9yICE9PSBkb2N1bWVudCkge1xuICAgICAgaWYgKGNvbmRpdGlvbihhbmNlc3RvcikpIHtcbiAgICAgICAgcmV0dXJuIDxIVE1MRWxlbWVudD5hbmNlc3RvcjtcbiAgICAgIH1cbiAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgX3BsYWNlRHJvcGRvd24oKSB7XG4gICAgLy8gQ29udGFpbmVyIGhlcmUgd2lsbCBiZSBjbG9zZXN0IGFuY2VzdG9yIHdpdGggb3ZlcmZsb3c6IGhpZGRlblxuICAgIGxldCBjbG9zZXN0T3ZlcmZsb3dQYXJlbnQ6IEhUTUxFbGVtZW50ID0gdGhpcy5fZ2V0Q2xvc2VzdEFuY2VzdG9yKHRoaXMuZHJvcGRvd25FbCwgKGFuY2VzdG9yOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFbJ0hUTUwnLCdCT0RZJ10uaW5jbHVkZXMoYW5jZXN0b3IudGFnTmFtZSkgJiYgZ2V0Q29tcHV0ZWRTdHlsZShhbmNlc3Rvcikub3ZlcmZsb3cgIT09ICd2aXNpYmxlJztcbiAgICB9KTtcbiAgICAvLyBGYWxsYmFja1xuICAgIGlmICghY2xvc2VzdE92ZXJmbG93UGFyZW50KSB7XG4gICAgICBjbG9zZXN0T3ZlcmZsb3dQYXJlbnQgPSA8SFRNTEVsZW1lbnQ+KCEhdGhpcy5kcm9wZG93bkVsLm9mZnNldFBhcmVudFxuICAgICAgICA/IHRoaXMuZHJvcGRvd25FbC5vZmZzZXRQYXJlbnRcbiAgICAgICAgOiB0aGlzLmRyb3Bkb3duRWwucGFyZW50Tm9kZSk7XG4gICAgfVxuXG4gICAgaWYgKGdldENvbXB1dGVkU3R5bGUoY2xvc2VzdE92ZXJmbG93UGFyZW50KS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpXG4gICAgICBjbG9zZXN0T3ZlcmZsb3dQYXJlbnQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXG4gICAgdGhpcy5fbW92ZURyb3Bkb3duKGNsb3Nlc3RPdmVyZmxvd1BhcmVudCk7XG5cbiAgICAvLyBTZXQgd2lkdGggYmVmb3JlIGNhbGN1bGF0aW5nIHBvc2l0aW9uSW5mb1xuICAgIGNvbnN0IGlkZWFsV2lkdGggPSB0aGlzLm9wdGlvbnMuY29uc3RyYWluV2lkdGhcbiAgICAgID8gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aFxuICAgICAgOiB0aGlzLmRyb3Bkb3duRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLndpZHRoID0gaWRlYWxXaWR0aCArICdweCc7XG5cbiAgICBjb25zdCBwb3NpdGlvbkluZm8gPSB0aGlzLl9nZXREcm9wZG93blBvc2l0aW9uKGNsb3Nlc3RPdmVyZmxvd1BhcmVudCk7XG4gICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLmxlZnQgPSBwb3NpdGlvbkluZm8ueCArICdweCc7XG4gICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLnRvcCA9IHBvc2l0aW9uSW5mby55ICsgJ3B4JztcbiAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUuaGVpZ2h0ID0gcG9zaXRpb25JbmZvLmhlaWdodCArICdweCc7XG4gICAgdGhpcy5kcm9wZG93bkVsLnN0eWxlLndpZHRoID0gcG9zaXRpb25JbmZvLndpZHRoICsgJ3B4JztcbiAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gYCR7XG4gICAgICBwb3NpdGlvbkluZm8uaG9yaXpvbnRhbEFsaWdubWVudCA9PT0gJ2xlZnQnID8gJzAnIDogJzEwMCUnXG4gICAgfSAke3Bvc2l0aW9uSW5mby52ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ3RvcCcgPyAnMCcgOiAnMTAwJSd9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVuIGRyb3Bkb3duLlxuICAgKi9cbiAgb3BlbiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5pc09wZW4pIHJldHVybjtcbiAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgLy8gb25PcGVuU3RhcnQgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5TdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0LmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgfVxuICAgIC8vIFJlc2V0IHN0eWxlc1xuICAgIHRoaXMuX3Jlc2V0RHJvcGRvd25TdHlsZXMoKTtcbiAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgdGhpcy5fcGxhY2VEcm9wZG93bigpO1xuICAgIHRoaXMuX2FuaW1hdGVJbigpO1xuICAgIHRoaXMuX3NldHVwVGVtcG9yYXJ5RXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIGRyb3Bkb3duLlxuICAgKi9cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5mb2N1c2VkSW5kZXggPSAtMTtcbiAgICAvLyBvbkNsb3NlU3RhcnQgY2FsbGJhY2tcbiAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICB9XG4gICAgdGhpcy5fYW5pbWF0ZU91dCgpO1xuICAgIHRoaXMuX3JlbW92ZVRlbXBvcmFyeUV2ZW50SGFuZGxlcnMoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9Gb2N1cykge1xuICAgICAgdGhpcy5lbC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXaGlsZSBkcm9wZG93biBpcyBvcGVuLCB5b3UgY2FuIHJlY2FsY3VsYXRlIGl0cyBkaW1lbnNpb25zIGlmIGl0cyBjb250ZW50cyBoYXZlIGNoYW5nZWQuXG4gICAqL1xuICByZWNhbGN1bGF0ZURpbWVuc2lvbnMgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUud2lkdGggPSAnJztcbiAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgIHRoaXMuZHJvcGRvd25FbC5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUudG9wID0gJyc7XG4gICAgICB0aGlzLmRyb3Bkb3duRWwuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJyc7XG4gICAgICB0aGlzLl9wbGFjZURyb3Bkb3duKCk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHtcbiAgICBEcm9wZG93bi5fZHJvcGRvd25zID0gW107XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/dropdown.ts\n");

/***/ }),

/***/ "./src/forms.ts":
/*!**********************!*\
  !*** ./src/forms.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Forms = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nclass Forms {\n    /**\n     * Resizes the given TextArea after updating the\n     *  value content dynamically.\n     * @param textarea TextArea to be resized\n     */\n    static textareaAutoResize(textarea) {\n        if (!textarea) {\n            console.error('No textarea element found');\n            return;\n        }\n        // Textarea Auto Resize\n        let hiddenDiv = document.querySelector('.hiddendiv');\n        if (!hiddenDiv) {\n            hiddenDiv = document.createElement('div');\n            hiddenDiv.classList.add('hiddendiv', 'common');\n            document.body.append(hiddenDiv);\n        }\n        const style = getComputedStyle(textarea);\n        // Set font properties of hiddenDiv\n        const fontFamily = style.fontFamily; //textarea.css('font-family');\n        const fontSize = style.fontSize; //textarea.css('font-size');\n        const lineHeight = style.lineHeight; //textarea.css('line-height');\n        // Firefox can't handle padding shorthand.\n        const paddingTop = style.paddingTop; //getComputedStyle(textarea).css('padding-top');\n        const paddingRight = style.paddingRight; //textarea.css('padding-right');\n        const paddingBottom = style.paddingBottom; //textarea.css('padding-bottom');\n        const paddingLeft = style.paddingLeft; //textarea.css('padding-left');\n        if (fontSize)\n            hiddenDiv.style.fontSize = fontSize; //('font-size', fontSize);\n        if (fontFamily)\n            hiddenDiv.style.fontFamily = fontFamily; //css('font-family', fontFamily);\n        if (lineHeight)\n            hiddenDiv.style.lineHeight = lineHeight; //css('line-height', lineHeight);\n        if (paddingTop)\n            hiddenDiv.style.paddingTop = paddingTop; //ss('padding-top', paddingTop);\n        if (paddingRight)\n            hiddenDiv.style.paddingRight = paddingRight; //css('padding-right', paddingRight);\n        if (paddingBottom)\n            hiddenDiv.style.paddingBottom = paddingBottom; //css('padding-bottom', paddingBottom);\n        if (paddingLeft)\n            hiddenDiv.style.paddingLeft = paddingLeft; //css('padding-left', paddingLeft);\n        // Set original-height, if none\n        if (!textarea.hasAttribute('original-height'))\n            textarea.setAttribute('original-height', textarea.getBoundingClientRect().height.toString());\n        if (textarea.getAttribute('wrap') === 'off') {\n            hiddenDiv.style.overflowWrap = 'normal'; // ('overflow-wrap', 'normal')\n            hiddenDiv.style.whiteSpace = 'pre'; //.css('white-space', 'pre');\n        }\n        hiddenDiv.innerText = textarea.value + '\\n';\n        const content = hiddenDiv.innerHTML.replace(/\\n/g, '<br>');\n        hiddenDiv.innerHTML = content;\n        // When textarea is hidden, width goes crazy.\n        // Approximate with half of window size\n        if (textarea.offsetWidth > 0 && textarea.offsetHeight > 0) {\n            hiddenDiv.style.width = textarea.getBoundingClientRect().width + 'px'; // ('width', textarea.width() + 'px');\n        }\n        else {\n            hiddenDiv.style.width = (window.innerWidth / 2) + 'px'; //css('width', window.innerWidth / 2 + 'px');\n        }\n        // Resize if the new height is greater than the\n        // original height of the textarea\n        const originalHeight = parseInt(textarea.getAttribute('original-height'));\n        const prevLength = parseInt(textarea.getAttribute('previous-length'));\n        if (isNaN(originalHeight))\n            return;\n        if (originalHeight <= hiddenDiv.clientHeight) {\n            textarea.style.height = hiddenDiv.clientHeight + 'px'; //css('height', hiddenDiv.innerHeight() + 'px');\n        }\n        else if (textarea.value.length < prevLength) {\n            // In case the new height is less than original height, it\n            // means the textarea has less text than before\n            // So we set the height to the original one\n            textarea.style.height = originalHeight + 'px';\n        }\n        textarea.setAttribute('previous-length', textarea.value.length.toString());\n    }\n    ;\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            document.addEventListener('keyup', (e) => {\n                const target = e.target;\n                // Radio and Checkbox focus class\n                if (target instanceof HTMLInputElement && ['radio', 'checkbox'].includes(target.type)) {\n                    // TAB, check if tabbing to radio or checkbox.\n                    if (utils_1.Utils.keys.TAB.includes(e.key)) {\n                        target.classList.add('tabbed');\n                        target.addEventListener('blur', e => target.classList.remove('tabbed'), { once: true });\n                    }\n                }\n            });\n            document.querySelectorAll('.materialize-textarea').forEach((textArea) => {\n                // Save Data in Element\n                textArea.setAttribute('original-height', textArea.getBoundingClientRect().height.toString());\n                textArea.setAttribute('previous-length', textArea.value.length.toString());\n                Forms.textareaAutoResize(textArea);\n                textArea.addEventListener('keyup', e => Forms.textareaAutoResize(textArea));\n                textArea.addEventListener('keydown', e => Forms.textareaAutoResize(textArea));\n            });\n            // File Input Path\n            document.querySelectorAll('.file-field input[type=\"file\"]').forEach((fileInput) => {\n                fileInput.addEventListener('change', e => {\n                    const fileField = fileInput.closest('.file-field');\n                    const pathInput = fileField.querySelector('input.file-path');\n                    const files = fileInput.files;\n                    const filenames = [];\n                    for (let i = 0; i < files.length; i++) {\n                        filenames.push(files[i].name);\n                    }\n                    pathInput.value = filenames.join(', ');\n                    pathInput.dispatchEvent(new Event('change'));\n                });\n            });\n        });\n    }\n}\nexports.Forms = Forms;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDdkMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUMvQyxDQUFDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUwsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0NBQ0Y7QUF4SEQsc0JBd0hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL2Zvcm1zLnRzPzUwYjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgRm9ybXMge1xuXG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSBnaXZlbiBUZXh0QXJlYSBhZnRlciB1cGRhdGluZyB0aGVcbiAgICogIHZhbHVlIGNvbnRlbnQgZHluYW1pY2FsbHkuXG4gICAqIEBwYXJhbSB0ZXh0YXJlYSBUZXh0QXJlYSB0byBiZSByZXNpemVkXG4gICAqL1xuICBzdGF0aWMgdGV4dGFyZWFBdXRvUmVzaXplKHRleHRhcmVhOiBIVE1MVGV4dEFyZWFFbGVtZW50KXtcbiAgICBpZiAoIXRleHRhcmVhKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdObyB0ZXh0YXJlYSBlbGVtZW50IGZvdW5kJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFRleHRhcmVhIEF1dG8gUmVzaXplXG4gICAgbGV0IGhpZGRlbkRpdjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlkZGVuZGl2Jyk7XG4gICAgaWYgKCFoaWRkZW5EaXYpIHtcbiAgICAgIGhpZGRlbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaGlkZGVuRGl2LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbmRpdicsICdjb21tb24nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKGhpZGRlbkRpdik7XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0ZXh0YXJlYSk7XG4gICAgLy8gU2V0IGZvbnQgcHJvcGVydGllcyBvZiBoaWRkZW5EaXZcbiAgICBjb25zdCBmb250RmFtaWx5ID0gc3R5bGUuZm9udEZhbWlseTsgLy90ZXh0YXJlYS5jc3MoJ2ZvbnQtZmFtaWx5Jyk7XG4gICAgY29uc3QgZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZTsgLy90ZXh0YXJlYS5jc3MoJ2ZvbnQtc2l6ZScpO1xuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0OyAvL3RleHRhcmVhLmNzcygnbGluZS1oZWlnaHQnKTtcbiAgICAvLyBGaXJlZm94IGNhbid0IGhhbmRsZSBwYWRkaW5nIHNob3J0aGFuZC5cbiAgICBjb25zdCBwYWRkaW5nVG9wID0gc3R5bGUucGFkZGluZ1RvcDsgLy9nZXRDb21wdXRlZFN0eWxlKHRleHRhcmVhKS5jc3MoJ3BhZGRpbmctdG9wJyk7XG4gICAgY29uc3QgcGFkZGluZ1JpZ2h0ID0gc3R5bGUucGFkZGluZ1JpZ2h0OyAvL3RleHRhcmVhLmNzcygncGFkZGluZy1yaWdodCcpO1xuICAgIGNvbnN0IHBhZGRpbmdCb3R0b20gPSBzdHlsZS5wYWRkaW5nQm90dG9tOyAvL3RleHRhcmVhLmNzcygncGFkZGluZy1ib3R0b20nKTtcbiAgICBjb25zdCBwYWRkaW5nTGVmdCA9IHN0eWxlLnBhZGRpbmdMZWZ0OyAvL3RleHRhcmVhLmNzcygncGFkZGluZy1sZWZ0Jyk7XG5cbiAgICBpZiAoZm9udFNpemUpIGhpZGRlbkRpdi5zdHlsZS5mb250U2l6ZSA9IGZvbnRTaXplOyAvLygnZm9udC1zaXplJywgZm9udFNpemUpO1xuICAgIGlmIChmb250RmFtaWx5KSBoaWRkZW5EaXYuc3R5bGUuZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7IC8vY3NzKCdmb250LWZhbWlseScsIGZvbnRGYW1pbHkpO1xuICAgIGlmIChsaW5lSGVpZ2h0KSBoaWRkZW5EaXYuc3R5bGUubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7IC8vY3NzKCdsaW5lLWhlaWdodCcsIGxpbmVIZWlnaHQpO1xuICAgIGlmIChwYWRkaW5nVG9wKSBoaWRkZW5EaXYuc3R5bGUucGFkZGluZ1RvcCA9IHBhZGRpbmdUb3A7IC8vc3MoJ3BhZGRpbmctdG9wJywgcGFkZGluZ1RvcCk7XG4gICAgaWYgKHBhZGRpbmdSaWdodCkgaGlkZGVuRGl2LnN0eWxlLnBhZGRpbmdSaWdodCA9IHBhZGRpbmdSaWdodDsgLy9jc3MoJ3BhZGRpbmctcmlnaHQnLCBwYWRkaW5nUmlnaHQpO1xuICAgIGlmIChwYWRkaW5nQm90dG9tKSBoaWRkZW5EaXYuc3R5bGUucGFkZGluZ0JvdHRvbSA9IHBhZGRpbmdCb3R0b207IC8vY3NzKCdwYWRkaW5nLWJvdHRvbScsIHBhZGRpbmdCb3R0b20pO1xuICAgIGlmIChwYWRkaW5nTGVmdCkgaGlkZGVuRGl2LnN0eWxlLnBhZGRpbmdMZWZ0ID0gcGFkZGluZ0xlZnQ7IC8vY3NzKCdwYWRkaW5nLWxlZnQnLCBwYWRkaW5nTGVmdCk7XG5cbiAgICAvLyBTZXQgb3JpZ2luYWwtaGVpZ2h0LCBpZiBub25lXG4gICAgaWYgKCF0ZXh0YXJlYS5oYXNBdHRyaWJ1dGUoJ29yaWdpbmFsLWhlaWdodCcpKVxuICAgICAgdGV4dGFyZWEuc2V0QXR0cmlidXRlKCdvcmlnaW5hbC1oZWlnaHQnLCB0ZXh0YXJlYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQudG9TdHJpbmcoKSk7XG5cbiAgICBpZiAodGV4dGFyZWEuZ2V0QXR0cmlidXRlKCd3cmFwJykgPT09ICdvZmYnKSB7XG4gICAgICBoaWRkZW5EaXYuc3R5bGUub3ZlcmZsb3dXcmFwID0gJ25vcm1hbCc7IC8vICgnb3ZlcmZsb3ctd3JhcCcsICdub3JtYWwnKVxuICAgICAgaGlkZGVuRGl2LnN0eWxlLndoaXRlU3BhY2UgPSAncHJlJzsgIC8vLmNzcygnd2hpdGUtc3BhY2UnLCAncHJlJyk7XG4gICAgfVxuXG4gICAgaGlkZGVuRGl2LmlubmVyVGV4dCA9IHRleHRhcmVhLnZhbHVlICsgJ1xcbic7XG5cbiAgICBjb25zdCBjb250ZW50ID0gaGlkZGVuRGl2LmlubmVySFRNTC5yZXBsYWNlKC9cXG4vZywgJzxicj4nKTtcbiAgICBoaWRkZW5EaXYuaW5uZXJIVE1MID0gY29udGVudDtcblxuICAgIC8vIFdoZW4gdGV4dGFyZWEgaXMgaGlkZGVuLCB3aWR0aCBnb2VzIGNyYXp5LlxuICAgIC8vIEFwcHJveGltYXRlIHdpdGggaGFsZiBvZiB3aW5kb3cgc2l6ZVxuICAgIGlmICh0ZXh0YXJlYS5vZmZzZXRXaWR0aCA+IDAgJiYgdGV4dGFyZWEub2Zmc2V0SGVpZ2h0ID4gMCkge1xuICAgICAgaGlkZGVuRGl2LnN0eWxlLndpZHRoID0gdGV4dGFyZWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKydweCc7IC8vICgnd2lkdGgnLCB0ZXh0YXJlYS53aWR0aCgpICsgJ3B4Jyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaGlkZGVuRGl2LnN0eWxlLndpZHRoID0gKHdpbmRvdy5pbm5lcldpZHRoIC8gMikrJ3B4JyAvL2Nzcygnd2lkdGgnLCB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgKyAncHgnKTtcbiAgICB9XG5cbiAgICAvLyBSZXNpemUgaWYgdGhlIG5ldyBoZWlnaHQgaXMgZ3JlYXRlciB0aGFuIHRoZVxuICAgIC8vIG9yaWdpbmFsIGhlaWdodCBvZiB0aGUgdGV4dGFyZWFcbiAgICBjb25zdCBvcmlnaW5hbEhlaWdodCA9IHBhcnNlSW50KHRleHRhcmVhLmdldEF0dHJpYnV0ZSgnb3JpZ2luYWwtaGVpZ2h0JykpO1xuICAgIGNvbnN0IHByZXZMZW5ndGggPSBwYXJzZUludCh0ZXh0YXJlYS5nZXRBdHRyaWJ1dGUoJ3ByZXZpb3VzLWxlbmd0aCcpKTtcbiAgICBpZiAoaXNOYU4ob3JpZ2luYWxIZWlnaHQpKSByZXR1cm47XG4gICAgaWYgKG9yaWdpbmFsSGVpZ2h0IDw9IGhpZGRlbkRpdi5jbGllbnRIZWlnaHQpIHtcbiAgICAgIHRleHRhcmVhLnN0eWxlLmhlaWdodCA9IGhpZGRlbkRpdi5jbGllbnRIZWlnaHQrJ3B4JzsgIC8vY3NzKCdoZWlnaHQnLCBoaWRkZW5EaXYuaW5uZXJIZWlnaHQoKSArICdweCcpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0ZXh0YXJlYS52YWx1ZS5sZW5ndGggPCBwcmV2TGVuZ3RoKSB7XG4gICAgLy8gSW4gY2FzZSB0aGUgbmV3IGhlaWdodCBpcyBsZXNzIHRoYW4gb3JpZ2luYWwgaGVpZ2h0LCBpdFxuICAgIC8vIG1lYW5zIHRoZSB0ZXh0YXJlYSBoYXMgbGVzcyB0ZXh0IHRoYW4gYmVmb3JlXG4gICAgLy8gU28gd2Ugc2V0IHRoZSBoZWlnaHQgdG8gdGhlIG9yaWdpbmFsIG9uZVxuICAgICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gb3JpZ2luYWxIZWlnaHQrJ3B4JztcbiAgICB9XG4gICAgdGV4dGFyZWEuc2V0QXR0cmlidXRlKCdwcmV2aW91cy1sZW5ndGgnLCB0ZXh0YXJlYS52YWx1ZS5sZW5ndGgudG9TdHJpbmcoKSk7XG4gIH07XG5cbiAgc3RhdGljIEluaXQoKXtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gPEhUTUxJbnB1dEVsZW1lbnQ+ZS50YXJnZXQ7XG4gICAgICAgIC8vIFJhZGlvIGFuZCBDaGVja2JveCBmb2N1cyBjbGFzc1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiBbJ3JhZGlvJywnY2hlY2tib3gnXS5pbmNsdWRlcyh0YXJnZXQudHlwZSkpIHtcbiAgICAgICAgICAvLyBUQUIsIGNoZWNrIGlmIHRhYmJpbmcgdG8gcmFkaW8gb3IgY2hlY2tib3guXG4gICAgICAgICAgaWYgKFV0aWxzLmtleXMuVEFCLmluY2x1ZGVzKGUua2V5KSkge1xuICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3RhYmJlZCcpO1xuICAgICAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBlID0+IHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCd0YWJiZWQnKSwge29uY2U6IHRydWV9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWF0ZXJpYWxpemUtdGV4dGFyZWEnKS5mb3JFYWNoKCh0ZXh0QXJlYTogSFRNTFRleHRBcmVhRWxlbWVudCkgPT4ge1xuICAgICAgICAvLyBTYXZlIERhdGEgaW4gRWxlbWVudFxuICAgICAgICB0ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoJ29yaWdpbmFsLWhlaWdodCcsIHRleHRBcmVhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodC50b1N0cmluZygpKTtcbiAgICAgICAgdGV4dEFyZWEuc2V0QXR0cmlidXRlKCdwcmV2aW91cy1sZW5ndGgnLCB0ZXh0QXJlYS52YWx1ZS5sZW5ndGgudG9TdHJpbmcoKSk7XG4gICAgICAgIEZvcm1zLnRleHRhcmVhQXV0b1Jlc2l6ZSh0ZXh0QXJlYSk7XG5cbiAgICAgICAgdGV4dEFyZWEuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBlID0+IEZvcm1zLnRleHRhcmVhQXV0b1Jlc2l6ZSh0ZXh0QXJlYSkpO1xuICAgICAgICB0ZXh0QXJlYS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiBGb3Jtcy50ZXh0YXJlYUF1dG9SZXNpemUodGV4dEFyZWEpKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBGaWxlIElucHV0IFBhdGhcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWxlLWZpZWxkIGlucHV0W3R5cGU9XCJmaWxlXCJdJykuZm9yRWFjaCgoZmlsZUlucHV0OiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGZpbGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBlID0+IHtcbiAgICAgICAgICBjb25zdCBmaWxlRmllbGQgPSBmaWxlSW5wdXQuY2xvc2VzdCgnLmZpbGUtZmllbGQnKTtcbiAgICAgICAgICBjb25zdCBwYXRoSW5wdXQgPSA8SFRNTElucHV0RWxlbWVudD5maWxlRmllbGQucXVlcnlTZWxlY3RvcignaW5wdXQuZmlsZS1wYXRoJyk7XG4gICAgICAgICAgY29uc3QgZmlsZXMgPSBmaWxlSW5wdXQuZmlsZXM7XG4gICAgICAgICAgY29uc3QgZmlsZW5hbWVzID0gW107XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZmlsZW5hbWVzLnB1c2goZmlsZXNbaV0ubmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGhJbnB1dC52YWx1ZSA9IGZpbGVuYW1lcy5qb2luKCcsICcpO1xuICAgICAgICAgIHBhdGhJbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJykpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/forms.ts\n");

/***/ }),

/***/ "./src/global.ts":
/*!***********************!*\
  !*** ./src/global.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.M = void 0;\nconst autocomplete_1 = __webpack_require__(/*! ./autocomplete */ \"./src/autocomplete.ts\");\nconst buttons_1 = __webpack_require__(/*! ./buttons */ \"./src/buttons.ts\");\nconst cards_1 = __webpack_require__(/*! ./cards */ \"./src/cards.ts\");\nconst carousel_1 = __webpack_require__(/*! ./carousel */ \"./src/carousel.ts\");\nconst characterCounter_1 = __webpack_require__(/*! ./characterCounter */ \"./src/characterCounter.ts\");\nconst chips_1 = __webpack_require__(/*! ./chips */ \"./src/chips.ts\");\nconst collapsible_1 = __webpack_require__(/*! ./collapsible */ \"./src/collapsible.ts\");\nconst datepicker_1 = __webpack_require__(/*! ./datepicker */ \"./src/datepicker.ts\");\nconst dropdown_1 = __webpack_require__(/*! ./dropdown */ \"./src/dropdown.ts\");\nconst forms_1 = __webpack_require__(/*! ./forms */ \"./src/forms.ts\");\nconst materialbox_1 = __webpack_require__(/*! ./materialbox */ \"./src/materialbox.ts\");\nconst modal_1 = __webpack_require__(/*! ./modal */ \"./src/modal.ts\");\nconst parallax_1 = __webpack_require__(/*! ./parallax */ \"./src/parallax.ts\");\nconst pushpin_1 = __webpack_require__(/*! ./pushpin */ \"./src/pushpin.ts\");\nconst scrollspy_1 = __webpack_require__(/*! ./scrollspy */ \"./src/scrollspy.ts\");\nconst select_1 = __webpack_require__(/*! ./select */ \"./src/select.ts\");\nconst sidenav_1 = __webpack_require__(/*! ./sidenav */ \"./src/sidenav.ts\");\nconst slider_1 = __webpack_require__(/*! ./slider */ \"./src/slider.ts\");\nconst tabs_1 = __webpack_require__(/*! ./tabs */ \"./src/tabs.ts\");\nconst tapTarget_1 = __webpack_require__(/*! ./tapTarget */ \"./src/tapTarget.ts\");\nconst timepicker_1 = __webpack_require__(/*! ./timepicker */ \"./src/timepicker.ts\");\nconst toasts_1 = __webpack_require__(/*! ./toasts */ \"./src/toasts.ts\");\nconst tooltip_1 = __webpack_require__(/*! ./tooltip */ \"./src/tooltip.ts\");\nconst waves_1 = __webpack_require__(/*! ./waves */ \"./src/waves.ts\");\nconst range_1 = __webpack_require__(/*! ./range */ \"./src/range.ts\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nclass M {\n    /**\n     * Automatically initialize components.\n     * @param context Root element to initialize. Defaults to `document.body`.\n     */\n    static AutoInit(context = document.body) {\n        let registry = {\n            Autocomplete: context.querySelectorAll('.autocomplete:not(.no-autoinit)'),\n            Carousel: context.querySelectorAll('.carousel:not(.no-autoinit)'),\n            Chips: context.querySelectorAll('.chips:not(.no-autoinit)'),\n            Collapsible: context.querySelectorAll('.collapsible:not(.no-autoinit)'),\n            Datepicker: context.querySelectorAll('.datepicker:not(.no-autoinit)'),\n            Dropdown: context.querySelectorAll('.dropdown-trigger:not(.no-autoinit)'),\n            Materialbox: context.querySelectorAll('.materialboxed:not(.no-autoinit)'),\n            Modal: context.querySelectorAll('.modal:not(.no-autoinit)'),\n            Parallax: context.querySelectorAll('.parallax:not(.no-autoinit)'),\n            Pushpin: context.querySelectorAll('.pushpin:not(.no-autoinit)'),\n            ScrollSpy: context.querySelectorAll('.scrollspy:not(.no-autoinit)'),\n            FormSelect: context.querySelectorAll('select:not(.no-autoinit)'),\n            Sidenav: context.querySelectorAll('.sidenav:not(.no-autoinit)'),\n            Tabs: context.querySelectorAll('.tabs:not(.no-autoinit)'),\n            TapTarget: context.querySelectorAll('.tap-target:not(.no-autoinit)'),\n            Timepicker: context.querySelectorAll('.timepicker:not(.no-autoinit)'),\n            Tooltip: context.querySelectorAll('.tooltipped:not(.no-autoinit)'),\n            FloatingActionButton: context.querySelectorAll('.fixed-action-btn:not(.no-autoinit)'),\n        };\n        M.Autocomplete.init(registry.Autocomplete, {});\n        M.Carousel.init(registry.Carousel, {});\n        M.Chips.init(registry.Chips, {});\n        M.Collapsible.init(registry.Collapsible, {});\n        M.Datepicker.init(registry.Datepicker, {});\n        M.Dropdown.init(registry.Dropdown, {});\n        M.Materialbox.init(registry.Materialbox, {});\n        M.Modal.init(registry.Modal, {});\n        M.Parallax.init(registry.Parallax, {});\n        M.Pushpin.init(registry.Pushpin, {});\n        M.ScrollSpy.init(registry.ScrollSpy, {});\n        M.FormSelect.init(registry.FormSelect, {});\n        M.Sidenav.init(registry.Sidenav, {});\n        M.Tabs.init(registry.Tabs, {});\n        M.TapTarget.init(registry.TapTarget, {});\n        M.Timepicker.init(registry.Timepicker, {});\n        M.Tooltip.init(registry.Tooltip, {});\n        M.FloatingActionButton.init(registry.FloatingActionButton, {});\n    }\n}\nexports.M = M;\nM.version = '2.0.2-alpha';\nM.Autocomplete = autocomplete_1.Autocomplete;\nM.Tabs = tabs_1.Tabs;\nM.Carousel = carousel_1.Carousel;\nM.Dropdown = dropdown_1.Dropdown;\nM.FloatingActionButton = buttons_1.FloatingActionButton;\nM.Chips = chips_1.Chips;\nM.Collapsible = collapsible_1.Collapsible;\nM.Datepicker = datepicker_1.Datepicker;\nM.CharacterCounter = characterCounter_1.CharacterCounter;\nM.Forms = forms_1.Forms;\nM.FormSelect = select_1.FormSelect;\nM.Modal = modal_1.Modal;\nM.Pushpin = pushpin_1.Pushpin;\nM.Materialbox = materialbox_1.Materialbox;\nM.Parallax = parallax_1.Parallax;\nM.Slider = slider_1.Slider;\nM.Timepicker = timepicker_1.Timepicker;\n/** Creates a toast. */\nM.toast = (opt) => new toasts_1.Toast(opt);\nM.Tooltip = tooltip_1.Tooltip;\nM.Sidenav = sidenav_1.Sidenav;\nM.TapTarget = tapTarget_1.TapTarget;\nM.ScrollSpy = scrollspy_1.ScrollSpy;\nM.Range = range_1.Range;\nM.Waves = waves_1.Waves;\nM.Utils = utils_1.Utils;\n(() => {\n    document.addEventListener('keydown', utils_1.Utils.docHandleKeydown, true);\n    document.addEventListener('keyup', utils_1.Utils.docHandleKeyup, true);\n    document.addEventListener('focus', utils_1.Utils.docHandleFocus, true);\n    document.addEventListener('blur', utils_1.Utils.docHandleBlur, true);\n    cards_1.Cards.Init();\n    forms_1.Forms.Init();\n    chips_1.Chips.Init();\n    waves_1.Waves.Init();\n    range_1.Range.Init();\n})();\nexports[\"default\"] = M;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGdCQUFnQixDQUFDLE9BQU8sRUFBRSxhQUFLLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQy9ELFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsYUFBSyxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMvRCxRQUFRLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLGFBQUssQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDN0QsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsYUFBSyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ2YsQ0FBQztBQWdESCxxQkFBZSxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvZ2xvYmFsLnRzPzA0YTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXV0b2NvbXBsZXRlIH0gZnJvbSAnLi9hdXRvY29tcGxldGUnO1xuaW1wb3J0IHsgRmxvYXRpbmdBY3Rpb25CdXR0b24gfSBmcm9tICcuL2J1dHRvbnMnO1xuaW1wb3J0IHsgQ2FyZHMgfSBmcm9tICcuL2NhcmRzJztcbmltcG9ydCB7IENhcm91c2VsIH0gZnJvbSAnLi9jYXJvdXNlbCc7XG5pbXBvcnQgeyBDaGFyYWN0ZXJDb3VudGVyIH0gZnJvbSAnLi9jaGFyYWN0ZXJDb3VudGVyJztcbmltcG9ydCB7IENoaXBzIH0gZnJvbSAnLi9jaGlwcyc7XG5pbXBvcnQgeyBDb2xsYXBzaWJsZSB9IGZyb20gJy4vY29sbGFwc2libGUnO1xuaW1wb3J0IHsgRGF0ZXBpY2tlciB9IGZyb20gJy4vZGF0ZXBpY2tlcic7XG5pbXBvcnQgeyBEcm9wZG93biB9IGZyb20gJy4vZHJvcGRvd24nO1xuaW1wb3J0IHsgRm9ybXMgfSBmcm9tICcuL2Zvcm1zJztcbmltcG9ydCB7IE1hdGVyaWFsYm94IH0gZnJvbSAnLi9tYXRlcmlhbGJveCc7XG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gJy4vbW9kYWwnO1xuaW1wb3J0IHsgUGFyYWxsYXggfSBmcm9tICcuL3BhcmFsbGF4JztcbmltcG9ydCB7IFB1c2hwaW4gfSBmcm9tICcuL3B1c2hwaW4nO1xuaW1wb3J0IHsgU2Nyb2xsU3B5IH0gZnJvbSAnLi9zY3JvbGxzcHknO1xuaW1wb3J0IHsgRm9ybVNlbGVjdCB9IGZyb20gJy4vc2VsZWN0JztcbmltcG9ydCB7IFNpZGVuYXYgfSBmcm9tICcuL3NpZGVuYXYnO1xuaW1wb3J0IHsgU2xpZGVyIH0gZnJvbSAnLi9zbGlkZXInO1xuaW1wb3J0IHsgVGFicyB9IGZyb20gJy4vdGFicyc7XG5pbXBvcnQgeyBUYXBUYXJnZXQgfSBmcm9tICcuL3RhcFRhcmdldCc7XG5pbXBvcnQgeyBUaW1lcGlja2VyIH0gZnJvbSAnLi90aW1lcGlja2VyJztcbmltcG9ydCB7IFRvYXN0LCBUb2FzdE9wdGlvbnMgfSBmcm9tICcuL3RvYXN0cyc7XG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAnLi90b29sdGlwJztcbmltcG9ydCB7IFdhdmVzIH0gZnJvbSAnLi93YXZlcyc7XG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4vcmFuZ2UnO1xuaW1wb3J0IHsgVXRpbHMgfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGNsYXNzIE0ge1xuICBzdGF0aWMgdmVyc2lvbiA9ICcyLjAuMi1hbHBoYSc7XG5cbiAgc3RhdGljIEF1dG9jb21wbGV0ZTogdHlwZW9mIEF1dG9jb21wbGV0ZSA9IEF1dG9jb21wbGV0ZTtcbiAgc3RhdGljIFRhYnM6IHR5cGVvZiBUYWJzID0gVGFicztcbiAgc3RhdGljIENhcm91c2VsOiB0eXBlb2YgQ2Fyb3VzZWwgPSBDYXJvdXNlbDtcbiAgc3RhdGljIERyb3Bkb3duOiB0eXBlb2YgRHJvcGRvd24gPSBEcm9wZG93bjtcbiAgc3RhdGljIEZsb2F0aW5nQWN0aW9uQnV0dG9uOiB0eXBlb2YgRmxvYXRpbmdBY3Rpb25CdXR0b24gPSBGbG9hdGluZ0FjdGlvbkJ1dHRvbjtcbiAgc3RhdGljIENoaXBzOiB0eXBlb2YgQ2hpcHMgPSBDaGlwcztcbiAgc3RhdGljIENvbGxhcHNpYmxlOiB0eXBlb2YgQ29sbGFwc2libGUgPSBDb2xsYXBzaWJsZTtcbiAgc3RhdGljIERhdGVwaWNrZXI6IHR5cGVvZiBEYXRlcGlja2VyID0gRGF0ZXBpY2tlcjtcbiAgc3RhdGljIENoYXJhY3RlckNvdW50ZXI6IHR5cGVvZiBDaGFyYWN0ZXJDb3VudGVyID0gQ2hhcmFjdGVyQ291bnRlcjtcbiAgc3RhdGljIEZvcm1zOiB0eXBlb2YgRm9ybXMgPSBGb3JtcztcbiAgc3RhdGljIEZvcm1TZWxlY3Q6IHR5cGVvZiBGb3JtU2VsZWN0ID0gRm9ybVNlbGVjdDtcbiAgc3RhdGljIE1vZGFsOiB0eXBlb2YgTW9kYWwgPSBNb2RhbDtcbiAgc3RhdGljIFB1c2hwaW46IHR5cGVvZiBQdXNocGluID0gUHVzaHBpbjtcbiAgc3RhdGljIE1hdGVyaWFsYm94OiB0eXBlb2YgTWF0ZXJpYWxib3ggPSBNYXRlcmlhbGJveDtcbiAgc3RhdGljIFBhcmFsbGF4OiB0eXBlb2YgUGFyYWxsYXggPSBQYXJhbGxheDtcbiAgc3RhdGljIFNsaWRlcjogdHlwZW9mIFNsaWRlciA9IFNsaWRlcjtcbiAgc3RhdGljIFRpbWVwaWNrZXI6IHR5cGVvZiBUaW1lcGlja2VyID0gVGltZXBpY2tlcjtcbiAgLyoqIENyZWF0ZXMgYSB0b2FzdC4gKi9cbiAgc3RhdGljIHRvYXN0OiAob3B0OiBUb2FzdE9wdGlvbnMpID0+IFRvYXN0ID0gKG9wdCkgPT4gbmV3IFRvYXN0KG9wdCkgO1xuICBzdGF0aWMgVG9vbHRpcDogdHlwZW9mIFRvb2x0aXAgPSBUb29sdGlwO1xuICBzdGF0aWMgU2lkZW5hdjogdHlwZW9mIFNpZGVuYXYgPSBTaWRlbmF2O1xuICBzdGF0aWMgVGFwVGFyZ2V0OiB0eXBlb2YgVGFwVGFyZ2V0ID0gVGFwVGFyZ2V0O1xuICBzdGF0aWMgU2Nyb2xsU3B5OiB0eXBlb2YgU2Nyb2xsU3B5ID0gU2Nyb2xsU3B5O1xuICBzdGF0aWMgUmFuZ2U6IHR5cGVvZiBSYW5nZSA9IFJhbmdlO1xuICBzdGF0aWMgV2F2ZXM6IHR5cGVvZiBXYXZlcyA9IFdhdmVzO1xuICBzdGF0aWMgVXRpbHM6IHR5cGVvZiBVdGlscyA9IFV0aWxzO1xuXG4gIHN0YXRpYyB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIFV0aWxzLmRvY0hhbmRsZUtleWRvd24sIHRydWUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgVXRpbHMuZG9jSGFuZGxlS2V5dXAsIHRydWUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgVXRpbHMuZG9jSGFuZGxlRm9jdXMsIHRydWUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBVdGlscy5kb2NIYW5kbGVCbHVyLCB0cnVlKTtcbiAgICBDYXJkcy5Jbml0KCk7XG4gICAgRm9ybXMuSW5pdCgpO1xuICAgIENoaXBzLkluaXQoKTtcbiAgICBXYXZlcy5Jbml0KCk7XG4gICAgUmFuZ2UuSW5pdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEF1dG9tYXRpY2FsbHkgaW5pdGlhbGl6ZSBjb21wb25lbnRzLlxuICAgKiBAcGFyYW0gY29udGV4dCBSb290IGVsZW1lbnQgdG8gaW5pdGlhbGl6ZS4gRGVmYXVsdHMgdG8gYGRvY3VtZW50LmJvZHlgLlxuICAgKi9cbiAgc3RhdGljIEF1dG9Jbml0KGNvbnRleHQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuYm9keSkge1xuICAgIGxldCByZWdpc3RyeSA9IHtcbiAgICAgIEF1dG9jb21wbGV0ZTogPE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+PmNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLmF1dG9jb21wbGV0ZTpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgQ2Fyb3VzZWw6IDxOb2RlTGlzdE9mPEhUTUxFbGVtZW50Pj5jb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgQ2hpcHM6IDxOb2RlTGlzdE9mPEhUTUxFbGVtZW50Pj5jb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGlwczpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgQ29sbGFwc2libGU6IDxOb2RlTGlzdE9mPEhUTUxFbGVtZW50Pj5jb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2xsYXBzaWJsZTpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgRGF0ZXBpY2tlcjogPE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+PmNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLmRhdGVwaWNrZXI6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICAgIERyb3Bkb3duOiA8Tm9kZUxpc3RPZjxIVE1MRWxlbWVudD4+Y29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcGRvd24tdHJpZ2dlcjpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgTWF0ZXJpYWxib3g6IDxOb2RlTGlzdE9mPEhUTUxFbGVtZW50Pj5jb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYXRlcmlhbGJveGVkOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBNb2RhbDogPE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+PmNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBQYXJhbGxheDogPE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+PmNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLnBhcmFsbGF4Om5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBQdXNocGluOiA8Tm9kZUxpc3RPZjxIVE1MRWxlbWVudD4+Y29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCcucHVzaHBpbjpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgU2Nyb2xsU3B5OiA8Tm9kZUxpc3RPZjxIVE1MRWxlbWVudD4+Y29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCcuc2Nyb2xsc3B5Om5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBGb3JtU2VsZWN0OiA8Tm9kZUxpc3RPZjxIVE1MRWxlbWVudD4+Y29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCdzZWxlY3Q6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICAgIFNpZGVuYXY6IDxOb2RlTGlzdE9mPEhUTUxFbGVtZW50Pj5jb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaWRlbmF2Om5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBUYWJzOiA8Tm9kZUxpc3RPZjxIVE1MRWxlbWVudD4+Y29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiczpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgVGFwVGFyZ2V0OiA8Tm9kZUxpc3RPZjxIVE1MRWxlbWVudD4+Y29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCcudGFwLXRhcmdldDpub3QoLm5vLWF1dG9pbml0KScpLFxuICAgICAgVGltZXBpY2tlcjogPE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+PmNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLnRpbWVwaWNrZXI6bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICAgIFRvb2x0aXA6IDxOb2RlTGlzdE9mPEhUTUxFbGVtZW50Pj5jb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b29sdGlwcGVkOm5vdCgubm8tYXV0b2luaXQpJyksXG4gICAgICBGbG9hdGluZ0FjdGlvbkJ1dHRvbjogPE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+PmNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLmZpeGVkLWFjdGlvbi1idG46bm90KC5uby1hdXRvaW5pdCknKSxcbiAgICB9O1xuICAgIE0uQXV0b2NvbXBsZXRlLmluaXQocmVnaXN0cnkuQXV0b2NvbXBsZXRlLCB7fSk7XG4gICAgTS5DYXJvdXNlbC5pbml0KHJlZ2lzdHJ5LkNhcm91c2VsLCB7fSk7XG4gICAgTS5DaGlwcy5pbml0KHJlZ2lzdHJ5LkNoaXBzLCB7fSk7XG4gICAgTS5Db2xsYXBzaWJsZS5pbml0KHJlZ2lzdHJ5LkNvbGxhcHNpYmxlLCB7fSk7XG4gICAgTS5EYXRlcGlja2VyLmluaXQocmVnaXN0cnkuRGF0ZXBpY2tlciwge30pO1xuICAgIE0uRHJvcGRvd24uaW5pdChyZWdpc3RyeS5Ecm9wZG93biwge30pO1xuICAgIE0uTWF0ZXJpYWxib3guaW5pdChyZWdpc3RyeS5NYXRlcmlhbGJveCwge30pO1xuICAgIE0uTW9kYWwuaW5pdChyZWdpc3RyeS5Nb2RhbCwge30pO1xuICAgIE0uUGFyYWxsYXguaW5pdChyZWdpc3RyeS5QYXJhbGxheCwge30pO1xuICAgIE0uUHVzaHBpbi5pbml0KHJlZ2lzdHJ5LlB1c2hwaW4sIHt9KTtcbiAgICBNLlNjcm9sbFNweS5pbml0KHJlZ2lzdHJ5LlNjcm9sbFNweSwge30pO1xuICAgIE0uRm9ybVNlbGVjdC5pbml0KHJlZ2lzdHJ5LkZvcm1TZWxlY3QsIHt9KTtcbiAgICBNLlNpZGVuYXYuaW5pdChyZWdpc3RyeS5TaWRlbmF2LCB7fSk7XG4gICAgTS5UYWJzLmluaXQocmVnaXN0cnkuVGFicywge30pO1xuICAgIE0uVGFwVGFyZ2V0LmluaXQocmVnaXN0cnkuVGFwVGFyZ2V0LCB7fSk7XG4gICAgTS5UaW1lcGlja2VyLmluaXQocmVnaXN0cnkuVGltZXBpY2tlciwge30pO1xuICAgIE0uVG9vbHRpcC5pbml0KHJlZ2lzdHJ5LlRvb2x0aXAsIHt9KTtcbiAgICBNLkZsb2F0aW5nQWN0aW9uQnV0dG9uLmluaXQocmVnaXN0cnkuRmxvYXRpbmdBY3Rpb25CdXR0b24sIHt9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/global.ts\n");

/***/ }),

/***/ "./src/materialbox.ts":
/*!****************************!*\
  !*** ./src/materialbox.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Materialbox = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst _defaults = {\n    inDuration: 275,\n    outDuration: 200,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null\n};\nclass Materialbox extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Materialbox);\n        this._handleMaterialboxClick = () => {\n            // If already modal, return to original\n            if (this.doneAnimating === false || (this.overlayActive && this.doneAnimating))\n                this.close();\n            else\n                this.open();\n        };\n        this._handleWindowScroll = () => {\n            if (this.overlayActive)\n                this.close();\n        };\n        this._handleWindowResize = () => {\n            if (this.overlayActive)\n                this.close();\n        };\n        this._handleWindowEscape = (e) => {\n            if (utils_1.Utils.keys.ESC.includes(e.key) && this.doneAnimating && this.overlayActive)\n                this.close();\n        };\n        /**\n         * Open materialbox.\n         */\n        this.open = () => {\n            this._updateVars();\n            this.originalWidth = this.el.getBoundingClientRect().width;\n            this.originalHeight = this.el.getBoundingClientRect().height;\n            // Set states\n            this.doneAnimating = false;\n            this.el.classList.add('active');\n            this.overlayActive = true;\n            // onOpenStart callback\n            if (typeof this.options.onOpenStart === 'function') {\n                this.options.onOpenStart.call(this, this.el);\n            }\n            // Set positioning for placeholder\n            this.placeholder.style.width = this.placeholder.getBoundingClientRect().width + 'px';\n            this.placeholder.style.height = this.placeholder.getBoundingClientRect().height + 'px';\n            this.placeholder.style.position = 'relative';\n            this.placeholder.style.top = '0';\n            this.placeholder.style.left = '0';\n            this._makeAncestorsOverflowVisible();\n            // Set css on origin\n            this.el.style.position = 'absolute';\n            this.el.style.zIndex = '1000';\n            this.el.style.willChange = 'left, top, width, height';\n            // Change from width or height attribute to css\n            this.attrWidth = this.el.getAttribute('width');\n            this.attrHeight = this.el.getAttribute('height');\n            if (this.attrWidth) {\n                this.el.style.width = this.attrWidth + 'px';\n                this.el.removeAttribute('width');\n            }\n            if (this.attrHeight) {\n                this.el.style.width = this.attrHeight + 'px';\n                this.el.removeAttribute('height');\n            }\n            // Add overlay\n            this._overlay = document.createElement('div');\n            this._overlay.id = 'materialbox-overlay';\n            this._overlay.style.opacity = '0';\n            this._overlay.addEventListener('click', e => {\n                if (this.doneAnimating)\n                    this.close();\n            }, { once: true });\n            // Put before in origin image to preserve z-index layering.\n            this.el.before(this._overlay);\n            // Set dimensions if needed\n            const overlayOffset = this._overlay.getBoundingClientRect();\n            this._overlay.style.width = this.windowWidth + 'px';\n            this._overlay.style.height = this.windowHeight + 'px';\n            this._overlay.style.left = -1 * overlayOffset.left + 'px';\n            this._overlay.style.top = -1 * overlayOffset.top + 'px';\n            animejs_1.default.remove(this.el);\n            animejs_1.default.remove(this._overlay);\n            // Animate Overlay\n            (0, animejs_1.default)({\n                targets: this._overlay,\n                opacity: 1,\n                duration: this.options.inDuration,\n                easing: 'easeOutQuad'\n            });\n            // Add and animate caption if it exists\n            if (this.caption !== '') {\n                if (this._photoCaption)\n                    animejs_1.default.remove(this._photoCaption);\n                this._photoCaption = document.createElement('div');\n                this._photoCaption.classList.add('materialbox-caption');\n                this._photoCaption.innerText = this.caption;\n                document.body.append(this._photoCaption);\n                this._photoCaption.style.display = 'inline';\n                (0, animejs_1.default)({\n                    targets: this._photoCaption,\n                    opacity: 1,\n                    duration: this.options.inDuration,\n                    easing: 'easeOutQuad'\n                });\n            }\n            // Resize Image\n            const widthPercent = this.originalWidth / this.windowWidth;\n            const heightPercent = this.originalHeight / this.windowHeight;\n            this.newWidth = 0;\n            this.newHeight = 0;\n            if (widthPercent > heightPercent) {\n                // Width first\n                const ratio = this.originalHeight / this.originalWidth;\n                this.newWidth = this.windowWidth * 0.9;\n                this.newHeight = this.windowWidth * 0.9 * ratio;\n            }\n            else {\n                // Height first\n                const ratio = this.originalWidth / this.originalHeight;\n                this.newWidth = this.windowHeight * 0.9 * ratio;\n                this.newHeight = this.windowHeight * 0.9;\n            }\n            this._animateImageIn();\n            // Handle Exit triggers\n            window.addEventListener('scroll', this._handleWindowScroll);\n            window.addEventListener('resize', this._handleWindowResize);\n            window.addEventListener('keyup', this._handleWindowEscape);\n        };\n        /**\n         * Close materialbox.\n         */\n        this.close = () => {\n            this._updateVars();\n            this.doneAnimating = false;\n            // onCloseStart callback\n            if (typeof this.options.onCloseStart === 'function') {\n                this.options.onCloseStart.call(this, this.el);\n            }\n            animejs_1.default.remove(this.el);\n            animejs_1.default.remove(this._overlay);\n            if (this.caption !== '')\n                animejs_1.default.remove(this._photoCaption);\n            // disable exit handlers\n            window.removeEventListener('scroll', this._handleWindowScroll);\n            window.removeEventListener('resize', this._handleWindowResize);\n            window.removeEventListener('keyup', this._handleWindowEscape);\n            (0, animejs_1.default)({\n                targets: this._overlay,\n                opacity: 0,\n                duration: this.options.outDuration,\n                easing: 'easeOutQuad',\n                complete: () => {\n                    this.overlayActive = false;\n                    this._overlay.remove();\n                }\n            });\n            this._animateImageOut();\n            // Remove Caption + reset css settings on image\n            if (this.caption !== '') {\n                (0, animejs_1.default)({\n                    targets: this._photoCaption,\n                    opacity: 0,\n                    duration: this.options.outDuration,\n                    easing: 'easeOutQuad',\n                    complete: () => {\n                        this._photoCaption.remove();\n                    }\n                });\n            }\n        };\n        this.el.M_Materialbox = this;\n        this.options = Object.assign(Object.assign({}, Materialbox.defaults), options);\n        this.overlayActive = false;\n        this.doneAnimating = true;\n        this.placeholder = document.createElement('div');\n        this.placeholder.classList.add('material-placeholder');\n        this.originalWidth = 0;\n        this.originalHeight = 0;\n        this.originInlineStyles = this.el.getAttribute('style');\n        this.caption = this.el.getAttribute('data-caption') || '';\n        // Wrap\n        this.el.before(this.placeholder);\n        this.placeholder.append(this.el);\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of MaterialBox.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Materialbox);\n    }\n    static getInstance(el) {\n        return el.M_Materialbox;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.M_Materialbox = undefined;\n        // Unwrap image\n        //this.placeholder.after(this.el).remove();\n        this.placeholder.remove();\n        this.el.removeAttribute('style');\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleMaterialboxClick);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleMaterialboxClick);\n    }\n    _makeAncestorsOverflowVisible() {\n        this._changedAncestorList = [];\n        let ancestor = this.placeholder.parentNode;\n        while (ancestor !== null && ancestor !== document) {\n            const curr = ancestor;\n            if (curr.style.overflow !== 'visible') {\n                curr.style.overflow = 'visible';\n                this._changedAncestorList.push(curr);\n            }\n            ancestor = ancestor.parentNode;\n        }\n    }\n    _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    _animateImageIn() {\n        this.el.style.maxHeight = this.newHeight.toString() + 'px';\n        this.el.style.maxWidth = this.newWidth.toString() + 'px';\n        const animOptions = {\n            targets: this.el,\n            height: [this.originalHeight, this.newHeight],\n            width: [this.originalWidth, this.newWidth],\n            left: utils_1.Utils.getDocumentScrollLeft() +\n                this.windowWidth / 2 -\n                this._offset(this.placeholder).left -\n                this.newWidth / 2,\n            top: utils_1.Utils.getDocumentScrollTop() +\n                this.windowHeight / 2 -\n                this._offset(this.placeholder).top -\n                this.newHeight / 2,\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this.doneAnimating = true;\n                // onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el);\n                }\n            }\n        };\n        // Override max-width or max-height if needed\n        //const elStyle = this.el.style;\n        //console.log('mh', elStyle.maxHeight, '->', this.newHeight);\n        //console.log('mw', elStyle.maxWidth, '->', this.newWidth);\n        //if (elStyle.maxWidth !== 'none') animOptions.maxWidth = this.newWidth;\n        //if (elStyle.maxHeight !== 'none') animOptions.maxHeight = this.newHeight;\n        //console.log('>>> animate');\n        //console.log(JSON.stringify(animOptions));\n        (0, animejs_1.default)(animOptions);\n    }\n    _animateImageOut() {\n        const animOptions = {\n            targets: this.el,\n            width: this.originalWidth,\n            height: this.originalHeight,\n            left: 0,\n            top: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this.placeholder.style.height = '';\n                this.placeholder.style.width = '';\n                this.placeholder.style.position = '';\n                this.placeholder.style.top = '';\n                this.placeholder.style.left = '';\n                // Revert to width or height attribute\n                if (this.attrWidth)\n                    this.el.setAttribute('width', this.attrWidth.toString());\n                if (this.attrHeight)\n                    this.el.setAttribute('height', this.attrHeight.toString());\n                this.el.removeAttribute('style');\n                this.originInlineStyles && this.el.setAttribute('style', this.originInlineStyles);\n                // Remove class\n                this.el.classList.remove('active');\n                this.doneAnimating = true;\n                // Remove overflow overrides on ancestors\n                this._changedAncestorList.forEach(anchestor => anchestor.style.overflow = '');\n                // onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        };\n        (0, animejs_1.default)(animOptions);\n    }\n    _updateVars() {\n        this.windowWidth = window.innerWidth;\n        this.windowHeight = window.innerHeight;\n        this.caption = this.el.getAttribute('data-caption') || '';\n    }\n}\nexports.Materialbox = Materialbox;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7aUJBQzdDO1lBQ0gsQ0FBQztTQUNGLENBQUM7UUFDRixxQkFBSSxFQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3BCLENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQztRQUN2QyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUM1RCxDQUFDO0NBaUpGO0FBcFdELGtDQW9XQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9tYXRlcmlhbGJveC50cz85N2Y1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5cbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7IEJhc2VPcHRpb25zLCBDb21wb25lbnQsIEluaXRFbGVtZW50cywgTUVsZW1lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBNYXRlcmlhbGJveE9wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUcmFuc2l0aW9uIGluIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAgICogQGRlZmF1bHQgMjc1XG4gICAqL1xuICBpbkR1cmF0aW9uOiBudW1iZXI7XG4gIC8qKlxuICAgKiBUcmFuc2l0aW9uIG91dCBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gICAqIEBkZWZhdWx0IDIwMFxuICAgKi9cbiAgb3V0RHVyYXRpb246IG51bWJlcjtcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBiZWZvcmUgbWF0ZXJpYWxib3ggaXMgb3BlbmVkLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBvbk9wZW5TdGFydDogKGVsOiBFbGVtZW50KSA9PiB2b2lkO1xuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIG1hdGVyaWFsYm94IGlzIG9wZW5lZC5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25PcGVuRW5kOiAoZWw6IEVsZW1lbnQpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYmVmb3JlIG1hdGVyaWFsYm94IGlzIGNsb3NlZC5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25DbG9zZVN0YXJ0OiAoZWw6IEVsZW1lbnQpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgbWF0ZXJpYWxib3ggaXMgY2xvc2VkLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBvbkNsb3NlRW5kOiAoZWw6IEVsZW1lbnQpID0+IHZvaWQ7XG59XG5cbmNvbnN0IF9kZWZhdWx0czogTWF0ZXJpYWxib3hPcHRpb25zID0ge1xuICBpbkR1cmF0aW9uOiAyNzUsXG4gIG91dER1cmF0aW9uOiAyMDAsXG4gIG9uT3BlblN0YXJ0OiBudWxsLFxuICBvbk9wZW5FbmQ6IG51bGwsXG4gIG9uQ2xvc2VTdGFydDogbnVsbCxcbiAgb25DbG9zZUVuZDogbnVsbFxufTtcblxuZXhwb3J0IGNsYXNzIE1hdGVyaWFsYm94IGV4dGVuZHMgQ29tcG9uZW50PE1hdGVyaWFsYm94T3B0aW9ucz4ge1xuICAvKiogSWYgdGhlIG1hdGVyaWFsYm94IG92ZXJsYXkgaXMgc2hvd2luZy4gKi9cbiAgb3ZlcmxheUFjdGl2ZTogYm9vbGVhbjtcbiAgLyoqIElmIHRoZSBtYXRlcmlhbGJveCBpcyBubyBsb25nZXIgYmVpbmcgYW5pbWF0ZWQuICovXG4gIGRvbmVBbmltYXRpbmc6IGJvb2xlYW47XG4gIC8qKiBDYXB0aW9uLCBpZiBzcGVjaWZpZWQuICovXG4gIGNhcHRpb246IHN0cmluZztcbiAgLyoqIE9yaWdpbmFsIHdpZHRoIG9mIGltYWdlLiAqL1xuICBvcmlnaW5hbFdpZHRoOiBudW1iZXI7XG4gIC8qKiBPcmlnaW5hbCBoZWlnaHQgb2YgaW1hZ2UuICovXG4gIG9yaWdpbmFsSGVpZ2h0OiBudW1iZXI7XG4gIHByaXZhdGUgb3JpZ2luSW5saW5lU3R5bGVzOiBzdHJpbmc7XG4gIHByaXZhdGUgcGxhY2Vob2xkZXI6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIF9jaGFuZ2VkQW5jZXN0b3JMaXN0OiBIVE1MRWxlbWVudFtdO1xuICBwcml2YXRlIG5ld0hlaWdodDogbnVtYmVyO1xuICBwcml2YXRlIG5ld1dpZHRoOiBudW1iZXI7XG4gIHByaXZhdGUgd2luZG93V2lkdGg6IG51bWJlcjtcbiAgcHJpdmF0ZSB3aW5kb3dIZWlnaHQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBhdHRyV2lkdGg6IHN0cmluZztcbiAgcHJpdmF0ZSBhdHRySGVpZ2h0OiBzdHJpbmc7XG4gIHByaXZhdGUgX292ZXJsYXk6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIF9waG90b0NhcHRpb246IEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKGVsOiBIVE1MRWxlbWVudCwgb3B0aW9uczogUGFydGlhbDxNYXRlcmlhbGJveE9wdGlvbnM+KSB7XG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIE1hdGVyaWFsYm94KTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fTWF0ZXJpYWxib3ggPSB0aGlzO1xuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4uTWF0ZXJpYWxib3guZGVmYXVsdHMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLm92ZXJsYXlBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLmRvbmVBbmltYXRpbmcgPSB0cnVlO1xuICAgIHRoaXMucGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnBsYWNlaG9sZGVyLmNsYXNzTGlzdC5hZGQoJ21hdGVyaWFsLXBsYWNlaG9sZGVyJyk7XG4gICAgdGhpcy5vcmlnaW5hbFdpZHRoID0gMDtcbiAgICB0aGlzLm9yaWdpbmFsSGVpZ2h0ID0gMDtcbiAgICB0aGlzLm9yaWdpbklubGluZVN0eWxlcyA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuICAgIHRoaXMuY2FwdGlvbiA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNhcHRpb24nKSB8fCAnJztcbiAgICAvLyBXcmFwXG4gICAgdGhpcy5lbC5iZWZvcmUodGhpcy5wbGFjZWhvbGRlcik7XG4gICAgdGhpcy5wbGFjZWhvbGRlci5hcHBlbmQodGhpcy5lbCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCk6IE1hdGVyaWFsYm94T3B0aW9ucyB7XG4gICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZSBvZiBNYXRlcmlhbEJveC5cbiAgICogQHBhcmFtIGVsIEhUTUwgZWxlbWVudC5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBQYXJ0aWFsPE1hdGVyaWFsYm94T3B0aW9ucz4pOiBNYXRlcmlhbGJveDtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBNYXRlcmlhbEJveC5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8TWF0ZXJpYWxib3hPcHRpb25zPik6IE1hdGVyaWFsYm94W107XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgTWF0ZXJpYWxCb3guXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxFbGVtZW50IHwgSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxNYXRlcmlhbGJveE9wdGlvbnM+ID0ge30pOiBNYXRlcmlhbGJveCB8IE1hdGVyaWFsYm94W117XG4gICAgcmV0dXJuIHN1cGVyLmluaXQoZWxzLCBvcHRpb25zLCBNYXRlcmlhbGJveCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxFbGVtZW50KTogTWF0ZXJpYWxib3gge1xuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX01hdGVyaWFsYm94O1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX01hdGVyaWFsYm94ID0gdW5kZWZpbmVkO1xuICAgIC8vIFVud3JhcCBpbWFnZVxuICAgIC8vdGhpcy5wbGFjZWhvbGRlci5hZnRlcih0aGlzLmVsKS5yZW1vdmUoKTtcbiAgICB0aGlzLnBsYWNlaG9sZGVyLnJlbW92ZSgpO1xuICAgIHRoaXMuZWwucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICB9XG5cbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTWF0ZXJpYWxib3hDbGljayk7XG4gIH1cblxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTWF0ZXJpYWxib3hDbGljayk7XG4gIH1cblxuICBfaGFuZGxlTWF0ZXJpYWxib3hDbGljayA9ICgpID0+IHtcbiAgICAvLyBJZiBhbHJlYWR5IG1vZGFsLCByZXR1cm4gdG8gb3JpZ2luYWxcbiAgICBpZiAodGhpcy5kb25lQW5pbWF0aW5nID09PSBmYWxzZSB8fCAodGhpcy5vdmVybGF5QWN0aXZlICYmIHRoaXMuZG9uZUFuaW1hdGluZykpXG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5vcGVuKCk7XG4gIH1cblxuICBfaGFuZGxlV2luZG93U2Nyb2xsID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLm92ZXJsYXlBY3RpdmUpIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIF9oYW5kbGVXaW5kb3dSZXNpemUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMub3ZlcmxheUFjdGl2ZSkgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgX2hhbmRsZVdpbmRvd0VzY2FwZSA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKFV0aWxzLmtleXMuRVNDLmluY2x1ZGVzKGUua2V5KSAmJiB0aGlzLmRvbmVBbmltYXRpbmcgJiYgdGhpcy5vdmVybGF5QWN0aXZlKSB0aGlzLmNsb3NlKCk7XG4gIH1cblxuICBfbWFrZUFuY2VzdG9yc092ZXJmbG93VmlzaWJsZSgpIHtcbiAgICB0aGlzLl9jaGFuZ2VkQW5jZXN0b3JMaXN0ID0gW107XG4gICAgbGV0IGFuY2VzdG9yID0gdGhpcy5wbGFjZWhvbGRlci5wYXJlbnROb2RlO1xuICAgIHdoaWxlIChhbmNlc3RvciAhPT0gbnVsbCAmJiBhbmNlc3RvciAhPT0gZG9jdW1lbnQpIHtcbiAgICAgIGNvbnN0IGN1cnIgPSA8SFRNTEVsZW1lbnQ+YW5jZXN0b3I7XG4gICAgICBpZiAoY3Vyci5zdHlsZS5vdmVyZmxvdyAhPT0gJ3Zpc2libGUnKSB7XG4gICAgICAgIGN1cnIuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICAgIHRoaXMuX2NoYW5nZWRBbmNlc3Rvckxpc3QucHVzaChjdXJyKTtcbiAgICAgIH1cbiAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50Tm9kZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9vZmZzZXQoZWw6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiBib3gudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRUb3AsXG4gICAgICBsZWZ0OiBib3gubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldCAtIGRvY0VsZW0uY2xpZW50TGVmdFxuICAgIH07XG4gIH1cblxuICBfYW5pbWF0ZUltYWdlSW4oKSB7XG4gICAgdGhpcy5lbC5zdHlsZS5tYXhIZWlnaHQgPSB0aGlzLm5ld0hlaWdodC50b1N0cmluZygpKydweCc7XG4gICAgdGhpcy5lbC5zdHlsZS5tYXhXaWR0aCA9IHRoaXMubmV3V2lkdGgudG9TdHJpbmcoKSsncHgnO1xuXG4gICAgY29uc3QgYW5pbU9wdGlvbnMgPSB7XG4gICAgICB0YXJnZXRzOiB0aGlzLmVsLCAvLyBpbWFnZVxuICAgICAgaGVpZ2h0OiBbdGhpcy5vcmlnaW5hbEhlaWdodCwgdGhpcy5uZXdIZWlnaHRdLFxuICAgICAgd2lkdGg6IFt0aGlzLm9yaWdpbmFsV2lkdGgsIHRoaXMubmV3V2lkdGhdLFxuICAgICAgbGVmdDpcbiAgICAgICAgVXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCkgK1xuICAgICAgICB0aGlzLndpbmRvd1dpZHRoIC8gMiAtXG4gICAgICAgIHRoaXMuX29mZnNldCh0aGlzLnBsYWNlaG9sZGVyKS5sZWZ0IC1cbiAgICAgICAgdGhpcy5uZXdXaWR0aCAvIDIsXG4gICAgICB0b3A6XG4gICAgICAgIFV0aWxzLmdldERvY3VtZW50U2Nyb2xsVG9wKCkgK1xuICAgICAgICB0aGlzLndpbmRvd0hlaWdodCAvIDIgLVxuICAgICAgICB0aGlzLl9vZmZzZXQodGhpcy5wbGFjZWhvbGRlcikudG9wIC1cbiAgICAgICAgdGhpcy5uZXdIZWlnaHQgLyAyLFxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5kb25lQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgLy8gb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgLy8gT3ZlcnJpZGUgbWF4LXdpZHRoIG9yIG1heC1oZWlnaHQgaWYgbmVlZGVkXG4gICAgLy9jb25zdCBlbFN0eWxlID0gdGhpcy5lbC5zdHlsZTtcbiAgICAvL2NvbnNvbGUubG9nKCdtaCcsIGVsU3R5bGUubWF4SGVpZ2h0LCAnLT4nLCB0aGlzLm5ld0hlaWdodCk7XG4gICAgLy9jb25zb2xlLmxvZygnbXcnLCBlbFN0eWxlLm1heFdpZHRoLCAnLT4nLCB0aGlzLm5ld1dpZHRoKTtcbiAgICAvL2lmIChlbFN0eWxlLm1heFdpZHRoICE9PSAnbm9uZScpIGFuaW1PcHRpb25zLm1heFdpZHRoID0gdGhpcy5uZXdXaWR0aDtcbiAgICAvL2lmIChlbFN0eWxlLm1heEhlaWdodCAhPT0gJ25vbmUnKSBhbmltT3B0aW9ucy5tYXhIZWlnaHQgPSB0aGlzLm5ld0hlaWdodDtcbiAgICAvL2NvbnNvbGUubG9nKCc+Pj4gYW5pbWF0ZScpO1xuICAgIC8vY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoYW5pbU9wdGlvbnMpKTtcbiAgICBhbmltKGFuaW1PcHRpb25zKTtcbiAgfVxuXG4gIF9hbmltYXRlSW1hZ2VPdXQoKSB7XG4gICAgY29uc3QgYW5pbU9wdGlvbnMgPSB7XG4gICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgd2lkdGg6IHRoaXMub3JpZ2luYWxXaWR0aCxcbiAgICAgIGhlaWdodDogdGhpcy5vcmlnaW5hbEhlaWdodCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlci5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlci5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICB0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUudG9wID0gJyc7XG4gICAgICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUubGVmdCA9ICcnO1xuICAgICAgICAvLyBSZXZlcnQgdG8gd2lkdGggb3IgaGVpZ2h0IGF0dHJpYnV0ZVxuICAgICAgICBpZiAodGhpcy5hdHRyV2lkdGgpIHRoaXMuZWwuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHRoaXMuYXR0cldpZHRoLnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAodGhpcy5hdHRySGVpZ2h0KSB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgdGhpcy5hdHRySGVpZ2h0LnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgdGhpcy5vcmlnaW5JbmxpbmVTdHlsZXMgJiYgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgdGhpcy5vcmlnaW5JbmxpbmVTdHlsZXMpO1xuICAgICAgICAvLyBSZW1vdmUgY2xhc3NcbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgdGhpcy5kb25lQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgLy8gUmVtb3ZlIG92ZXJmbG93IG92ZXJyaWRlcyBvbiBhbmNlc3RvcnNcbiAgICAgICAgdGhpcy5fY2hhbmdlZEFuY2VzdG9yTGlzdC5mb3JFYWNoKGFuY2hlc3RvciA9PiBhbmNoZXN0b3Iuc3R5bGUub3ZlcmZsb3cgPSAnJyk7XG4gICAgICAgIC8vIG9uQ2xvc2VFbmQgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kLmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGFuaW0oYW5pbU9wdGlvbnMpO1xuICB9XG5cbiAgX3VwZGF0ZVZhcnMoKSB7XG4gICAgdGhpcy53aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMud2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIHRoaXMuY2FwdGlvbiA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNhcHRpb24nKSB8fCAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVuIG1hdGVyaWFsYm94LlxuICAgKi9cbiAgb3BlbiA9ICgpID0+IHtcbiAgICB0aGlzLl91cGRhdGVWYXJzKCk7XG4gICAgdGhpcy5vcmlnaW5hbFdpZHRoID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICB0aGlzLm9yaWdpbmFsSGVpZ2h0ID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgLy8gU2V0IHN0YXRlc1xuICAgIHRoaXMuZG9uZUFuaW1hdGluZyA9IGZhbHNlO1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgdGhpcy5vdmVybGF5QWN0aXZlID0gdHJ1ZTtcbiAgICAvLyBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICB9XG4gICAgLy8gU2V0IHBvc2l0aW9uaW5nIGZvciBwbGFjZWhvbGRlclxuICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUud2lkdGggPSB0aGlzLnBsYWNlaG9sZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKydweCc7XG4gICAgdGhpcy5wbGFjZWhvbGRlci5zdHlsZS5oZWlnaHQgPSB0aGlzLnBsYWNlaG9sZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCsncHgnO1xuICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUudG9wID0gJzAnO1xuICAgIHRoaXMucGxhY2Vob2xkZXIuc3R5bGUubGVmdCA9ICcwJztcbiAgICB0aGlzLl9tYWtlQW5jZXN0b3JzT3ZlcmZsb3dWaXNpYmxlKCk7XG4gICAgLy8gU2V0IGNzcyBvbiBvcmlnaW5cbiAgICB0aGlzLmVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLmVsLnN0eWxlLnpJbmRleCA9ICcxMDAwJztcbiAgICB0aGlzLmVsLnN0eWxlLndpbGxDaGFuZ2UgPSAnbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0JztcbiAgICAvLyBDaGFuZ2UgZnJvbSB3aWR0aCBvciBoZWlnaHQgYXR0cmlidXRlIHRvIGNzc1xuICAgIHRoaXMuYXR0cldpZHRoID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyk7XG4gICAgdGhpcy5hdHRySGVpZ2h0ID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpO1xuICAgIGlmICh0aGlzLmF0dHJXaWR0aCkge1xuICAgICAgdGhpcy5lbC5zdHlsZS53aWR0aCA9IHRoaXMuYXR0cldpZHRoKydweCc7XG4gICAgICB0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYXR0ckhlaWdodCkge1xuICAgICAgdGhpcy5lbC5zdHlsZS53aWR0aCA9IHRoaXMuYXR0ckhlaWdodCsncHgnO1xuICAgICAgdGhpcy5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2hlaWdodCcpO1xuICAgIH1cbiAgICAvLyBBZGQgb3ZlcmxheVxuICAgIHRoaXMuX292ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9vdmVybGF5LmlkID0gJ21hdGVyaWFsYm94LW92ZXJsYXknO1xuICAgIHRoaXMuX292ZXJsYXkuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICB0aGlzLl9vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICBpZiAodGhpcy5kb25lQW5pbWF0aW5nKSB0aGlzLmNsb3NlKCk7XG4gICAgfSwge29uY2U6IHRydWV9KTtcbiAgICAvLyBQdXQgYmVmb3JlIGluIG9yaWdpbiBpbWFnZSB0byBwcmVzZXJ2ZSB6LWluZGV4IGxheWVyaW5nLlxuICAgIHRoaXMuZWwuYmVmb3JlKHRoaXMuX292ZXJsYXkpO1xuICAgIC8vIFNldCBkaW1lbnNpb25zIGlmIG5lZWRlZFxuICAgIGNvbnN0IG92ZXJsYXlPZmZzZXQgPSB0aGlzLl9vdmVybGF5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHRoaXMuX292ZXJsYXkuc3R5bGUud2lkdGggPSB0aGlzLndpbmRvd1dpZHRoKydweCc7XG4gICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5oZWlnaHQgPSB0aGlzLndpbmRvd0hlaWdodCsncHgnO1xuICAgIHRoaXMuX292ZXJsYXkuc3R5bGUubGVmdCA9IC0xICogb3ZlcmxheU9mZnNldC5sZWZ0KydweCc7XG4gICAgdGhpcy5fb3ZlcmxheS5zdHlsZS50b3AgPSAtMSAqIG92ZXJsYXlPZmZzZXQudG9wKydweCc7XG4gICAgYW5pbS5yZW1vdmUodGhpcy5lbCk7XG4gICAgYW5pbS5yZW1vdmUodGhpcy5fb3ZlcmxheSk7XG4gICAgLy8gQW5pbWF0ZSBPdmVybGF5XG4gICAgYW5pbSh7XG4gICAgICB0YXJnZXRzOiB0aGlzLl9vdmVybGF5LFxuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgIH0pO1xuICAgIC8vIEFkZCBhbmQgYW5pbWF0ZSBjYXB0aW9uIGlmIGl0IGV4aXN0c1xuICAgIGlmICh0aGlzLmNhcHRpb24gIT09ICcnKSB7XG4gICAgICBpZiAodGhpcy5fcGhvdG9DYXB0aW9uKSBhbmltLnJlbW92ZSh0aGlzLl9waG90b0NhcHRpb24pO1xuICAgICAgdGhpcy5fcGhvdG9DYXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLl9waG90b0NhcHRpb24uY2xhc3NMaXN0LmFkZCgnbWF0ZXJpYWxib3gtY2FwdGlvbicpO1xuICAgICAgdGhpcy5fcGhvdG9DYXB0aW9uLmlubmVyVGV4dCA9IHRoaXMuY2FwdGlvbjtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMuX3Bob3RvQ2FwdGlvbik7XG4gICAgICB0aGlzLl9waG90b0NhcHRpb24uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUnO1xuICAgICAgYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuX3Bob3RvQ2FwdGlvbixcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlc2l6ZSBJbWFnZVxuICAgIGNvbnN0IHdpZHRoUGVyY2VudCA9IHRoaXMub3JpZ2luYWxXaWR0aCAvIHRoaXMud2luZG93V2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0UGVyY2VudCA9IHRoaXMub3JpZ2luYWxIZWlnaHQgLyB0aGlzLndpbmRvd0hlaWdodDtcbiAgICB0aGlzLm5ld1dpZHRoID0gMDtcbiAgICB0aGlzLm5ld0hlaWdodCA9IDA7XG4gICAgaWYgKHdpZHRoUGVyY2VudCA+IGhlaWdodFBlcmNlbnQpIHtcbiAgICAgIC8vIFdpZHRoIGZpcnN0XG4gICAgICBjb25zdCByYXRpbyA9IHRoaXMub3JpZ2luYWxIZWlnaHQgLyB0aGlzLm9yaWdpbmFsV2lkdGg7XG4gICAgICB0aGlzLm5ld1dpZHRoID0gdGhpcy53aW5kb3dXaWR0aCAqIDAuOTtcbiAgICAgIHRoaXMubmV3SGVpZ2h0ID0gdGhpcy53aW5kb3dXaWR0aCAqIDAuOSAqIHJhdGlvO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIEhlaWdodCBmaXJzdFxuICAgICAgY29uc3QgcmF0aW8gPSB0aGlzLm9yaWdpbmFsV2lkdGggLyB0aGlzLm9yaWdpbmFsSGVpZ2h0O1xuICAgICAgdGhpcy5uZXdXaWR0aCA9IHRoaXMud2luZG93SGVpZ2h0ICogMC45ICogcmF0aW87XG4gICAgICB0aGlzLm5ld0hlaWdodCA9IHRoaXMud2luZG93SGVpZ2h0ICogMC45O1xuICAgIH1cbiAgICB0aGlzLl9hbmltYXRlSW1hZ2VJbigpO1xuXG4gICAgLy8gSGFuZGxlIEV4aXQgdHJpZ2dlcnNcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVXaW5kb3dFc2NhcGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIG1hdGVyaWFsYm94LlxuICAgKi9cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5fdXBkYXRlVmFycygpO1xuICAgIHRoaXMuZG9uZUFuaW1hdGluZyA9IGZhbHNlO1xuICAgIC8vIG9uQ2xvc2VTdGFydCBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgIH1cbiAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICBhbmltLnJlbW92ZSh0aGlzLl9vdmVybGF5KTtcbiAgICBpZiAodGhpcy5jYXB0aW9uICE9PSAnJykgYW5pbS5yZW1vdmUodGhpcy5fcGhvdG9DYXB0aW9uKTtcbiAgICAvLyBkaXNhYmxlIGV4aXQgaGFuZGxlcnNcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVXaW5kb3dFc2NhcGUpO1xuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogdGhpcy5fb3ZlcmxheSxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5vdmVybGF5QWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX292ZXJsYXkucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fYW5pbWF0ZUltYWdlT3V0KCk7XG4gICAgLy8gUmVtb3ZlIENhcHRpb24gKyByZXNldCBjc3Mgc2V0dGluZ3Mgb24gaW1hZ2VcbiAgICBpZiAodGhpcy5jYXB0aW9uICE9PSAnJykge1xuICAgICAgYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuX3Bob3RvQ2FwdGlvbixcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5vdXREdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX3Bob3RvQ2FwdGlvbi5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/materialbox.ts\n");

/***/ }),

/***/ "./src/modal.ts":
/*!**********************!*\
  !*** ./src/modal.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Modal = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst _defaults = {\n    opacity: 0.5,\n    inDuration: 250,\n    outDuration: 250,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    preventScrolling: true,\n    dismissible: true,\n    startingTop: '4%',\n    endingTop: '10%'\n};\nclass Modal extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Modal);\n        this._handleTriggerClick = (e) => {\n            const trigger = e.target.closest('.modal-trigger');\n            if (!trigger)\n                return;\n            const modalId = utils_1.Utils.getIdFromTrigger(trigger);\n            const modalInstance = document.getElementById(modalId).M_Modal;\n            if (modalInstance)\n                modalInstance.open(trigger);\n            e.preventDefault();\n        };\n        this._handleOverlayClick = () => {\n            if (this.options.dismissible)\n                this.close();\n        };\n        this._handleModalCloseClick = (e) => {\n            const closeTrigger = e.target.closest('.modal-close');\n            if (closeTrigger)\n                this.close();\n        };\n        this._handleKeydown = (e) => {\n            if (utils_1.Utils.keys.ESC.includes(e.key) && this.options.dismissible)\n                this.close();\n        };\n        this._handleFocus = (e) => {\n            // Only trap focus if this modal is the last model opened (prevents loops in nested modals).\n            if (!this.el.contains(e.target) && this._nthModalOpened === Modal._modalsOpen) {\n                this.el.focus();\n            }\n        };\n        /**\n         * Open modal.\n         */\n        this.open = (trigger) => {\n            if (this.isOpen)\n                return;\n            this.isOpen = true;\n            Modal._modalsOpen++;\n            this._nthModalOpened = Modal._modalsOpen;\n            // Set Z-Index based on number of currently open modals\n            this._overlay.style.zIndex = (1000 + Modal._modalsOpen * 2).toString();\n            this.el.style.zIndex = (1000 + Modal._modalsOpen * 2 + 1).toString();\n            // Set opening trigger, undefined indicates modal was opened by javascript\n            this._openingTrigger = !!trigger ? trigger : undefined;\n            // onOpenStart callback\n            if (typeof this.options.onOpenStart === 'function') {\n                this.options.onOpenStart.call(this, this.el, this._openingTrigger);\n            }\n            if (this.options.preventScrolling) {\n                document.body.style.overflow = 'hidden';\n            }\n            this.el.classList.add('open');\n            this.el.insertAdjacentElement('afterend', this._overlay);\n            if (this.options.dismissible) {\n                document.addEventListener('keydown', this._handleKeydown);\n                document.addEventListener('focus', this._handleFocus, true);\n            }\n            animejs_1.default.remove(this.el);\n            animejs_1.default.remove(this._overlay);\n            this._animateIn();\n            // Focus modal\n            this.el.focus();\n            return this;\n        };\n        /**\n         * Close modal.\n         */\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            this.isOpen = false;\n            Modal._modalsOpen--;\n            this._nthModalOpened = 0;\n            // Call onCloseStart callback\n            if (typeof this.options.onCloseStart === 'function') {\n                this.options.onCloseStart.call(this, this.el);\n            }\n            this.el.classList.remove('open');\n            // Enable body scrolling only if there are no more modals open.\n            if (Modal._modalsOpen === 0) {\n                document.body.style.overflow = '';\n            }\n            if (this.options.dismissible) {\n                document.removeEventListener('keydown', this._handleKeydown);\n                document.removeEventListener('focus', this._handleFocus, true);\n            }\n            animejs_1.default.remove(this.el);\n            animejs_1.default.remove(this._overlay);\n            this._animateOut();\n            return this;\n        };\n        this.el.M_Modal = this;\n        this.options = Object.assign(Object.assign({}, Modal.defaults), options);\n        this.isOpen = false;\n        this.id = this.el.id;\n        this._openingTrigger = undefined;\n        this._overlay = document.createElement('div');\n        this._overlay.classList.add('modal-overlay');\n        this.el.tabIndex = 0;\n        this._nthModalOpened = 0;\n        Modal._count++;\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Modal.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Modal);\n    }\n    static getInstance(el) {\n        return el.M_Modal;\n    }\n    destroy() {\n        Modal._count--;\n        this._removeEventHandlers();\n        this.el.removeAttribute('style');\n        this._overlay.remove();\n        this.el.M_Modal = undefined;\n    }\n    _setupEventHandlers() {\n        if (Modal._count === 1) {\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n        this._overlay.addEventListener('click', this._handleOverlayClick);\n        this.el.addEventListener('click', this._handleModalCloseClick);\n    }\n    _removeEventHandlers() {\n        if (Modal._count === 0) {\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n        this._overlay.removeEventListener('click', this._handleOverlayClick);\n        this.el.removeEventListener('click', this._handleModalCloseClick);\n    }\n    _animateIn() {\n        // Set initial styles\n        this.el.style.display = 'block';\n        this.el.style.opacity = '0';\n        this._overlay.style.display = 'block';\n        this._overlay.style.opacity = '0';\n        // Animate overlay\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: this.options.opacity,\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad'\n        });\n        // Define modal animation options\n        const enterAnimOptions = {\n            targets: this.el,\n            duration: this.options.inDuration,\n            easing: 'easeOutCubic',\n            // Handle modal onOpenEnd callback\n            complete: () => {\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el, this._openingTrigger);\n                }\n            }\n        };\n        // Bottom sheet animation\n        if (this.el.classList.contains('bottom-sheet')) {\n            enterAnimOptions['bottom'] = 0;\n            enterAnimOptions['opacity'] = 1;\n        }\n        // Normal modal animation\n        else {\n            enterAnimOptions['top'] = [this.options.startingTop, this.options.endingTop];\n            enterAnimOptions['opacity'] = 1;\n            enterAnimOptions['scaleX'] = [0.8, 1];\n            enterAnimOptions['scaleY'] = [0.8, 1];\n        }\n        (0, animejs_1.default)(enterAnimOptions);\n    }\n    _animateOut() {\n        // Animate overlay\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuart'\n        });\n        // Define modal animation options\n        const exitAnimOptions = {\n            targets: this.el,\n            duration: this.options.outDuration,\n            easing: 'easeOutCubic',\n            // Handle modal ready callback\n            complete: () => {\n                this.el.style.display = 'none';\n                this._overlay.remove();\n                // Call onCloseEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        };\n        // Bottom sheet animation\n        if (this.el.classList.contains('bottom-sheet')) {\n            exitAnimOptions['bottom'] = '-100%';\n            exitAnimOptions['opacity'] = 0;\n        }\n        // Normal modal animation\n        else {\n            exitAnimOptions['top'] = [this.options.endingTop, this.options.startingTop];\n            exitAnimOptions['opacity'] = 0;\n            exitAnimOptions['scaleX'] = 0.8;\n            exitAnimOptions['scaleY'] = 0.8;\n        }\n        (0, animejs_1.default)(exitAnimOptions);\n    }\n}\nexports.Modal = Modal;\n(() => {\n    Modal._modalsOpen = 0;\n    Modal._count = 0;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LHlCQUF5QjtRQUN6QixJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUM5QyxlQUFlLENBQUMsUUFBUSxDQUFDLEdBQUcsT0FBTyxDQUFDO1lBQ3BDLGVBQWUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDaEM7UUFDRCx5QkFBeUI7YUFDcEI7WUFDSCxlQUFlLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzVFLGVBQWUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDL0IsZUFBZSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUNoQyxlQUFlLENBQUMsUUFBUSxDQUFDLEdBQUcsR0FBRyxDQUFDO1NBQ2pDO1FBQ0QscUJBQUksRUFBQyxlQUFlLENBQUMsQ0FBQztJQUN4QixDQUFDO0NBbUVGO0FBdlFELHNCQXVRQztBQUpDO0lBQ0UsS0FBSyxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7SUFDdEIsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDbkIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9tb2RhbC50cz8wZTUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhbmltIGZyb20gXCJhbmltZWpzXCI7XG5cbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7IENvbXBvbmVudCwgQmFzZU9wdGlvbnMsIEluaXRFbGVtZW50cywgTUVsZW1lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBNb2RhbE9wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBPcGFjaXR5IG9mIHRoZSBtb2RhbCBvdmVybGF5LlxuICAgKiBAZGVmYXVsdCAwLjVcbiAgICovXG4gIG9wYWNpdHk6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRyYW5zaXRpb24gaW4gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAZGVmYXVsdCAyNTBcbiAgICovXG4gIGluRHVyYXRpb246IG51bWJlcjtcbiAgLyoqXG4gICAqIFRyYW5zaXRpb24gb3V0IGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAgICogQGRlZmF1bHQgMjUwXG4gICAqL1xuICBvdXREdXJhdGlvbjogbnVtYmVyO1xuICAvKipcbiAgICogUHJldmVudCBwYWdlIGZyb20gc2Nyb2xsaW5nIHdoaWxlIG1vZGFsIGlzIG9wZW4uXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIHByZXZlbnRTY3JvbGxpbmc6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYmVmb3JlIG1vZGFsIGlzIG9wZW5lZC5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25PcGVuU3RhcnQ6ICh0aGlzOiBNb2RhbCwgZWw6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIG1vZGFsIGlzIG9wZW5lZC5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25PcGVuRW5kOiAodGhpczogTW9kYWwsIGVsOiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBiZWZvcmUgbW9kYWwgaXMgY2xvc2VkLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBvbkNsb3NlU3RhcnQ6IChlbDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgbW9kYWwgaXMgY2xvc2VkLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBvbkNsb3NlRW5kOiAoZWw6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xuICAvKipcbiAgICogQWxsb3cgbW9kYWwgdG8gYmUgZGlzbWlzc2VkIGJ5IGtleWJvYXJkIG9yIG92ZXJsYXkgY2xpY2suXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGRpc21pc3NpYmxlOiBib29sZWFuO1xuICAvKipcbiAgICogU3RhcnRpbmcgdG9wIG9mZnNldC5cbiAgICogQGRlZmF1bHQgJzQlJ1xuICAgKi9cbiAgc3RhcnRpbmdUb3A6IHN0cmluZztcbiAgLyoqXG4gICAqIEVuZGluZyB0b3Agb2Zmc2V0LlxuICAgKiBAZGVmYXVsdCAnMTAlJ1xuICAgKi9cbiAgZW5kaW5nVG9wOiBzdHJpbmc7XG59XG5cbmNvbnN0IF9kZWZhdWx0cyA9IHtcbiAgb3BhY2l0eTogMC41LFxuICBpbkR1cmF0aW9uOiAyNTAsXG4gIG91dER1cmF0aW9uOiAyNTAsXG4gIG9uT3BlblN0YXJ0OiBudWxsLFxuICBvbk9wZW5FbmQ6IG51bGwsXG4gIG9uQ2xvc2VTdGFydDogbnVsbCxcbiAgb25DbG9zZUVuZDogbnVsbCxcbiAgcHJldmVudFNjcm9sbGluZzogdHJ1ZSxcbiAgZGlzbWlzc2libGU6IHRydWUsXG4gIHN0YXJ0aW5nVG9wOiAnNCUnLFxuICBlbmRpbmdUb3A6ICcxMCUnXG59O1xuXG5leHBvcnQgY2xhc3MgTW9kYWwgZXh0ZW5kcyBDb21wb25lbnQ8TW9kYWxPcHRpb25zPiB7XG5cbiAgc3RhdGljIF9tb2RhbHNPcGVuOiBudW1iZXI7XG4gIHN0YXRpYyBfY291bnQ6IG51bWJlcjtcbiAgXG4gIC8qKlxuICAgKiBJRCBvZiB0aGUgbW9kYWwgZWxlbWVudC5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBJZiB0aGUgbW9kYWwgaXMgb3Blbi5cbiAgICovXG4gIGlzT3BlbjogYm9vbGVhbjtcbiAgXG4gIHByaXZhdGUgX29wZW5pbmdUcmlnZ2VyOiBhbnk7XG4gIHByaXZhdGUgX292ZXJsYXk6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIF9udGhNb2RhbE9wZW5lZDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGVsOiBIVE1MRWxlbWVudCwgb3B0aW9uczogUGFydGlhbDxNb2RhbE9wdGlvbnM+KSB7XG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIE1vZGFsKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fTW9kYWwgPSB0aGlzO1xuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4uTW9kYWwuZGVmYXVsdHMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuaWQgPSB0aGlzLmVsLmlkO1xuICAgIHRoaXMuX29wZW5pbmdUcmlnZ2VyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX292ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9vdmVybGF5LmNsYXNzTGlzdC5hZGQoJ21vZGFsLW92ZXJsYXknKTtcbiAgICB0aGlzLmVsLnRhYkluZGV4ID0gMDtcbiAgICB0aGlzLl9udGhNb2RhbE9wZW5lZCA9IDA7XG4gICAgTW9kYWwuX2NvdW50Kys7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCkge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgTW9kYWwuXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zPzogUGFydGlhbDxNb2RhbE9wdGlvbnM+KTogTW9kYWw7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgTW9kYWwuXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbHM6IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM/OiBQYXJ0aWFsPE1vZGFsT3B0aW9ucz4pOiBNb2RhbFtdO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIE1vZGFsLlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWxzOiBIVE1MRWxlbWVudCB8IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM6IFBhcnRpYWw8TW9kYWxPcHRpb25zPiA9IHt9KTogTW9kYWwgfCBNb2RhbFtdIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIE1vZGFsKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBNb2RhbCB7XG4gICAgcmV0dXJuIChlbCBhcyBhbnkpLk1fTW9kYWw7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIE1vZGFsLl9jb3VudC0tO1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICB0aGlzLl9vdmVybGF5LnJlbW92ZSgpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9Nb2RhbCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgaWYgKE1vZGFsLl9jb3VudCA9PT0gMSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRyaWdnZXJDbGljayk7XG4gICAgfVxuICAgIHRoaXMuX292ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xpY2spO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVNb2RhbENsb3NlQ2xpY2spO1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgaWYgKE1vZGFsLl9jb3VudCA9PT0gMCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRyaWdnZXJDbGljayk7XG4gICAgfVxuICAgIHRoaXMuX292ZXJsYXkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xpY2spO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVNb2RhbENsb3NlQ2xpY2spO1xuICB9XG5cbiAgX2hhbmRsZVRyaWdnZXJDbGljayA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgY29uc3QgdHJpZ2dlciA9IChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdCgnLm1vZGFsLXRyaWdnZXInKTtcbiAgICBpZiAoIXRyaWdnZXIpIHJldHVybjtcbiAgICBjb25zdCBtb2RhbElkID0gVXRpbHMuZ2V0SWRGcm9tVHJpZ2dlcih0cmlnZ2VyIGFzIEhUTUxFbGVtZW50KTtcbiAgICBjb25zdCBtb2RhbEluc3RhbmNlID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsSWQpIGFzIGFueSkuTV9Nb2RhbDtcbiAgICBpZiAobW9kYWxJbnN0YW5jZSkgbW9kYWxJbnN0YW5jZS5vcGVuKHRyaWdnZXIpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIF9oYW5kbGVPdmVybGF5Q2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSkgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgX2hhbmRsZU1vZGFsQ2xvc2VDbGljayA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgY29uc3QgY2xvc2VUcmlnZ2VyID0gKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KCcubW9kYWwtY2xvc2UnKTtcbiAgICBpZiAoY2xvc2VUcmlnZ2VyKSB0aGlzLmNsb3NlKCk7XG4gIH1cblxuICBfaGFuZGxlS2V5ZG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKFV0aWxzLmtleXMuRVNDLmluY2x1ZGVzKGUua2V5KSAmJiB0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUpIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIF9oYW5kbGVGb2N1cyA9IChlOiBGb2N1c0V2ZW50KSA9PiB7XG4gICAgLy8gT25seSB0cmFwIGZvY3VzIGlmIHRoaXMgbW9kYWwgaXMgdGhlIGxhc3QgbW9kZWwgb3BlbmVkIChwcmV2ZW50cyBsb29wcyBpbiBuZXN0ZWQgbW9kYWxzKS5cbiAgICBpZiAoIXRoaXMuZWwuY29udGFpbnMoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpICYmIHRoaXMuX250aE1vZGFsT3BlbmVkID09PSBNb2RhbC5fbW9kYWxzT3Blbikge1xuICAgICAgdGhpcy5lbC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIF9hbmltYXRlSW4oKSB7XG4gICAgLy8gU2V0IGluaXRpYWwgc3R5bGVzXG4gICAgdGhpcy5lbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLmVsLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLl9vdmVybGF5LnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgLy8gQW5pbWF0ZSBvdmVybGF5XG4gICAgYW5pbSh7XG4gICAgICB0YXJnZXRzOiB0aGlzLl9vdmVybGF5LFxuICAgICAgb3BhY2l0eTogdGhpcy5vcHRpb25zLm9wYWNpdHksXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCdcbiAgICB9KTtcbiAgICAvLyBEZWZpbmUgbW9kYWwgYW5pbWF0aW9uIG9wdGlvbnNcbiAgICBjb25zdCBlbnRlckFuaW1PcHRpb25zID0ge1xuICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuaW5EdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRDdWJpYycsXG4gICAgICAvLyBIYW5kbGUgbW9kYWwgb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25PcGVuRW5kLmNhbGwodGhpcywgdGhpcy5lbCwgdGhpcy5fb3BlbmluZ1RyaWdnZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBCb3R0b20gc2hlZXQgYW5pbWF0aW9uXG4gICAgaWYgKHRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdib3R0b20tc2hlZXQnKSkge1xuICAgICAgZW50ZXJBbmltT3B0aW9uc1snYm90dG9tJ10gPSAwO1xuICAgICAgZW50ZXJBbmltT3B0aW9uc1snb3BhY2l0eSddID0gMTtcbiAgICB9XG4gICAgLy8gTm9ybWFsIG1vZGFsIGFuaW1hdGlvblxuICAgIGVsc2Uge1xuICAgICAgZW50ZXJBbmltT3B0aW9uc1sndG9wJ10gPSBbdGhpcy5vcHRpb25zLnN0YXJ0aW5nVG9wLCB0aGlzLm9wdGlvbnMuZW5kaW5nVG9wXTtcbiAgICAgIGVudGVyQW5pbU9wdGlvbnNbJ29wYWNpdHknXSA9IDE7XG4gICAgICBlbnRlckFuaW1PcHRpb25zWydzY2FsZVgnXSA9IFswLjgsIDFdO1xuICAgICAgZW50ZXJBbmltT3B0aW9uc1snc2NhbGVZJ10gPSBbMC44LCAxXTtcbiAgICB9XG4gICAgYW5pbShlbnRlckFuaW1PcHRpb25zKTtcbiAgfVxuXG4gIF9hbmltYXRlT3V0KCkge1xuICAgIC8vIEFuaW1hdGUgb3ZlcmxheVxuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogdGhpcy5fb3ZlcmxheSxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YXJ0J1xuICAgIH0pO1xuICAgIC8vIERlZmluZSBtb2RhbCBhbmltYXRpb24gb3B0aW9uc1xuICAgIGNvbnN0IGV4aXRBbmltT3B0aW9ucyA9IHtcbiAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dEN1YmljJyxcbiAgICAgIC8vIEhhbmRsZSBtb2RhbCByZWFkeSBjYWxsYmFja1xuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB0aGlzLl9vdmVybGF5LnJlbW92ZSgpO1xuICAgICAgICAvLyBDYWxsIG9uQ2xvc2VFbmQgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZUVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kLmNhbGwodGhpcywgdGhpcy5lbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIEJvdHRvbSBzaGVldCBhbmltYXRpb25cbiAgICBpZiAodGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2JvdHRvbS1zaGVldCcpKSB7XG4gICAgICBleGl0QW5pbU9wdGlvbnNbJ2JvdHRvbSddID0gJy0xMDAlJztcbiAgICAgIGV4aXRBbmltT3B0aW9uc1snb3BhY2l0eSddID0gMDtcbiAgICB9XG4gICAgLy8gTm9ybWFsIG1vZGFsIGFuaW1hdGlvblxuICAgIGVsc2Uge1xuICAgICAgZXhpdEFuaW1PcHRpb25zWyd0b3AnXSA9IFt0aGlzLm9wdGlvbnMuZW5kaW5nVG9wLCB0aGlzLm9wdGlvbnMuc3RhcnRpbmdUb3BdO1xuICAgICAgZXhpdEFuaW1PcHRpb25zWydvcGFjaXR5J10gPSAwO1xuICAgICAgZXhpdEFuaW1PcHRpb25zWydzY2FsZVgnXSA9IDAuODtcbiAgICAgIGV4aXRBbmltT3B0aW9uc1snc2NhbGVZJ10gPSAwLjg7XG4gICAgfVxuICAgIGFuaW0oZXhpdEFuaW1PcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVuIG1vZGFsLlxuICAgKi9cbiAgb3BlbiA9ICh0cmlnZ2VyPzogSFRNTEVsZW1lbnQpOiBNb2RhbCA9PiB7XG4gICAgaWYgKHRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgIE1vZGFsLl9tb2RhbHNPcGVuKys7XG4gICAgdGhpcy5fbnRoTW9kYWxPcGVuZWQgPSBNb2RhbC5fbW9kYWxzT3BlbjtcbiAgICAvLyBTZXQgWi1JbmRleCBiYXNlZCBvbiBudW1iZXIgb2YgY3VycmVudGx5IG9wZW4gbW9kYWxzXG4gICAgdGhpcy5fb3ZlcmxheS5zdHlsZS56SW5kZXggPSAoMTAwMCArIE1vZGFsLl9tb2RhbHNPcGVuICogMikudG9TdHJpbmcoKTtcbiAgICB0aGlzLmVsLnN0eWxlLnpJbmRleCA9ICgxMDAwICsgTW9kYWwuX21vZGFsc09wZW4gKiAyICsgMSkudG9TdHJpbmcoKTtcbiAgICAvLyBTZXQgb3BlbmluZyB0cmlnZ2VyLCB1bmRlZmluZWQgaW5kaWNhdGVzIG1vZGFsIHdhcyBvcGVuZWQgYnkgamF2YXNjcmlwdFxuICAgIHRoaXMuX29wZW5pbmdUcmlnZ2VyID0gISF0cmlnZ2VyID8gdHJpZ2dlciA6IHVuZGVmaW5lZDtcbiAgICAvLyBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsLCB0aGlzLl9vcGVuaW5nVHJpZ2dlcik7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMucHJldmVudFNjcm9sbGluZykge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIH1cbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICB0aGlzLmVsLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCB0aGlzLl9vdmVybGF5KTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmRpc21pc3NpYmxlKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93bik7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUZvY3VzLCB0cnVlKTtcbiAgICB9XG4gICAgYW5pbS5yZW1vdmUodGhpcy5lbCk7XG4gICAgYW5pbS5yZW1vdmUodGhpcy5fb3ZlcmxheSk7XG4gICAgdGhpcy5fYW5pbWF0ZUluKCk7XG4gICAgLy8gRm9jdXMgbW9kYWxcbiAgICB0aGlzLmVsLmZvY3VzKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgbW9kYWwuXG4gICAqL1xuICBjbG9zZSA9ICgpID0+IHtcbiAgICBpZiAoIXRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICBNb2RhbC5fbW9kYWxzT3Blbi0tO1xuICAgIHRoaXMuX250aE1vZGFsT3BlbmVkID0gMDtcbiAgICAvLyBDYWxsIG9uQ2xvc2VTdGFydCBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgIH1cbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICAvLyBFbmFibGUgYm9keSBzY3JvbGxpbmcgb25seSBpZiB0aGVyZSBhcmUgbm8gbW9yZSBtb2RhbHMgb3Blbi5cbiAgICBpZiAoTW9kYWwuX21vZGFsc09wZW4gPT09IDApIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVGb2N1cywgdHJ1ZSk7XG4gICAgfVxuICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xuICAgIHRoaXMuX2FuaW1hdGVPdXQoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHN0YXRpY3tcbiAgICBNb2RhbC5fbW9kYWxzT3BlbiA9IDA7XG4gICAgTW9kYWwuX2NvdW50ID0gMDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/modal.ts\n");

/***/ }),

/***/ "./src/parallax.ts":
/*!*************************!*\
  !*** ./src/parallax.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Parallax = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {\n    responsiveThreshold: 0 // breakpoint for swipeable\n};\nclass Parallax extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Parallax);\n        this._handleImageLoad = () => {\n            this._updateParallax();\n        };\n        this.el.M_Parallax = this;\n        this.options = Object.assign(Object.assign({}, Parallax.defaults), options);\n        this._enabled = window.innerWidth > this.options.responsiveThreshold;\n        this._img = this.el.querySelector('img');\n        this._updateParallax();\n        this._setupEventHandlers();\n        this._setupStyles();\n        Parallax._parallaxes.push(this);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Parallax.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Parallax);\n    }\n    static getInstance(el) {\n        return el.M_Parallax;\n    }\n    destroy() {\n        Parallax._parallaxes.splice(Parallax._parallaxes.indexOf(this), 1);\n        this._img.style.transform = '';\n        this._removeEventHandlers();\n        this.el.M_Parallax = undefined;\n    }\n    static _handleScroll() {\n        for (let i = 0; i < Parallax._parallaxes.length; i++) {\n            let parallaxInstance = Parallax._parallaxes[i];\n            parallaxInstance._updateParallax.call(parallaxInstance);\n        }\n    }\n    static _handleWindowResize() {\n        for (let i = 0; i < Parallax._parallaxes.length; i++) {\n            let parallaxInstance = Parallax._parallaxes[i];\n            parallaxInstance._enabled =\n                window.innerWidth > parallaxInstance.options.responsiveThreshold;\n        }\n    }\n    _setupEventHandlers() {\n        this._img.addEventListener('load', this._handleImageLoad);\n        if (Parallax._parallaxes.length === 0) {\n            if (!Parallax._handleScrollThrottled) {\n                Parallax._handleScrollThrottled = utils_1.Utils.throttle(Parallax._handleScroll, 5);\n            }\n            if (!Parallax._handleWindowResizeThrottled) {\n                Parallax._handleWindowResizeThrottled = utils_1.Utils.throttle(Parallax._handleWindowResize, 5);\n            }\n            window.addEventListener('scroll', Parallax._handleScrollThrottled);\n            window.addEventListener('resize', Parallax._handleWindowResizeThrottled);\n        }\n    }\n    _removeEventHandlers() {\n        this._img.removeEventListener('load', this._handleImageLoad);\n        if (Parallax._parallaxes.length === 0) {\n            window.removeEventListener('scroll', Parallax._handleScrollThrottled);\n            window.removeEventListener('resize', Parallax._handleWindowResizeThrottled);\n        }\n    }\n    _setupStyles() {\n        this._img.style.opacity = '1';\n    }\n    _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    _updateParallax() {\n        const containerHeight = this.el.getBoundingClientRect().height > 0 ? this.el.parentNode.offsetHeight : 500;\n        const imgHeight = this._img.offsetHeight;\n        const parallaxDist = imgHeight - containerHeight;\n        const bottom = this._offset(this.el).top + containerHeight;\n        const top = this._offset(this.el).top;\n        const scrollTop = utils_1.Utils.getDocumentScrollTop();\n        const windowHeight = window.innerHeight;\n        const windowBottom = scrollTop + windowHeight;\n        const percentScrolled = (windowBottom - top) / (containerHeight + windowHeight);\n        const parallax = parallaxDist * percentScrolled;\n        if (!this._enabled) {\n            this._img.style.transform = '';\n        }\n        else if (bottom > scrollTop && top < scrollTop + windowHeight) {\n            this._img.style.transform = `translate3D(-50%, ${parallax}px, 0)`;\n        }\n    }\n}\nexports.Parallax = Parallax;\nParallax._parallaxes = [];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZUFBZSxDQUFDO1FBRWhELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7U0FDaEM7YUFDSSxJQUFJLE1BQU0sR0FBRyxTQUFTLElBQUksR0FBRyxHQUFHLFNBQVMsR0FBRyxZQUFZLEVBQUU7WUFDN0QsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLHFCQUFxQixRQUFRLFFBQVEsQ0FBQztTQUNuRTtJQUNILENBQUM7O0FBcElILDRCQXFJQztBQWxJUSxvQkFBVyxHQUFlLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9wYXJhbGxheC50cz9jM2JlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7IENvbXBvbmVudCwgQmFzZU9wdGlvbnMsIEluaXRFbGVtZW50cywgTUVsZW1lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBQYXJhbGxheE9wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgc2NyZWVuLCBpbiBwaXhlbHMsIHdoZXJlIHRoZSBwYXJhbGxheCBmdW5jdGlvbmFsaXR5IHN0YXJ0cyB3b3JraW5nLlxuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICByZXNwb25zaXZlVGhyZXNob2xkOiBudW1iZXI7XG59XG5cbmxldCBfZGVmYXVsdHM6IFBhcmFsbGF4T3B0aW9ucyA9IHtcbiAgcmVzcG9uc2l2ZVRocmVzaG9sZDogMCAvLyBicmVha3BvaW50IGZvciBzd2lwZWFibGVcbn07XG5cbmV4cG9ydCBjbGFzcyBQYXJhbGxheCBleHRlbmRzIENvbXBvbmVudDxQYXJhbGxheE9wdGlvbnM+IHtcbiAgcHJpdmF0ZSBfZW5hYmxlZDogYm9vbGVhbjtcbiAgcHJpdmF0ZSBfaW1nOiBIVE1MSW1hZ2VFbGVtZW50O1xuICBzdGF0aWMgX3BhcmFsbGF4ZXM6IFBhcmFsbGF4W10gPSBbXTtcbiAgc3RhdGljIF9oYW5kbGVTY3JvbGxUaHJvdHRsZWQ6ICgpID0+IGFueTtcbiAgc3RhdGljIF9oYW5kbGVXaW5kb3dSZXNpemVUaHJvdHRsZWQ6ICgpID0+IGFueTtcblxuICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8UGFyYWxsYXhPcHRpb25zPikge1xuICAgIHN1cGVyKGVsLCBvcHRpb25zLCBQYXJhbGxheCk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1BhcmFsbGF4ID0gdGhpcztcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLlBhcmFsbGF4LmRlZmF1bHRzLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5fZW5hYmxlZCA9IHdpbmRvdy5pbm5lcldpZHRoID4gdGhpcy5vcHRpb25zLnJlc3BvbnNpdmVUaHJlc2hvbGQ7XG4gICAgdGhpcy5faW1nID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdpbWcnKTtcbiAgICB0aGlzLl91cGRhdGVQYXJhbGxheCgpO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMuX3NldHVwU3R5bGVzKCk7XG4gICAgUGFyYWxsYXguX3BhcmFsbGF4ZXMucHVzaCh0aGlzKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKTogUGFyYWxsYXhPcHRpb25zIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlIG9mIFBhcmFsbGF4LlxuICAgKiBAcGFyYW0gZWwgSFRNTCBlbGVtZW50LlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsOiBIVE1MRWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8UGFyYWxsYXhPcHRpb25zPik6IFBhcmFsbGF4O1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFBhcmFsbGF4LlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zPzogUGFydGlhbDxQYXJhbGxheE9wdGlvbnM+KTogUGFyYWxsYXhbXTtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBQYXJhbGxheC5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsczogSFRNTEVsZW1lbnQgfCBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPFBhcmFsbGF4T3B0aW9ucz4gPSB7fSk6IFBhcmFsbGF4IHwgUGFyYWxsYXhbXSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQoZWxzLCBvcHRpb25zLCBQYXJhbGxheCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxFbGVtZW50KTogUGFyYWxsYXgge1xuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX1BhcmFsbGF4O1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBQYXJhbGxheC5fcGFyYWxsYXhlcy5zcGxpY2UoUGFyYWxsYXguX3BhcmFsbGF4ZXMuaW5kZXhPZih0aGlzKSwgMSk7XG4gICAgdGhpcy5faW1nLnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fUGFyYWxsYXggPSB1bmRlZmluZWQ7XG4gIH1cblxuICBzdGF0aWMgX2hhbmRsZVNjcm9sbCgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFBhcmFsbGF4Ll9wYXJhbGxheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcGFyYWxsYXhJbnN0YW5jZSA9IFBhcmFsbGF4Ll9wYXJhbGxheGVzW2ldO1xuICAgICAgcGFyYWxsYXhJbnN0YW5jZS5fdXBkYXRlUGFyYWxsYXguY2FsbChwYXJhbGxheEluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2hhbmRsZVdpbmRvd1Jlc2l6ZSgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFBhcmFsbGF4Ll9wYXJhbGxheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcGFyYWxsYXhJbnN0YW5jZSA9IFBhcmFsbGF4Ll9wYXJhbGxheGVzW2ldO1xuICAgICAgcGFyYWxsYXhJbnN0YW5jZS5fZW5hYmxlZCA9XG4gICAgICAgIHdpbmRvdy5pbm5lcldpZHRoID4gcGFyYWxsYXhJbnN0YW5jZS5vcHRpb25zLnJlc3BvbnNpdmVUaHJlc2hvbGQ7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLl9pbWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2hhbmRsZUltYWdlTG9hZCk7XG4gICAgaWYgKFBhcmFsbGF4Ll9wYXJhbGxheGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKCFQYXJhbGxheC5faGFuZGxlU2Nyb2xsVGhyb3R0bGVkKXtcbiAgICAgICAgUGFyYWxsYXguX2hhbmRsZVNjcm9sbFRocm90dGxlZCA9IFV0aWxzLnRocm90dGxlKFBhcmFsbGF4Ll9oYW5kbGVTY3JvbGwsIDUpO1xuICAgICAgfVxuICAgICAgaWYgKCFQYXJhbGxheC5faGFuZGxlV2luZG93UmVzaXplVGhyb3R0bGVkKXtcbiAgICAgICAgUGFyYWxsYXguX2hhbmRsZVdpbmRvd1Jlc2l6ZVRocm90dGxlZCA9IFV0aWxzLnRocm90dGxlKFBhcmFsbGF4Ll9oYW5kbGVXaW5kb3dSZXNpemUsIDUpO1xuICAgICAgfVxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIFBhcmFsbGF4Ll9oYW5kbGVTY3JvbGxUaHJvdHRsZWQpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIFBhcmFsbGF4Ll9oYW5kbGVXaW5kb3dSZXNpemVUaHJvdHRsZWQpO1xuICAgIH1cbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuX2ltZy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5faGFuZGxlSW1hZ2VMb2FkKTtcbiAgICBpZiAoUGFyYWxsYXguX3BhcmFsbGF4ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgUGFyYWxsYXguX2hhbmRsZVNjcm9sbFRocm90dGxlZCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgUGFyYWxsYXguX2hhbmRsZVdpbmRvd1Jlc2l6ZVRocm90dGxlZCk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwU3R5bGVzKCkge1xuICAgIHRoaXMuX2ltZy5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuICB9XG5cbiAgX2hhbmRsZUltYWdlTG9hZCA9ICgpID0+IHtcbiAgICB0aGlzLl91cGRhdGVQYXJhbGxheCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfb2Zmc2V0KGVsOiBFbGVtZW50KSB7XG4gICAgY29uc3QgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiBib3gudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRUb3AsXG4gICAgICBsZWZ0OiBib3gubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldCAtIGRvY0VsZW0uY2xpZW50TGVmdFxuICAgIH07XG4gIH1cblxuICBfdXBkYXRlUGFyYWxsYXgoKSB7XG4gICAgY29uc3QgY29udGFpbmVySGVpZ2h0ID0gdGhpcy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgPiAwID8gKHRoaXMuZWwucGFyZW50Tm9kZSBhcyBhbnkpLm9mZnNldEhlaWdodCA6IDUwMDtcbiAgICBjb25zdCBpbWdIZWlnaHQgPSB0aGlzLl9pbWcub2Zmc2V0SGVpZ2h0O1xuICAgIGNvbnN0IHBhcmFsbGF4RGlzdCA9IGltZ0hlaWdodCAtIGNvbnRhaW5lckhlaWdodDtcbiAgICBjb25zdCBib3R0b20gPSB0aGlzLl9vZmZzZXQodGhpcy5lbCkudG9wICsgY29udGFpbmVySGVpZ2h0O1xuICAgIGNvbnN0IHRvcCA9IHRoaXMuX29mZnNldCh0aGlzLmVsKS50b3A7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gVXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKTtcbiAgICBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgY29uc3Qgd2luZG93Qm90dG9tID0gc2Nyb2xsVG9wICsgd2luZG93SGVpZ2h0O1xuICAgIGNvbnN0IHBlcmNlbnRTY3JvbGxlZCA9ICh3aW5kb3dCb3R0b20gLSB0b3ApIC8gKGNvbnRhaW5lckhlaWdodCArIHdpbmRvd0hlaWdodCk7XG4gICAgY29uc3QgcGFyYWxsYXggPSBwYXJhbGxheERpc3QgKiBwZXJjZW50U2Nyb2xsZWQ7XG5cbiAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHtcbiAgICAgIHRoaXMuX2ltZy5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICB9XG4gICAgZWxzZSBpZiAoYm90dG9tID4gc2Nyb2xsVG9wICYmIHRvcCA8IHNjcm9sbFRvcCArIHdpbmRvd0hlaWdodCkge1xuICAgICAgdGhpcy5faW1nLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzRCgtNTAlLCAke3BhcmFsbGF4fXB4LCAwKWA7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/parallax.ts\n");

/***/ }),

/***/ "./src/pushpin.ts":
/*!************************!*\
  !*** ./src/pushpin.ts ***!
  \************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Pushpin = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {\n    top: 0,\n    bottom: Infinity,\n    offset: 0,\n    onPositionChange: null\n};\nclass Pushpin extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Pushpin);\n        this.el.M_Pushpin = this;\n        this.options = Object.assign(Object.assign({}, Pushpin.defaults), options);\n        this.originalOffset = this.el.offsetTop;\n        Pushpin._pushpins.push(this);\n        this._setupEventHandlers();\n        this._updatePosition();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Pushpin.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Pushpin);\n    }\n    static getInstance(el) {\n        return el.M_Pushpin;\n    }\n    destroy() {\n        this.el.style.top = null;\n        this._removePinClasses();\n        // Remove pushpin Inst\n        let index = Pushpin._pushpins.indexOf(this);\n        Pushpin._pushpins.splice(index, 1);\n        if (Pushpin._pushpins.length === 0) {\n            this._removeEventHandlers();\n        }\n        this.el.M_Pushpin = undefined;\n    }\n    static _updateElements() {\n        for (let elIndex in Pushpin._pushpins) {\n            let pInstance = Pushpin._pushpins[elIndex];\n            pInstance._updatePosition();\n        }\n    }\n    _setupEventHandlers() {\n        document.addEventListener('scroll', Pushpin._updateElements);\n    }\n    _removeEventHandlers() {\n        document.removeEventListener('scroll', Pushpin._updateElements);\n    }\n    _updatePosition() {\n        let scrolled = utils_1.Utils.getDocumentScrollTop() + this.options.offset;\n        if (this.options.top <= scrolled &&\n            this.options.bottom >= scrolled &&\n            !this.el.classList.contains('pinned')) {\n            this._removePinClasses();\n            this.el.style.top = `${this.options.offset}px`;\n            this.el.classList.add('pinned');\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pinned');\n            }\n        }\n        // Add pin-top (when scrolled position is above top)\n        if (scrolled < this.options.top && !this.el.classList.contains('pin-top')) {\n            this._removePinClasses();\n            this.el.style.top = '0';\n            this.el.classList.add('pin-top');\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pin-top');\n            }\n        }\n        // Add pin-bottom (when scrolled position is below bottom)\n        if (scrolled > this.options.bottom && !this.el.classList.contains('pin-bottom')) {\n            this._removePinClasses();\n            this.el.classList.add('pin-bottom');\n            this.el.style.top = `${this.options.bottom - this.originalOffset}px`;\n            // onPositionChange callback\n            if (typeof this.options.onPositionChange === 'function') {\n                this.options.onPositionChange.call(this, 'pin-bottom');\n            }\n        }\n    }\n    _removePinClasses() {\n        // IE 11 bug (can't remove multiple classes in one line)\n        this.el.classList.remove('pin-top');\n        this.el.classList.remove('pinned');\n        this.el.classList.remove('pin-bottom');\n    }\n}\nexports.Pushpin = Pushpin;\n(() => {\n    Pushpin._pushpins = [];\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsRUFBRTtZQUMvRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN6QixJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDbkMsSUFBSSxDQUFDLEVBQWtCLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxjQUFjLElBQUksQ0FBQztZQUV0Riw0QkFBNEI7WUFDNUIsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEtBQUssVUFBVSxFQUFFO2dCQUN2RCxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsWUFBWSxDQUFDLENBQUM7YUFDeEQ7U0FDRjtJQUNILENBQUM7SUFFRCxpQkFBaUI7UUFDZix3REFBd0Q7UUFDeEQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDekMsQ0FBQztDQUtGO0FBaElELDBCQWdJQztBQUhDO0lBQ0UsT0FBTyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7QUFDekIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9wdXNocGluLnRzPzJmYmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBCYXNlT3B0aW9ucywgSW5pdEVsZW1lbnRzLCBNRWxlbWVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFB1c2hwaW5PcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIGRpc3RhbmNlIGluIHBpeGVscyBmcm9tIHRoZSB0b3Agb2YgdGhlIHBhZ2Ugd2hlcmVcbiAgICogdGhlIGVsZW1lbnQgYmVjb21lcyBmaXhlZC5cbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgdG9wOiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgZGlzdGFuY2UgaW4gcGl4ZWxzIGZyb20gdGhlIHRvcCBvZiB0aGUgcGFnZSB3aGVyZVxuICAgKiB0aGUgZWxlbWVudHMgc3RvcHMgYmVpbmcgZml4ZWQuXG4gICAqIEBkZWZhdWx0IEluZmluaXR5XG4gICAqL1xuICBib3R0b206IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBvZmZzZXQgZnJvbSB0aGUgdG9wIHRoZSBlbGVtZW50IHdpbGwgYmUgZml4ZWQgYXQuXG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIG9mZnNldDogbnVtYmVyO1xuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIHdoZW4gcHVzaHBpbiBwb3NpdGlvbiBjaGFuZ2VzLlxuICAgKiBZb3UgYXJlIHByb3ZpZGVkIHdpdGggYSBwb3NpdGlvbiBzdHJpbmcuXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIG9uUG9zaXRpb25DaGFuZ2U6IChwb3NpdGlvbjogXCJwaW5uZWRcIiB8IFwicGluLXRvcFwiIHwgXCJwaW4tYm90dG9tXCIpID0+IHZvaWQ7XG59XG5cbmxldCBfZGVmYXVsdHMgPSB7XG4gIHRvcDogMCxcbiAgYm90dG9tOiBJbmZpbml0eSxcbiAgb2Zmc2V0OiAwLFxuICBvblBvc2l0aW9uQ2hhbmdlOiBudWxsXG59O1xuXG5leHBvcnQgY2xhc3MgUHVzaHBpbiBleHRlbmRzIENvbXBvbmVudDxQdXNocGluT3B0aW9ucz4ge1xuICBzdGF0aWMgX3B1c2hwaW5zOiBhbnlbXTtcbiAgb3JpZ2luYWxPZmZzZXQ6IGFueTtcblxuICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8UHVzaHBpbk9wdGlvbnM+KSB7XG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIFB1c2hwaW4pO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9QdXNocGluID0gdGhpcztcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLlB1c2hwaW4uZGVmYXVsdHMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcblxuICAgIHRoaXMub3JpZ2luYWxPZmZzZXQgPSAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkub2Zmc2V0VG9wO1xuICAgIFB1c2hwaW4uX3B1c2hwaW5zLnB1c2godGhpcyk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5fdXBkYXRlUG9zaXRpb24oKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKTogUHVzaHBpbk9wdGlvbnMge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgUHVzaHBpbi5cbiAgICogQHBhcmFtIGVsIEhUTUwgZWxlbWVudC5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBQYXJ0aWFsPFB1c2hwaW5PcHRpb25zPik6IFB1c2hwaW47XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgUHVzaHBpbi5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8UHVzaHBpbk9wdGlvbnM+KTogUHVzaHBpbltdO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFB1c2hwaW4uXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxFbGVtZW50IHwgSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxQdXNocGluT3B0aW9ucz4gPSB7fSk6IFB1c2hwaW4gfCBQdXNocGluW10ge1xuICAgIHJldHVybiBzdXBlci5pbml0KGVscywgb3B0aW9ucywgUHVzaHBpbik7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxFbGVtZW50KTogUHVzaHBpbiB7XG4gICAgcmV0dXJuIChlbCBhcyBhbnkpLk1fUHVzaHBpbjtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRvcCA9IG51bGw7XG4gICAgdGhpcy5fcmVtb3ZlUGluQ2xhc3NlcygpO1xuICAgIC8vIFJlbW92ZSBwdXNocGluIEluc3RcbiAgICBsZXQgaW5kZXggPSBQdXNocGluLl9wdXNocGlucy5pbmRleE9mKHRoaXMpO1xuICAgIFB1c2hwaW4uX3B1c2hwaW5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgaWYgKFB1c2hwaW4uX3B1c2hwaW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgIH1cbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fUHVzaHBpbiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHN0YXRpYyBfdXBkYXRlRWxlbWVudHMoKSB7XG4gICAgZm9yIChsZXQgZWxJbmRleCBpbiBQdXNocGluLl9wdXNocGlucykge1xuICAgICAgbGV0IHBJbnN0YW5jZSA9IFB1c2hwaW4uX3B1c2hwaW5zW2VsSW5kZXhdO1xuICAgICAgcEluc3RhbmNlLl91cGRhdGVQb3NpdGlvbigpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgUHVzaHBpbi5fdXBkYXRlRWxlbWVudHMpO1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgUHVzaHBpbi5fdXBkYXRlRWxlbWVudHMpO1xuICB9XG5cbiAgX3VwZGF0ZVBvc2l0aW9uKCkge1xuICAgIGxldCBzY3JvbGxlZCA9IFV0aWxzLmdldERvY3VtZW50U2Nyb2xsVG9wKCkgKyB0aGlzLm9wdGlvbnMub2Zmc2V0O1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zLnRvcCA8PSBzY3JvbGxlZCAmJlxuICAgICAgdGhpcy5vcHRpb25zLmJvdHRvbSA+PSBzY3JvbGxlZCAmJlxuICAgICAgIXRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwaW5uZWQnKVxuICAgICkge1xuICAgICAgdGhpcy5fcmVtb3ZlUGluQ2xhc3NlcygpO1xuICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRvcCA9IGAke3RoaXMub3B0aW9ucy5vZmZzZXR9cHhgO1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdwaW5uZWQnKTtcblxuICAgICAgLy8gb25Qb3NpdGlvbkNoYW5nZSBjYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25Qb3NpdGlvbkNoYW5nZS5jYWxsKHRoaXMsICdwaW5uZWQnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgcGluLXRvcCAod2hlbiBzY3JvbGxlZCBwb3NpdGlvbiBpcyBhYm92ZSB0b3ApXG4gICAgaWYgKHNjcm9sbGVkIDwgdGhpcy5vcHRpb25zLnRvcCAmJiAhdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Bpbi10b3AnKSkge1xuICAgICAgdGhpcy5fcmVtb3ZlUGluQ2xhc3NlcygpO1xuICAgICAgKHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRvcCA9ICcwJztcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgncGluLXRvcCcpO1xuXG4gICAgICAvLyBvblBvc2l0aW9uQ2hhbmdlIGNhbGxiYWNrXG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlLmNhbGwodGhpcywgJ3Bpbi10b3AnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgcGluLWJvdHRvbSAod2hlbiBzY3JvbGxlZCBwb3NpdGlvbiBpcyBiZWxvdyBib3R0b20pXG4gICAgaWYgKHNjcm9sbGVkID4gdGhpcy5vcHRpb25zLmJvdHRvbSAmJiAhdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Bpbi1ib3R0b20nKSkge1xuICAgICAgdGhpcy5fcmVtb3ZlUGluQ2xhc3NlcygpO1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdwaW4tYm90dG9tJyk7XG4gICAgICAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUudG9wID0gYCR7dGhpcy5vcHRpb25zLmJvdHRvbSAtIHRoaXMub3JpZ2luYWxPZmZzZXR9cHhgO1xuXG4gICAgICAvLyBvblBvc2l0aW9uQ2hhbmdlIGNhbGxiYWNrXG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vblBvc2l0aW9uQ2hhbmdlLmNhbGwodGhpcywgJ3Bpbi1ib3R0b20nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfcmVtb3ZlUGluQ2xhc3NlcygpIHtcbiAgICAvLyBJRSAxMSBidWcgKGNhbid0IHJlbW92ZSBtdWx0aXBsZSBjbGFzc2VzIGluIG9uZSBsaW5lKVxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncGluLXRvcCcpO1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncGlubmVkJyk7XG4gICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdwaW4tYm90dG9tJyk7XG4gIH1cblxuICBzdGF0aWMge1xuICAgIFB1c2hwaW4uX3B1c2hwaW5zID0gW107XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pushpin.ts\n");

/***/ }),

/***/ "./src/range.ts":
/*!**********************!*\
  !*** ./src/range.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Range = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nconst _defaults = {};\n// TODO: !!!!!\nclass Range extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Range);\n        this._handleRangeChange = () => {\n            this.value.innerHTML = this.el.value;\n            if (!this.thumb.classList.contains('active')) {\n                this._showRangeBubble();\n            }\n            const offsetLeft = this._calcRangeOffset();\n            this.thumb.classList.add('active');\n            this.thumb.style.left = offsetLeft + 'px';\n        };\n        this._handleRangeMousedownTouchstart = (e) => {\n            // Set indicator value\n            this.value.innerHTML = this.el.value;\n            this._mousedown = true;\n            this.el.classList.add('active');\n            if (!this.thumb.classList.contains('active')) {\n                this._showRangeBubble();\n            }\n            if (e.type !== 'input') {\n                const offsetLeft = this._calcRangeOffset();\n                this.thumb.classList.add('active');\n                this.thumb.style.left = offsetLeft + 'px';\n            }\n        };\n        this._handleRangeInputMousemoveTouchmove = () => {\n            if (this._mousedown) {\n                if (!this.thumb.classList.contains('active')) {\n                    this._showRangeBubble();\n                }\n                const offsetLeft = this._calcRangeOffset();\n                this.thumb.classList.add('active');\n                this.thumb.style.left = offsetLeft + 'px';\n                this.value.innerHTML = this.el.value;\n            }\n        };\n        this._handleRangeMouseupTouchend = () => {\n            this._mousedown = false;\n            this.el.classList.remove('active');\n        };\n        this._handleRangeBlurMouseoutTouchleave = () => {\n            if (!this._mousedown) {\n                const paddingLeft = parseInt(getComputedStyle(this.el).paddingLeft);\n                const marginLeft = 7 + paddingLeft + 'px';\n                if (this.thumb.classList.contains('active')) {\n                    animejs_1.default.remove(this.thumb);\n                    (0, animejs_1.default)({\n                        targets: this.thumb,\n                        height: 0,\n                        width: 0,\n                        top: 10,\n                        easing: 'easeOutQuad',\n                        marginLeft: marginLeft,\n                        duration: 100\n                    });\n                }\n                this.thumb.classList.remove('active');\n            }\n        };\n        this.el.M_Range = this;\n        this.options = Object.assign(Object.assign({}, Range.defaults), options);\n        this._mousedown = false;\n        this._setupThumb();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Range.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Range);\n    }\n    static getInstance(el) {\n        return el.M_Range;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._removeThumb();\n        this.el.M_Range = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('change', this._handleRangeChange);\n        this.el.addEventListener('mousedown', this._handleRangeMousedownTouchstart);\n        this.el.addEventListener('touchstart', this._handleRangeMousedownTouchstart);\n        this.el.addEventListener('input', this._handleRangeInputMousemoveTouchmove);\n        this.el.addEventListener('mousemove', this._handleRangeInputMousemoveTouchmove);\n        this.el.addEventListener('touchmove', this._handleRangeInputMousemoveTouchmove);\n        this.el.addEventListener('mouseup', this._handleRangeMouseupTouchend);\n        this.el.addEventListener('touchend', this._handleRangeMouseupTouchend);\n        this.el.addEventListener('blur', this._handleRangeBlurMouseoutTouchleave);\n        this.el.addEventListener('mouseout', this._handleRangeBlurMouseoutTouchleave);\n        this.el.addEventListener('touchleave', this._handleRangeBlurMouseoutTouchleave);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('change', this._handleRangeChange);\n        this.el.removeEventListener('mousedown', this._handleRangeMousedownTouchstart);\n        this.el.removeEventListener('touchstart', this._handleRangeMousedownTouchstart);\n        this.el.removeEventListener('input', this._handleRangeInputMousemoveTouchmove);\n        this.el.removeEventListener('mousemove', this._handleRangeInputMousemoveTouchmove);\n        this.el.removeEventListener('touchmove', this._handleRangeInputMousemoveTouchmove);\n        this.el.removeEventListener('mouseup', this._handleRangeMouseupTouchend);\n        this.el.removeEventListener('touchend', this._handleRangeMouseupTouchend);\n        this.el.removeEventListener('blur', this._handleRangeBlurMouseoutTouchleave);\n        this.el.removeEventListener('mouseout', this._handleRangeBlurMouseoutTouchleave);\n        this.el.removeEventListener('touchleave', this._handleRangeBlurMouseoutTouchleave);\n    }\n    _setupThumb() {\n        this.thumb = document.createElement('span');\n        this.value = document.createElement('span');\n        this.thumb.classList.add('thumb');\n        this.value.classList.add('value');\n        this.thumb.append(this.value);\n        this.el.after(this.thumb);\n    }\n    _removeThumb() {\n        this.thumb.remove();\n    }\n    _showRangeBubble() {\n        const paddingLeft = parseInt(getComputedStyle(this.thumb.parentElement).paddingLeft);\n        const marginLeft = -7 + paddingLeft + 'px'; // TODO: fix magic number?\n        animejs_1.default.remove(this.thumb);\n        (0, animejs_1.default)({\n            targets: this.thumb,\n            height: 30,\n            width: 30,\n            top: -30,\n            marginLeft: marginLeft,\n            duration: 300,\n            easing: 'easeOutQuint'\n        });\n    }\n    _calcRangeOffset() {\n        const width = this.el.getBoundingClientRect().width - 15;\n        const max = parseFloat(this.el.getAttribute('max')) || 100; // Range default max\n        const min = parseFloat(this.el.getAttribute('min')) || 0; // Range default min\n        const percent = (parseFloat(this.el.value) - min) / (max - min);\n        return percent * width;\n    }\n    /**\n     * Initializes every range input in the current document.\n     */\n    static Init() {\n        Range.init((document.querySelectorAll('input[type=range]')), {});\n    }\n}\nexports.Range = Range;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQ1YsS0FBSyxFQUFFLEVBQUU7WUFDVCxHQUFHLEVBQUUsQ0FBQyxFQUFFO1lBQ1IsVUFBVSxFQUFFLFVBQVU7WUFDdEIsUUFBUSxFQUFFLEdBQUc7WUFDYixNQUFNLEVBQUUsY0FBYztTQUN2QixDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsZ0JBQWdCO1FBQ2QsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDekQsTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsb0JBQW9CO1FBQ2hGLE1BQU0sR0FBRyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLG9CQUFvQjtRQUM5RSxNQUFNLE9BQU8sR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ2hFLE9BQU8sT0FBTyxHQUFHLEtBQUssQ0FBQztJQUN6QixDQUFDO0lBRUQ7O09BRUc7SUFDSCxNQUFNLENBQUMsSUFBSTtRQUNULEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUMsQ0FBaUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNuRyxDQUFDO0NBQ0Y7QUEzTEQsc0JBMkxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL3JhbmdlLnRzPzY1OGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50LCBCYXNlT3B0aW9ucywgSW5pdEVsZW1lbnRzLCBNRWxlbWVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJhbmdlT3B0aW9ucyBleHRlbmRzIEJhc2VPcHRpb25zIHt9O1xuXG5jb25zdCBfZGVmYXVsdHM6IFJhbmdlT3B0aW9ucyA9IHt9O1xuXG4vLyBUT0RPOiAhISEhIVxuXG5leHBvcnQgY2xhc3MgUmFuZ2UgZXh0ZW5kcyBDb21wb25lbnQ8UmFuZ2VPcHRpb25zPiB7XG4gIGRlY2xhcmUgZWw6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIHByaXZhdGUgX21vdXNlZG93bjogYm9vbGVhbjtcbiAgdmFsdWU6IEhUTUxFbGVtZW50O1xuICB0aHVtYjogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IoZWw6IEhUTUxJbnB1dEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8UmFuZ2VPcHRpb25zPikge1xuICAgIHN1cGVyKGVsLCBvcHRpb25zLCBSYW5nZSk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1JhbmdlID0gdGhpcztcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLlJhbmdlLmRlZmF1bHRzLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG5cbiAgICB0aGlzLl9tb3VzZWRvd24gPSBmYWxzZTtcbiAgICB0aGlzLl9zZXR1cFRodW1iKCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCk6IFJhbmdlT3B0aW9ucyB7XG4gICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZSBvZiBSYW5nZS5cbiAgICogQHBhcmFtIGVsIEhUTUwgZWxlbWVudC5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbDogSFRNTElucHV0RWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8UmFuZ2VPcHRpb25zPik6IFJhbmdlO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFJhbmdlLlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8SFRNTElucHV0RWxlbWVudCB8IE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8UmFuZ2VPcHRpb25zPik6IFJhbmdlW107XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgUmFuZ2UuXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxJbnB1dEVsZW1lbnQgfCBJbml0RWxlbWVudHM8SFRNTElucHV0RWxlbWVudCB8IE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxSYW5nZU9wdGlvbnM+ID0ge30pOiBSYW5nZSB8IFJhbmdlW10ge1xuICAgIHJldHVybiBzdXBlci5pbml0KGVscywgb3B0aW9ucywgUmFuZ2UpO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsOiBIVE1MSW5wdXRFbGVtZW50KTogUmFuZ2Uge1xuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX1JhbmdlO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5fcmVtb3ZlVGh1bWIoKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fUmFuZ2UgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlUmFuZ2VDaGFuZ2UpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZWRvd25Ub3VjaHN0YXJ0KTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnQpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmUpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZSk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlUmFuZ2VNb3VzZXVwVG91Y2hlbmQpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZCk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5faGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobGVhdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmUpO1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVSYW5nZUNoYW5nZSk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNlZG93blRvdWNoc3RhcnQpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZVJhbmdlTW91c2Vkb3duVG91Y2hzdGFydCk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX2hhbmRsZVJhbmdlSW5wdXRNb3VzZW1vdmVUb3VjaG1vdmUpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZSk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVSYW5nZUlucHV0TW91c2Vtb3ZlVG91Y2htb3ZlKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVSYW5nZU1vdXNldXBUb3VjaGVuZCk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZVJhbmdlTW91c2V1cFRvdWNoZW5kKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmUpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLl9oYW5kbGVSYW5nZUJsdXJNb3VzZW91dFRvdWNobGVhdmUpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hsZWF2ZScsIHRoaXMuX2hhbmRsZVJhbmdlQmx1ck1vdXNlb3V0VG91Y2hsZWF2ZSk7XG4gIH1cblxuICBfaGFuZGxlUmFuZ2VDaGFuZ2UgPSAoKSA9PiB7XG4gICAgdGhpcy52YWx1ZS5pbm5lckhUTUwgPSB0aGlzLmVsLnZhbHVlO1xuICAgIGlmICghdGhpcy50aHVtYi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICB0aGlzLl9zaG93UmFuZ2VCdWJibGUoKTtcbiAgICB9XG4gICAgY29uc3Qgb2Zmc2V0TGVmdCA9IHRoaXMuX2NhbGNSYW5nZU9mZnNldCgpO1xuICAgIHRoaXMudGh1bWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgdGhpcy50aHVtYi5zdHlsZS5sZWZ0ID0gb2Zmc2V0TGVmdCsncHgnO1xuICB9XG5cbiAgX2hhbmRsZVJhbmdlTW91c2Vkb3duVG91Y2hzdGFydCA9IChlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4ge1xuICAgIC8vIFNldCBpbmRpY2F0b3IgdmFsdWVcbiAgICB0aGlzLnZhbHVlLmlubmVySFRNTCA9IHRoaXMuZWwudmFsdWU7XG4gICAgdGhpcy5fbW91c2Vkb3duID0gdHJ1ZTtcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGlmICghdGhpcy50aHVtYi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICB0aGlzLl9zaG93UmFuZ2VCdWJibGUoKTtcbiAgICB9XG4gICAgaWYgKGUudHlwZSAhPT0gJ2lucHV0Jykge1xuICAgICAgY29uc3Qgb2Zmc2V0TGVmdCA9IHRoaXMuX2NhbGNSYW5nZU9mZnNldCgpO1xuICAgICAgdGhpcy50aHVtYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMudGh1bWIuc3R5bGUubGVmdCA9IG9mZnNldExlZnQrJ3B4JztcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlUmFuZ2VJbnB1dE1vdXNlbW92ZVRvdWNobW92ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5fbW91c2Vkb3duKSB7XG4gICAgICBpZiAoIXRoaXMudGh1bWIuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICB0aGlzLl9zaG93UmFuZ2VCdWJibGUoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9mZnNldExlZnQgPSB0aGlzLl9jYWxjUmFuZ2VPZmZzZXQoKTtcbiAgICAgIHRoaXMudGh1bWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB0aGlzLnRodW1iLnN0eWxlLmxlZnQgPSBvZmZzZXRMZWZ0KydweCc7XG4gICAgICB0aGlzLnZhbHVlLmlubmVySFRNTCA9IHRoaXMuZWwudmFsdWU7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVJhbmdlTW91c2V1cFRvdWNoZW5kID0gKCkgPT4ge1xuICAgIHRoaXMuX21vdXNlZG93biA9IGZhbHNlO1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gIH1cblxuICBfaGFuZGxlUmFuZ2VCbHVyTW91c2VvdXRUb3VjaGxlYXZlID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy5fbW91c2Vkb3duKSB7XG4gICAgICBjb25zdCBwYWRkaW5nTGVmdCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUodGhpcy5lbCkucGFkZGluZ0xlZnQpO1xuICAgICAgY29uc3QgbWFyZ2luTGVmdCA9IDcgKyBwYWRkaW5nTGVmdCArICdweCc7XG4gICAgICBpZiAodGhpcy50aHVtYi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIGFuaW0ucmVtb3ZlKHRoaXMudGh1bWIpO1xuICAgICAgICBhbmltKHtcbiAgICAgICAgICB0YXJnZXRzOiB0aGlzLnRodW1iLFxuICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICB0b3A6IDEwLFxuICAgICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgICBtYXJnaW5MZWZ0OiBtYXJnaW5MZWZ0LFxuICAgICAgICAgIGR1cmF0aW9uOiAxMDBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLnRodW1iLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXR1cFRodW1iKCkge1xuICAgIHRoaXMudGh1bWIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgdGhpcy52YWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICB0aGlzLnRodW1iLmNsYXNzTGlzdC5hZGQoJ3RodW1iJyk7XG4gICAgdGhpcy52YWx1ZS5jbGFzc0xpc3QuYWRkKCd2YWx1ZScpO1xuICAgIHRoaXMudGh1bWIuYXBwZW5kKHRoaXMudmFsdWUpO1xuICAgIHRoaXMuZWwuYWZ0ZXIodGhpcy50aHVtYik7XG4gIH1cblxuICBfcmVtb3ZlVGh1bWIoKSB7XG4gICAgdGhpcy50aHVtYi5yZW1vdmUoKTtcbiAgfVxuXG4gIF9zaG93UmFuZ2VCdWJibGUoKSB7XG4gICAgY29uc3QgcGFkZGluZ0xlZnQgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKHRoaXMudGh1bWIucGFyZW50RWxlbWVudCkucGFkZGluZ0xlZnQpO1xuICAgIGNvbnN0IG1hcmdpbkxlZnQgPSAtNyArIHBhZGRpbmdMZWZ0ICsgJ3B4JzsgLy8gVE9ETzogZml4IG1hZ2ljIG51bWJlcj9cbiAgICBhbmltLnJlbW92ZSh0aGlzLnRodW1iKTtcbiAgICBhbmltKHtcbiAgICAgIHRhcmdldHM6IHRoaXMudGh1bWIsXG4gICAgICBoZWlnaHQ6IDMwLFxuICAgICAgd2lkdGg6IDMwLFxuICAgICAgdG9wOiAtMzAsXG4gICAgICBtYXJnaW5MZWZ0OiBtYXJnaW5MZWZ0LFxuICAgICAgZHVyYXRpb246IDMwMCxcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWludCdcbiAgICB9KTtcbiAgfVxuXG4gIF9jYWxjUmFuZ2VPZmZzZXQoKTogbnVtYmVyIHtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSAxNTtcbiAgICBjb25zdCBtYXggPSBwYXJzZUZsb2F0KHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdtYXgnKSkgfHwgMTAwOyAvLyBSYW5nZSBkZWZhdWx0IG1heFxuICAgIGNvbnN0IG1pbiA9IHBhcnNlRmxvYXQodGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ21pbicpKSB8fCAwOyAvLyBSYW5nZSBkZWZhdWx0IG1pblxuICAgIGNvbnN0IHBlcmNlbnQgPSAocGFyc2VGbG9hdCh0aGlzLmVsLnZhbHVlKSAtIG1pbikgLyAobWF4IC0gbWluKTtcbiAgICByZXR1cm4gcGVyY2VudCAqIHdpZHRoO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGV2ZXJ5IHJhbmdlIGlucHV0IGluIHRoZSBjdXJyZW50IGRvY3VtZW50LlxuICAgKi9cbiAgc3RhdGljIEluaXQoKXtcbiAgICBSYW5nZS5pbml0KChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPXJhbmdlXScpKSBhcyBOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+LCB7fSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/range.ts\n");

/***/ }),

/***/ "./src/scrollspy.ts":
/*!**************************!*\
  !*** ./src/scrollspy.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ScrollSpy = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nlet _defaults = {\n    throttle: 100,\n    scrollOffset: 200,\n    activeClass: 'active',\n    getActiveElement: (id) => { return 'a[href=\"#' + id + '\"]'; }\n};\nclass ScrollSpy extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, ScrollSpy);\n        this._handleThrottledResize = utils_1.Utils.throttle(function () { this._handleWindowScroll(); }, 200).bind(this);\n        this._handleTriggerClick = (e) => {\n            const trigger = e.target;\n            for (let i = ScrollSpy._elements.length - 1; i >= 0; i--) {\n                const scrollspy = ScrollSpy._elements[i];\n                const x = document.querySelector('a[href=\"#' + scrollspy.el.id + '\"]');\n                if (trigger === x) {\n                    e.preventDefault();\n                    const offset = ScrollSpy._offset(scrollspy.el).top + 1;\n                    (0, animejs_1.default)({\n                        targets: [document.documentElement, document.body],\n                        scrollTop: offset - scrollspy.options.scrollOffset,\n                        duration: 400,\n                        easing: 'easeOutCubic'\n                    });\n                    break;\n                }\n            }\n        };\n        this._handleWindowScroll = () => {\n            // unique tick id\n            ScrollSpy._ticks++;\n            // viewport rectangle\n            let top = utils_1.Utils.getDocumentScrollTop(), left = utils_1.Utils.getDocumentScrollLeft(), right = left + window.innerWidth, bottom = top + window.innerHeight;\n            // determine which elements are in view\n            let intersections = ScrollSpy._findElements(top, right, bottom, left);\n            for (let i = 0; i < intersections.length; i++) {\n                let scrollspy = intersections[i];\n                let lastTick = scrollspy.tickId;\n                if (lastTick < 0) {\n                    // entered into view\n                    scrollspy._enter();\n                }\n                // update tick id\n                scrollspy.tickId = ScrollSpy._ticks;\n            }\n            for (let i = 0; i < ScrollSpy._elementsInView.length; i++) {\n                let scrollspy = ScrollSpy._elementsInView[i];\n                let lastTick = scrollspy.tickId;\n                if (lastTick >= 0 && lastTick !== ScrollSpy._ticks) {\n                    // exited from view\n                    scrollspy._exit();\n                    scrollspy.tickId = -1;\n                }\n            }\n            // remember elements in view for next tick\n            ScrollSpy._elementsInView = intersections;\n        };\n        this.el.M_ScrollSpy = this;\n        this.options = Object.assign(Object.assign({}, ScrollSpy.defaults), options);\n        ScrollSpy._elements.push(this);\n        ScrollSpy._count++;\n        ScrollSpy._increment++;\n        this.tickId = -1;\n        this.id = ScrollSpy._increment;\n        this._setupEventHandlers();\n        this._handleWindowScroll();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of ScrollSpy.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, ScrollSpy);\n    }\n    static getInstance(el) {\n        return el.M_ScrollSpy;\n    }\n    destroy() {\n        ScrollSpy._elements.splice(ScrollSpy._elements.indexOf(this), 1);\n        ScrollSpy._elementsInView.splice(ScrollSpy._elementsInView.indexOf(this), 1);\n        ScrollSpy._visibleElements.splice(ScrollSpy._visibleElements.indexOf(this.el), 1);\n        ScrollSpy._count--;\n        this._removeEventHandlers();\n        const actElem = document.querySelector(this.options.getActiveElement(this.el.id));\n        actElem.classList.remove(this.options.activeClass);\n        this.el.M_ScrollSpy = undefined;\n    }\n    _setupEventHandlers() {\n        if (ScrollSpy._count === 1) {\n            window.addEventListener('scroll', this._handleWindowScroll);\n            window.addEventListener('resize', this._handleThrottledResize);\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n    }\n    _removeEventHandlers() {\n        if (ScrollSpy._count === 0) {\n            window.removeEventListener('scroll', this._handleWindowScroll);\n            window.removeEventListener('resize', this._handleThrottledResize);\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n    }\n    static _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    static _findElements(top, right, bottom, left) {\n        let hits = [];\n        for (let i = 0; i < ScrollSpy._elements.length; i++) {\n            let scrollspy = ScrollSpy._elements[i];\n            let currTop = top + scrollspy.options.scrollOffset || 200;\n            if (scrollspy.el.getBoundingClientRect().height > 0) {\n                let elTop = ScrollSpy._offset(scrollspy.el).top, elLeft = ScrollSpy._offset(scrollspy.el).left, elRight = elLeft + scrollspy.el.getBoundingClientRect().width, elBottom = elTop + scrollspy.el.getBoundingClientRect().height;\n                let isIntersect = !(elLeft > right ||\n                    elRight < left ||\n                    elTop > bottom ||\n                    elBottom < currTop);\n                if (isIntersect) {\n                    hits.push(scrollspy);\n                }\n            }\n        }\n        return hits;\n    }\n    _enter() {\n        var _a;\n        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(value => value.getBoundingClientRect().height !== 0);\n        if (ScrollSpy._visibleElements[0]) {\n            const actElem = document.querySelector(this.options.getActiveElement(ScrollSpy._visibleElements[0].id));\n            actElem === null || actElem === void 0 ? void 0 : actElem.classList.remove(this.options.activeClass);\n            if (ScrollSpy._visibleElements[0].M_ScrollSpy && this.id < ScrollSpy._visibleElements[0].M_ScrollSpy.id) {\n                ScrollSpy._visibleElements.unshift(this.el);\n            }\n            else {\n                ScrollSpy._visibleElements.push(this.el);\n            }\n        }\n        else {\n            ScrollSpy._visibleElements.push(this.el);\n        }\n        const selector = this.options.getActiveElement(ScrollSpy._visibleElements[0].id);\n        (_a = document.querySelector(selector)) === null || _a === void 0 ? void 0 : _a.classList.add(this.options.activeClass);\n    }\n    _exit() {\n        var _a;\n        ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter(value => value.getBoundingClientRect().height !== 0);\n        if (ScrollSpy._visibleElements[0]) {\n            const actElem = document.querySelector(this.options.getActiveElement(ScrollSpy._visibleElements[0].id));\n            actElem === null || actElem === void 0 ? void 0 : actElem.classList.remove(this.options.activeClass);\n            ScrollSpy._visibleElements = ScrollSpy._visibleElements.filter((x) => x.id != this.el.id);\n            if (ScrollSpy._visibleElements[0]) {\n                // Check if empty\n                const selector = this.options.getActiveElement(ScrollSpy._visibleElements[0].id);\n                (_a = document.querySelector(selector)) === null || _a === void 0 ? void 0 : _a.classList.add(this.options.activeClass);\n            }\n        }\n    }\n}\nexports.ScrollSpy = ScrollSpy;\n(() => {\n    ScrollSpy._elements = [];\n    ScrollSpy._elementsInView = [];\n    ScrollSpy._visibleElements = []; // Array.<cash>\n    ScrollSpy._count = 0;\n    ScrollSpy._increment = 0;\n    ScrollSpy._ticks = 0;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWUsR0FBRyxFQUFFLENBQUM7SUFDL0IsU0FBUyxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQyxDQUFDLGVBQWU7SUFDaEQsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDckIsU0FBUyxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7SUFDekIsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDdkIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9zY3JvbGxzcHkudHM/NWYyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Nyb2xsU3B5T3B0aW9ucyBleHRlbmRzIEJhc2VPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRocm90dGxlIG9mIHNjcm9sbCBoYW5kbGVyLlxuICAgKiBAZGVmYXVsdCAxMDBcbiAgICovXG4gIHRocm90dGxlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBPZmZzZXQgZm9yIGNlbnRlcmluZyBlbGVtZW50IHdoZW4gc2Nyb2xsZWQgdG8uXG4gICAqIEBkZWZhdWx0IDIwMFxuICAgKi9cbiAgc2Nyb2xsT2Zmc2V0OiBudW1iZXI7XG4gIC8qKlxuICAgKiBDbGFzcyBhcHBsaWVkIHRvIGFjdGl2ZSBlbGVtZW50cy5cbiAgICogQGRlZmF1bHQgJ2FjdGl2ZSdcbiAgICovXG4gIGFjdGl2ZUNsYXNzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBVc2VkIHRvIGZpbmQgYWN0aXZlIGVsZW1lbnQuXG4gICAqIEBkZWZhdWx0IGlkID0+ICdhW2hyZWY9XCIjJyArIGlkICsgJ1wiXSdcbiAgICovXG4gIGdldEFjdGl2ZUVsZW1lbnQ6IChpZDogc3RyaW5nKSA9PiBzdHJpbmc7XG59O1xuXG5sZXQgX2RlZmF1bHRzOiBTY3JvbGxTcHlPcHRpb25zID0ge1xuICB0aHJvdHRsZTogMTAwLFxuICBzY3JvbGxPZmZzZXQ6IDIwMCwgLy8gb2Zmc2V0IC0gMjAwIGFsbG93cyBlbGVtZW50cyBuZWFyIGJvdHRvbSBvZiBwYWdlIHRvIHNjcm9sbFxuICBhY3RpdmVDbGFzczogJ2FjdGl2ZScsXG4gIGdldEFjdGl2ZUVsZW1lbnQ6IChpZDogc3RyaW5nKTogc3RyaW5nID0+IHsgcmV0dXJuICdhW2hyZWY9XCIjJytpZCsnXCJdJzsgfVxufTtcblxuZXhwb3J0IGNsYXNzIFNjcm9sbFNweSBleHRlbmRzIENvbXBvbmVudDxTY3JvbGxTcHlPcHRpb25zPiB7XG4gIHN0YXRpYyBfZWxlbWVudHM6IFNjcm9sbFNweVtdO1xuICBzdGF0aWMgX2NvdW50OiBudW1iZXI7XG4gIHN0YXRpYyBfaW5jcmVtZW50OiBudW1iZXI7XG4gIHRpY2tJZDogbnVtYmVyO1xuICBpZDogYW55O1xuICBzdGF0aWMgX2VsZW1lbnRzSW5WaWV3OiBTY3JvbGxTcHlbXTtcbiAgc3RhdGljIF92aXNpYmxlRWxlbWVudHM6IGFueVtdO1xuICBzdGF0aWMgX3RpY2tzOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPFNjcm9sbFNweU9wdGlvbnM+KSB7XG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIFNjcm9sbFNweSk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1Njcm9sbFNweSA9IHRoaXM7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi5TY3JvbGxTcHkuZGVmYXVsdHMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcblxuICAgIFNjcm9sbFNweS5fZWxlbWVudHMucHVzaCh0aGlzKTtcbiAgICBTY3JvbGxTcHkuX2NvdW50Kys7XG4gICAgU2Nyb2xsU3B5Ll9pbmNyZW1lbnQrKztcbiAgICB0aGlzLnRpY2tJZCA9IC0xO1xuICAgIHRoaXMuaWQgPSBTY3JvbGxTcHkuX2luY3JlbWVudDtcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwoKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKTogU2Nyb2xsU3B5T3B0aW9ucyB7XG4gICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZSBvZiBTY3JvbGxTcHkuXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zPzogUGFydGlhbDxTY3JvbGxTcHlPcHRpb25zPik6IFNjcm9sbFNweTtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBTY3JvbGxTcHkuXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbHM6IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM/OiBQYXJ0aWFsPFNjcm9sbFNweU9wdGlvbnM+KTogU2Nyb2xsU3B5W107XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgU2Nyb2xsU3B5LlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWxzOiBIVE1MRWxlbWVudCB8IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM6IFBhcnRpYWw8U2Nyb2xsU3B5T3B0aW9ucz4gPSB7fSk6IFNjcm9sbFNweSB8IFNjcm9sbFNweVtdIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIFNjcm9sbFNweSk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxFbGVtZW50KTogU2Nyb2xsU3B5IHtcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9TY3JvbGxTcHk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIFNjcm9sbFNweS5fZWxlbWVudHMuc3BsaWNlKFNjcm9sbFNweS5fZWxlbWVudHMuaW5kZXhPZih0aGlzKSwgMSk7XG4gICAgU2Nyb2xsU3B5Ll9lbGVtZW50c0luVmlldy5zcGxpY2UoU2Nyb2xsU3B5Ll9lbGVtZW50c0luVmlldy5pbmRleE9mKHRoaXMpLCAxKTtcbiAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5zcGxpY2UoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMuaW5kZXhPZih0aGlzLmVsKSwgMSk7XG4gICAgU2Nyb2xsU3B5Ll9jb3VudC0tO1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICBjb25zdCBhY3RFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudCh0aGlzLmVsLmlkKSk7XG4gICAgYWN0RWxlbS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1Njcm9sbFNweSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgaWYgKFNjcm9sbFNweS5fY291bnQgPT09IDEpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZVRocm90dGxlZFJlc2l6ZSk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcbiAgICB9XG4gIH1cblxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICBpZiAoU2Nyb2xsU3B5Ll9jb3VudCA9PT0gMCkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2spO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVUaHJvdHRsZWRSZXNpemU6ICgpID0+IHZvaWQgPSBVdGlscy50aHJvdHRsZShmdW5jdGlvbigpeyB0aGlzLl9oYW5kbGVXaW5kb3dTY3JvbGwoKTsgfSwgMjAwKS5iaW5kKHRoaXMpOyBcblxuICBfaGFuZGxlVHJpZ2dlckNsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICBjb25zdCB0cmlnZ2VyID0gZS50YXJnZXQ7XG4gICAgZm9yIChsZXQgaSA9IFNjcm9sbFNweS5fZWxlbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IHNjcm9sbHNweSA9IFNjcm9sbFNweS5fZWxlbWVudHNbaV07XG5cbiAgICAgIGNvbnN0IHggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhW2hyZWY9XCIjJytzY3JvbGxzcHkuZWwuaWQrJ1wiXScpO1xuICAgICAgaWYgKHRyaWdnZXIgPT09IHgpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBTY3JvbGxTcHkuX29mZnNldChzY3JvbGxzcHkuZWwpLnRvcCArIDE7XG5cbiAgICAgICAgYW5pbSh7XG4gICAgICAgICAgdGFyZ2V0czogW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZG9jdW1lbnQuYm9keV0sXG4gICAgICAgICAgc2Nyb2xsVG9wOiBvZmZzZXQgLSBzY3JvbGxzcHkub3B0aW9ucy5zY3JvbGxPZmZzZXQsXG4gICAgICAgICAgZHVyYXRpb246IDQwMCxcbiAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0Q3ViaWMnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVXaW5kb3dTY3JvbGwgPSAoKSA9PiB7XG4gICAgLy8gdW5pcXVlIHRpY2sgaWRcbiAgICBTY3JvbGxTcHkuX3RpY2tzKys7XG5cbiAgICAvLyB2aWV3cG9ydCByZWN0YW5nbGVcbiAgICBsZXQgdG9wID0gVXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKSxcbiAgICAgIGxlZnQgPSBVdGlscy5nZXREb2N1bWVudFNjcm9sbExlZnQoKSxcbiAgICAgIHJpZ2h0ID0gbGVmdCArIHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgYm90dG9tID0gdG9wICsgd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgLy8gZGV0ZXJtaW5lIHdoaWNoIGVsZW1lbnRzIGFyZSBpbiB2aWV3XG4gICAgbGV0IGludGVyc2VjdGlvbnMgPSBTY3JvbGxTcHkuX2ZpbmRFbGVtZW50cyh0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW50ZXJzZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHNjcm9sbHNweSA9IGludGVyc2VjdGlvbnNbaV07XG4gICAgICBsZXQgbGFzdFRpY2sgPSBzY3JvbGxzcHkudGlja0lkO1xuICAgICAgaWYgKGxhc3RUaWNrIDwgMCkge1xuICAgICAgICAvLyBlbnRlcmVkIGludG8gdmlld1xuICAgICAgICBzY3JvbGxzcHkuX2VudGVyKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIHVwZGF0ZSB0aWNrIGlkXG4gICAgICBzY3JvbGxzcHkudGlja0lkID0gU2Nyb2xsU3B5Ll90aWNrcztcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFNjcm9sbFNweS5fZWxlbWVudHNJblZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBzY3JvbGxzcHkgPSBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3W2ldO1xuICAgICAgbGV0IGxhc3RUaWNrID0gc2Nyb2xsc3B5LnRpY2tJZDtcbiAgICAgIGlmIChsYXN0VGljayA+PSAwICYmIGxhc3RUaWNrICE9PSBTY3JvbGxTcHkuX3RpY2tzKSB7XG4gICAgICAgIC8vIGV4aXRlZCBmcm9tIHZpZXdcbiAgICAgICAgc2Nyb2xsc3B5Ll9leGl0KCk7XG4gICAgICAgIHNjcm9sbHNweS50aWNrSWQgPSAtMTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gcmVtZW1iZXIgZWxlbWVudHMgaW4gdmlldyBmb3IgbmV4dCB0aWNrXG4gICAgU2Nyb2xsU3B5Ll9lbGVtZW50c0luVmlldyA9IGludGVyc2VjdGlvbnM7XG4gIH1cblxuICBzdGF0aWMgX29mZnNldChlbCkge1xuICAgIGNvbnN0IGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogYm94LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxuICAgICAgbGVmdDogYm94LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQgLSBkb2NFbGVtLmNsaWVudExlZnRcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIF9maW5kRWxlbWVudHModG9wOiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIGJvdHRvbTogbnVtYmVyLCBsZWZ0OiBudW1iZXIpOiBTY3JvbGxTcHlbXSB7XG4gICAgbGV0IGhpdHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFNjcm9sbFNweS5fZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBzY3JvbGxzcHkgPSBTY3JvbGxTcHkuX2VsZW1lbnRzW2ldO1xuICAgICAgbGV0IGN1cnJUb3AgPSB0b3AgKyBzY3JvbGxzcHkub3B0aW9ucy5zY3JvbGxPZmZzZXQgfHwgMjAwO1xuXG4gICAgICBpZiAoc2Nyb2xsc3B5LmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCA+IDApIHtcbiAgICAgICAgbGV0IGVsVG9wID0gU2Nyb2xsU3B5Ll9vZmZzZXQoc2Nyb2xsc3B5LmVsKS50b3AsXG4gICAgICAgICAgZWxMZWZ0ID0gU2Nyb2xsU3B5Ll9vZmZzZXQoc2Nyb2xsc3B5LmVsKS5sZWZ0LFxuICAgICAgICAgIGVsUmlnaHQgPSBlbExlZnQgKyBzY3JvbGxzcHkuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXG4gICAgICAgICAgZWxCb3R0b20gPSBlbFRvcCArIHNjcm9sbHNweS5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG5cbiAgICAgICAgbGV0IGlzSW50ZXJzZWN0ID0gIShcbiAgICAgICAgICBlbExlZnQgPiByaWdodCB8fFxuICAgICAgICAgIGVsUmlnaHQgPCBsZWZ0IHx8XG4gICAgICAgICAgZWxUb3AgPiBib3R0b20gfHxcbiAgICAgICAgICBlbEJvdHRvbSA8IGN1cnJUb3BcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoaXNJbnRlcnNlY3QpIHtcbiAgICAgICAgICBoaXRzLnB1c2goc2Nyb2xsc3B5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGl0cztcbiAgfVxuXG4gIF9lbnRlcigpIHtcbiAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cyA9IFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLmZpbHRlcih2YWx1ZSA9PiB2YWx1ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgIT09IDApO1xuXG4gICAgaWYgKFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdKSB7XG4gICAgICBjb25zdCBhY3RFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuZ2V0QWN0aXZlRWxlbWVudChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXS5pZCkpO1xuICAgICAgYWN0RWxlbT8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xuXG4gICAgICBpZiAoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0uTV9TY3JvbGxTcHkgJiYgdGhpcy5pZCA8IFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdLk1fU2Nyb2xsU3B5LmlkKSB7XG4gICAgICAgIFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzLnVuc2hpZnQodGhpcy5lbCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMucHVzaCh0aGlzLmVsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5wdXNoKHRoaXMuZWwpO1xuICAgIH1cbiAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMub3B0aW9ucy5nZXRBY3RpdmVFbGVtZW50KFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdLmlkKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKT8uY2xhc3NMaXN0LmFkZCh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpO1xuICB9XG5cbiAgX2V4aXQoKSB7XG4gICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMgPSBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5maWx0ZXIodmFsdWUgPT4gdmFsdWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ICE9PSAwKTtcblxuICAgIGlmIChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXSkge1xuICAgICAgY29uc3QgYWN0RWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmdldEFjdGl2ZUVsZW1lbnQoU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHNbMF0uaWQpKTtcbiAgICAgIGFjdEVsZW0/LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcblxuICAgICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMgPSBTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50cy5maWx0ZXIoKHgpID0+IHguaWQgIT0gdGhpcy5lbC5pZCk7XG5cbiAgICAgIGlmIChTY3JvbGxTcHkuX3Zpc2libGVFbGVtZW50c1swXSkge1xuICAgICAgICAvLyBDaGVjayBpZiBlbXB0eVxuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMub3B0aW9ucy5nZXRBY3RpdmVFbGVtZW50KFNjcm9sbFNweS5fdmlzaWJsZUVsZW1lbnRzWzBdLmlkKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik/LmNsYXNzTGlzdC5hZGQodGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMge1xuICAgIFNjcm9sbFNweS5fZWxlbWVudHMgPSBbXTtcbiAgICBTY3JvbGxTcHkuX2VsZW1lbnRzSW5WaWV3ID0gW107XG4gICAgU2Nyb2xsU3B5Ll92aXNpYmxlRWxlbWVudHMgPSBbXTsgLy8gQXJyYXkuPGNhc2g+XG4gICAgU2Nyb2xsU3B5Ll9jb3VudCA9IDA7XG4gICAgU2Nyb2xsU3B5Ll9pbmNyZW1lbnQgPSAwO1xuICAgIFNjcm9sbFNweS5fdGlja3MgPSAwO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scrollspy.ts\n");

/***/ }),

/***/ "./src/select.ts":
/*!***********************!*\
  !*** ./src/select.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FormSelect = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst dropdown_1 = __webpack_require__(/*! ./dropdown */ \"./src/dropdown.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {\n    classes: '',\n    dropdownOptions: {}\n};\nclass FormSelect extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, FormSelect);\n        this._handleSelectChange = () => {\n            this._setValueToInput();\n        };\n        this._handleOptionClick = (e) => {\n            e.preventDefault();\n            const virtualOption = e.target.closest('li');\n            this._selectOptionElement(virtualOption);\n            e.stopPropagation();\n        };\n        this._handleInputClick = () => {\n            if (this.dropdown && this.dropdown.isOpen) {\n                this._setValueToInput();\n                this._setSelectedStates();\n            }\n        };\n        if (this.el.classList.contains('browser-default'))\n            return;\n        this.el.M_FormSelect = this;\n        this.options = Object.assign(Object.assign({}, FormSelect.defaults), options);\n        this.isMultiple = this.el.multiple;\n        this.el.tabIndex = -1;\n        this._values = [];\n        //this.labelEl = null;\n        //this._labelFor = false;\n        this._setupDropdown();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of FormSelect.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, FormSelect);\n    }\n    static getInstance(el) {\n        return el.M_FormSelect;\n    }\n    destroy() {\n        // Returns label to its original owner\n        //if (this._labelFor) this.labelEl.setAttribute(\"for\", this.el.id);\n        this._removeEventHandlers();\n        this._removeDropdown();\n        this.el.M_FormSelect = undefined;\n    }\n    _setupEventHandlers() {\n        this.dropdownOptions.querySelectorAll('li:not(.optgroup)').forEach((el) => {\n            el.addEventListener('click', this._handleOptionClick);\n            el.addEventListener('keydown', (e) => {\n                if (e.key === \" \" || e.key === \"Enter\")\n                    this._handleOptionClick(e);\n            });\n        });\n        this.el.addEventListener('change', this._handleSelectChange);\n        this.input.addEventListener('click', this._handleInputClick);\n    }\n    _removeEventHandlers() {\n        this.dropdownOptions.querySelectorAll('li:not(.optgroup)').forEach((el) => {\n            el.removeEventListener('click', this._handleOptionClick);\n        });\n        this.el.removeEventListener('change', this._handleSelectChange);\n        this.input.removeEventListener('click', this._handleInputClick);\n    }\n    _arraysEqual(a, b) {\n        if (a === b)\n            return true;\n        if (a == null || b == null)\n            return false;\n        if (a.length !== b.length)\n            return false;\n        for (let i = 0; i < a.length; ++i)\n            if (a[i] !== b[i])\n                return false;\n        return true;\n    }\n    _selectOptionElement(virtualOption) {\n        if (!virtualOption.classList.contains('disabled') && !virtualOption.classList.contains('optgroup')) {\n            const value = this._values.find((value) => value.optionEl === virtualOption);\n            const previousSelectedValues = this.getSelectedValues();\n            if (this.isMultiple) {\n                // Multi-Select\n                this._toggleEntryFromArray(value);\n            }\n            else {\n                // Single-Select\n                this._deselectAll();\n                this._selectValue(value);\n            }\n            // Refresh Input-Text\n            this._setValueToInput();\n            // Trigger Change-Event only when data is different\n            const actualSelectedValues = this.getSelectedValues();\n            const selectionHasChanged = !this._arraysEqual(previousSelectedValues, actualSelectedValues);\n            if (selectionHasChanged)\n                this.el.dispatchEvent(new Event('change')); // trigger('change');\n        }\n        if (!this.isMultiple)\n            this.dropdown.close();\n    }\n    _setupDropdown() {\n        // Get Label\n        this.labelEl = this.el.parentElement.querySelector('label');\n        // Create Wrapper\n        this.wrapper = document.createElement('div');\n        this.wrapper.classList.add('select-wrapper', 'input-field');\n        if (this.options.classes.length > 0) {\n            this.wrapper.classList.add(...this.options.classes.split(' '));\n        }\n        this.el.before(this.wrapper);\n        // Move actual select element into overflow hidden wrapper\n        const hideSelect = document.createElement('div');\n        hideSelect.classList.add('hide-select');\n        this.wrapper.append(hideSelect);\n        hideSelect.appendChild(this.el);\n        if (this.el.disabled)\n            this.wrapper.classList.add('disabled');\n        this.selectOptions = Array.from(this.el.children).filter(el => ['OPTION', 'OPTGROUP'].includes(el.tagName));\n        // Create dropdown\n        this.dropdownOptions = document.createElement('ul');\n        this.dropdownOptions.id = `select-options-${utils_1.Utils.guid()}`;\n        this.dropdownOptions.classList.add('dropdown-content', 'select-dropdown');\n        this.dropdownOptions.setAttribute('role', 'listbox');\n        this.dropdownOptions.ariaMultiSelectable = this.isMultiple.toString();\n        if (this.isMultiple)\n            this.dropdownOptions.classList.add('multiple-select-dropdown');\n        // Create dropdown structure\n        if (this.selectOptions.length > 0) {\n            this.selectOptions.forEach((realOption) => {\n                if (realOption.tagName === 'OPTION') {\n                    // Option\n                    const virtualOption = this._createAndAppendOptionWithIcon(realOption, this.isMultiple ? 'multiple' : undefined);\n                    this._addOptionToValues(realOption, virtualOption);\n                }\n                else if (realOption.tagName === 'OPTGROUP') {\n                    // Optgroup\n                    const groupId = \"opt-group-\" + utils_1.Utils.guid();\n                    const groupParent = document.createElement('li');\n                    groupParent.classList.add('optgroup');\n                    groupParent.tabIndex = -1;\n                    groupParent.setAttribute('role', 'group');\n                    groupParent.setAttribute('aria-labelledby', groupId);\n                    groupParent.innerHTML = `<span id=\"${groupId}\" role=\"presentation\">${realOption.getAttribute('label')}</span>`;\n                    this.dropdownOptions.append(groupParent);\n                    const groupChildren = [];\n                    const selectOptions = Array.from(realOption.children).filter(el => el.tagName === 'OPTION');\n                    selectOptions.forEach(realOption => {\n                        const virtualOption = this._createAndAppendOptionWithIcon(realOption, 'optgroup-option');\n                        const childId = \"opt-child-\" + utils_1.Utils.guid();\n                        virtualOption.id = childId;\n                        groupChildren.push(childId);\n                        this._addOptionToValues(realOption, virtualOption);\n                    });\n                    groupParent.setAttribute(\"aria-owns\", groupChildren.join(\" \"));\n                }\n            });\n        }\n        this.wrapper.append(this.dropdownOptions);\n        // Add input dropdown\n        this.input = document.createElement('input');\n        this.input.id = \"m_select-input-\" + utils_1.Utils.guid();\n        this.input.classList.add('select-dropdown', 'dropdown-trigger');\n        this.input.type = 'text';\n        this.input.readOnly = true;\n        this.input.setAttribute('data-target', this.dropdownOptions.id);\n        this.input.ariaReadOnly = 'true';\n        this.input.ariaRequired = this.el.hasAttribute(\"required\").toString(); //setAttribute(\"aria-required\", this.el.hasAttribute(\"required\"));\n        if (this.el.disabled)\n            this.input.disabled = true; // 'true');\n        // Place Label after input\n        if (this.labelEl) {\n            this.input.after(this.labelEl);\n            this.labelEl.setAttribute('for', this.input.id);\n            this.labelEl.id = \"m_select-label-\" + utils_1.Utils.guid();\n            this.dropdownOptions.setAttribute(\"aria-labelledby\", this.labelEl.id);\n        }\n        // Makes new element to assume HTML's select label and aria-attributes, if exists\n        /*\n        if (this.el.hasAttribute(\"aria-labelledby\")){\n          console.log(1);\n          this.labelEl = <HTMLLabelElement>document.getElementById(this.el.getAttribute(\"aria-labelledby\"));\n        }\n        else if (this.el.id != \"\"){\n          console.log(2);\n          const label = document.createElement('label');\n          label.setAttribute('for', this.el.id);\n          if (label){\n            this.labelEl = label;\n            this.labelEl.removeAttribute(\"for\");\n            this._labelFor = true;\n          }\n        }\n        */\n        // Tries to find a valid label in parent element\n        // if (!this.labelEl) {\n        //   this.labelEl = this.el.parentElement.querySelector('label');\n        // }\n        // if (this.labelEl && this.labelEl.id == \"\") {\n        //   this.labelEl.id = \"m_select-label-\" + Utils.guid();\n        // }\n        // if (this.labelEl) {\n        //   this.labelEl.setAttribute(\"for\", this.input.id);\n        //   this.dropdownOptions.setAttribute(\"aria-labelledby\", this.labelEl.id);\n        // }\n        // else\n        //   this.dropdownOptions.ariaLabel = '';\n        const attrs = this.el.attributes;\n        for (let i = 0; i < attrs.length; ++i) {\n            const attr = attrs[i];\n            if (attr.name.startsWith(\"aria-\"))\n                this.input.setAttribute(attr.name, attr.value);\n        }\n        // Adds aria-attributes to input element\n        this.input.setAttribute('role', 'combobox');\n        this.input.ariaExpanded = 'false';\n        this.input.setAttribute(\"aria-owns\", this.dropdownOptions.id);\n        this.input.setAttribute(\"aria-controls\", this.dropdownOptions.id);\n        this.input.placeholder = \" \";\n        this.wrapper.prepend(this.input);\n        this._setValueToInput();\n        // Add caret\n        const dropdownIcon = document.createElementNS('http://www.w3.org/2000/svg', 'svg'); //document.createElement('svg')\n        dropdownIcon.classList.add('caret');\n        dropdownIcon.setAttribute('height', '24');\n        dropdownIcon.setAttribute('width', '24');\n        dropdownIcon.setAttribute('viewBox', '0 0 24 24');\n        dropdownIcon.ariaHidden = 'true';\n        dropdownIcon.innerHTML = `<path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/>`;\n        this.wrapper.prepend(dropdownIcon);\n        // Initialize dropdown\n        if (!this.el.disabled) {\n            const dropdownOptions = Object.assign({}, this.options.dropdownOptions); // TODO:\n            dropdownOptions.coverTrigger = false;\n            const userOnOpenEnd = dropdownOptions.onOpenEnd;\n            const userOnCloseEnd = dropdownOptions.onCloseEnd;\n            // Add callback for centering selected option when dropdown content is scrollable\n            dropdownOptions.onOpenEnd = (el) => {\n                const selectedOption = this.dropdownOptions.querySelector('.selected');\n                if (selectedOption) {\n                    // Focus selected option in dropdown\n                    utils_1.Utils.keyDown = true;\n                    this.dropdown.focusedIndex = [...selectedOption.parentNode.children].indexOf(selectedOption);\n                    this.dropdown._focusFocusedItem();\n                    utils_1.Utils.keyDown = false;\n                    // Handle scrolling to selected option\n                    if (this.dropdown.isScrollable) {\n                        let scrollOffset = selectedOption.getBoundingClientRect().top -\n                            this.dropdownOptions.getBoundingClientRect().top; // scroll to selected option\n                        scrollOffset -= this.dropdownOptions.clientHeight / 2; // center in dropdown\n                        this.dropdownOptions.scrollTop = scrollOffset;\n                    }\n                }\n                this.input.ariaExpanded = 'true';\n                // Handle user declared onOpenEnd if needed\n                if (userOnOpenEnd && typeof userOnOpenEnd === 'function')\n                    userOnOpenEnd.call(this.dropdown, this.el);\n            };\n            // Add callback for reseting \"expanded\" state\n            dropdownOptions.onCloseEnd = (el) => {\n                this.input.ariaExpanded = 'false';\n                // Handle user declared onOpenEnd if needed\n                if (userOnCloseEnd && typeof userOnCloseEnd === 'function')\n                    userOnCloseEnd.call(this.dropdown, this.el);\n            };\n            // Prevent dropdown from closing too early\n            dropdownOptions.closeOnClick = false;\n            this.dropdown = dropdown_1.Dropdown.init(this.input, dropdownOptions);\n        }\n        // Add initial selections\n        this._setSelectedStates();\n        // ! Workaround for Label: move label up again\n        if (this.labelEl)\n            this.input.after(this.labelEl);\n    }\n    _addOptionToValues(realOption, virtualOption) {\n        this._values.push({ el: realOption, optionEl: virtualOption });\n    }\n    _removeDropdown() {\n        this.wrapper.querySelector('.caret').remove();\n        this.input.remove();\n        this.dropdownOptions.remove();\n        this.wrapper.before(this.el);\n        this.wrapper.remove();\n    }\n    _createAndAppendOptionWithIcon(realOption, type) {\n        var _a;\n        const li = document.createElement('li');\n        li.setAttribute('role', 'option');\n        if (realOption.disabled) {\n            li.classList.add('disabled');\n            li.ariaDisabled = 'true';\n        }\n        if (type === 'optgroup-option')\n            li.classList.add(type);\n        // Text / Checkbox\n        const span = document.createElement('span');\n        if (this.isMultiple)\n            span.innerHTML = `<label><input type=\"checkbox\"${realOption.disabled ? ' disabled=\"disabled\"' : ''}><span>${realOption.innerHTML}</span></label>`;\n        else\n            span.innerHTML = realOption.innerHTML;\n        li.appendChild(span);\n        // add Icon\n        const iconUrl = realOption.getAttribute('data-icon');\n        const classes = (_a = realOption.getAttribute('class')) === null || _a === void 0 ? void 0 : _a.split();\n        if (iconUrl) {\n            const img = document.createElement('img');\n            if (classes)\n                img.classList.add(classes);\n            img.src = iconUrl;\n            img.ariaHidden = 'true';\n            li.prepend(img);\n        }\n        // Check for multiple type\n        this.dropdownOptions.append(li);\n        return li;\n    }\n    _selectValue(value) {\n        value.el.selected = true;\n        value.optionEl.classList.add('selected');\n        value.optionEl.ariaSelected = 'true'; // setAttribute(\"aria-selected\", true);\n        const checkbox = value.optionEl.querySelector('input[type=\"checkbox\"]');\n        if (checkbox)\n            checkbox.checked = true;\n    }\n    _deselectValue(value) {\n        value.el.selected = false;\n        value.optionEl.classList.remove('selected');\n        value.optionEl.ariaSelected = 'false'; //setAttribute(\"aria-selected\", false);\n        const checkbox = value.optionEl.querySelector('input[type=\"checkbox\"]');\n        if (checkbox)\n            checkbox.checked = false;\n    }\n    _deselectAll() {\n        this._values.forEach(value => this._deselectValue(value));\n    }\n    _isValueSelected(value) {\n        const realValues = this.getSelectedValues();\n        return realValues.some((realValue) => realValue === value.el.value);\n    }\n    _toggleEntryFromArray(value) {\n        if (this._isValueSelected(value))\n            this._deselectValue(value);\n        else\n            this._selectValue(value);\n    }\n    _getSelectedOptions() {\n        // remove null, false, ... values\n        return Array.prototype.filter.call(this.el.selectedOptions, (realOption) => realOption);\n    }\n    _setValueToInput() {\n        const realOptions = this._getSelectedOptions();\n        const values = this._values.filter((value) => realOptions.indexOf(value.el) >= 0);\n        const texts = values.map((value) => value.optionEl.querySelector('span').innerText.trim());\n        // Set input-text to first Option with empty value which indicates a description like \"choose your option\"\n        if (texts.length === 0) {\n            const firstDisabledOption = this.el.querySelector('option:disabled');\n            if (firstDisabledOption && firstDisabledOption.value === '') {\n                this.input.value = firstDisabledOption.innerText;\n                return;\n            }\n        }\n        this.input.value = texts.join(', ');\n    }\n    _setSelectedStates() {\n        this._values.forEach((value) => {\n            const optionIsSelected = value.el.selected;\n            const cb = value.optionEl.querySelector('input[type=\"checkbox\"]');\n            if (cb)\n                cb.checked = optionIsSelected;\n            if (optionIsSelected) {\n                this._activateOption(this.dropdownOptions, value.optionEl);\n            }\n            else {\n                value.optionEl.classList.remove('selected');\n                value.optionEl.ariaSelected = 'false'; // attr(\"aria-selected\", 'false');\n            }\n        });\n    }\n    _activateOption(ul, li) {\n        if (!li)\n            return;\n        if (!this.isMultiple)\n            ul.querySelectorAll('li.selected').forEach(li => li.classList.remove('selected'));\n        li.classList.add('selected');\n        li.ariaSelected = 'true';\n    }\n    getSelectedValues() {\n        return this._getSelectedOptions().map((realOption) => realOption.value);\n    }\n}\nexports.FormSelect = FormSelect;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTtnQkFDcEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUM1RDtpQkFDSTtnQkFDSCxLQUFLLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQzVDLEtBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQyxDQUFDLGtDQUFrQzthQUMxRTtRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGVBQWUsQ0FBQyxFQUFlLEVBQUUsRUFBZTtRQUM5QyxJQUFJLENBQUMsRUFBRTtZQUFFLE9BQU87UUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVO1lBQUUsRUFBRSxDQUFDLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDeEcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDN0IsRUFBRSxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUM7SUFDM0IsQ0FBQztJQUVELGlCQUFpQjtRQUNmLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUUsQ0FBQztDQUNGO0FBeGNELGdDQXdjQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9zZWxlY3QudHM/NWFkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBEcm9wZG93biwgRHJvcGRvd25PcHRpb25zIH0gZnJvbSBcIi4vZHJvcGRvd25cIjtcbmltcG9ydCB7IENvbXBvbmVudCwgQmFzZU9wdGlvbnMsIEluaXRFbGVtZW50cywgTUVsZW1lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBGb3JtU2VsZWN0T3B0aW9ucyBleHRlbmRzIEJhc2VPcHRpb25zIHtcbiAgLyoqXG4gICAqIENsYXNzZXMgdG8gYmUgYWRkZWQgdG8gdGhlIHNlbGVjdCB3cmFwcGVyIGVsZW1lbnQuXG4gICAqIEBkZWZhdWx0IFwiXCJcbiAgICovXG4gIGNsYXNzZXM6IHN0cmluZztcbiAgLyoqXG4gICAqIFBhc3Mgb3B0aW9ucyBvYmplY3QgdG8gc2VsZWN0IGRyb3Bkb3duIGluaXRpYWxpemF0aW9uLlxuICAgKiBAZGVmYXVsdCB7fVxuICAgKi9cbiAgZHJvcGRvd25PcHRpb25zOiBQYXJ0aWFsPERyb3Bkb3duT3B0aW9ucz47XG59XG5cbmxldCBfZGVmYXVsdHM6IEZvcm1TZWxlY3RPcHRpb25zID0ge1xuICBjbGFzc2VzOiAnJyxcbiAgZHJvcGRvd25PcHRpb25zOiB7fVxufTtcblxudHlwZSBWYWx1ZVN0cnVjdCA9IHtcbiAgZWw6IEhUTUxPcHRpb25FbGVtZW50LFxuICBvcHRpb25FbDogSFRNTEVsZW1lbnQsXG59XG5cbmV4cG9ydCBjbGFzcyBGb3JtU2VsZWN0IGV4dGVuZHMgQ29tcG9uZW50PEZvcm1TZWxlY3RPcHRpb25zPiB7XG4gIGRlY2xhcmUgZWw6IEhUTUxTZWxlY3RFbGVtZW50O1xuICAvKiogSWYgdGhpcyBpcyBhIG11bHRpcGxlIHNlbGVjdC4gKi9cbiAgaXNNdWx0aXBsZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqIExhYmVsIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBzZWxlY3QgZWxlbWVudC5cbiAgICogSXMgXCJudWxsXCIsIGlmIG5vdCBkZXRlY3RlZC5cbiAgICovXG4gIGxhYmVsRWw6IEhUTUxMYWJlbEVsZW1lbnQ7XG4gIC8qKiBEcm9wZG93biBVTCBlbGVtZW50LiAqL1xuICBkcm9wZG93bk9wdGlvbnM6IEhUTUxVTGlzdEVsZW1lbnQ7XG4gIC8qKiBUZXh0IGlucHV0IHRoYXQgc2hvd3MgY3VycmVudCBzZWxlY3RlZCBvcHRpb24uICovXG4gIGlucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xuICAvKiogSW5zdGFuY2Ugb2YgdGhlIGRyb3Bkb3duIHBsdWdpbiBmb3IgdGhpcyBzZWxlY3QuICovXG4gIGRyb3Bkb3duOiBEcm9wZG93bjtcbiAgLyoqIFRoZSBzZWxlY3Qgd3JhcHBlciBlbGVtZW50LiAqL1xuICB3cmFwcGVyOiBIVE1MRGl2RWxlbWVudDtcbiAgc2VsZWN0T3B0aW9uczogKEhUTUxPcHRpb25FbGVtZW50fEhUTUxPcHRHcm91cEVsZW1lbnQpW107XG4gIHByaXZhdGUgX3ZhbHVlczogVmFsdWVTdHJ1Y3RbXTtcblxuICBjb25zdHJ1Y3RvcihlbDogSFRNTFNlbGVjdEVsZW1lbnQsIG9wdGlvbnM6IEZvcm1TZWxlY3RPcHRpb25zKSB7XG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIEZvcm1TZWxlY3QpO1xuICAgIGlmICh0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucygnYnJvd3Nlci1kZWZhdWx0JykpIHJldHVybjtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fRm9ybVNlbGVjdCA9IHRoaXM7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi5Gb3JtU2VsZWN0LmRlZmF1bHRzLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5pc011bHRpcGxlID0gdGhpcy5lbC5tdWx0aXBsZTtcbiAgICB0aGlzLmVsLnRhYkluZGV4ID0gLTE7XG4gICAgdGhpcy5fdmFsdWVzID0gW107XG4gICAgLy90aGlzLmxhYmVsRWwgPSBudWxsO1xuICAgIC8vdGhpcy5fbGFiZWxGb3IgPSBmYWxzZTtcbiAgICB0aGlzLl9zZXR1cERyb3Bkb3duKCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCk6IEZvcm1TZWxlY3RPcHRpb25zIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlIG9mIEZvcm1TZWxlY3QuXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWw6IEhUTUxTZWxlY3RFbGVtZW50LCBvcHRpb25zPzogUGFydGlhbDxGb3JtU2VsZWN0T3B0aW9ucz4pOiBGb3JtU2VsZWN0O1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIEZvcm1TZWxlY3QuXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbHM6IEluaXRFbGVtZW50czxIVE1MU2VsZWN0RWxlbWVudCB8IE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8Rm9ybVNlbGVjdE9wdGlvbnM+KTogRm9ybVNlbGVjdFtdO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIEZvcm1TZWxlY3QuXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxTZWxlY3RFbGVtZW50IHwgSW5pdEVsZW1lbnRzPEhUTUxTZWxlY3RFbGVtZW50IHwgTUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPEZvcm1TZWxlY3RPcHRpb25zPiA9IHt9KTogRm9ybVNlbGVjdCB8IEZvcm1TZWxlY3RbXSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQoZWxzLCBvcHRpb25zLCBGb3JtU2VsZWN0KTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBGb3JtU2VsZWN0IHtcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9Gb3JtU2VsZWN0O1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICAvLyBSZXR1cm5zIGxhYmVsIHRvIGl0cyBvcmlnaW5hbCBvd25lclxuICAgIC8vaWYgKHRoaXMuX2xhYmVsRm9yKSB0aGlzLmxhYmVsRWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIHRoaXMuZWwuaWQpO1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLl9yZW1vdmVEcm9wZG93bigpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9Gb3JtU2VsZWN0ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5xdWVyeVNlbGVjdG9yQWxsKCdsaTpub3QoLm9wdGdyb3VwKScpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9wdGlvbkNsaWNrKTtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICBpZiAoZS5rZXkgPT09IFwiIFwiIHx8IGUua2V5ID09PSBcIkVudGVyXCIpIHRoaXMuX2hhbmRsZU9wdGlvbkNsaWNrKGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVTZWxlY3RDaGFuZ2UpO1xuICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbnB1dENsaWNrKTtcbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZHJvcGRvd25PcHRpb25zLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpOm5vdCgub3B0Z3JvdXApJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlT3B0aW9uQ2xpY2spO1xuICAgIH0pO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlU2VsZWN0Q2hhbmdlKTtcbiAgICB0aGlzLmlucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGljayk7XG4gIH1cblxuICBfaGFuZGxlU2VsZWN0Q2hhbmdlID0gKCkgPT4ge1xuICAgIHRoaXMuX3NldFZhbHVlVG9JbnB1dCgpO1xuICB9XG5cbiAgX2hhbmRsZU9wdGlvbkNsaWNrID0gKGU6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHZpcnR1YWxPcHRpb24gPSAoZS50YXJnZXQgYXMgSFRNTExJRWxlbWVudCkuY2xvc2VzdCgnbGknKTtcbiAgICB0aGlzLl9zZWxlY3RPcHRpb25FbGVtZW50KHZpcnR1YWxPcHRpb24pO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cblxuICBfYXJyYXlzRXF1YWw8VCwgRT4oYTogVFtdLCBiOiAoRXxUKVtdKSB7XG4gICAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkgaWYgKGFbaV0gIT09IGJbaV0pIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIF9zZWxlY3RPcHRpb25FbGVtZW50KHZpcnR1YWxPcHRpb246IEhUTUxFbGVtZW50KSB7XG4gICAgaWYgKCF2aXJ0dWFsT3B0aW9uLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSAmJiAhdmlydHVhbE9wdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ29wdGdyb3VwJykpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fdmFsdWVzLmZpbmQoKHZhbHVlKSA9PiB2YWx1ZS5vcHRpb25FbCA9PT0gdmlydHVhbE9wdGlvbik7XG4gICAgICBjb25zdCBwcmV2aW91c1NlbGVjdGVkVmFsdWVzID0gdGhpcy5nZXRTZWxlY3RlZFZhbHVlcygpO1xuICAgICAgaWYgKHRoaXMuaXNNdWx0aXBsZSkge1xuICAgICAgICAvLyBNdWx0aS1TZWxlY3RcbiAgICAgICAgdGhpcy5fdG9nZ2xlRW50cnlGcm9tQXJyYXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIFNpbmdsZS1TZWxlY3RcbiAgICAgICAgdGhpcy5fZGVzZWxlY3RBbGwoKTtcbiAgICAgICAgdGhpcy5fc2VsZWN0VmFsdWUodmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gUmVmcmVzaCBJbnB1dC1UZXh0XG4gICAgICB0aGlzLl9zZXRWYWx1ZVRvSW5wdXQoKTtcbiAgICAgIC8vIFRyaWdnZXIgQ2hhbmdlLUV2ZW50IG9ubHkgd2hlbiBkYXRhIGlzIGRpZmZlcmVudFxuICAgICAgY29uc3QgYWN0dWFsU2VsZWN0ZWRWYWx1ZXMgPSB0aGlzLmdldFNlbGVjdGVkVmFsdWVzKCk7XG4gICAgICBjb25zdCBzZWxlY3Rpb25IYXNDaGFuZ2VkID0gIXRoaXMuX2FycmF5c0VxdWFsKFxuICAgICAgICBwcmV2aW91c1NlbGVjdGVkVmFsdWVzLFxuICAgICAgICBhY3R1YWxTZWxlY3RlZFZhbHVlc1xuICAgICAgKTtcbiAgICAgIGlmIChzZWxlY3Rpb25IYXNDaGFuZ2VkKSB0aGlzLmVsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSk7IC8vIHRyaWdnZXIoJ2NoYW5nZScpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuaXNNdWx0aXBsZSkgdGhpcy5kcm9wZG93bi5jbG9zZSgpO1xuICB9XG5cbiAgX2hhbmRsZUlucHV0Q2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuZHJvcGRvd24gJiYgdGhpcy5kcm9wZG93bi5pc09wZW4pIHtcbiAgICAgIHRoaXMuX3NldFZhbHVlVG9JbnB1dCgpO1xuICAgICAgdGhpcy5fc2V0U2VsZWN0ZWRTdGF0ZXMoKTtcbiAgICB9XG4gIH1cblxuICBfc2V0dXBEcm9wZG93bigpIHtcbiAgICAvLyBHZXQgTGFiZWxcbiAgICB0aGlzLmxhYmVsRWwgPSB0aGlzLmVsLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWwnKTtcblxuICAgIC8vIENyZWF0ZSBXcmFwcGVyXG4gICAgdGhpcy53cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdC13cmFwcGVyJywgJ2lucHV0LWZpZWxkJyk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jbGFzc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKC4uLnRoaXMub3B0aW9ucy5jbGFzc2VzLnNwbGl0KCcgJykpO1xuICAgIH1cbiAgICB0aGlzLmVsLmJlZm9yZSh0aGlzLndyYXBwZXIpO1xuXG4gICAgLy8gTW92ZSBhY3R1YWwgc2VsZWN0IGVsZW1lbnQgaW50byBvdmVyZmxvdyBoaWRkZW4gd3JhcHBlclxuICAgIGNvbnN0IGhpZGVTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBoaWRlU2VsZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZGUtc2VsZWN0Jyk7XG4gICAgdGhpcy53cmFwcGVyLmFwcGVuZChoaWRlU2VsZWN0KTtcbiAgICBoaWRlU2VsZWN0LmFwcGVuZENoaWxkKHRoaXMuZWwpO1xuXG4gICAgaWYgKHRoaXMuZWwuZGlzYWJsZWQpIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuXG4gICAgdGhpcy5zZWxlY3RPcHRpb25zID0gPChIVE1MT3B0R3JvdXBFbGVtZW50fEhUTUxPcHRpb25FbGVtZW50KVtdPkFycmF5LmZyb20odGhpcy5lbC5jaGlsZHJlbikuZmlsdGVyKGVsID0+IFsnT1BUSU9OJywnT1BUR1JPVVAnXS5pbmNsdWRlcyhlbC50YWdOYW1lKSk7XG5cbiAgICAvLyBDcmVhdGUgZHJvcGRvd25cbiAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuaWQgPSBgc2VsZWN0LW9wdGlvbnMtJHtVdGlscy5ndWlkKCl9YDtcbiAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5jbGFzc0xpc3QuYWRkKCdkcm9wZG93bi1jb250ZW50JywgJ3NlbGVjdC1kcm9wZG93bicpO1xuICAgIHRoaXMuZHJvcGRvd25PcHRpb25zLnNldEF0dHJpYnV0ZSgncm9sZScsICdsaXN0Ym94Jyk7XG4gICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuYXJpYU11bHRpU2VsZWN0YWJsZSA9IHRoaXMuaXNNdWx0aXBsZS50b1N0cmluZygpO1xuICAgIGlmICh0aGlzLmlzTXVsdGlwbGUpIHRoaXMuZHJvcGRvd25PcHRpb25zLmNsYXNzTGlzdC5hZGQoJ211bHRpcGxlLXNlbGVjdC1kcm9wZG93bicpO1xuXG4gICAgLy8gQ3JlYXRlIGRyb3Bkb3duIHN0cnVjdHVyZVxuICAgIGlmICh0aGlzLnNlbGVjdE9wdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5zZWxlY3RPcHRpb25zLmZvckVhY2goKHJlYWxPcHRpb24pID0+IHtcbiAgICAgICAgaWYgKHJlYWxPcHRpb24udGFnTmFtZSA9PT0gJ09QVElPTicpIHtcbiAgICAgICAgICAvLyBPcHRpb25cbiAgICAgICAgICBjb25zdCB2aXJ0dWFsT3B0aW9uID0gdGhpcy5fY3JlYXRlQW5kQXBwZW5kT3B0aW9uV2l0aEljb24ocmVhbE9wdGlvbiwgdGhpcy5pc011bHRpcGxlID8gJ211bHRpcGxlJyA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgdGhpcy5fYWRkT3B0aW9uVG9WYWx1ZXMocmVhbE9wdGlvbiBhcyBIVE1MT3B0aW9uRWxlbWVudCwgdmlydHVhbE9wdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVhbE9wdGlvbi50YWdOYW1lID09PSAnT1BUR1JPVVAnKSB7XG4gICAgICAgICAgLy8gT3B0Z3JvdXBcbiAgICAgICAgICBjb25zdCBncm91cElkID0gXCJvcHQtZ3JvdXAtXCIrVXRpbHMuZ3VpZCgpO1xuICAgICAgICAgIGNvbnN0IGdyb3VwUGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICBncm91cFBhcmVudC5jbGFzc0xpc3QuYWRkKCdvcHRncm91cCcpO1xuICAgICAgICAgIGdyb3VwUGFyZW50LnRhYkluZGV4ID0gLTE7XG4gICAgICAgICAgZ3JvdXBQYXJlbnQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2dyb3VwJyk7XG4gICAgICAgICAgZ3JvdXBQYXJlbnQuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknLCBncm91cElkKTtcbiAgICAgICAgICBncm91cFBhcmVudC5pbm5lckhUTUwgPSBgPHNwYW4gaWQ9XCIke2dyb3VwSWR9XCIgcm9sZT1cInByZXNlbnRhdGlvblwiPiR7cmVhbE9wdGlvbi5nZXRBdHRyaWJ1dGUoJ2xhYmVsJyl9PC9zcGFuPmA7XG4gICAgICAgICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuYXBwZW5kKGdyb3VwUGFyZW50KTtcblxuICAgICAgICAgIGNvbnN0IGdyb3VwQ2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICBjb25zdCBzZWxlY3RPcHRpb25zID0gPEhUTUxPcHRpb25FbGVtZW50W10+QXJyYXkuZnJvbShyZWFsT3B0aW9uLmNoaWxkcmVuKS5maWx0ZXIoZWwgPT4gZWwudGFnTmFtZSA9PT0gJ09QVElPTicpO1xuICAgICAgICAgIHNlbGVjdE9wdGlvbnMuZm9yRWFjaChyZWFsT3B0aW9uID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZpcnR1YWxPcHRpb24gPSB0aGlzLl9jcmVhdGVBbmRBcHBlbmRPcHRpb25XaXRoSWNvbihyZWFsT3B0aW9uLCAnb3B0Z3JvdXAtb3B0aW9uJyk7XG4gICAgICAgICAgICBjb25zdCBjaGlsZElkID0gXCJvcHQtY2hpbGQtXCIrVXRpbHMuZ3VpZCgpO1xuICAgICAgICAgICAgdmlydHVhbE9wdGlvbi5pZCA9IGNoaWxkSWQ7XG4gICAgICAgICAgICBncm91cENoaWxkcmVuLnB1c2goY2hpbGRJZCk7XG4gICAgICAgICAgICB0aGlzLl9hZGRPcHRpb25Ub1ZhbHVlcyhyZWFsT3B0aW9uLCB2aXJ0dWFsT3B0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBncm91cFBhcmVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLW93bnNcIiwgZ3JvdXBDaGlsZHJlbi5qb2luKFwiIFwiKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLndyYXBwZXIuYXBwZW5kKHRoaXMuZHJvcGRvd25PcHRpb25zKTtcblxuICAgIC8vIEFkZCBpbnB1dCBkcm9wZG93blxuICAgIHRoaXMuaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHRoaXMuaW5wdXQuaWQgPSBcIm1fc2VsZWN0LWlucHV0LVwiICsgVXRpbHMuZ3VpZCgpO1xuICAgIHRoaXMuaW5wdXQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0LWRyb3Bkb3duJywgJ2Ryb3Bkb3duLXRyaWdnZXInKTtcbiAgICB0aGlzLmlucHV0LnR5cGUgPSAndGV4dCc7XG4gICAgdGhpcy5pbnB1dC5yZWFkT25seSA9IHRydWU7XG4gICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0JywgdGhpcy5kcm9wZG93bk9wdGlvbnMuaWQpO1xuICAgIHRoaXMuaW5wdXQuYXJpYVJlYWRPbmx5ID0gJ3RydWUnO1xuICAgIHRoaXMuaW5wdXQuYXJpYVJlcXVpcmVkID0gdGhpcy5lbC5oYXNBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiKS50b1N0cmluZygpOyAvL3NldEF0dHJpYnV0ZShcImFyaWEtcmVxdWlyZWRcIiwgdGhpcy5lbC5oYXNBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiKSk7XG4gICAgaWYgKHRoaXMuZWwuZGlzYWJsZWQpIHRoaXMuaW5wdXQuZGlzYWJsZWQgPSB0cnVlOyAvLyAndHJ1ZScpO1xuXG4gICAgLy8gUGxhY2UgTGFiZWwgYWZ0ZXIgaW5wdXRcbiAgICBpZiAodGhpcy5sYWJlbEVsKSB7XG4gICAgICB0aGlzLmlucHV0LmFmdGVyKHRoaXMubGFiZWxFbCk7XG4gICAgICB0aGlzLmxhYmVsRWwuc2V0QXR0cmlidXRlKCdmb3InLCB0aGlzLmlucHV0LmlkKTtcbiAgICAgIHRoaXMubGFiZWxFbC5pZCA9IFwibV9zZWxlY3QtbGFiZWwtXCIgKyBVdGlscy5ndWlkKCk7XG4gICAgICB0aGlzLmRyb3Bkb3duT3B0aW9ucy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIiwgdGhpcy5sYWJlbEVsLmlkKTtcbiAgICB9XG5cbiAgICAvLyBNYWtlcyBuZXcgZWxlbWVudCB0byBhc3N1bWUgSFRNTCdzIHNlbGVjdCBsYWJlbCBhbmQgYXJpYS1hdHRyaWJ1dGVzLCBpZiBleGlzdHNcbiAgICAvKlxuICAgIGlmICh0aGlzLmVsLmhhc0F0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiKSl7XG4gICAgICBjb25zb2xlLmxvZygxKTtcbiAgICAgIHRoaXMubGFiZWxFbCA9IDxIVE1MTGFiZWxFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZWwuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5lbC5pZCAhPSBcIlwiKXtcbiAgICAgIGNvbnNvbGUubG9nKDIpO1xuICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCB0aGlzLmVsLmlkKTtcbiAgICAgIGlmIChsYWJlbCl7XG4gICAgICAgIHRoaXMubGFiZWxFbCA9IGxhYmVsO1xuICAgICAgICB0aGlzLmxhYmVsRWwucmVtb3ZlQXR0cmlidXRlKFwiZm9yXCIpO1xuICAgICAgICB0aGlzLl9sYWJlbEZvciA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgICovXG4gICAgLy8gVHJpZXMgdG8gZmluZCBhIHZhbGlkIGxhYmVsIGluIHBhcmVudCBlbGVtZW50XG4gICAgLy8gaWYgKCF0aGlzLmxhYmVsRWwpIHtcbiAgICAvLyAgIHRoaXMubGFiZWxFbCA9IHRoaXMuZWwucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdsYWJlbCcpO1xuICAgIC8vIH1cbiAgICAvLyBpZiAodGhpcy5sYWJlbEVsICYmIHRoaXMubGFiZWxFbC5pZCA9PSBcIlwiKSB7XG4gICAgLy8gICB0aGlzLmxhYmVsRWwuaWQgPSBcIm1fc2VsZWN0LWxhYmVsLVwiICsgVXRpbHMuZ3VpZCgpO1xuICAgIC8vIH1cbiAgICAvLyBpZiAodGhpcy5sYWJlbEVsKSB7XG4gICAgLy8gICB0aGlzLmxhYmVsRWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIHRoaXMuaW5wdXQuaWQpO1xuICAgIC8vICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIsIHRoaXMubGFiZWxFbC5pZCk7XG4gICAgLy8gfVxuICAgIC8vIGVsc2VcbiAgICAvLyAgIHRoaXMuZHJvcGRvd25PcHRpb25zLmFyaWFMYWJlbCA9ICcnO1xuXG4gICAgY29uc3QgYXR0cnMgPSB0aGlzLmVsLmF0dHJpYnV0ZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRycy5sZW5ndGg7ICsraSl7XG4gICAgICBjb25zdCBhdHRyID0gYXR0cnNbaV07XG4gICAgICBpZiAoYXR0ci5uYW1lLnN0YXJ0c1dpdGgoXCJhcmlhLVwiKSlcbiAgICAgICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBBZGRzIGFyaWEtYXR0cmlidXRlcyB0byBpbnB1dCBlbGVtZW50XG4gICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnY29tYm9ib3gnKTtcbiAgICB0aGlzLmlucHV0LmFyaWFFeHBhbmRlZCA9ICdmYWxzZSc7XG4gICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoXCJhcmlhLW93bnNcIiwgdGhpcy5kcm9wZG93bk9wdGlvbnMuaWQpO1xuICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKFwiYXJpYS1jb250cm9sc1wiLCB0aGlzLmRyb3Bkb3duT3B0aW9ucy5pZCk7XG4gICAgdGhpcy5pbnB1dC5wbGFjZWhvbGRlciA9IFwiIFwiO1xuXG4gICAgdGhpcy53cmFwcGVyLnByZXBlbmQodGhpcy5pbnB1dCk7XG4gICAgdGhpcy5fc2V0VmFsdWVUb0lucHV0KCk7XG5cbiAgICAvLyBBZGQgY2FyZXRcbiAgICBjb25zdCBkcm9wZG93bkljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpOyAvL2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N2ZycpXG4gICAgZHJvcGRvd25JY29uLmNsYXNzTGlzdC5hZGQoJ2NhcmV0Jyk7XG4gICAgZHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgJzI0Jyk7XG4gICAgZHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnMjQnKTtcbiAgICBkcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAyNCAyNCcpO1xuICAgIGRyb3Bkb3duSWNvbi5hcmlhSGlkZGVuID0gJ3RydWUnO1xuICAgIGRyb3Bkb3duSWNvbi5pbm5lckhUTUwgPSBgPHBhdGggZD1cIk03IDEwbDUgNSA1LTV6XCIvPjxwYXRoIGQ9XCJNMCAwaDI0djI0SDB6XCIgZmlsbD1cIm5vbmVcIi8+YDtcbiAgICB0aGlzLndyYXBwZXIucHJlcGVuZChkcm9wZG93bkljb24pO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBkcm9wZG93blxuICAgIGlmICghdGhpcy5lbC5kaXNhYmxlZCkge1xuICAgICAgY29uc3QgZHJvcGRvd25PcHRpb25zID0gey4uLnRoaXMub3B0aW9ucy5kcm9wZG93bk9wdGlvbnN9OyAvLyBUT0RPOlxuICAgICAgZHJvcGRvd25PcHRpb25zLmNvdmVyVHJpZ2dlciA9IGZhbHNlO1xuICAgICAgY29uc3QgdXNlck9uT3BlbkVuZCA9IGRyb3Bkb3duT3B0aW9ucy5vbk9wZW5FbmQ7XG4gICAgICBjb25zdCB1c2VyT25DbG9zZUVuZCA9IGRyb3Bkb3duT3B0aW9ucy5vbkNsb3NlRW5kO1xuICAgICAgLy8gQWRkIGNhbGxiYWNrIGZvciBjZW50ZXJpbmcgc2VsZWN0ZWQgb3B0aW9uIHdoZW4gZHJvcGRvd24gY29udGVudCBpcyBzY3JvbGxhYmxlXG4gICAgICBkcm9wZG93bk9wdGlvbnMub25PcGVuRW5kID0gKGVsKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gdGhpcy5kcm9wZG93bk9wdGlvbnMucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkJyk7XG4gICAgICAgIGlmIChzZWxlY3RlZE9wdGlvbikge1xuICAgICAgICAgIC8vIEZvY3VzIHNlbGVjdGVkIG9wdGlvbiBpbiBkcm9wZG93blxuICAgICAgICAgIFV0aWxzLmtleURvd24gPSB0cnVlO1xuICAgICAgICAgIHRoaXMuZHJvcGRvd24uZm9jdXNlZEluZGV4ID0gWy4uLnNlbGVjdGVkT3B0aW9uLnBhcmVudE5vZGUuY2hpbGRyZW5dLmluZGV4T2Yoc2VsZWN0ZWRPcHRpb24pO1xuICAgICAgICAgIHRoaXMuZHJvcGRvd24uX2ZvY3VzRm9jdXNlZEl0ZW0oKTtcbiAgICAgICAgICBVdGlscy5rZXlEb3duID0gZmFsc2U7XG4gICAgICAgICAgLy8gSGFuZGxlIHNjcm9sbGluZyB0byBzZWxlY3RlZCBvcHRpb25cbiAgICAgICAgICBpZiAodGhpcy5kcm9wZG93bi5pc1Njcm9sbGFibGUpIHtcbiAgICAgICAgICAgIGxldCBzY3JvbGxPZmZzZXQgPVxuICAgICAgICAgICAgICBzZWxlY3RlZE9wdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLVxuICAgICAgICAgICAgICAodGhpcy5kcm9wZG93bk9wdGlvbnMgYXMgSFRNTEVsZW1lbnQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDsgLy8gc2Nyb2xsIHRvIHNlbGVjdGVkIG9wdGlvblxuICAgICAgICAgICAgc2Nyb2xsT2Zmc2V0IC09IHRoaXMuZHJvcGRvd25PcHRpb25zLmNsaWVudEhlaWdodCAvIDI7IC8vIGNlbnRlciBpbiBkcm9wZG93blxuICAgICAgICAgICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuc2Nyb2xsVG9wID0gc2Nyb2xsT2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlucHV0LmFyaWFFeHBhbmRlZCA9ICd0cnVlJztcbiAgICAgICAgLy8gSGFuZGxlIHVzZXIgZGVjbGFyZWQgb25PcGVuRW5kIGlmIG5lZWRlZFxuICAgICAgICBpZiAodXNlck9uT3BlbkVuZCAmJiB0eXBlb2YgdXNlck9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICB1c2VyT25PcGVuRW5kLmNhbGwodGhpcy5kcm9wZG93biwgdGhpcy5lbCk7XG4gICAgICB9O1xuICAgICAgLy8gQWRkIGNhbGxiYWNrIGZvciByZXNldGluZyBcImV4cGFuZGVkXCIgc3RhdGVcbiAgICAgIGRyb3Bkb3duT3B0aW9ucy5vbkNsb3NlRW5kID0gKGVsKSA9PiB7XG4gICAgICAgIHRoaXMuaW5wdXQuYXJpYUV4cGFuZGVkID0gJ2ZhbHNlJztcbiAgICAgICAgLy8gSGFuZGxlIHVzZXIgZGVjbGFyZWQgb25PcGVuRW5kIGlmIG5lZWRlZFxuICAgICAgICBpZiAodXNlck9uQ2xvc2VFbmQgJiYgdHlwZW9mIHVzZXJPbkNsb3NlRW5kID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgIHVzZXJPbkNsb3NlRW5kLmNhbGwodGhpcy5kcm9wZG93biwgdGhpcy5lbCk7XG4gICAgICB9O1xuICAgICAgLy8gUHJldmVudCBkcm9wZG93biBmcm9tIGNsb3NpbmcgdG9vIGVhcmx5XG4gICAgICBkcm9wZG93bk9wdGlvbnMuY2xvc2VPbkNsaWNrID0gZmFsc2U7XG4gICAgICB0aGlzLmRyb3Bkb3duID0gRHJvcGRvd24uaW5pdCh0aGlzLmlucHV0LCBkcm9wZG93bk9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyBBZGQgaW5pdGlhbCBzZWxlY3Rpb25zXG4gICAgdGhpcy5fc2V0U2VsZWN0ZWRTdGF0ZXMoKTtcblxuICAgIC8vICEgV29ya2Fyb3VuZCBmb3IgTGFiZWw6IG1vdmUgbGFiZWwgdXAgYWdhaW5cbiAgICBpZiAodGhpcy5sYWJlbEVsKSB0aGlzLmlucHV0LmFmdGVyKHRoaXMubGFiZWxFbCk7XG4gIH1cblxuICBfYWRkT3B0aW9uVG9WYWx1ZXMocmVhbE9wdGlvbjogSFRNTE9wdGlvbkVsZW1lbnQsIHZpcnR1YWxPcHRpb246IEhUTUxFbGVtZW50KSB7XG4gICAgdGhpcy5fdmFsdWVzLnB1c2goeyBlbDogcmVhbE9wdGlvbiwgb3B0aW9uRWw6IHZpcnR1YWxPcHRpb24gfSk7XG4gIH1cblxuICBfcmVtb3ZlRHJvcGRvd24oKSB7XG4gICAgdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5jYXJldCcpLnJlbW92ZSgpO1xuICAgIHRoaXMuaW5wdXQucmVtb3ZlKCk7XG4gICAgdGhpcy5kcm9wZG93bk9wdGlvbnMucmVtb3ZlKCk7XG4gICAgdGhpcy53cmFwcGVyLmJlZm9yZSh0aGlzLmVsKTtcbiAgICB0aGlzLndyYXBwZXIucmVtb3ZlKCk7XG4gIH1cblxuICBfY3JlYXRlQW5kQXBwZW5kT3B0aW9uV2l0aEljb24ocmVhbE9wdGlvbiwgdHlwZTogc3RyaW5nKSB7XG4gICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgIGxpLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICBpZiAocmVhbE9wdGlvbi5kaXNhYmxlZCl7XG4gICAgICBsaS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgbGkuYXJpYURpc2FibGVkID0gJ3RydWUnO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ29wdGdyb3VwLW9wdGlvbicpIGxpLmNsYXNzTGlzdC5hZGQodHlwZSk7XG4gICAgLy8gVGV4dCAvIENoZWNrYm94XG4gICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBpZiAodGhpcy5pc011bHRpcGxlKVxuICAgICAgc3Bhbi5pbm5lckhUTUwgPSBgPGxhYmVsPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiR7XG4gICAgICAgIHJlYWxPcHRpb24uZGlzYWJsZWQgPyAnIGRpc2FibGVkPVwiZGlzYWJsZWRcIicgOiAnJ1xuICAgICAgfT48c3Bhbj4ke3JlYWxPcHRpb24uaW5uZXJIVE1MfTwvc3Bhbj48L2xhYmVsPmA7XG4gICAgZWxzZVxuICAgICAgc3Bhbi5pbm5lckhUTUwgPSByZWFsT3B0aW9uLmlubmVySFRNTDtcbiAgICBsaS5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAvLyBhZGQgSWNvblxuICAgIGNvbnN0IGljb25VcmwgPSByZWFsT3B0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS1pY29uJyk7XG4gICAgY29uc3QgY2xhc3NlcyA9IHJlYWxPcHRpb24uZ2V0QXR0cmlidXRlKCdjbGFzcycpPy5zcGxpdCgpO1xuICAgIGlmIChpY29uVXJsKSB7XG4gICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgIGlmIChjbGFzc2VzKSBpbWcuY2xhc3NMaXN0LmFkZChjbGFzc2VzKTtcbiAgICAgIGltZy5zcmMgPSBpY29uVXJsO1xuICAgICAgaW1nLmFyaWFIaWRkZW4gPSAndHJ1ZSc7XG4gICAgICBsaS5wcmVwZW5kKGltZyk7XG4gICAgfVxuICAgIC8vIENoZWNrIGZvciBtdWx0aXBsZSB0eXBlXG4gICAgdGhpcy5kcm9wZG93bk9wdGlvbnMuYXBwZW5kKGxpKTtcbiAgICByZXR1cm4gbGk7XG4gIH1cblxuICBfc2VsZWN0VmFsdWUodmFsdWU6IFZhbHVlU3RydWN0KSB7XG4gICAgdmFsdWUuZWwuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIHZhbHVlLm9wdGlvbkVsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgdmFsdWUub3B0aW9uRWwuYXJpYVNlbGVjdGVkID0gJ3RydWUnOyAvLyBzZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIHRydWUpO1xuICAgIGNvbnN0IGNoZWNrYm94ID0gPEhUTUxJbnB1dEVsZW1lbnQ+dmFsdWUub3B0aW9uRWwucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgaWYgKGNoZWNrYm94KSBjaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcbiAgfVxuXG4gIF9kZXNlbGVjdFZhbHVlKHZhbHVlOiBWYWx1ZVN0cnVjdCkge1xuICAgIHZhbHVlLmVsLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgdmFsdWUub3B0aW9uRWwuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICB2YWx1ZS5vcHRpb25FbC5hcmlhU2VsZWN0ZWQgPSAnZmFsc2UnOyAvL3NldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgZmFsc2UpO1xuICAgIGNvbnN0IGNoZWNrYm94ID0gPEhUTUxJbnB1dEVsZW1lbnQ+dmFsdWUub3B0aW9uRWwucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgaWYgKGNoZWNrYm94KSBjaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gIH1cblxuICBfZGVzZWxlY3RBbGwoKSB7XG4gICAgdGhpcy5fdmFsdWVzLmZvckVhY2godmFsdWUgPT4gdGhpcy5fZGVzZWxlY3RWYWx1ZSh2YWx1ZSkpO1xuICB9XG5cbiAgX2lzVmFsdWVTZWxlY3RlZCh2YWx1ZTogVmFsdWVTdHJ1Y3QpIHtcbiAgICBjb25zdCByZWFsVmFsdWVzID0gdGhpcy5nZXRTZWxlY3RlZFZhbHVlcygpO1xuICAgIHJldHVybiByZWFsVmFsdWVzLnNvbWUoKHJlYWxWYWx1ZSkgPT4gcmVhbFZhbHVlID09PSB2YWx1ZS5lbC52YWx1ZSk7XG4gIH1cblxuICBfdG9nZ2xlRW50cnlGcm9tQXJyYXkodmFsdWU6IFZhbHVlU3RydWN0KSB7XG4gICAgaWYgKHRoaXMuX2lzVmFsdWVTZWxlY3RlZCh2YWx1ZSkpXG4gICAgICB0aGlzLl9kZXNlbGVjdFZhbHVlKHZhbHVlKTtcbiAgICBlbHNlXG4gICAgICB0aGlzLl9zZWxlY3RWYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBfZ2V0U2VsZWN0ZWRPcHRpb25zKCk6IEhUTUxPcHRpb25FbGVtZW50W10ge1xuICAgIC8vIHJlbW92ZSBudWxsLCBmYWxzZSwgLi4uIHZhbHVlc1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwodGhpcy5lbC5zZWxlY3RlZE9wdGlvbnMsIChyZWFsT3B0aW9uOiBIVE1MT3B0aW9uRWxlbWVudCkgPT4gcmVhbE9wdGlvbik7XG4gIH1cblxuICBfc2V0VmFsdWVUb0lucHV0KCkge1xuICAgIGNvbnN0IHJlYWxPcHRpb25zID0gdGhpcy5fZ2V0U2VsZWN0ZWRPcHRpb25zKCk7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy5fdmFsdWVzLmZpbHRlcigodmFsdWUpID0+IHJlYWxPcHRpb25zLmluZGV4T2YodmFsdWUuZWwpID49IDApO1xuICAgIGNvbnN0IHRleHRzID0gdmFsdWVzLm1hcCgodmFsdWUpID0+IHZhbHVlLm9wdGlvbkVsLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5pbm5lclRleHQudHJpbSgpKTtcbiAgICAvLyBTZXQgaW5wdXQtdGV4dCB0byBmaXJzdCBPcHRpb24gd2l0aCBlbXB0eSB2YWx1ZSB3aGljaCBpbmRpY2F0ZXMgYSBkZXNjcmlwdGlvbiBsaWtlIFwiY2hvb3NlIHlvdXIgb3B0aW9uXCJcbiAgICBpZiAodGV4dHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBmaXJzdERpc2FibGVkT3B0aW9uID0gPEhUTUxPcHRpb25FbGVtZW50PnRoaXMuZWwucXVlcnlTZWxlY3Rvcignb3B0aW9uOmRpc2FibGVkJyk7XG4gICAgICBpZiAoZmlyc3REaXNhYmxlZE9wdGlvbiAmJiBmaXJzdERpc2FibGVkT3B0aW9uLnZhbHVlID09PSAnJykge1xuICAgICAgICB0aGlzLmlucHV0LnZhbHVlID0gZmlyc3REaXNhYmxlZE9wdGlvbi5pbm5lclRleHQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5pbnB1dC52YWx1ZSA9IHRleHRzLmpvaW4oJywgJyk7XG4gIH1cblxuICBfc2V0U2VsZWN0ZWRTdGF0ZXMoKSB7XG4gICAgdGhpcy5fdmFsdWVzLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25Jc1NlbGVjdGVkID0gdmFsdWUuZWwuc2VsZWN0ZWQ7XG4gICAgICBjb25zdCBjYiA9IDxIVE1MSW5wdXRFbGVtZW50PnZhbHVlLm9wdGlvbkVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuICAgICAgaWYgKGNiKSBjYi5jaGVja2VkID0gb3B0aW9uSXNTZWxlY3RlZDtcbiAgICAgIGlmIChvcHRpb25Jc1NlbGVjdGVkKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlT3B0aW9uKHRoaXMuZHJvcGRvd25PcHRpb25zLCB2YWx1ZS5vcHRpb25FbCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFsdWUub3B0aW9uRWwuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgdmFsdWUub3B0aW9uRWwuYXJpYVNlbGVjdGVkID0gJ2ZhbHNlJzsgLy8gYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwgJ2ZhbHNlJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfYWN0aXZhdGVPcHRpb24odWw6IEhUTUxFbGVtZW50LCBsaTogSFRNTEVsZW1lbnQpIHtcbiAgICBpZiAoIWxpKSByZXR1cm47XG4gICAgaWYgKCF0aGlzLmlzTXVsdGlwbGUpIHVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpLnNlbGVjdGVkJykuZm9yRWFjaChsaSA9PiBsaS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTtcbiAgICBsaS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIGxpLmFyaWFTZWxlY3RlZCA9ICd0cnVlJztcbiAgfVxuXG4gIGdldFNlbGVjdGVkVmFsdWVzKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTZWxlY3RlZE9wdGlvbnMoKS5tYXAoKHJlYWxPcHRpb24pID0+IHJlYWxPcHRpb24udmFsdWUpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/select.ts\n");

/***/ }),

/***/ "./src/sidenav.ts":
/*!************************!*\
  !*** ./src/sidenav.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Sidenav = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst _defaults = {\n    edge: 'left',\n    draggable: true,\n    dragTargetWidth: '10px',\n    inDuration: 250,\n    outDuration: 200,\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    preventScrolling: true\n};\nclass Sidenav extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Sidenav);\n        this._handleDragTargetDrag = (e) => {\n            // Check if draggable\n            if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {\n                return;\n            }\n            // If not being dragged, set initial drag start variables\n            if (!this.isDragged) {\n                this._startDrag(e);\n            }\n            // Run touchmove updates\n            this._dragMoveUpdate(e);\n            // Calculate raw deltaX\n            let totalDeltaX = this._xPos - this._startingXpos;\n            // dragDirection is the attempted user drag direction\n            const dragDirection = totalDeltaX > 0 ? 'right' : 'left';\n            // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction\n            totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));\n            if (this.options.edge === dragDirection) {\n                totalDeltaX = 0;\n            }\n            /**\n             * transformX is the drag displacement\n             * transformPrefix is the initial transform placement\n             * Invert values if Sidenav is right edge\n             */\n            let transformX = totalDeltaX;\n            let transformPrefix = 'translateX(-100%)';\n            if (this.options.edge === 'right') {\n                transformPrefix = 'translateX(100%)';\n                transformX = -transformX;\n            }\n            // Calculate open/close percentage of sidenav, with open = 1 and close = 0\n            this.percentOpen = Math.min(1, totalDeltaX / this._width);\n            // Set transform and opacity styles\n            this.el.style.transform = `${transformPrefix} translateX(${transformX}px)`;\n            this._overlay.style.opacity = this.percentOpen.toString();\n        };\n        this._handleDragTargetRelease = () => {\n            if (this.isDragged) {\n                if (this.percentOpen > 0.2) {\n                    this.open();\n                }\n                else {\n                    this._animateOut();\n                }\n                this.isDragged = false;\n                this._verticallyScrolling = false;\n            }\n        };\n        this._handleCloseDrag = (e) => {\n            if (this.isOpen) {\n                // Check if draggable\n                if (!this.options.draggable || this._isCurrentlyFixed() || this._verticallyScrolling) {\n                    return;\n                }\n                // If not being dragged, set initial drag start variables\n                if (!this.isDragged) {\n                    this._startDrag(e);\n                }\n                // Run touchmove updates\n                this._dragMoveUpdate(e);\n                // Calculate raw deltaX\n                let totalDeltaX = this._xPos - this._startingXpos;\n                // dragDirection is the attempted user drag direction\n                let dragDirection = totalDeltaX > 0 ? 'right' : 'left';\n                // Don't allow totalDeltaX to exceed Sidenav width or be dragged in the opposite direction\n                totalDeltaX = Math.min(this._width, Math.abs(totalDeltaX));\n                if (this.options.edge !== dragDirection) {\n                    totalDeltaX = 0;\n                }\n                let transformX = -totalDeltaX;\n                if (this.options.edge === 'right') {\n                    transformX = -transformX;\n                }\n                // Calculate open/close percentage of sidenav, with open = 1 and close = 0\n                this.percentOpen = Math.min(1, 1 - totalDeltaX / this._width);\n                // Set transform and opacity styles\n                this.el.style.transform = `translateX(${transformX}px)`;\n                this._overlay.style.opacity = this.percentOpen.toString();\n            }\n        };\n        this._handleCloseRelease = () => {\n            if (this.isOpen && this.isDragged) {\n                if (this.percentOpen > 0.8) {\n                    this._animateIn();\n                }\n                else {\n                    this.close();\n                }\n                this.isDragged = false;\n                this._verticallyScrolling = false;\n            }\n        };\n        // Handles closing of Sidenav when element with class .sidenav-close\n        this._handleCloseTriggerClick = (e) => {\n            const closeTrigger = e.target.closest('.sidenav-close');\n            if (closeTrigger && !this._isCurrentlyFixed()) {\n                this.close();\n            }\n        };\n        this._handleWindowResize = () => {\n            // Only handle horizontal resizes\n            if (this.lastWindowWidth !== window.innerWidth) {\n                if (window.innerWidth > 992) {\n                    this.open();\n                }\n                else {\n                    this.close();\n                }\n            }\n            this.lastWindowWidth = window.innerWidth;\n            this.lastWindowHeight = window.innerHeight;\n        };\n        /**\n         * Opens Sidenav.\n         */\n        this.open = () => {\n            if (this.isOpen === true)\n                return;\n            this.isOpen = true;\n            // Run onOpenStart callback\n            if (typeof this.options.onOpenStart === 'function') {\n                this.options.onOpenStart.call(this, this.el);\n            }\n            // Handle fixed Sidenav\n            if (this._isCurrentlyFixed()) {\n                animejs_1.default.remove(this.el);\n                (0, animejs_1.default)({\n                    targets: this.el,\n                    translateX: 0,\n                    duration: 0,\n                    easing: 'easeOutQuad'\n                });\n                this._enableBodyScrolling();\n                this._overlay.style.display = 'none';\n            }\n            // Handle non-fixed Sidenav\n            else {\n                if (this.options.preventScrolling) {\n                    this._preventBodyScrolling();\n                }\n                if (!this.isDragged || this.percentOpen != 1) {\n                    this._animateIn();\n                }\n            }\n        };\n        /**\n         * Closes Sidenav.\n         */\n        this.close = () => {\n            if (this.isOpen === false)\n                return;\n            this.isOpen = false;\n            // Run onCloseStart callback\n            if (typeof this.options.onCloseStart === 'function') {\n                this.options.onCloseStart.call(this, this.el);\n            }\n            // Handle fixed Sidenav\n            if (this._isCurrentlyFixed()) {\n                const transformX = this.options.edge === 'left' ? '-105%' : '105%';\n                this.el.style.transform = `translateX(${transformX})`;\n            }\n            // Handle non-fixed Sidenav\n            else {\n                this._enableBodyScrolling();\n                if (!this.isDragged || this.percentOpen != 0) {\n                    this._animateOut();\n                }\n                else {\n                    this._overlay.style.display = 'none';\n                }\n            }\n        };\n        this.el.M_Sidenav = this;\n        this.options = Object.assign(Object.assign({}, Sidenav.defaults), options);\n        this.id = this.el.id;\n        this.isOpen = false;\n        this.isFixed = this.el.classList.contains('sidenav-fixed');\n        this.isDragged = false;\n        // Window size variables for window resize checks\n        this.lastWindowWidth = window.innerWidth;\n        this.lastWindowHeight = window.innerHeight;\n        this._createOverlay();\n        this._createDragTarget();\n        this._setupEventHandlers();\n        this._setupClasses();\n        this._setupFixed();\n        Sidenav._sidenavs.push(this);\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Sidenav.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Sidenav);\n    }\n    static getInstance(el) {\n        return el.M_Sidenav;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._enableBodyScrolling();\n        this._overlay.parentNode.removeChild(this._overlay);\n        this.dragTarget.parentNode.removeChild(this.dragTarget);\n        this.el.M_Sidenav = undefined;\n        this.el.style.transform = '';\n        const index = Sidenav._sidenavs.indexOf(this);\n        if (index >= 0) {\n            Sidenav._sidenavs.splice(index, 1);\n        }\n    }\n    _createOverlay() {\n        this._overlay = document.createElement('div');\n        this._overlay.classList.add('sidenav-overlay');\n        this._overlay.addEventListener('click', this.close);\n        document.body.appendChild(this._overlay);\n    }\n    _setupEventHandlers() {\n        if (Sidenav._sidenavs.length === 0) {\n            document.body.addEventListener('click', this._handleTriggerClick);\n        }\n        var passiveIfSupported = null;\n        this.dragTarget.addEventListener('touchmove', this._handleDragTargetDrag, passiveIfSupported);\n        this.dragTarget.addEventListener('touchend', this._handleDragTargetRelease);\n        this._overlay.addEventListener('touchmove', this._handleCloseDrag, passiveIfSupported);\n        this._overlay.addEventListener('touchend', this._handleCloseRelease);\n        this.el.addEventListener('touchmove', this._handleCloseDrag, passiveIfSupported);\n        this.el.addEventListener('touchend', this._handleCloseRelease);\n        this.el.addEventListener('click', this._handleCloseTriggerClick);\n        // Add resize for side nav fixed\n        if (this.isFixed) {\n            window.addEventListener('resize', this._handleWindowResize);\n        }\n    }\n    _removeEventHandlers() {\n        if (Sidenav._sidenavs.length === 1) {\n            document.body.removeEventListener('click', this._handleTriggerClick);\n        }\n        this.dragTarget.removeEventListener('touchmove', this._handleDragTargetDrag);\n        this.dragTarget.removeEventListener('touchend', this._handleDragTargetRelease);\n        this._overlay.removeEventListener('touchmove', this._handleCloseDrag);\n        this._overlay.removeEventListener('touchend', this._handleCloseRelease);\n        this.el.removeEventListener('touchmove', this._handleCloseDrag);\n        this.el.removeEventListener('touchend', this._handleCloseRelease);\n        this.el.removeEventListener('click', this._handleCloseTriggerClick);\n        // Remove resize for side nav fixed\n        if (this.isFixed) {\n            window.removeEventListener('resize', this._handleWindowResize);\n        }\n    }\n    _handleTriggerClick(e) {\n        const trigger = e.target.closest('.sidenav-trigger');\n        if (e.target && trigger) {\n            const sidenavId = utils_1.Utils.getIdFromTrigger(trigger);\n            const sidenavInstance = document.getElementById(sidenavId).M_Sidenav;\n            if (sidenavInstance) {\n                sidenavInstance.open(trigger);\n            }\n            e.preventDefault();\n        }\n    }\n    // Set variables needed at the beginning of drag and stop any current transition.\n    _startDrag(e) {\n        const clientX = e.targetTouches[0].clientX;\n        this.isDragged = true;\n        this._startingXpos = clientX;\n        this._xPos = this._startingXpos;\n        this._time = Date.now();\n        this._width = this.el.getBoundingClientRect().width;\n        this._overlay.style.display = 'block';\n        this._initialScrollTop = this.isOpen ? this.el.scrollTop : utils_1.Utils.getDocumentScrollTop();\n        this._verticallyScrolling = false;\n        animejs_1.default.remove(this.el);\n        animejs_1.default.remove(this._overlay);\n    }\n    //Set variables needed at each drag move update tick\n    _dragMoveUpdate(e) {\n        const clientX = e.targetTouches[0].clientX;\n        const currentScrollTop = this.isOpen ? this.el.scrollTop : utils_1.Utils.getDocumentScrollTop();\n        this.deltaX = Math.abs(this._xPos - clientX);\n        this._xPos = clientX;\n        this.velocityX = this.deltaX / (Date.now() - this._time);\n        this._time = Date.now();\n        if (this._initialScrollTop !== currentScrollTop) {\n            this._verticallyScrolling = true;\n        }\n    }\n    _setupClasses() {\n        if (this.options.edge === 'right') {\n            this.el.classList.add('right-aligned');\n            this.dragTarget.classList.add('right-aligned');\n        }\n    }\n    _removeClasses() {\n        this.el.classList.remove('right-aligned');\n        this.dragTarget.classList.remove('right-aligned');\n    }\n    _setupFixed() {\n        if (this._isCurrentlyFixed())\n            this.open();\n    }\n    _isCurrentlyFixed() {\n        return this.isFixed && window.innerWidth > 992;\n    }\n    _createDragTarget() {\n        const dragTarget = document.createElement('div');\n        dragTarget.classList.add('drag-target');\n        dragTarget.style.width = this.options.dragTargetWidth;\n        document.body.appendChild(dragTarget);\n        this.dragTarget = dragTarget;\n    }\n    _preventBodyScrolling() {\n        document.body.style.overflow = 'hidden';\n    }\n    _enableBodyScrolling() {\n        document.body.style.overflow = '';\n    }\n    _animateIn() {\n        this._animateSidenavIn();\n        this._animateOverlayIn();\n    }\n    _animateSidenavIn() {\n        let slideOutPercent = this.options.edge === 'left' ? -1 : 1;\n        if (this.isDragged) {\n            slideOutPercent =\n                this.options.edge === 'left'\n                    ? slideOutPercent + this.percentOpen\n                    : slideOutPercent - this.percentOpen;\n        }\n        animejs_1.default.remove(this.el);\n        (0, animejs_1.default)({\n            targets: this.el,\n            translateX: [`${slideOutPercent * 100}%`, 0],\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                // Run onOpenEnd callback\n                if (typeof this.options.onOpenEnd === 'function') {\n                    this.options.onOpenEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    _animateOverlayIn() {\n        let start = 0;\n        if (this.isDragged) {\n            start = this.percentOpen;\n        }\n        else {\n            this._overlay.style.display = 'block';\n        }\n        animejs_1.default.remove(this._overlay);\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: [start, 1],\n            duration: this.options.inDuration,\n            easing: 'easeOutQuad'\n        });\n    }\n    _animateOut() {\n        this._animateSidenavOut();\n        this._animateOverlayOut();\n    }\n    _animateSidenavOut() {\n        const endPercent = this.options.edge === 'left' ? -1 : 1;\n        let slideOutPercent = 0;\n        if (this.isDragged) {\n            slideOutPercent =\n                this.options.edge === 'left'\n                    ? endPercent + this.percentOpen\n                    : endPercent - this.percentOpen;\n        }\n        animejs_1.default.remove(this.el);\n        (0, animejs_1.default)({\n            targets: this.el,\n            translateX: [`${slideOutPercent * 100}%`, `${endPercent * 105}%`],\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                // Run onOpenEnd callback\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this, this.el);\n                }\n            }\n        });\n    }\n    _animateOverlayOut() {\n        animejs_1.default.remove(this._overlay);\n        (0, animejs_1.default)({\n            targets: this._overlay,\n            opacity: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this._overlay.style.display = 'none';\n            }\n        });\n    }\n}\nexports.Sidenav = Sidenav;\n(() => {\n    Sidenav._sidenavs = [];\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUJBQUksRUFBQztZQUNILE9BQU8sRUFBRSxJQUFJLENBQUMsUUFBUTtZQUN0QixPQUFPLEVBQUUsQ0FBQztZQUNWLFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVc7WUFDbEMsTUFBTSxFQUFFLGFBQWE7WUFDckIsUUFBUSxFQUFFLEdBQUcsRUFBRTtnQkFDYixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1lBQ3ZDLENBQUM7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDO0NBS0Y7QUEzZEQsMEJBMmRDO0FBSEM7SUFDRSxPQUFPLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztBQUN6QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL3NpZGVuYXYudHM/ODJiMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50LCBPcGVuYWJsZSB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNpZGVuYXZPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge1xuICAvKipcbiAgICogU2lkZSBvZiBzY3JlZW4gb24gd2hpY2ggU2lkZW5hdiBhcHBlYXJzLlxuICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICovXG4gIGVkZ2U6ICdsZWZ0JyB8ICdyaWdodCc7XG4gIC8qKlxuICAgKiBBbGxvdyBzd2lwZSBnZXN0dXJlcyB0byBvcGVuL2Nsb3NlIFNpZGVuYXYuXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGRyYWdnYWJsZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFdpZHRoIG9mIHRoZSBhcmVhIHdoZXJlIHlvdSBjYW4gc3RhcnQgZHJhZ2dpbmcuXG4gICAqIEBkZWZhdWx0ICcxMHB4J1xuICAgKi9cbiAgZHJhZ1RhcmdldFdpZHRoOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBMZW5ndGggaW4gbXMgb2YgZW50ZXIgdHJhbnNpdGlvbi5cbiAgICogQGRlZmF1bHQgMjUwXG4gICAqL1xuICBpbkR1cmF0aW9uOiBudW1iZXI7XG4gIC8qKlxuICAgKiBMZW5ndGggaW4gbXMgb2YgZXhpdCB0cmFuc2l0aW9uLlxuICAgKiBAZGVmYXVsdCAyMDBcbiAgICovXG4gIG91dER1cmF0aW9uOiBudW1iZXI7XG4gIC8qKlxuICAgKiBQcmV2ZW50IHBhZ2UgZnJvbSBzY3JvbGxpbmcgd2hpbGUgc2lkZW5hdiBpcyBvcGVuLlxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBwcmV2ZW50U2Nyb2xsaW5nOiBib29sZWFuO1xuICAvKipcbiAgICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gc2lkZW5hdiBzdGFydHMgZW50ZXJpbmcuXG4gICAqL1xuICBvbk9wZW5TdGFydDogKGVsZW06IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xuICAvKipcbiAgICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gc2lkZW5hdiBmaW5pc2hlcyBlbnRlcmluZy5cbiAgICovXG4gIG9uT3BlbkVuZDogKGVsZW06IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xuICAvKipcbiAgICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gc2lkZW5hdiBzdGFydHMgZXhpdGluZy5cbiAgICovXG4gIG9uQ2xvc2VTdGFydDogKGVsZW06IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xuICAvKipcbiAgICogRnVuY3Rpb24gY2FsbGVkIHdoZW4gc2lkZW5hdiBmaW5pc2hlcyBleGl0aW5nLlxuICAgKi9cbiAgb25DbG9zZUVuZDogKGVsZW06IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xufVxuXG5jb25zdCBfZGVmYXVsdHM6IFNpZGVuYXZPcHRpb25zID0ge1xuICBlZGdlOiAnbGVmdCcsXG4gIGRyYWdnYWJsZTogdHJ1ZSxcbiAgZHJhZ1RhcmdldFdpZHRoOiAnMTBweCcsXG4gIGluRHVyYXRpb246IDI1MCxcbiAgb3V0RHVyYXRpb246IDIwMCxcbiAgb25PcGVuU3RhcnQ6IG51bGwsXG4gIG9uT3BlbkVuZDogbnVsbCxcbiAgb25DbG9zZVN0YXJ0OiBudWxsLFxuICBvbkNsb3NlRW5kOiBudWxsLFxuICBwcmV2ZW50U2Nyb2xsaW5nOiB0cnVlXG59O1xuXG5leHBvcnQgY2xhc3MgU2lkZW5hdiBleHRlbmRzIENvbXBvbmVudDxTaWRlbmF2T3B0aW9ucz4gaW1wbGVtZW50cyBPcGVuYWJsZSB7XG4gIGlkOiBzdHJpbmc7XG4gIC8qKiBEZXNjcmliZXMgb3Blbi9jbG9zZSBzdGF0ZSBvZiBTaWRlbmF2LiAqL1xuICBpc09wZW46IGJvb2xlYW47XG4gIC8qKiBEZXNjcmliZXMgaWYgc2lkZW5hdiBpcyBmaXhlZC4gKi9cbiAgaXNGaXhlZDogYm9vbGVhbjtcbiAgLyoqIERlc2NyaWJlcyBpZiBTaWRlbmF2IGlzIGJlaW5nIGRyYWdnZWQuICovXG4gIGlzRHJhZ2dlZDogYm9vbGVhbjtcbiAgbGFzdFdpbmRvd1dpZHRoOiBudW1iZXI7XG4gIGxhc3RXaW5kb3dIZWlnaHQ6IG51bWJlcjtcbiAgc3RhdGljIF9zaWRlbmF2czogU2lkZW5hdltdO1xuICBwcml2YXRlIF9vdmVybGF5OiBIVE1MRWxlbWVudDtcbiAgZHJhZ1RhcmdldDogRWxlbWVudDtcbiAgcHJpdmF0ZSBfc3RhcnRpbmdYcG9zOiBudW1iZXI7XG4gIHByaXZhdGUgX3hQb3M6IG51bWJlcjtcbiAgcHJpdmF0ZSBfdGltZTogbnVtYmVyO1xuICBwcml2YXRlIF93aWR0aDogbnVtYmVyO1xuICBwcml2YXRlIF9pbml0aWFsU2Nyb2xsVG9wOiBudW1iZXI7XG4gIHByaXZhdGUgX3ZlcnRpY2FsbHlTY3JvbGxpbmc6IGJvb2xlYW47XG4gIHByaXZhdGUgZGVsdGFYOiBudW1iZXI7XG4gIHByaXZhdGUgdmVsb2NpdHlYOiBudW1iZXI7XG4gIHByaXZhdGUgcGVyY2VudE9wZW46IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8U2lkZW5hdk9wdGlvbnM+KSB7XG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIFNpZGVuYXYpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9TaWRlbmF2ID0gdGhpcztcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLlNpZGVuYXYuZGVmYXVsdHMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcblxuICAgIHRoaXMuaWQgPSB0aGlzLmVsLmlkO1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5pc0ZpeGVkID0gdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3NpZGVuYXYtZml4ZWQnKTtcbiAgICB0aGlzLmlzRHJhZ2dlZCA9IGZhbHNlO1xuICAgIC8vIFdpbmRvdyBzaXplIHZhcmlhYmxlcyBmb3Igd2luZG93IHJlc2l6ZSBjaGVja3NcbiAgICB0aGlzLmxhc3RXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMubGFzdFdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB0aGlzLl9jcmVhdGVPdmVybGF5KCk7XG4gICAgdGhpcy5fY3JlYXRlRHJhZ1RhcmdldCgpO1xuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMuX3NldHVwQ2xhc3NlcygpO1xuICAgIHRoaXMuX3NldHVwRml4ZWQoKTtcbiAgICBTaWRlbmF2Ll9zaWRlbmF2cy5wdXNoKHRoaXMpO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpOiBTaWRlbmF2T3B0aW9ucyB7XG4gICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZSBvZiBTaWRlbmF2LlxuICAgKiBAcGFyYW0gZWwgSFRNTCBlbGVtZW50LlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsOiBIVE1MRWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8U2lkZW5hdk9wdGlvbnM+KTogU2lkZW5hdjtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBTaWRlbmF2LlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zPzogUGFydGlhbDxTaWRlbmF2T3B0aW9ucz4pOiBTaWRlbmF2W107XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgU2lkZW5hdi5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsczogSFRNTEVsZW1lbnQgfCBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPFNpZGVuYXZPcHRpb25zPiA9IHt9KTogU2lkZW5hdiB8IFNpZGVuYXZbXSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQoZWxzLCBvcHRpb25zLCBTaWRlbmF2KTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBTaWRlbmF2IHtcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9TaWRlbmF2O1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5fZW5hYmxlQm9keVNjcm9sbGluZygpO1xuICAgIHRoaXMuX292ZXJsYXkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9vdmVybGF5KTtcbiAgICB0aGlzLmRyYWdUYXJnZXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRyYWdUYXJnZXQpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9TaWRlbmF2ID0gdW5kZWZpbmVkO1xuICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICBjb25zdCBpbmRleCA9IFNpZGVuYXYuX3NpZGVuYXZzLmluZGV4T2YodGhpcyk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIFNpZGVuYXYuX3NpZGVuYXZzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgX2NyZWF0ZU92ZXJsYXkoKSB7XG4gICAgdGhpcy5fb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX292ZXJsYXkuY2xhc3NMaXN0LmFkZCgnc2lkZW5hdi1vdmVybGF5Jyk7XG4gICAgdGhpcy5fb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fb3ZlcmxheSk7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIGlmIChTaWRlbmF2Ll9zaWRlbmF2cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUcmlnZ2VyQ2xpY2spO1xuICAgIH1cbiAgICB2YXIgcGFzc2l2ZUlmU3VwcG9ydGVkOiBib29sZWFuID0gbnVsbDtcbiAgICB0aGlzLmRyYWdUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRHJhZ1RhcmdldERyYWcsIHBhc3NpdmVJZlN1cHBvcnRlZCk7XG4gICAgdGhpcy5kcmFnVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRHJhZ1RhcmdldFJlbGVhc2UpO1xuICAgIHRoaXMuX292ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2xvc2VEcmFnLCBwYXNzaXZlSWZTdXBwb3J0ZWQpO1xuICAgIHRoaXMuX292ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2UpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2xvc2VEcmFnLCBwYXNzaXZlSWZTdXBwb3J0ZWQpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2UpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbG9zZVRyaWdnZXJDbGljayk7XG4gICAgLy8gQWRkIHJlc2l6ZSBmb3Igc2lkZSBuYXYgZml4ZWRcbiAgICBpZiAodGhpcy5pc0ZpeGVkKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplKTtcbiAgICB9XG4gIH1cblxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICBpZiAoU2lkZW5hdi5fc2lkZW5hdnMubGVuZ3RoID09PSAxKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVHJpZ2dlckNsaWNrKTtcbiAgICB9XG4gICAgdGhpcy5kcmFnVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZURyYWdUYXJnZXREcmFnKTtcbiAgICB0aGlzLmRyYWdUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEcmFnVGFyZ2V0UmVsZWFzZSk7XG4gICAgdGhpcy5fb3ZlcmxheS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVDbG9zZURyYWcpO1xuICAgIHRoaXMuX292ZXJsYXkucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVDbG9zZVJlbGVhc2UpO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlQ2xvc2VEcmFnKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlQ2xvc2VSZWxlYXNlKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xvc2VUcmlnZ2VyQ2xpY2spO1xuXG4gICAgLy8gUmVtb3ZlIHJlc2l6ZSBmb3Igc2lkZSBuYXYgZml4ZWRcbiAgICBpZiAodGhpcy5pc0ZpeGVkKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlVHJpZ2dlckNsaWNrKGUpIHtcbiAgICBjb25zdCB0cmlnZ2VyID0gZS50YXJnZXQuY2xvc2VzdCgnLnNpZGVuYXYtdHJpZ2dlcicpO1xuICAgIGlmIChlLnRhcmdldCAmJiB0cmlnZ2VyKSB7XG4gICAgICBjb25zdCBzaWRlbmF2SWQgPSBVdGlscy5nZXRJZEZyb21UcmlnZ2VyKHRyaWdnZXIpO1xuICAgICAgY29uc3Qgc2lkZW5hdkluc3RhbmNlID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNpZGVuYXZJZCkgYXMgYW55KS5NX1NpZGVuYXY7XG4gICAgICBpZiAoc2lkZW5hdkluc3RhbmNlKSB7XG4gICAgICAgIHNpZGVuYXZJbnN0YW5jZS5vcGVuKHRyaWdnZXIpO1xuICAgICAgfVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNldCB2YXJpYWJsZXMgbmVlZGVkIGF0IHRoZSBiZWdpbm5pbmcgb2YgZHJhZyBhbmQgc3RvcCBhbnkgY3VycmVudCB0cmFuc2l0aW9uLlxuICBfc3RhcnREcmFnKGUpIHtcbiAgICBjb25zdCBjbGllbnRYID0gZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFg7XG4gICAgdGhpcy5pc0RyYWdnZWQgPSB0cnVlO1xuICAgIHRoaXMuX3N0YXJ0aW5nWHBvcyA9IGNsaWVudFg7XG4gICAgdGhpcy5feFBvcyA9IHRoaXMuX3N0YXJ0aW5nWHBvcztcbiAgICB0aGlzLl90aW1lID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLl93aWR0aCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLl9pbml0aWFsU2Nyb2xsVG9wID0gdGhpcy5pc09wZW4gPyB0aGlzLmVsLnNjcm9sbFRvcCA6IFV0aWxzLmdldERvY3VtZW50U2Nyb2xsVG9wKCk7XG4gICAgdGhpcy5fdmVydGljYWxseVNjcm9sbGluZyA9IGZhbHNlO1xuICAgIGFuaW0ucmVtb3ZlKHRoaXMuZWwpO1xuICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xuICB9XG5cbiAgLy9TZXQgdmFyaWFibGVzIG5lZWRlZCBhdCBlYWNoIGRyYWcgbW92ZSB1cGRhdGUgdGlja1xuICBfZHJhZ01vdmVVcGRhdGUoZSkge1xuICAgIGNvbnN0IGNsaWVudFggPSBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICBjb25zdCBjdXJyZW50U2Nyb2xsVG9wID0gdGhpcy5pc09wZW4gPyB0aGlzLmVsLnNjcm9sbFRvcCA6IFV0aWxzLmdldERvY3VtZW50U2Nyb2xsVG9wKCk7XG4gICAgdGhpcy5kZWx0YVggPSBNYXRoLmFicyh0aGlzLl94UG9zIC0gY2xpZW50WCk7XG4gICAgdGhpcy5feFBvcyA9IGNsaWVudFg7XG4gICAgdGhpcy52ZWxvY2l0eVggPSB0aGlzLmRlbHRhWCAvIChEYXRlLm5vdygpIC0gdGhpcy5fdGltZSk7XG4gICAgdGhpcy5fdGltZSA9IERhdGUubm93KCk7XG4gICAgaWYgKHRoaXMuX2luaXRpYWxTY3JvbGxUb3AgIT09IGN1cnJlbnRTY3JvbGxUb3ApIHtcbiAgICAgIHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVEcmFnVGFyZ2V0RHJhZyA9IChlKSA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgZHJhZ2dhYmxlXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlIHx8IHRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSB8fCB0aGlzLl92ZXJ0aWNhbGx5U2Nyb2xsaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIElmIG5vdCBiZWluZyBkcmFnZ2VkLCBzZXQgaW5pdGlhbCBkcmFnIHN0YXJ0IHZhcmlhYmxlc1xuICAgIGlmICghdGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgIHRoaXMuX3N0YXJ0RHJhZyhlKTtcbiAgICB9XG4gICAgLy8gUnVuIHRvdWNobW92ZSB1cGRhdGVzXG4gICAgdGhpcy5fZHJhZ01vdmVVcGRhdGUoZSk7XG4gICAgLy8gQ2FsY3VsYXRlIHJhdyBkZWx0YVhcbiAgICBsZXQgdG90YWxEZWx0YVggPSB0aGlzLl94UG9zIC0gdGhpcy5fc3RhcnRpbmdYcG9zO1xuICAgIC8vIGRyYWdEaXJlY3Rpb24gaXMgdGhlIGF0dGVtcHRlZCB1c2VyIGRyYWcgZGlyZWN0aW9uXG4gICAgY29uc3QgZHJhZ0RpcmVjdGlvbiA9IHRvdGFsRGVsdGFYID4gMCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgLy8gRG9uJ3QgYWxsb3cgdG90YWxEZWx0YVggdG8gZXhjZWVkIFNpZGVuYXYgd2lkdGggb3IgYmUgZHJhZ2dlZCBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uXG4gICAgdG90YWxEZWx0YVggPSBNYXRoLm1pbih0aGlzLl93aWR0aCwgTWF0aC5hYnModG90YWxEZWx0YVgpKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmVkZ2UgPT09IGRyYWdEaXJlY3Rpb24pIHtcbiAgICAgIHRvdGFsRGVsdGFYID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdHJhbnNmb3JtWCBpcyB0aGUgZHJhZyBkaXNwbGFjZW1lbnRcbiAgICAgKiB0cmFuc2Zvcm1QcmVmaXggaXMgdGhlIGluaXRpYWwgdHJhbnNmb3JtIHBsYWNlbWVudFxuICAgICAqIEludmVydCB2YWx1ZXMgaWYgU2lkZW5hdiBpcyByaWdodCBlZGdlXG4gICAgICovXG4gICAgbGV0IHRyYW5zZm9ybVggPSB0b3RhbERlbHRhWDtcbiAgICBsZXQgdHJhbnNmb3JtUHJlZml4ID0gJ3RyYW5zbGF0ZVgoLTEwMCUpJztcbiAgICBpZiAodGhpcy5vcHRpb25zLmVkZ2UgPT09ICdyaWdodCcpIHtcbiAgICAgIHRyYW5zZm9ybVByZWZpeCA9ICd0cmFuc2xhdGVYKDEwMCUpJztcbiAgICAgIHRyYW5zZm9ybVggPSAtdHJhbnNmb3JtWDtcbiAgICB9XG4gICAgLy8gQ2FsY3VsYXRlIG9wZW4vY2xvc2UgcGVyY2VudGFnZSBvZiBzaWRlbmF2LCB3aXRoIG9wZW4gPSAxIGFuZCBjbG9zZSA9IDBcbiAgICB0aGlzLnBlcmNlbnRPcGVuID0gTWF0aC5taW4oMSwgdG90YWxEZWx0YVggLyB0aGlzLl93aWR0aCk7XG4gICAgLy8gU2V0IHRyYW5zZm9ybSBhbmQgb3BhY2l0eSBzdHlsZXNcbiAgICAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUudHJhbnNmb3JtID0gYCR7dHJhbnNmb3JtUHJlZml4fSB0cmFuc2xhdGVYKCR7dHJhbnNmb3JtWH1weClgO1xuICAgIHRoaXMuX292ZXJsYXkuc3R5bGUub3BhY2l0eSA9IHRoaXMucGVyY2VudE9wZW4udG9TdHJpbmcoKTtcbiAgfVxuXG4gIF9oYW5kbGVEcmFnVGFyZ2V0UmVsZWFzZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgIGlmICh0aGlzLnBlcmNlbnRPcGVuID4gMC4yKSB7XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZU91dCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5pc0RyYWdnZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3ZlcnRpY2FsbHlTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlQ2xvc2VEcmFnID0gKGUpID0+IHtcbiAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgIC8vIENoZWNrIGlmIGRyYWdnYWJsZVxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlIHx8IHRoaXMuX2lzQ3VycmVudGx5Rml4ZWQoKSB8fCB0aGlzLl92ZXJ0aWNhbGx5U2Nyb2xsaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIElmIG5vdCBiZWluZyBkcmFnZ2VkLCBzZXQgaW5pdGlhbCBkcmFnIHN0YXJ0IHZhcmlhYmxlc1xuICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgICB0aGlzLl9zdGFydERyYWcoZSk7XG4gICAgICB9XG4gICAgICAvLyBSdW4gdG91Y2htb3ZlIHVwZGF0ZXNcbiAgICAgIHRoaXMuX2RyYWdNb3ZlVXBkYXRlKGUpO1xuICAgICAgLy8gQ2FsY3VsYXRlIHJhdyBkZWx0YVhcbiAgICAgIGxldCB0b3RhbERlbHRhWCA9IHRoaXMuX3hQb3MgLSB0aGlzLl9zdGFydGluZ1hwb3M7XG4gICAgICAvLyBkcmFnRGlyZWN0aW9uIGlzIHRoZSBhdHRlbXB0ZWQgdXNlciBkcmFnIGRpcmVjdGlvblxuICAgICAgbGV0IGRyYWdEaXJlY3Rpb24gPSB0b3RhbERlbHRhWCA+IDAgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgLy8gRG9uJ3QgYWxsb3cgdG90YWxEZWx0YVggdG8gZXhjZWVkIFNpZGVuYXYgd2lkdGggb3IgYmUgZHJhZ2dlZCBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uXG4gICAgICB0b3RhbERlbHRhWCA9IE1hdGgubWluKHRoaXMuX3dpZHRoLCBNYXRoLmFicyh0b3RhbERlbHRhWCkpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5lZGdlICE9PSBkcmFnRGlyZWN0aW9uKSB7XG4gICAgICAgIHRvdGFsRGVsdGFYID0gMDtcbiAgICAgIH1cbiAgICAgIGxldCB0cmFuc2Zvcm1YID0gLXRvdGFsRGVsdGFYO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5lZGdlID09PSAncmlnaHQnKSB7XG4gICAgICAgIHRyYW5zZm9ybVggPSAtdHJhbnNmb3JtWDtcbiAgICAgIH1cbiAgICAgIC8vIENhbGN1bGF0ZSBvcGVuL2Nsb3NlIHBlcmNlbnRhZ2Ugb2Ygc2lkZW5hdiwgd2l0aCBvcGVuID0gMSBhbmQgY2xvc2UgPSAwXG4gICAgICB0aGlzLnBlcmNlbnRPcGVuID0gTWF0aC5taW4oMSwgMSAtIHRvdGFsRGVsdGFYIC8gdGhpcy5fd2lkdGgpO1xuICAgICAgLy8gU2V0IHRyYW5zZm9ybSBhbmQgb3BhY2l0eSBzdHlsZXNcbiAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3RyYW5zZm9ybVh9cHgpYDtcbiAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUub3BhY2l0eSA9IHRoaXMucGVyY2VudE9wZW4udG9TdHJpbmcoKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlQ2xvc2VSZWxlYXNlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmlzT3BlbiAmJiB0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgaWYgKHRoaXMucGVyY2VudE9wZW4gPiAwLjgpIHtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZUluKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmlzRHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fdmVydGljYWxseVNjcm9sbGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEhhbmRsZXMgY2xvc2luZyBvZiBTaWRlbmF2IHdoZW4gZWxlbWVudCB3aXRoIGNsYXNzIC5zaWRlbmF2LWNsb3NlXG4gIF9oYW5kbGVDbG9zZVRyaWdnZXJDbGljayA9IChlKSA9PiB7XG4gICAgY29uc3QgY2xvc2VUcmlnZ2VyID0gZS50YXJnZXQuY2xvc2VzdCgnLnNpZGVuYXYtY2xvc2UnKTtcbiAgICBpZiAoY2xvc2VUcmlnZ2VyICYmICF0aGlzLl9pc0N1cnJlbnRseUZpeGVkKCkpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlV2luZG93UmVzaXplID0gKCkgPT4ge1xuICAgIC8vIE9ubHkgaGFuZGxlIGhvcml6b250YWwgcmVzaXplc1xuICAgIGlmICh0aGlzLmxhc3RXaW5kb3dXaWR0aCAhPT0gd2luZG93LmlubmVyV2lkdGgpIHtcbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IDk5Mikge1xuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5sYXN0V2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLmxhc3RXaW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cblxuICBfc2V0dXBDbGFzc2VzKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdyaWdodC1hbGlnbmVkJyk7XG4gICAgICB0aGlzLmRyYWdUYXJnZXQuY2xhc3NMaXN0LmFkZCgncmlnaHQtYWxpZ25lZCcpO1xuICAgIH1cbiAgfVxuXG4gIF9yZW1vdmVDbGFzc2VzKCkge1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgncmlnaHQtYWxpZ25lZCcpO1xuICAgIHRoaXMuZHJhZ1RhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdyaWdodC1hbGlnbmVkJyk7XG4gIH1cblxuICBfc2V0dXBGaXhlZCgpIHtcbiAgICBpZiAodGhpcy5faXNDdXJyZW50bHlGaXhlZCgpKSB0aGlzLm9wZW4oKTtcbiAgfVxuXG4gIF9pc0N1cnJlbnRseUZpeGVkKCkge1xuICAgIHJldHVybiB0aGlzLmlzRml4ZWQgJiYgd2luZG93LmlubmVyV2lkdGggPiA5OTI7XG4gIH1cblxuICBfY3JlYXRlRHJhZ1RhcmdldCgpIHtcbiAgICBjb25zdCBkcmFnVGFyZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZHJhZ1RhcmdldC5jbGFzc0xpc3QuYWRkKCdkcmFnLXRhcmdldCcpO1xuICAgIGRyYWdUYXJnZXQuc3R5bGUud2lkdGggPSB0aGlzLm9wdGlvbnMuZHJhZ1RhcmdldFdpZHRoO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZHJhZ1RhcmdldCk7XG4gICAgdGhpcy5kcmFnVGFyZ2V0ID0gZHJhZ1RhcmdldDtcbiAgfVxuXG4gIF9wcmV2ZW50Qm9keVNjcm9sbGluZygpIHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gIH1cblxuICBfZW5hYmxlQm9keVNjcm9sbGluZygpIHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gIH1cblxuICAvKipcbiAgICogT3BlbnMgU2lkZW5hdi5cbiAgICovXG4gIG9wZW4gPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuaXNPcGVuID09PSB0cnVlKSByZXR1cm47XG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgIC8vIFJ1biBvbk9wZW5TdGFydCBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlblN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICB9XG4gICAgLy8gSGFuZGxlIGZpeGVkIFNpZGVuYXZcbiAgICBpZiAodGhpcy5faXNDdXJyZW50bHlGaXhlZCgpKSB7XG4gICAgICBhbmltLnJlbW92ZSh0aGlzLmVsKTtcbiAgICAgIGFuaW0oe1xuICAgICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgICB0cmFuc2xhdGVYOiAwLFxuICAgICAgICBkdXJhdGlvbjogMCxcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2VuYWJsZUJvZHlTY3JvbGxpbmcoKTtcbiAgICAgIHRoaXMuX292ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgLy8gSGFuZGxlIG5vbi1maXhlZCBTaWRlbmF2XG4gICAgZWxzZSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnByZXZlbnRTY3JvbGxpbmcpIHtcbiAgICAgICAgdGhpcy5fcHJldmVudEJvZHlTY3JvbGxpbmcoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dlZCB8fCB0aGlzLnBlcmNlbnRPcGVuICE9IDEpIHtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZUluKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlcyBTaWRlbmF2LlxuICAgKi9cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuaXNPcGVuID09PSBmYWxzZSkgcmV0dXJuO1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgLy8gUnVuIG9uQ2xvc2VTdGFydCBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VTdGFydC5jYWxsKHRoaXMsIHRoaXMuZWwpO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgZml4ZWQgU2lkZW5hdlxuICAgIGlmICh0aGlzLl9pc0N1cnJlbnRseUZpeGVkKCkpIHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybVggPSB0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ2xlZnQnID8gJy0xMDUlJyA6ICcxMDUlJztcbiAgICAgICh0aGlzLmVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3RyYW5zZm9ybVh9KWA7XG4gICAgfVxuICAgIC8vIEhhbmRsZSBub24tZml4ZWQgU2lkZW5hdlxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fZW5hYmxlQm9keVNjcm9sbGluZygpO1xuICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dlZCB8fCB0aGlzLnBlcmNlbnRPcGVuICE9IDApIHtcbiAgICAgICAgdGhpcy5fYW5pbWF0ZU91dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9hbmltYXRlSW4oKSB7XG4gICAgdGhpcy5fYW5pbWF0ZVNpZGVuYXZJbigpO1xuICAgIHRoaXMuX2FuaW1hdGVPdmVybGF5SW4oKTtcbiAgfVxuXG4gIF9hbmltYXRlU2lkZW5hdkluKCkge1xuICAgIGxldCBzbGlkZU91dFBlcmNlbnQgPSB0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ2xlZnQnID8gLTEgOiAxO1xuICAgIGlmICh0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgc2xpZGVPdXRQZXJjZW50ID1cbiAgICAgICAgdGhpcy5vcHRpb25zLmVkZ2UgPT09ICdsZWZ0J1xuICAgICAgICAgID8gc2xpZGVPdXRQZXJjZW50ICsgdGhpcy5wZXJjZW50T3BlblxuICAgICAgICAgIDogc2xpZGVPdXRQZXJjZW50IC0gdGhpcy5wZXJjZW50T3BlbjtcbiAgICB9XG4gICAgYW5pbS5yZW1vdmUodGhpcy5lbCk7XG4gICAgYW5pbSh7XG4gICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgdHJhbnNsYXRlWDogW2Ake3NsaWRlT3V0UGVyY2VudCAqIDEwMH0lYCwgMF0sXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAvLyBSdW4gb25PcGVuRW5kIGNhbGxiYWNrXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uT3BlbkVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5vbk9wZW5FbmQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2FuaW1hdGVPdmVybGF5SW4oKSB7XG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICBpZiAodGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgIHN0YXJ0ID0gdGhpcy5wZXJjZW50T3BlbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9vdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH1cbiAgICBhbmltLnJlbW92ZSh0aGlzLl9vdmVybGF5KTtcbiAgICBhbmltKHtcbiAgICAgIHRhcmdldHM6IHRoaXMuX292ZXJsYXksXG4gICAgICBvcGFjaXR5OiBbc3RhcnQsIDFdLFxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgfSk7XG4gIH1cblxuICBfYW5pbWF0ZU91dCgpIHtcbiAgICB0aGlzLl9hbmltYXRlU2lkZW5hdk91dCgpO1xuICAgIHRoaXMuX2FuaW1hdGVPdmVybGF5T3V0KCk7XG4gIH1cblxuICBfYW5pbWF0ZVNpZGVuYXZPdXQoKSB7XG4gICAgY29uc3QgZW5kUGVyY2VudCA9IHRoaXMub3B0aW9ucy5lZGdlID09PSAnbGVmdCcgPyAtMSA6IDE7XG4gICAgbGV0IHNsaWRlT3V0UGVyY2VudCA9IDA7XG4gICAgaWYgKHRoaXMuaXNEcmFnZ2VkKSB7XG4gICAgICBzbGlkZU91dFBlcmNlbnQgPVxuICAgICAgICB0aGlzLm9wdGlvbnMuZWRnZSA9PT0gJ2xlZnQnXG4gICAgICAgICAgPyBlbmRQZXJjZW50ICsgdGhpcy5wZXJjZW50T3BlblxuICAgICAgICAgIDogZW5kUGVyY2VudCAtIHRoaXMucGVyY2VudE9wZW47XG4gICAgfVxuXG4gICAgYW5pbS5yZW1vdmUodGhpcy5lbCk7XG4gICAgYW5pbSh7XG4gICAgICB0YXJnZXRzOiB0aGlzLmVsLFxuICAgICAgdHJhbnNsYXRlWDogW2Ake3NsaWRlT3V0UGVyY2VudCAqIDEwMH0lYCwgYCR7ZW5kUGVyY2VudCAqIDEwNX0lYF0sXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgLy8gUnVuIG9uT3BlbkVuZCBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vbkNsb3NlRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQuY2FsbCh0aGlzLCB0aGlzLmVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2FuaW1hdGVPdmVybGF5T3V0KCkge1xuICAgIGFuaW0ucmVtb3ZlKHRoaXMuX292ZXJsYXkpO1xuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogdGhpcy5fb3ZlcmxheSxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5fb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljICB7XG4gICAgU2lkZW5hdi5fc2lkZW5hdnMgPSBbXTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/sidenav.ts\n");

/***/ }),

/***/ "./src/slider.ts":
/*!***********************!*\
  !*** ./src/slider.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Slider = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {\n    indicators: true,\n    height: 400,\n    duration: 500,\n    interval: 6000,\n    pauseOnFocus: true,\n    pauseOnHover: true,\n    indicatorLabelFunc: null // Function which will generate a label for the indicators (ARIA)\n};\nclass Slider extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Slider);\n        this._handleIndicatorClick = (e) => {\n            const el = e.target.parentElement;\n            const currIndex = [...el.parentNode.children].indexOf(el);\n            this._focusCurrent = true;\n            this.set(currIndex);\n        };\n        this._handleAutoPauseHover = () => {\n            this._hovered = true;\n            if (this.interval != null) {\n                this._pause(true);\n            }\n        };\n        this._handleAutoPauseFocus = () => {\n            this._focused = true;\n            if (this.interval != null) {\n                this._pause(true);\n            }\n        };\n        this._handleAutoStartHover = () => {\n            this._hovered = false;\n            if (!(this.options.pauseOnFocus && this._focused) && this.eventPause) {\n                this.start();\n            }\n        };\n        this._handleAutoStartFocus = () => {\n            this._focused = false;\n            if (!(this.options.pauseOnHover && this._hovered) && this.eventPause) {\n                this.start();\n            }\n        };\n        this._handleInterval = () => {\n            const activeElem = this._slider.querySelector('.active');\n            let newActiveIndex = [...activeElem.parentNode.children].indexOf(activeElem);\n            if (this._slides.length === newActiveIndex + 1)\n                newActiveIndex = 0; // loop to start\n            else\n                newActiveIndex += 1;\n            this.set(newActiveIndex);\n        };\n        /**\n         * Pause slider autoslide.\n         */\n        this.pause = () => {\n            this._pause(false);\n        };\n        /**\n         * Start slider autoslide.\n         */\n        this.start = () => {\n            clearInterval(this.interval);\n            this.interval = setInterval(this._handleInterval, this.options.duration + this.options.interval);\n            this.eventPause = false;\n        };\n        /**\n         * Move to next slider.\n         */\n        this.next = () => {\n            let newIndex = this.activeIndex + 1;\n            // Wrap around indices.\n            if (newIndex >= this._slides.length)\n                newIndex = 0;\n            else if (newIndex < 0)\n                newIndex = this._slides.length - 1;\n            this.set(newIndex);\n        };\n        /**\n         * Move to prev slider.\n         */\n        this.prev = () => {\n            let newIndex = this.activeIndex - 1;\n            // Wrap around indices.\n            if (newIndex >= this._slides.length)\n                newIndex = 0;\n            else if (newIndex < 0)\n                newIndex = this._slides.length - 1;\n            this.set(newIndex);\n        };\n        this.el.M_Slider = this;\n        this.options = Object.assign(Object.assign({}, Slider.defaults), options);\n        // init props\n        this.interval = null;\n        this.eventPause = false;\n        this._hovered = false;\n        this._focused = false;\n        this._focusCurrent = false;\n        // setup\n        this._slider = this.el.querySelector('.slides');\n        this._slides = Array.from(this._slider.querySelectorAll('li'));\n        this.activeIndex = this._slides.findIndex(li => li.classList.contains('active'));\n        if (this.activeIndex !== -1) {\n            this._activeSlide = this._slides[this.activeIndex];\n        }\n        this._setSliderHeight();\n        // Sets element id if it does not have one\n        if (this._slider.hasAttribute('id'))\n            this._sliderId = this._slider.getAttribute('id');\n        else {\n            this._sliderId = 'slider-' + utils_1.Utils.guid();\n            this._slider.setAttribute('id', this._sliderId);\n        }\n        const placeholderBase64 = 'data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n        // Set initial positions of captions\n        this._slides.forEach(slide => {\n            // Caption\n            //const caption = <HTMLElement|null>slide.querySelector('.caption');\n            //if (caption) this._animateCaptionIn(caption, 0);\n            // Set Images as Background Images\n            const img = slide.querySelector('img');\n            if (img) {\n                if (img.src !== placeholderBase64) {\n                    img.style.backgroundImage = 'url(' + img.src + ')';\n                    img.src = placeholderBase64;\n                }\n            }\n            // Sets slide as focusable by code\n            if (!slide.hasAttribute('tabindex'))\n                slide.setAttribute('tabindex', '-1');\n            // Removes initial visibility from \"inactive\" slides\n            slide.style.visibility = 'hidden';\n        });\n        this._setupIndicators();\n        // Show active slide\n        if (this._activeSlide) {\n            this._activeSlide.style.display = 'block';\n            this._activeSlide.style.visibility = 'visible';\n        }\n        else {\n            this.activeIndex = 0;\n            this._slides[0].classList.add('active');\n            this._slides[0].style.visibility = 'visible';\n            this._activeSlide = this._slides[0];\n            this._animateSlide(this._slides[0], true);\n            /*anim({\n              targets: this._slides[0],\n              opacity: 1,\n              duration: this.options.duration,\n              easing: 'easeOutQuad'\n            });\n            */\n            // Update indicators\n            if (this.options.indicators) {\n                this._indicators[this.activeIndex].children[0].classList.add('active');\n            }\n        }\n        // Adjust height to current slide\n        // TODO: ??? Code does not do what it says in comment\n        /*\n        this._activeSlide.querySelectorAll('img').forEach(el => {\n          anim({\n            targets: this._activeSlide.querySelector('.caption'),\n            opacity: 1,\n            translateX: 0,\n            translateY: 0,\n            duration: this.options.duration,\n            easing: 'easeOutQuad'\n          });\n        });\n        */\n        this._setupEventHandlers();\n        // auto scroll\n        this.start();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Slider.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Slider);\n    }\n    static getInstance(el) {\n        return el.M_Slider;\n    }\n    destroy() {\n        this.pause();\n        this._removeIndicators();\n        this._removeEventHandlers();\n        this.el.M_Slider = undefined;\n    }\n    _setupEventHandlers() {\n        if (this.options.pauseOnFocus) {\n            this.el.addEventListener('focusin', this._handleAutoPauseFocus);\n            this.el.addEventListener('focusout', this._handleAutoStartFocus);\n        }\n        if (this.options.pauseOnHover) {\n            this.el.addEventListener('mouseenter', this._handleAutoPauseHover);\n            this.el.addEventListener('mouseleave', this._handleAutoStartHover);\n        }\n        if (this.options.indicators) {\n            this._indicators.forEach((el) => {\n                el.addEventListener('click', this._handleIndicatorClick);\n            });\n        }\n    }\n    _removeEventHandlers() {\n        if (this.options.pauseOnFocus) {\n            this.el.removeEventListener('focusin', this._handleAutoPauseFocus);\n            this.el.removeEventListener('focusout', this._handleAutoStartFocus);\n        }\n        if (this.options.pauseOnHover) {\n            this.el.removeEventListener('mouseenter', this._handleAutoPauseHover);\n            this.el.removeEventListener('mouseleave', this._handleAutoStartHover);\n        }\n        if (this.options.indicators) {\n            this._indicators.forEach((el) => {\n                el.removeEventListener('click', this._handleIndicatorClick);\n            });\n        }\n    }\n    _animateSlide(slide, isDirectionIn) {\n        let dx = 0, dy = 0;\n        (0, animejs_1.default)({\n            targets: slide,\n            opacity: isDirectionIn ? [0, 1] : [1, 0],\n            duration: this.options.duration,\n            easing: 'easeOutQuad'\n        });\n        const caption = slide.querySelector('.caption');\n        if (!caption)\n            return;\n        if (caption.classList.contains('center-align'))\n            dy = -100;\n        else if (caption.classList.contains('right-align'))\n            dx = 100;\n        else if (caption.classList.contains('left-align'))\n            dx = -100;\n        (0, animejs_1.default)({\n            targets: caption,\n            opacity: isDirectionIn ? [0, 1] : [1, 0],\n            translateX: isDirectionIn ? [dx, 0] : [0, dx],\n            translateY: isDirectionIn ? [dy, 0] : [0, dy],\n            duration: this.options.duration,\n            delay: this.options.duration,\n            easing: 'easeOutQuad'\n        });\n    }\n    _setSliderHeight() {\n        // If fullscreen, do nothing\n        if (!this.el.classList.contains('fullscreen')) {\n            if (this.options.indicators) {\n                // Add height if indicators are present\n                this.el.style.height = (this.options.height + 40) + 'px'; //.css('height', this.options.height + 40 + 'px');\n            }\n            else {\n                this.el.style.height = this.options.height + 'px';\n            }\n            this._slider.style.height = this.options.height + 'px';\n        }\n    }\n    _setupIndicators() {\n        if (this.options.indicators) {\n            const ul = document.createElement('ul');\n            ul.classList.add('indicators');\n            const arrLi = [];\n            this._slides.forEach((el, i) => {\n                const label = this.options.indicatorLabelFunc\n                    ? this.options.indicatorLabelFunc.call(this, i + 1, i === 0)\n                    : `${i + 1}`;\n                const li = document.createElement('li');\n                li.classList.add('indicator-item');\n                li.innerHTML = `<button type=\"button\" class=\"indicator-item-btn\" aria-label=\"${label}\" aria-controls=\"${this._sliderId}\"></button>`;\n                arrLi.push(li);\n                ul.append(li);\n            });\n            this.el.append(ul);\n            this._indicators = arrLi;\n        }\n    }\n    _removeIndicators() {\n        this.el.querySelector('ul.indicators').remove(); //find('ul.indicators').remove();\n    }\n    set(index) {\n        // Wrap around indices.\n        if (index >= this._slides.length)\n            index = 0;\n        else if (index < 0)\n            index = this._slides.length - 1;\n        // Only do if index changes\n        if (this.activeIndex === index)\n            return;\n        this._activeSlide = this._slides[this.activeIndex];\n        const _caption = this._activeSlide.querySelector('.caption');\n        this._activeSlide.classList.remove('active');\n        // Enables every slide\n        this._slides.forEach(slide => slide.style.visibility = 'visible');\n        //--- Hide active Slide + Caption\n        // TODO: What does this do?\n        (0, animejs_1.default)({\n            targets: this._activeSlide,\n            opacity: 0,\n            duration: this.options.duration,\n            easing: 'easeOutQuad',\n            complete: () => {\n                this._slides.forEach(el => {\n                    if (el.classList.contains('active'))\n                        return;\n                    (0, animejs_1.default)({\n                        targets: el,\n                        opacity: 0,\n                        translateX: 0,\n                        translateY: 0,\n                        duration: 0,\n                        easing: 'easeOutQuad'\n                    });\n                    // Disables invisible slides (for assistive technologies)\n                    el.style.visibility = 'hidden';\n                });\n            }\n        });\n        // Hide active Caption\n        //this._animateCaptionIn(_caption, this.options.duration);\n        _caption.style.opacity = '0';\n        // Update indicators\n        if (this.options.indicators) {\n            const activeIndicator = this._indicators[this.activeIndex].children[0];\n            const nextIndicator = this._indicators[index].children[0];\n            activeIndicator.classList.remove('active');\n            nextIndicator.classList.add('active');\n            if (typeof this.options.indicatorLabelFunc === \"function\") {\n                activeIndicator.ariaLabel = this.options.indicatorLabelFunc.call(this, this.activeIndex, false);\n                nextIndicator.ariaLabel = this.options.indicatorLabelFunc.call(this, index, true);\n            }\n        }\n        //--- Show new Slide + Caption\n        this._animateSlide(this._slides[index], true);\n        this._slides[index].classList.add('active');\n        // TODO: Why focus? => causes uncontrollable page scroll\n        /*\n        if (this._focusCurrent) {\n          this._slides[index].focus();\n          this._focusCurrent = false;\n        }\n        */\n        this.activeIndex = index;\n        // Reset interval, if allowed. This check prevents autostart\n        // when slider is paused, since it can be changed though indicators.\n        if (this.interval != null) {\n            this.start();\n        }\n    }\n    _pause(fromEvent) {\n        clearInterval(this.interval);\n        this.eventPause = fromEvent;\n        this.interval = null;\n    }\n}\nexports.Slider = Slider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdEMsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsa0JBQWtCLEtBQUssVUFBVSxFQUFDO2dCQUN4RCxlQUFlLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNoRyxhQUFhLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7YUFDbkY7U0FDRjtRQUVELDhCQUE4QjtRQUM5QixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFOUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRTVDLHdEQUF3RDtRQUN4RDs7Ozs7VUFLRTtRQUVGLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBRXpCLDREQUE0RDtRQUM1RCxvRUFBb0U7UUFDcEUsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksRUFBRTtZQUN6QixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDZDtJQUNILENBQUM7SUFFRCxNQUFNLENBQUMsU0FBa0I7UUFDdkIsYUFBYSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM3QixJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUM1QixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztJQUN2QixDQUFDO0NBMENGO0FBamFELHdCQWlhQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy9zbGlkZXIudHM/Y2FjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2xpZGVyT3B0aW9ucyBleHRlbmRzIEJhc2VPcHRpb25zIHtcbiAgLyoqXG4gICAqIFNldCB0byBmYWxzZSB0byBoaWRlIHNsaWRlIGluZGljYXRvcnMuXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGluZGljYXRvcnM6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBTZXQgaGVpZ2h0IG9mIHNsaWRlci5cbiAgICogQGRlZmF1bHQgNDAwXG4gICAqL1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgLyoqXG4gICAqIFNldCB0aGUgZHVyYXRpb24gb2YgdGhlIHRyYW5zaXRpb24gYW5pbWF0aW9uIGluIG1zLlxuICAgKiBAZGVmYXVsdCA1MDBcbiAgICovXG4gIGR1cmF0aW9uOiBudW1iZXI7XG4gIC8qKlxuICAgKiBTZXQgdGhlIGR1cmF0aW9uIGJldHdlZW4gdHJhbnNpdGlvbnMgaW4gbXMuXG4gICAqIEBkZWZhdWx0IDYwMDBcbiAgICovXG4gIGludGVydmFsOiBudW1iZXI7XG4gIC8qKlxuICAgKiBJZiBzbGlkZXIgc2hvdWxkIHBhdXNlIHdoZW4ga2V5Ym9hcmQgZm9jdXMgaXMgcmVjZWl2ZWQuXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIHBhdXNlT25Gb2N1czogYm9vbGVhbjtcbiAgLyoqXG4gICAqIElmIHNsaWRlciBzaG91bGQgcGF1c2Ugd2hlbiBpcyBob3ZlcmVkIGJ5IGEgcG9pbnRlci5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgcGF1c2VPbkhvdmVyOiBib29sZWFuO1xuICAvKipcbiAgICogT3B0aW9uYWwgZnVuY3Rpb24gdXNlZCB0byBnZW5lcmF0ZSBBUklBIGxhYmVsIHRvIGluZGljYXRvcnMgKGZvciBhY2Nlc3NpYmlsaXR5IHB1cnBvc2VzKS5cbiAgICogQHBhcmFtIGluZGV4IEN1cnJlbnQgaW5kZXgsIHN0YXJ0aW5nIGZyb20gXCIxXCIuXG4gICAqIEBwYXJhbSBjdXJyZW50IEEgd2hpY2ggaW5kaWNhdGVzIHdoZXRoZXIgaXQgaXMgdGhlIGN1cnJlbnQgZWxlbWVudCBvciBub3RcbiAgICogQHJldHVybnMgYSBzdHJpbmcgdG8gYmUgdXNlZCBhcyBsYWJlbCBpbmRpY2F0b3IuXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIGluZGljYXRvckxhYmVsRnVuYzogKGluZGV4OiBudW1iZXIsIGN1cnJlbnQ6IGJvb2xlYW4pID0+IHN0cmluZ1xufVxuXG5sZXQgX2RlZmF1bHRzOiBTbGlkZXJPcHRpb25zID0ge1xuICBpbmRpY2F0b3JzOiB0cnVlLFxuICBoZWlnaHQ6IDQwMCxcbiAgZHVyYXRpb246IDUwMCxcbiAgaW50ZXJ2YWw6IDYwMDAsXG4gIHBhdXNlT25Gb2N1czogdHJ1ZSxcbiAgcGF1c2VPbkhvdmVyOiB0cnVlLFxuICBpbmRpY2F0b3JMYWJlbEZ1bmM6IG51bGwgLy8gRnVuY3Rpb24gd2hpY2ggd2lsbCBnZW5lcmF0ZSBhIGxhYmVsIGZvciB0aGUgaW5kaWNhdG9ycyAoQVJJQSlcbn07XG5cbmV4cG9ydCBjbGFzcyBTbGlkZXIgZXh0ZW5kcyBDb21wb25lbnQ8U2xpZGVyT3B0aW9ucz4ge1xuICAvKiogSW5kZXggb2YgY3VycmVudCBzbGlkZS4gKi9cbiAgYWN0aXZlSW5kZXg6IG51bWJlcjtcbiAgaW50ZXJ2YWw6IHN0cmluZyB8IG51bWJlciB8IE5vZGVKUy5UaW1lb3V0O1xuICBldmVudFBhdXNlOiBhbnk7XG4gIF9zbGlkZXI6IEhUTUxVTGlzdEVsZW1lbnQ7XG4gIF9zbGlkZXM6IEhUTUxMSUVsZW1lbnRbXTtcbiAgX2FjdGl2ZVNsaWRlOiBIVE1MTElFbGVtZW50O1xuICBfaW5kaWNhdG9yczogSFRNTExJRWxlbWVudFtdO1xuICBfaG92ZXJlZDogYm9vbGVhbjtcbiAgX2ZvY3VzZWQ6IGJvb2xlYW47XG4gIF9mb2N1c0N1cnJlbnQ6IGJvb2xlYW47XG4gIF9zbGlkZXJJZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGVsOiBIVE1MRWxlbWVudCwgb3B0aW9uczogUGFydGlhbDxTbGlkZXJPcHRpb25zPikge1xuICAgIHN1cGVyKGVsLCBvcHRpb25zLCBTbGlkZXIpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9TbGlkZXIgPSB0aGlzO1xuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4uU2xpZGVyLmRlZmF1bHRzLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG5cbiAgICAvLyBpbml0IHByb3BzXG4gICAgdGhpcy5pbnRlcnZhbCA9IG51bGw7XG4gICAgdGhpcy5ldmVudFBhdXNlID0gZmFsc2U7XG4gICAgdGhpcy5faG92ZXJlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2ZvY3VzZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9mb2N1c0N1cnJlbnQgPSBmYWxzZTtcblxuICAgIC8vIHNldHVwXG4gICAgdGhpcy5fc2xpZGVyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVzJyk7XG4gICAgdGhpcy5fc2xpZGVzID0gQXJyYXkuZnJvbSh0aGlzLl9zbGlkZXIucXVlcnlTZWxlY3RvckFsbCgnbGknKSk7XG4gICAgdGhpcy5hY3RpdmVJbmRleCA9IHRoaXMuX3NsaWRlcy5maW5kSW5kZXgobGkgPT4gbGkuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSk7XG5cbiAgICBpZiAodGhpcy5hY3RpdmVJbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZVNsaWRlID0gdGhpcy5fc2xpZGVzW3RoaXMuYWN0aXZlSW5kZXhdO1xuICAgIH1cblxuICAgIHRoaXMuX3NldFNsaWRlckhlaWdodCgpO1xuXG4gICAgLy8gU2V0cyBlbGVtZW50IGlkIGlmIGl0IGRvZXMgbm90IGhhdmUgb25lXG4gICAgaWYgKHRoaXMuX3NsaWRlci5oYXNBdHRyaWJ1dGUoJ2lkJykpXG4gICAgICB0aGlzLl9zbGlkZXJJZCA9IHRoaXMuX3NsaWRlci5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9zbGlkZXJJZCA9ICdzbGlkZXItJyArIFV0aWxzLmd1aWQoKTtcbiAgICAgIHRoaXMuX3NsaWRlci5zZXRBdHRyaWJ1dGUoJ2lkJywgdGhpcy5fc2xpZGVySWQpO1xuICAgIH1cblxuICAgIGNvbnN0IHBsYWNlaG9sZGVyQmFzZTY0ID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFCQVAvLy93QUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT0nO1xuICAgIC8vIFNldCBpbml0aWFsIHBvc2l0aW9ucyBvZiBjYXB0aW9uc1xuICAgIHRoaXMuX3NsaWRlcy5mb3JFYWNoKHNsaWRlID0+IHtcbiAgICAgIC8vIENhcHRpb25cbiAgICAgIC8vY29uc3QgY2FwdGlvbiA9IDxIVE1MRWxlbWVudHxudWxsPnNsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXB0aW9uJyk7XG4gICAgICAvL2lmIChjYXB0aW9uKSB0aGlzLl9hbmltYXRlQ2FwdGlvbkluKGNhcHRpb24sIDApO1xuICAgICAgLy8gU2V0IEltYWdlcyBhcyBCYWNrZ3JvdW5kIEltYWdlc1xuICAgICAgY29uc3QgaW1nID0gc2xpZGUucXVlcnlTZWxlY3RvcignaW1nJyk7XG4gICAgICBpZiAoaW1nKSB7XG4gICAgICAgIGlmIChpbWcuc3JjICE9PSBwbGFjZWhvbGRlckJhc2U2NCkge1xuICAgICAgICAgIGltZy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcrIGltZy5zcmMgKycpJztcbiAgICAgICAgICBpbWcuc3JjID0gcGxhY2Vob2xkZXJCYXNlNjQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFNldHMgc2xpZGUgYXMgZm9jdXNhYmxlIGJ5IGNvZGVcbiAgICAgIGlmICghc2xpZGUuaGFzQXR0cmlidXRlKCd0YWJpbmRleCcpKVxuICAgICAgICBzbGlkZS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XG4gICAgICAvLyBSZW1vdmVzIGluaXRpYWwgdmlzaWJpbGl0eSBmcm9tIFwiaW5hY3RpdmVcIiBzbGlkZXNcbiAgICAgIHNsaWRlLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICB9KTtcblxuICAgIHRoaXMuX3NldHVwSW5kaWNhdG9ycygpO1xuXG4gICAgLy8gU2hvdyBhY3RpdmUgc2xpZGVcbiAgICBpZiAodGhpcy5fYWN0aXZlU2xpZGUpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZVNsaWRlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgdGhpcy5fYWN0aXZlU2xpZGUuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gMDtcbiAgICAgIHRoaXMuX3NsaWRlc1swXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMuX3NsaWRlc1swXS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgdGhpcy5fYWN0aXZlU2xpZGUgPSB0aGlzLl9zbGlkZXNbMF07XG4gICAgICB0aGlzLl9hbmltYXRlU2xpZGUodGhpcy5fc2xpZGVzWzBdLCB0cnVlKTtcbiAgICAgIC8qYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuX3NsaWRlc1swXSxcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICB9KTtcbiAgICAgICovXG4gICAgICAvLyBVcGRhdGUgaW5kaWNhdG9yc1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XG4gICAgICAgIHRoaXMuX2luZGljYXRvcnNbdGhpcy5hY3RpdmVJbmRleF0uY2hpbGRyZW5bMF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRqdXN0IGhlaWdodCB0byBjdXJyZW50IHNsaWRlXG4gICAgLy8gVE9ETzogPz8/IENvZGUgZG9lcyBub3QgZG8gd2hhdCBpdCBzYXlzIGluIGNvbW1lbnRcbiAgICAvKlxuICAgIHRoaXMuX2FjdGl2ZVNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpLmZvckVhY2goZWwgPT4ge1xuICAgICAgYW5pbSh7XG4gICAgICAgIHRhcmdldHM6IHRoaXMuX2FjdGl2ZVNsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXB0aW9uJyksXG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIHRyYW5zbGF0ZVg6IDAsXG4gICAgICAgIHRyYW5zbGF0ZVk6IDAsXG4gICAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgKi9cblxuICAgIHRoaXMuX3NldHVwRXZlbnRIYW5kbGVycygpO1xuICAgIC8vIGF1dG8gc2Nyb2xsXG4gICAgdGhpcy5zdGFydCgpO1xuICB9XG5cbiAgc3RhdGljIGdldCBkZWZhdWx0cygpIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlIG9mIFNsaWRlci5cbiAgICogQHBhcmFtIGVsIEhUTUwgZWxlbWVudC5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBQYXJ0aWFsPFNsaWRlck9wdGlvbnM+KTogU2xpZGVyO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFNsaWRlci5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8U2xpZGVyT3B0aW9ucz4pOiBTbGlkZXJbXTtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBTbGlkZXIuXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxFbGVtZW50IHwgSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxTbGlkZXJPcHRpb25zPiA9IHt9KTogU2xpZGVyIHwgU2xpZGVyW10ge1xuICAgIHJldHVybiBzdXBlci5pbml0KGVscywgb3B0aW9ucywgU2xpZGVyKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBTbGlkZXIge1xuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX1NsaWRlcjtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5wYXVzZSgpO1xuICAgIHRoaXMuX3JlbW92ZUluZGljYXRvcnMoKTtcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1NsaWRlciA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9zZXR1cEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5wYXVzZU9uRm9jdXMpIHtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRoaXMuX2hhbmRsZUF1dG9QYXVzZUZvY3VzKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0aGlzLl9oYW5kbGVBdXRvU3RhcnRGb2N1cyk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMucGF1c2VPbkhvdmVyKSB7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVBdXRvUGF1c2VIb3Zlcik7XG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVBdXRvU3RhcnRIb3Zlcik7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuaW5kaWNhdG9ycykge1xuICAgICAgdGhpcy5faW5kaWNhdG9ycy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUluZGljYXRvckNsaWNrKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMucGF1c2VPbkZvY3VzKSB7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCB0aGlzLl9oYW5kbGVBdXRvUGF1c2VGb2N1cyk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5faGFuZGxlQXV0b1N0YXJ0Rm9jdXMpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLnBhdXNlT25Ib3Zlcikge1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlQXV0b1BhdXNlSG92ZXIpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlQXV0b1N0YXJ0SG92ZXIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLmluZGljYXRvcnMpIHtcbiAgICAgIHRoaXMuX2luZGljYXRvcnMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVJbmRpY2F0b3JDbGljayk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlSW5kaWNhdG9yQ2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IGVsID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCkucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBjdXJySW5kZXggPSBbLi4uZWwucGFyZW50Tm9kZS5jaGlsZHJlbl0uaW5kZXhPZihlbCk7XG4gICAgdGhpcy5fZm9jdXNDdXJyZW50ID0gdHJ1ZTtcbiAgICB0aGlzLnNldChjdXJySW5kZXgpO1xuICB9XG5cbiAgX2hhbmRsZUF1dG9QYXVzZUhvdmVyID0gKCkgPT4ge1xuICAgIHRoaXMuX2hvdmVyZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLmludGVydmFsICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3BhdXNlKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVBdXRvUGF1c2VGb2N1cyA9ICgpID0+IHtcbiAgICB0aGlzLl9mb2N1c2VkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5pbnRlcnZhbCAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9wYXVzZSh0cnVlKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlQXV0b1N0YXJ0SG92ZXIgPSAoKSA9PiB7XG4gICAgdGhpcy5faG92ZXJlZCA9IGZhbHNlO1xuICAgIGlmICghKHRoaXMub3B0aW9ucy5wYXVzZU9uRm9jdXMgJiYgdGhpcy5fZm9jdXNlZCkgJiYgdGhpcy5ldmVudFBhdXNlKSB7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUF1dG9TdGFydEZvY3VzID0gKCkgPT4ge1xuICAgIHRoaXMuX2ZvY3VzZWQgPSBmYWxzZTtcbiAgICBpZiAoISh0aGlzLm9wdGlvbnMucGF1c2VPbkhvdmVyICYmIHRoaXMuX2hvdmVyZWQpICYmIHRoaXMuZXZlbnRQYXVzZSkge1xuICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVJbnRlcnZhbCA9ICgpID0+IHtcbiAgICBjb25zdCBhY3RpdmVFbGVtID0gdGhpcy5fc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKTtcbiAgICBsZXQgbmV3QWN0aXZlSW5kZXggPSBbLi4uYWN0aXZlRWxlbS5wYXJlbnROb2RlLmNoaWxkcmVuXS5pbmRleE9mKGFjdGl2ZUVsZW0pO1xuICAgIGlmICh0aGlzLl9zbGlkZXMubGVuZ3RoID09PSBuZXdBY3RpdmVJbmRleCArIDEpXG4gICAgICBuZXdBY3RpdmVJbmRleCA9IDA7IC8vIGxvb3AgdG8gc3RhcnRcbiAgICBlbHNlXG4gICAgICBuZXdBY3RpdmVJbmRleCArPSAxO1xuICAgIHRoaXMuc2V0KG5ld0FjdGl2ZUluZGV4KTtcbiAgfVxuXG4gIF9hbmltYXRlU2xpZGUoc2xpZGU6IEhUTUxFbGVtZW50LCBpc0RpcmVjdGlvbkluOiBib29sZWFuKTogdm9pZCB7XG4gICAgbGV0IGR4ID0gMCwgZHkgPSAwO1xuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogc2xpZGUsXG4gICAgICBvcGFjaXR5OiBpc0RpcmVjdGlvbkluID8gWzAsIDFdIDogWzEsIDBdLFxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgIH0pO1xuXG4gICAgY29uc3QgY2FwdGlvbiA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXB0aW9uJyk7XG4gICAgaWYgKCFjYXB0aW9uKSByZXR1cm47XG4gICAgaWYgKGNhcHRpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdjZW50ZXItYWxpZ24nKSkgZHkgPSAtMTAwO1xuICAgIGVsc2UgaWYgKGNhcHRpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdyaWdodC1hbGlnbicpKSBkeCA9IDEwMDtcbiAgICBlbHNlIGlmIChjYXB0aW9uLmNsYXNzTGlzdC5jb250YWlucygnbGVmdC1hbGlnbicpKSBkeCA9IC0xMDA7XG4gICAgYW5pbSh7XG4gICAgICB0YXJnZXRzOiBjYXB0aW9uLFxuICAgICAgb3BhY2l0eTogaXNEaXJlY3Rpb25JbiA/IFswLCAxXSA6IFsxLCAwXSxcbiAgICAgIHRyYW5zbGF0ZVg6IGlzRGlyZWN0aW9uSW4gPyBbZHgsIDBdIDogWzAsIGR4XSxcbiAgICAgIHRyYW5zbGF0ZVk6IGlzRGlyZWN0aW9uSW4gPyBbZHksIDBdIDogWzAsIGR5XSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICBkZWxheTogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgfSk7XG4gIH1cblxuICBfc2V0U2xpZGVySGVpZ2h0KCkge1xuICAgIC8vIElmIGZ1bGxzY3JlZW4sIGRvIG5vdGhpbmdcbiAgICBpZiAoIXRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdmdWxsc2NyZWVuJykpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5kaWNhdG9ycykge1xuICAgICAgICAvLyBBZGQgaGVpZ2h0IGlmIGluZGljYXRvcnMgYXJlIHByZXNlbnRcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSAodGhpcy5vcHRpb25zLmhlaWdodCArIDQwKSsncHgnOyAvLy5jc3MoJ2hlaWdodCcsIHRoaXMub3B0aW9ucy5oZWlnaHQgKyA0MCArICdweCcpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUuaGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhlaWdodCsncHgnO1xuICAgICAgfVxuICAgICAgdGhpcy5fc2xpZGVyLnN0eWxlLmhlaWdodCA9IHRoaXMub3B0aW9ucy5oZWlnaHQrJ3B4JztcbiAgICB9XG4gIH1cblxuICBfc2V0dXBJbmRpY2F0b3JzKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuaW5kaWNhdG9ycykge1xuICAgICAgY29uc3QgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgdWwuY2xhc3NMaXN0LmFkZCgnaW5kaWNhdG9ycycpO1xuXG4gICAgICBjb25zdCBhcnJMaSA9IFtdO1xuICAgICAgdGhpcy5fc2xpZGVzLmZvckVhY2goKGVsLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5vcHRpb25zLmluZGljYXRvckxhYmVsRnVuY1xuICAgICAgICAgID8gdGhpcy5vcHRpb25zLmluZGljYXRvckxhYmVsRnVuYy5jYWxsKHRoaXMsIGkgKyAxLCBpID09PSAwKVxuICAgICAgICAgIDogYCR7aSArIDF9YDtcbiAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKCdpbmRpY2F0b3ItaXRlbScpO1xuICAgICAgICBsaS5pbm5lckhUTUwgPSBgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJpbmRpY2F0b3ItaXRlbS1idG5cIiBhcmlhLWxhYmVsPVwiJHtsYWJlbH1cIiBhcmlhLWNvbnRyb2xzPVwiJHt0aGlzLl9zbGlkZXJJZH1cIj48L2J1dHRvbj5gO1xuICAgICAgICBhcnJMaS5wdXNoKGxpKTtcbiAgICAgICAgdWwuYXBwZW5kKGxpKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmVsLmFwcGVuZCh1bCk7XG4gICAgICB0aGlzLl9pbmRpY2F0b3JzID0gYXJyTGk7XG4gICAgfVxuICB9XG5cbiAgX3JlbW92ZUluZGljYXRvcnMoKSB7XG4gICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCd1bC5pbmRpY2F0b3JzJykucmVtb3ZlKCk7IC8vZmluZCgndWwuaW5kaWNhdG9ycycpLnJlbW92ZSgpO1xuICB9XG5cbiAgc2V0KGluZGV4OiBudW1iZXIpIHtcbiAgICAvLyBXcmFwIGFyb3VuZCBpbmRpY2VzLlxuICAgIGlmIChpbmRleCA+PSB0aGlzLl9zbGlkZXMubGVuZ3RoKSBpbmRleCA9IDA7XG4gICAgZWxzZSBpZiAoaW5kZXggPCAwKSBpbmRleCA9IHRoaXMuX3NsaWRlcy5sZW5ndGggLSAxO1xuXG4gICAgLy8gT25seSBkbyBpZiBpbmRleCBjaGFuZ2VzXG4gICAgaWYgKHRoaXMuYWN0aXZlSW5kZXggPT09IGluZGV4KSByZXR1cm47XG5cbiAgICB0aGlzLl9hY3RpdmVTbGlkZSA9IHRoaXMuX3NsaWRlc1t0aGlzLmFjdGl2ZUluZGV4XTtcbiAgICBjb25zdCBfY2FwdGlvbiA9IDxIVE1MRWxlbWVudHxudWxsPnRoaXMuX2FjdGl2ZVNsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXB0aW9uJyk7XG5cbiAgICB0aGlzLl9hY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAvLyBFbmFibGVzIGV2ZXJ5IHNsaWRlXG4gICAgdGhpcy5fc2xpZGVzLmZvckVhY2goc2xpZGUgPT4gc2xpZGUuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJyk7XG5cbiAgICAvLy0tLSBIaWRlIGFjdGl2ZSBTbGlkZSArIENhcHRpb25cbiAgICAvLyBUT0RPOiBXaGF0IGRvZXMgdGhpcyBkbz9cbiAgICBhbmltKHtcbiAgICAgIHRhcmdldHM6IHRoaXMuX2FjdGl2ZVNsaWRlLFxuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm9wdGlvbnMuZHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICB0aGlzLl9zbGlkZXMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHJldHVybjtcbiAgICAgICAgICBhbmltKHtcbiAgICAgICAgICAgIHRhcmdldHM6IGVsLFxuICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVg6IDAsXG4gICAgICAgICAgICB0cmFuc2xhdGVZOiAwLFxuICAgICAgICAgICAgZHVyYXRpb246IDAsIC8vIEFuaW1hdGlvbiB3aXRoIGR1cmF0aW9uIDAuLi4gd2h5IHVzZSBhbmltIGF0IGFsbCB0aGVuP1xuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gRGlzYWJsZXMgaW52aXNpYmxlIHNsaWRlcyAoZm9yIGFzc2lzdGl2ZSB0ZWNobm9sb2dpZXMpXG4gICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEhpZGUgYWN0aXZlIENhcHRpb25cbiAgICAvL3RoaXMuX2FuaW1hdGVDYXB0aW9uSW4oX2NhcHRpb24sIHRoaXMub3B0aW9ucy5kdXJhdGlvbik7XG4gICAgX2NhcHRpb24uc3R5bGUub3BhY2l0eSA9ICcwJztcblxuICAgIC8vIFVwZGF0ZSBpbmRpY2F0b3JzXG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzKSB7XG4gICAgICBjb25zdCBhY3RpdmVJbmRpY2F0b3IgPSB0aGlzLl9pbmRpY2F0b3JzW3RoaXMuYWN0aXZlSW5kZXhdLmNoaWxkcmVuWzBdO1xuICAgICAgY29uc3QgbmV4dEluZGljYXRvciA9IHRoaXMuX2luZGljYXRvcnNbaW5kZXhdLmNoaWxkcmVuWzBdO1xuICAgICAgYWN0aXZlSW5kaWNhdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgbmV4dEluZGljYXRvci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmluZGljYXRvckxhYmVsRnVuYyA9PT0gXCJmdW5jdGlvblwiKXtcbiAgICAgICAgYWN0aXZlSW5kaWNhdG9yLmFyaWFMYWJlbCA9IHRoaXMub3B0aW9ucy5pbmRpY2F0b3JMYWJlbEZ1bmMuY2FsbCh0aGlzLCB0aGlzLmFjdGl2ZUluZGV4LCBmYWxzZSk7XG4gICAgICAgIG5leHRJbmRpY2F0b3IuYXJpYUxhYmVsID0gdGhpcy5vcHRpb25zLmluZGljYXRvckxhYmVsRnVuYy5jYWxsKHRoaXMsIGluZGV4LCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLy0tLSBTaG93IG5ldyBTbGlkZSArIENhcHRpb25cbiAgICB0aGlzLl9hbmltYXRlU2xpZGUodGhpcy5fc2xpZGVzW2luZGV4XSwgdHJ1ZSk7XG5cbiAgICB0aGlzLl9zbGlkZXNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXG4gICAgLy8gVE9ETzogV2h5IGZvY3VzPyA9PiBjYXVzZXMgdW5jb250cm9sbGFibGUgcGFnZSBzY3JvbGxcbiAgICAvKlxuICAgIGlmICh0aGlzLl9mb2N1c0N1cnJlbnQpIHtcbiAgICAgIHRoaXMuX3NsaWRlc1tpbmRleF0uZm9jdXMoKTtcbiAgICAgIHRoaXMuX2ZvY3VzQ3VycmVudCA9IGZhbHNlO1xuICAgIH1cbiAgICAqL1xuXG4gICAgdGhpcy5hY3RpdmVJbmRleCA9IGluZGV4O1xuXG4gICAgLy8gUmVzZXQgaW50ZXJ2YWwsIGlmIGFsbG93ZWQuIFRoaXMgY2hlY2sgcHJldmVudHMgYXV0b3N0YXJ0XG4gICAgLy8gd2hlbiBzbGlkZXIgaXMgcGF1c2VkLCBzaW5jZSBpdCBjYW4gYmUgY2hhbmdlZCB0aG91Z2ggaW5kaWNhdG9ycy5cbiAgICBpZiAodGhpcy5pbnRlcnZhbCAhPSBudWxsKSB7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgX3BhdXNlKGZyb21FdmVudDogYm9vbGVhbikge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgdGhpcy5ldmVudFBhdXNlID0gZnJvbUV2ZW50O1xuICAgIHRoaXMuaW50ZXJ2YWwgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhdXNlIHNsaWRlciBhdXRvc2xpZGUuXG4gICAqL1xuICBwYXVzZSA9ICgpID0+IHtcbiAgICB0aGlzLl9wYXVzZShmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgc2xpZGVyIGF1dG9zbGlkZS5cbiAgICovXG4gIHN0YXJ0ID0gKCkgPT4ge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKFxuICAgICAgdGhpcy5faGFuZGxlSW50ZXJ2YWwsXG4gICAgICB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKyB0aGlzLm9wdGlvbnMuaW50ZXJ2YWxcbiAgICApO1xuICAgIHRoaXMuZXZlbnRQYXVzZSA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdG8gbmV4dCBzbGlkZXIuXG4gICAqL1xuICBuZXh0ID0gKCkgPT4ge1xuICAgIGxldCBuZXdJbmRleCA9IHRoaXMuYWN0aXZlSW5kZXggKyAxO1xuICAgIC8vIFdyYXAgYXJvdW5kIGluZGljZXMuXG4gICAgaWYgKG5ld0luZGV4ID49IHRoaXMuX3NsaWRlcy5sZW5ndGgpIG5ld0luZGV4ID0gMDtcbiAgICBlbHNlIGlmIChuZXdJbmRleCA8IDApIG5ld0luZGV4ID0gdGhpcy5fc2xpZGVzLmxlbmd0aCAtIDE7XG4gICAgdGhpcy5zZXQobmV3SW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdG8gcHJldiBzbGlkZXIuXG4gICAqL1xuICBwcmV2ID0gKCkgPT4ge1xuICAgIGxldCBuZXdJbmRleCA9IHRoaXMuYWN0aXZlSW5kZXggLSAxO1xuICAgIC8vIFdyYXAgYXJvdW5kIGluZGljZXMuXG4gICAgaWYgKG5ld0luZGV4ID49IHRoaXMuX3NsaWRlcy5sZW5ndGgpIG5ld0luZGV4ID0gMDtcbiAgICBlbHNlIGlmIChuZXdJbmRleCA8IDApIG5ld0luZGV4ID0gdGhpcy5fc2xpZGVzLmxlbmd0aCAtIDE7XG4gICAgdGhpcy5zZXQobmV3SW5kZXgpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/slider.ts\n");

/***/ }),

/***/ "./src/tabs.ts":
/*!*********************!*\
  !*** ./src/tabs.ts ***!
  \*********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Tabs = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst carousel_1 = __webpack_require__(/*! ./carousel */ \"./src/carousel.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nlet _defaults = {\n    duration: 300,\n    onShow: null,\n    swipeable: false,\n    responsiveThreshold: Infinity // breakpoint for swipeable\n};\nclass Tabs extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Tabs);\n        this._handleWindowResize = () => {\n            this._setTabsAndTabWidth();\n            if (this._tabWidth !== 0 && this._tabsWidth !== 0) {\n                this._indicator.style.left = this._calcLeftPos(this._activeTabLink) + 'px';\n                this._indicator.style.right = this._calcRightPos(this._activeTabLink) + 'px';\n            }\n        };\n        this._handleTabClick = (e) => {\n            const tabLink = e.target;\n            const tab = tabLink.parentElement;\n            // Handle click on tab link only\n            if (!tabLink || !tab.classList.contains('tab'))\n                return;\n            // is disabled?\n            if (tab.classList.contains('disabled')) {\n                e.preventDefault();\n                return;\n            }\n            // Act as regular link if target attribute is specified.\n            if (tabLink.hasAttribute('target'))\n                return;\n            // Make the old tab inactive.\n            this._activeTabLink.classList.remove('active');\n            const _oldContent = this._content;\n            // Update the variables with the new link and content\n            this._activeTabLink = tabLink;\n            if (tabLink.hash)\n                this._content = document.querySelector(tabLink.hash);\n            this._tabLinks = this.el.querySelectorAll('li.tab > a');\n            // Make the tab active\n            this._activeTabLink.classList.add('active');\n            const prevIndex = this._index;\n            this._index = Math.max(Array.from(this._tabLinks).indexOf(tabLink), 0);\n            // Swap content\n            if (this.options.swipeable) {\n                if (this._tabsCarousel) {\n                    this._tabsCarousel.set(this._index, () => {\n                        if (typeof this.options.onShow === 'function')\n                            this.options.onShow.call(this, this._content);\n                    });\n                }\n            }\n            else {\n                if (this._content) {\n                    this._content.style.display = 'block';\n                    this._content.classList.add('active');\n                    if (typeof this.options.onShow === 'function')\n                        this.options.onShow.call(this, this._content);\n                    if (_oldContent && _oldContent !== this._content) {\n                        _oldContent.style.display = 'none';\n                        _oldContent.classList.remove('active');\n                    }\n                }\n            }\n            // Update widths after content is swapped (scrollbar bugfix)\n            this._setTabsAndTabWidth();\n            this._animateIndicator(prevIndex);\n            e.preventDefault();\n        };\n        this.el.M_Tabs = this;\n        this.options = Object.assign(Object.assign({}, Tabs.defaults), options);\n        this._tabLinks = this.el.querySelectorAll('li.tab > a');\n        this._index = 0;\n        this._setupActiveTabLink();\n        if (this.options.swipeable) {\n            this._setupSwipeableTabs();\n        }\n        else {\n            this._setupNormalTabs();\n        }\n        // Setup tabs indicator after content to ensure accurate widths\n        this._setTabsAndTabWidth();\n        this._createIndicator();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Tabs.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Tabs);\n    }\n    static getInstance(el) {\n        return el.M_Tabs;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this._indicator.parentNode.removeChild(this._indicator);\n        if (this.options.swipeable) {\n            this._teardownSwipeableTabs();\n        }\n        else {\n            this._teardownNormalTabs();\n        }\n        this.el.M_Tabs = undefined;\n    }\n    /**\n     * The index of tab that is currently shown.\n     */\n    get index() { return this._index; }\n    _setupEventHandlers() {\n        window.addEventListener('resize', this._handleWindowResize);\n        this.el.addEventListener('click', this._handleTabClick);\n    }\n    _removeEventHandlers() {\n        window.removeEventListener('resize', this._handleWindowResize);\n        this.el.removeEventListener('click', this._handleTabClick);\n    }\n    _createIndicator() {\n        const indicator = document.createElement('li');\n        indicator.classList.add('indicator');\n        this.el.appendChild(indicator);\n        this._indicator = indicator;\n        this._indicator.style.left = this._calcLeftPos(this._activeTabLink) + 'px';\n        this._indicator.style.right = this._calcRightPos(this._activeTabLink) + 'px';\n    }\n    _setupActiveTabLink() {\n        // If the location.hash matches one of the links, use that as the active tab.\n        this._activeTabLink = Array.from(this._tabLinks).find((a) => a.getAttribute('href') === location.hash);\n        // If no match is found, use the first link or any with class 'active' as the initial active tab.\n        if (!this._activeTabLink) {\n            this._activeTabLink = this.el.querySelector('li.tab a.active');\n        }\n        if (this._activeTabLink.length === 0) {\n            this._activeTabLink = this.el.querySelector('li.tab a');\n        }\n        Array.from(this._tabLinks).forEach((a) => a.classList.remove('active'));\n        this._activeTabLink.classList.add('active');\n        this._index = Math.max(Array.from(this._tabLinks).indexOf(this._activeTabLink), 0);\n        if (this._activeTabLink && this._activeTabLink.hash) {\n            this._content = document.querySelector(this._activeTabLink.hash);\n            this._content.classList.add('active');\n        }\n    }\n    _setupSwipeableTabs() {\n        // Change swipeable according to responsive threshold\n        if (window.innerWidth > this.options.responsiveThreshold)\n            this.options.swipeable = false;\n        const tabsContent = [];\n        this._tabLinks.forEach(a => {\n            if (a.hash) {\n                const currContent = document.querySelector(a.hash);\n                currContent.classList.add('carousel-item');\n                tabsContent.push(currContent);\n            }\n        });\n        // Create Carousel-Wrapper around Tab-Contents\n        const tabsWrapper = document.createElement('div');\n        tabsWrapper.classList.add('tabs-content', 'carousel', 'carousel-slider');\n        // Wrap around\n        tabsContent[0].parentElement.insertBefore(tabsWrapper, tabsContent[0]);\n        tabsContent.forEach(tabContent => {\n            tabsWrapper.appendChild(tabContent);\n            tabContent.style.display = '';\n        });\n        // Keep active tab index to set initial carousel slide\n        const tab = this._activeTabLink.parentElement;\n        const activeTabIndex = Array.from(tab.parentNode.children).indexOf(tab);\n        this._tabsCarousel = carousel_1.Carousel.init(tabsWrapper, {\n            fullWidth: true,\n            noWrap: true,\n            onCycleTo: (item) => {\n                const prevIndex = this._index;\n                this._index = Array.from(item.parentNode.children).indexOf(item);\n                this._activeTabLink.classList.remove('active');\n                this._activeTabLink = Array.from(this._tabLinks)[this._index];\n                this._activeTabLink.classList.add('active');\n                this._animateIndicator(prevIndex);\n                if (typeof this.options.onShow === 'function')\n                    this.options.onShow.call(this, this._content);\n            }\n        });\n        // Set initial carousel slide to active tab\n        this._tabsCarousel.set(activeTabIndex);\n    }\n    _teardownSwipeableTabs() {\n        const tabsWrapper = this._tabsCarousel.el;\n        this._tabsCarousel.destroy();\n        // Unwrap\n        tabsWrapper.after(tabsWrapper.children);\n        tabsWrapper.remove();\n    }\n    _setupNormalTabs() {\n        // Hide Tabs Content\n        Array.from(this._tabLinks).forEach((a) => {\n            if (a === this._activeTabLink)\n                return;\n            if (a.hash) {\n                const currContent = document.querySelector(a.hash);\n                if (currContent)\n                    currContent.style.display = 'none';\n            }\n        });\n    }\n    _teardownNormalTabs() {\n        // show Tabs Content\n        this._tabLinks.forEach((a) => {\n            if (a.hash) {\n                const currContent = document.querySelector(a.hash);\n                if (currContent)\n                    currContent.style.display = '';\n            }\n        });\n    }\n    _setTabsAndTabWidth() {\n        this._tabsWidth = this.el.getBoundingClientRect().width;\n        this._tabWidth = Math.max(this._tabsWidth, this.el.scrollWidth) / this._tabLinks.length;\n    }\n    _calcRightPos(el) {\n        return Math.ceil(this._tabsWidth - el.offsetLeft - el.getBoundingClientRect().width);\n    }\n    _calcLeftPos(el) {\n        return Math.floor(el.offsetLeft);\n    }\n    /**\n     * Recalculate tab indicator position. This is useful when\n     * the indicator position is not correct.\n     */\n    updateTabIndicator() {\n        this._setTabsAndTabWidth();\n        this._animateIndicator(this._index);\n    }\n    _animateIndicator(prevIndex) {\n        let leftDelay = 0, rightDelay = 0;\n        if (this._index - prevIndex >= 0)\n            leftDelay = 90;\n        else\n            rightDelay = 90;\n        const animOptions = {\n            targets: this._indicator,\n            left: {\n                value: this._calcLeftPos(this._activeTabLink),\n                delay: leftDelay\n            },\n            right: {\n                value: this._calcRightPos(this._activeTabLink),\n                delay: rightDelay\n            },\n            duration: this.options.duration,\n            easing: 'easeOutQuad'\n        };\n        animejs_1.default.remove(this._indicator);\n        (0, animejs_1.default)(animOptions);\n    }\n    /**\n     * Show tab content that corresponds to the tab with the id.\n     * @param tabId The id of the tab that you want to switch to.\n     */\n    select(tabId) {\n        const tab = Array.from(this._tabLinks).find((a) => a.getAttribute('href') === '#' + tabId);\n        if (tab)\n            tab.click();\n    }\n}\nexports.Tabs = Tabs;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM7Z0JBQzlDLEtBQUssRUFBRSxVQUFVO2FBQ2xCO1lBQ0QsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUTtZQUMvQixNQUFNLEVBQUUsYUFBYTtTQUN0QixDQUFDO1FBQ0YsaUJBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzdCLHFCQUFJLEVBQUMsV0FBVyxDQUFDLENBQUM7SUFDcEIsQ0FBQztJQUVEOzs7T0FHRztJQUNILE1BQU0sQ0FBQyxLQUFhO1FBQ2xCLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQW9CLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxHQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzVHLElBQUksR0FBRztZQUFzQixHQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDNUMsQ0FBQztDQUNGO0FBclRELG9CQXFUQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy90YWJzLnRzP2ZmMzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcblxuaW1wb3J0IHsgQ2Fyb3VzZWwgfSBmcm9tIFwiLi9jYXJvdXNlbFwiO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBCYXNlT3B0aW9ucywgSW5pdEVsZW1lbnRzLCBNRWxlbWVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRhYnNPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge1xuICAvKipcbiAgICogVHJhbnNpdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gICAqIEBkZWZhdWx0IDMwMFxuICAgKi9cbiAgZHVyYXRpb246IG51bWJlcjtcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZvciB3aGVuIGEgbmV3IHRhYiBjb250ZW50IGlzIHNob3duLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBvblNob3c6IChuZXdDb250ZW50OiBFbGVtZW50KSA9PiB2b2lkO1xuICAvKipcbiAgICogU2V0IHRvIHRydWUgdG8gZW5hYmxlIHN3aXBlYWJsZSB0YWJzLlxuICAgKiBUaGlzIGFsc28gdXNlcyB0aGUgcmVzcG9uc2l2ZVRocmVzaG9sZCBvcHRpb24uXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBzd2lwZWFibGU6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSB3aWR0aCBvZiB0aGUgc2NyZWVuLCBpbiBwaXhlbHMsXG4gICAqIHdoZXJlIHRoZSBzd2lwZWFibGUgZnVuY3Rpb25hbGl0eSBpbml0aWFsaXplcy5cbiAgICogQGRlZmF1bHQgaW5maW5pdHlcbiAgICovXG4gIHJlc3BvbnNpdmVUaHJlc2hvbGQ6IG51bWJlcjtcbn07XG5cbmxldCBfZGVmYXVsdHM6IFRhYnNPcHRpb25zID0ge1xuICBkdXJhdGlvbjogMzAwLFxuICBvblNob3c6IG51bGwsXG4gIHN3aXBlYWJsZTogZmFsc2UsXG4gIHJlc3BvbnNpdmVUaHJlc2hvbGQ6IEluZmluaXR5IC8vIGJyZWFrcG9pbnQgZm9yIHN3aXBlYWJsZVxufTtcblxuZXhwb3J0IGNsYXNzIFRhYnMgZXh0ZW5kcyBDb21wb25lbnQ8VGFic09wdGlvbnM+IHtcbiAgX3RhYkxpbmtzOiBOb2RlTGlzdE9mPEhUTUxBbmNob3JFbGVtZW50PjtcbiAgX2luZGV4OiBudW1iZXI7XG4gIF9pbmRpY2F0b3I6IGFueTtcbiAgX3RhYldpZHRoOiBudW1iZXI7XG4gIF90YWJzV2lkdGg6IG51bWJlcjtcbiAgX3RhYnNDYXJvdXNlbDogYW55O1xuICBfYWN0aXZlVGFiTGluazogYW55O1xuICBfY29udGVudDogYW55O1xuXG4gIGNvbnN0cnVjdG9yKGVsOiBIVE1MRWxlbWVudCwgb3B0aW9uczogUGFydGlhbDxUYWJzT3B0aW9ucz4pIHtcbiAgICBzdXBlcihlbCwgb3B0aW9ucywgVGFicyk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1RhYnMgPSB0aGlzO1xuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4uVGFicy5kZWZhdWx0cyxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuXG4gICAgdGhpcy5fdGFiTGlua3MgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpLnRhYiA+IGEnKTtcbiAgICB0aGlzLl9pbmRleCA9IDA7XG4gICAgdGhpcy5fc2V0dXBBY3RpdmVUYWJMaW5rKCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zd2lwZWFibGUpIHtcbiAgICAgIHRoaXMuX3NldHVwU3dpcGVhYmxlVGFicygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zZXR1cE5vcm1hbFRhYnMoKTtcbiAgICB9XG4gICAgLy8gU2V0dXAgdGFicyBpbmRpY2F0b3IgYWZ0ZXIgY29udGVudCB0byBlbnN1cmUgYWNjdXJhdGUgd2lkdGhzXG4gICAgdGhpcy5fc2V0VGFic0FuZFRhYldpZHRoKCk7XG4gICAgdGhpcy5fY3JlYXRlSW5kaWNhdG9yKCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCk6IFRhYnNPcHRpb25zIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlIG9mIFRhYnMuXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zPzogUGFydGlhbDxUYWJzT3B0aW9ucz4pOiBUYWJzO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFRhYnMuXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbHM6IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM/OiBQYXJ0aWFsPFRhYnNPcHRpb25zPik6IFRhYnNbXTtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBUYWJzLlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWxzOiBIVE1MRWxlbWVudCB8IEluaXRFbGVtZW50czxNRWxlbWVudD4sIG9wdGlvbnM6IFBhcnRpYWw8VGFic09wdGlvbnM+ID0ge30pOiBUYWJzIHwgVGFic1tdIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIFRhYnMpO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsOiBIVE1MRWxlbWVudCk6IFRhYnMge1xuICAgIHJldHVybiAoZWwgYXMgYW55KS5NX1RhYnM7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLl9pbmRpY2F0b3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9pbmRpY2F0b3IpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc3dpcGVhYmxlKSB7XG4gICAgICB0aGlzLl90ZWFyZG93blN3aXBlYWJsZVRhYnMoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl90ZWFyZG93bk5vcm1hbFRhYnMoKTtcbiAgICB9XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1RhYnMgPSB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGluZGV4IG9mIHRhYiB0aGF0IGlzIGN1cnJlbnRseSBzaG93bi5cbiAgICovXG4gIGdldCBpbmRleCgpeyByZXR1cm4gdGhpcy5faW5kZXg7IH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9oYW5kbGVXaW5kb3dSZXNpemUpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUYWJDbGljayk7XG4gIH1cblxuICBfcmVtb3ZlRXZlbnRIYW5kbGVycygpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlV2luZG93UmVzaXplKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlVGFiQ2xpY2spO1xuICB9XG5cbiAgX2hhbmRsZVdpbmRvd1Jlc2l6ZSA9ICgpID0+IHtcbiAgICB0aGlzLl9zZXRUYWJzQW5kVGFiV2lkdGgoKTtcbiAgICBpZiAodGhpcy5fdGFiV2lkdGggIT09IDAgJiYgdGhpcy5fdGFic1dpZHRoICE9PSAwKSB7XG4gICAgICB0aGlzLl9pbmRpY2F0b3Iuc3R5bGUubGVmdCA9IHRoaXMuX2NhbGNMZWZ0UG9zKHRoaXMuX2FjdGl2ZVRhYkxpbmspKydweCc7XG4gICAgICB0aGlzLl9pbmRpY2F0b3Iuc3R5bGUucmlnaHQgPSB0aGlzLl9jYWxjUmlnaHRQb3ModGhpcy5fYWN0aXZlVGFiTGluaykrJ3B4JztcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlVGFiQ2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHRhYkxpbmsgPSBlLnRhcmdldCBhcyBIVE1MQW5jaG9yRWxlbWVudDtcbiAgICBjb25zdCB0YWIgPSB0YWJMaW5rLnBhcmVudEVsZW1lbnQ7XG4gICAgLy8gSGFuZGxlIGNsaWNrIG9uIHRhYiBsaW5rIG9ubHlcbiAgICBpZiAoIXRhYkxpbmsgfHwgIXRhYi5jbGFzc0xpc3QuY29udGFpbnMoJ3RhYicpKSByZXR1cm47XG4gICAgLy8gaXMgZGlzYWJsZWQ/XG4gICAgaWYgKHRhYi5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gQWN0IGFzIHJlZ3VsYXIgbGluayBpZiB0YXJnZXQgYXR0cmlidXRlIGlzIHNwZWNpZmllZC5cbiAgICBpZiAodGFiTGluay5oYXNBdHRyaWJ1dGUoJ3RhcmdldCcpKSByZXR1cm47XG4gICAgLy8gTWFrZSB0aGUgb2xkIHRhYiBpbmFjdGl2ZS5cbiAgICB0aGlzLl9hY3RpdmVUYWJMaW5rLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGNvbnN0IF9vbGRDb250ZW50ID0gdGhpcy5fY29udGVudDtcbiAgICAvLyBVcGRhdGUgdGhlIHZhcmlhYmxlcyB3aXRoIHRoZSBuZXcgbGluayBhbmQgY29udGVudFxuXG4gICAgICB0aGlzLl9hY3RpdmVUYWJMaW5rID0gdGFiTGluaztcbiAgICAgIGlmICh0YWJMaW5rLmhhc2gpXG4gICAgICAgIHRoaXMuX2NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhYkxpbmsuaGFzaCk7XG4gICAgICB0aGlzLl90YWJMaW5rcyA9IHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbCgnbGkudGFiID4gYScpO1xuICAgICAgLy8gTWFrZSB0aGUgdGFiIGFjdGl2ZVxuICAgICAgdGhpcy5fYWN0aXZlVGFiTGluay5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGNvbnN0IHByZXZJbmRleCA9IHRoaXMuX2luZGV4O1xuICAgICAgdGhpcy5faW5kZXggPSBNYXRoLm1heChBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKS5pbmRleE9mKHRhYkxpbmspLCAwKTtcblxuICAgIC8vIFN3YXAgY29udGVudFxuICAgIGlmICh0aGlzLm9wdGlvbnMuc3dpcGVhYmxlKSB7XG4gICAgICBpZiAodGhpcy5fdGFic0Nhcm91c2VsKSB7XG4gICAgICAgIHRoaXMuX3RhYnNDYXJvdXNlbC5zZXQodGhpcy5faW5kZXgsICgpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vblNob3cgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub25TaG93LmNhbGwodGhpcywgdGhpcy5fY29udGVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5fY29udGVudCkge1xuICAgICAgICB0aGlzLl9jb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB0aGlzLl9jb250ZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5vblNob3cgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uU2hvdy5jYWxsKHRoaXMsIHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICBpZiAoX29sZENvbnRlbnQgJiYgX29sZENvbnRlbnQgIT09IHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgICBfb2xkQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIF9vbGRDb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFVwZGF0ZSB3aWR0aHMgYWZ0ZXIgY29udGVudCBpcyBzd2FwcGVkIChzY3JvbGxiYXIgYnVnZml4KVxuICAgIHRoaXMuX3NldFRhYnNBbmRUYWJXaWR0aCgpO1xuICAgIHRoaXMuX2FuaW1hdGVJbmRpY2F0b3IocHJldkluZGV4KTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBfY3JlYXRlSW5kaWNhdG9yKCkge1xuICAgIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgaW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoJ2luZGljYXRvcicpO1xuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yKTtcbiAgICB0aGlzLl9pbmRpY2F0b3IgPSBpbmRpY2F0b3I7XG4gICAgdGhpcy5faW5kaWNhdG9yLnN0eWxlLmxlZnQgPSB0aGlzLl9jYWxjTGVmdFBvcyh0aGlzLl9hY3RpdmVUYWJMaW5rKSsncHgnO1xuICAgIHRoaXMuX2luZGljYXRvci5zdHlsZS5yaWdodCA9IHRoaXMuX2NhbGNSaWdodFBvcyh0aGlzLl9hY3RpdmVUYWJMaW5rKSsncHgnO1xuICB9XG5cbiAgX3NldHVwQWN0aXZlVGFiTGluaygpIHtcbiAgICAvLyBJZiB0aGUgbG9jYXRpb24uaGFzaCBtYXRjaGVzIG9uZSBvZiB0aGUgbGlua3MsIHVzZSB0aGF0IGFzIHRoZSBhY3RpdmUgdGFiLlxuICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsgPSBBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKS5maW5kKChhOiBIVE1MQW5jaG9yRWxlbWVudCkgPT4gYS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA9PT0gbG9jYXRpb24uaGFzaCk7XG4gICAgLy8gSWYgbm8gbWF0Y2ggaXMgZm91bmQsIHVzZSB0aGUgZmlyc3QgbGluayBvciBhbnkgd2l0aCBjbGFzcyAnYWN0aXZlJyBhcyB0aGUgaW5pdGlhbCBhY3RpdmUgdGFiLlxuICAgIGlmICghdGhpcy5fYWN0aXZlVGFiTGluaykge1xuICAgICAgdGhpcy5fYWN0aXZlVGFiTGluayA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignbGkudGFiIGEuYWN0aXZlJyk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9hY3RpdmVUYWJMaW5rLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fYWN0aXZlVGFiTGluayA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcignbGkudGFiIGEnKTtcbiAgICB9XG4gICAgQXJyYXkuZnJvbSh0aGlzLl90YWJMaW5rcykuZm9yRWFjaCgoYTogSFRNTEFuY2hvckVsZW1lbnQpID0+IGEuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xuICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cbiAgICAgIHRoaXMuX2luZGV4ID0gTWF0aC5tYXgoQXJyYXkuZnJvbSh0aGlzLl90YWJMaW5rcykuaW5kZXhPZih0aGlzLl9hY3RpdmVUYWJMaW5rKSwgMCk7XG4gICAgICBpZiAodGhpcy5fYWN0aXZlVGFiTGluayAmJiB0aGlzLl9hY3RpdmVUYWJMaW5rLmhhc2gpIHtcbiAgICAgICAgdGhpcy5fY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fYWN0aXZlVGFiTGluay5oYXNoKTtcbiAgICAgICAgdGhpcy5fY29udGVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgX3NldHVwU3dpcGVhYmxlVGFicygpIHtcbiAgICAvLyBDaGFuZ2Ugc3dpcGVhYmxlIGFjY29yZGluZyB0byByZXNwb25zaXZlIHRocmVzaG9sZFxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IHRoaXMub3B0aW9ucy5yZXNwb25zaXZlVGhyZXNob2xkKVxuICAgICAgdGhpcy5vcHRpb25zLnN3aXBlYWJsZSA9IGZhbHNlO1xuXG4gICAgICBjb25zdCB0YWJzQ29udGVudCA9IFtdO1xuICAgICAgdGhpcy5fdGFiTGlua3MuZm9yRWFjaChhID0+IHtcbiAgICAgICAgaWYgKGEuaGFzaCkge1xuICAgICAgICAgIGNvbnN0IGN1cnJDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhLmhhc2gpO1xuICAgICAgICAgIGN1cnJDb250ZW50LmNsYXNzTGlzdC5hZGQoJ2Nhcm91c2VsLWl0ZW0nKTtcbiAgICAgICAgICB0YWJzQ29udGVudC5wdXNoKGN1cnJDb250ZW50KTsgIFxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIC8vIENyZWF0ZSBDYXJvdXNlbC1XcmFwcGVyIGFyb3VuZCBUYWItQ29udGVudHNcbiAgICBjb25zdCB0YWJzV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRhYnNXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ3RhYnMtY29udGVudCcsICdjYXJvdXNlbCcsICdjYXJvdXNlbC1zbGlkZXInKTtcblxuICAgIC8vIFdyYXAgYXJvdW5kXG4gICAgdGFic0NvbnRlbnRbMF0ucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUodGFic1dyYXBwZXIsIHRhYnNDb250ZW50WzBdKTtcbiAgICB0YWJzQ29udGVudC5mb3JFYWNoKHRhYkNvbnRlbnQgPT4ge1xuICAgICAgdGFic1dyYXBwZXIuYXBwZW5kQ2hpbGQodGFiQ29udGVudCk7XG4gICAgICB0YWJDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9KTtcblxuICAgIC8vIEtlZXAgYWN0aXZlIHRhYiBpbmRleCB0byBzZXQgaW5pdGlhbCBjYXJvdXNlbCBzbGlkZVxuICAgIGNvbnN0IHRhYiA9IHRoaXMuX2FjdGl2ZVRhYkxpbmsucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBhY3RpdmVUYWJJbmRleCA9IEFycmF5LmZyb20odGFiLnBhcmVudE5vZGUuY2hpbGRyZW4pLmluZGV4T2YodGFiKTtcblxuICAgIHRoaXMuX3RhYnNDYXJvdXNlbCA9IENhcm91c2VsLmluaXQodGFic1dyYXBwZXIsIHtcbiAgICAgIGZ1bGxXaWR0aDogdHJ1ZSxcbiAgICAgIG5vV3JhcDogdHJ1ZSxcbiAgICAgIG9uQ3ljbGVUbzogKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgcHJldkluZGV4ID0gdGhpcy5faW5kZXg7XG4gICAgICAgIHRoaXMuX2luZGV4ID0gQXJyYXkuZnJvbShpdGVtLnBhcmVudE5vZGUuY2hpbGRyZW4pLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsgPSBBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKVt0aGlzLl9pbmRleF07XG4gICAgICAgIHRoaXMuX2FjdGl2ZVRhYkxpbmsuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIHRoaXMuX2FuaW1hdGVJbmRpY2F0b3IocHJldkluZGV4KTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TaG93ID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgIHRoaXMub3B0aW9ucy5vblNob3cuY2FsbCh0aGlzLCB0aGlzLl9jb250ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBTZXQgaW5pdGlhbCBjYXJvdXNlbCBzbGlkZSB0byBhY3RpdmUgdGFiXG4gICAgdGhpcy5fdGFic0Nhcm91c2VsLnNldChhY3RpdmVUYWJJbmRleCk7XG4gIH1cblxuICBfdGVhcmRvd25Td2lwZWFibGVUYWJzKCkge1xuICAgIGNvbnN0IHRhYnNXcmFwcGVyID0gdGhpcy5fdGFic0Nhcm91c2VsLmVsO1xuICAgIHRoaXMuX3RhYnNDYXJvdXNlbC5kZXN0cm95KCk7XG4gICAgLy8gVW53cmFwXG4gICAgdGFic1dyYXBwZXIuYWZ0ZXIodGFic1dyYXBwZXIuY2hpbGRyZW4pO1xuICAgIHRhYnNXcmFwcGVyLnJlbW92ZSgpO1xuICB9XG5cbiAgX3NldHVwTm9ybWFsVGFicygpIHtcbiAgICAvLyBIaWRlIFRhYnMgQ29udGVudFxuICAgIEFycmF5LmZyb20odGhpcy5fdGFiTGlua3MpLmZvckVhY2goKGEpID0+IHtcbiAgICAgIGlmIChhID09PSB0aGlzLl9hY3RpdmVUYWJMaW5rKSByZXR1cm47XG4gICAgICBpZiAoKDxIVE1MQW5jaG9yRWxlbWVudD5hKS5oYXNoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigoPEhUTUxBbmNob3JFbGVtZW50PmEpLmhhc2gpO1xuICAgICAgICBpZiAoY3VyckNvbnRlbnQpICg8SFRNTEVsZW1lbnQ+Y3VyckNvbnRlbnQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfdGVhcmRvd25Ob3JtYWxUYWJzKCkge1xuICAgIC8vIHNob3cgVGFicyBDb250ZW50XG4gICAgdGhpcy5fdGFiTGlua3MuZm9yRWFjaCgoYSkgPT4ge1xuICAgICAgaWYgKGEuaGFzaCkge1xuICAgICAgICBjb25zdCBjdXJyQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYS5oYXNoKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKGN1cnJDb250ZW50KSBjdXJyQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfc2V0VGFic0FuZFRhYldpZHRoKCkge1xuICAgIHRoaXMuX3RhYnNXaWR0aCA9IHRoaXMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgdGhpcy5fdGFiV2lkdGggPSBNYXRoLm1heCh0aGlzLl90YWJzV2lkdGgsIHRoaXMuZWwuc2Nyb2xsV2lkdGgpIC8gdGhpcy5fdGFiTGlua3MubGVuZ3RoO1xuICB9XG5cbiAgX2NhbGNSaWdodFBvcyhlbCkge1xuICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5fdGFic1dpZHRoIC0gZWwub2Zmc2V0TGVmdCAtIGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcbiAgfVxuXG4gIF9jYWxjTGVmdFBvcyhlbCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKGVsLm9mZnNldExlZnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlY2FsY3VsYXRlIHRhYiBpbmRpY2F0b3IgcG9zaXRpb24uIFRoaXMgaXMgdXNlZnVsIHdoZW5cbiAgICogdGhlIGluZGljYXRvciBwb3NpdGlvbiBpcyBub3QgY29ycmVjdC5cbiAgICovXG4gIHVwZGF0ZVRhYkluZGljYXRvcigpIHtcbiAgICB0aGlzLl9zZXRUYWJzQW5kVGFiV2lkdGgoKTtcbiAgICB0aGlzLl9hbmltYXRlSW5kaWNhdG9yKHRoaXMuX2luZGV4KTtcbiAgfVxuXG4gIF9hbmltYXRlSW5kaWNhdG9yKHByZXZJbmRleCkge1xuICAgIGxldCBsZWZ0RGVsYXkgPSAwLCByaWdodERlbGF5ID0gMDtcblxuICAgIGlmICh0aGlzLl9pbmRleCAtIHByZXZJbmRleCA+PSAwKVxuICAgICAgbGVmdERlbGF5ID0gOTA7XG4gICAgZWxzZVxuICAgICAgcmlnaHREZWxheSA9IDkwO1xuXG4gICAgY29uc3QgYW5pbU9wdGlvbnMgPSB7XG4gICAgICB0YXJnZXRzOiB0aGlzLl9pbmRpY2F0b3IsXG4gICAgICBsZWZ0OiB7XG4gICAgICAgIHZhbHVlOiB0aGlzLl9jYWxjTGVmdFBvcyh0aGlzLl9hY3RpdmVUYWJMaW5rKSxcbiAgICAgICAgZGVsYXk6IGxlZnREZWxheVxuICAgICAgfSxcbiAgICAgIHJpZ2h0OiB7XG4gICAgICAgIHZhbHVlOiB0aGlzLl9jYWxjUmlnaHRQb3ModGhpcy5fYWN0aXZlVGFiTGluayksXG4gICAgICAgIGRlbGF5OiByaWdodERlbGF5XG4gICAgICB9LFxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJ1xuICAgIH07XG4gICAgYW5pbS5yZW1vdmUodGhpcy5faW5kaWNhdG9yKTtcbiAgICBhbmltKGFuaW1PcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHRhYiBjb250ZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHRhYiB3aXRoIHRoZSBpZC5cbiAgICogQHBhcmFtIHRhYklkIFRoZSBpZCBvZiB0aGUgdGFiIHRoYXQgeW91IHdhbnQgdG8gc3dpdGNoIHRvLlxuICAgKi9cbiAgc2VsZWN0KHRhYklkOiBzdHJpbmcpIHtcbiAgICBjb25zdCB0YWIgPSBBcnJheS5mcm9tKHRoaXMuX3RhYkxpbmtzKS5maW5kKChhOiBIVE1MQW5jaG9yRWxlbWVudCkgPT4gYS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA9PT0gJyMnK3RhYklkKTtcbiAgICBpZiAodGFiKSAoPEhUTUxBbmNob3JFbGVtZW50PnRhYikuY2xpY2soKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/tabs.ts\n");

/***/ }),

/***/ "./src/tapTarget.ts":
/*!**************************!*\
  !*** ./src/tapTarget.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TapTarget = void 0;\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n;\nlet _defaults = {\n    onOpen: null,\n    onClose: null\n};\nclass TapTarget extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, TapTarget);\n        this._handleThrottledResize = utils_1.Utils.throttle(function () { this._handleResize(); }, 200).bind(this);\n        this._handleTargetClick = () => {\n            this.open();\n        };\n        this._handleOriginClick = () => {\n            this.close();\n        };\n        this._handleResize = () => {\n            this._calculatePositioning();\n        };\n        this._handleDocumentClick = (e) => {\n            if (!e.target.closest('.tap-target-wrapper')) {\n                this.close();\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        };\n        /**\n         * Open Tap Target.\n         */\n        this.open = () => {\n            if (this.isOpen)\n                return;\n            // onOpen callback\n            if (typeof this.options.onOpen === 'function') {\n                this.options.onOpen.call(this, this._origin);\n            }\n            this.isOpen = true;\n            this.wrapper.classList.add('open');\n            document.body.addEventListener('click', this._handleDocumentClick, true);\n            document.body.addEventListener('touchend', this._handleDocumentClick);\n        };\n        /**\n         * Close Tap Target.\n         */\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            // onClose callback\n            if (typeof this.options.onClose === 'function') {\n                this.options.onClose.call(this, this._origin);\n            }\n            this.isOpen = false;\n            this.wrapper.classList.remove('open');\n            document.body.removeEventListener('click', this._handleDocumentClick, true);\n            document.body.removeEventListener('touchend', this._handleDocumentClick);\n        };\n        this.el.M_TapTarget = this;\n        this.options = Object.assign(Object.assign({}, TapTarget.defaults), options);\n        this.isOpen = false;\n        // setup\n        this._origin = document.querySelector(`#${el.dataset.target}`);\n        this._setup();\n        this._calculatePositioning();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of TapTarget.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, TapTarget);\n    }\n    static getInstance(el) {\n        return el.M_TapTarget;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.el.TapTarget = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleTargetClick);\n        this.originEl.addEventListener('click', this._handleOriginClick);\n        // Resize\n        window.addEventListener('resize', this._handleThrottledResize);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleTargetClick);\n        this.originEl.removeEventListener('click', this._handleOriginClick);\n        window.removeEventListener('resize', this._handleThrottledResize);\n    }\n    _setup() {\n        // Creating tap target\n        this.wrapper = this.el.parentElement;\n        this.waveEl = this.wrapper.querySelector('.tap-target-wave');\n        this.originEl = this.wrapper.querySelector('.tap-target-origin');\n        this.contentEl = this.el.querySelector('.tap-target-content');\n        // Creating wrapper\n        if (!this.wrapper.classList.contains('.tap-target-wrapper')) {\n            this.wrapper = document.createElement('div');\n            this.wrapper.classList.add('tap-target-wrapper');\n            this.el.before(this.wrapper);\n            this.wrapper.append(this.el);\n        }\n        // Creating content\n        if (!this.contentEl) {\n            this.contentEl = document.createElement('div');\n            this.contentEl.classList.add('tap-target-content');\n            this.el.append(this.contentEl);\n        }\n        // Creating foreground wave\n        if (!this.waveEl) {\n            this.waveEl = document.createElement('div');\n            this.waveEl.classList.add('tap-target-wave');\n            // Creating origin\n            if (!this.originEl) {\n                this.originEl = this._origin.cloneNode(true); // .clone(true, true);\n                this.originEl.classList.add('tap-target-origin');\n                this.originEl.removeAttribute('id');\n                this.originEl.removeAttribute('style');\n                this.waveEl.append(this.originEl);\n            }\n            this.wrapper.append(this.waveEl);\n        }\n    }\n    _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    _calculatePositioning() {\n        // Element or parent is fixed position?\n        let isFixed = getComputedStyle(this._origin).position === 'fixed';\n        if (!isFixed) {\n            let currentElem = this._origin;\n            const parents = [];\n            while ((currentElem = currentElem.parentNode) && currentElem !== document)\n                parents.push(currentElem);\n            for (let i = 0; i < parents.length; i++) {\n                isFixed = getComputedStyle(parents[i]).position === 'fixed';\n                if (isFixed)\n                    break;\n            }\n        }\n        // Calculating origin\n        const originWidth = this._origin.offsetWidth;\n        const originHeight = this._origin.offsetHeight;\n        const originTop = isFixed ? this._offset(this._origin).top - utils_1.Utils.getDocumentScrollTop() : this._offset(this._origin).top;\n        const originLeft = isFixed ? this._offset(this._origin).left - utils_1.Utils.getDocumentScrollLeft() : this._offset(this._origin).left;\n        // Calculating screen\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n        const scrollBarWidth = windowWidth - document.documentElement.clientWidth;\n        const centerX = windowWidth / 2;\n        const centerY = windowHeight / 2;\n        const isLeft = originLeft <= centerX;\n        const isRight = originLeft > centerX;\n        const isTop = originTop <= centerY;\n        const isBottom = originTop > centerY;\n        const isCenterX = originLeft >= windowWidth * 0.25 && originLeft <= windowWidth * 0.75;\n        // Calculating tap target\n        const tapTargetWidth = this.el.offsetWidth;\n        const tapTargetHeight = this.el.offsetHeight;\n        const tapTargetTop = originTop + originHeight / 2 - tapTargetHeight / 2;\n        const tapTargetLeft = originLeft + originWidth / 2 - tapTargetWidth / 2;\n        const tapTargetPosition = isFixed ? 'fixed' : 'absolute';\n        // Calculating content\n        const tapTargetTextWidth = isCenterX ? tapTargetWidth : tapTargetWidth / 2 + originWidth;\n        const tapTargetTextHeight = tapTargetHeight / 2;\n        const tapTargetTextTop = isTop ? tapTargetHeight / 2 : 0;\n        const tapTargetTextBottom = 0;\n        const tapTargetTextLeft = isLeft && !isCenterX ? tapTargetWidth / 2 - originWidth : 0;\n        const tapTargetTextRight = 0;\n        const tapTargetTextPadding = originWidth;\n        const tapTargetTextAlign = isBottom ? 'bottom' : 'top';\n        // Calculating wave\n        const tapTargetWaveWidth = originWidth > originHeight ? originWidth * 2 : originWidth * 2;\n        const tapTargetWaveHeight = tapTargetWaveWidth;\n        const tapTargetWaveTop = tapTargetHeight / 2 - tapTargetWaveHeight / 2;\n        const tapTargetWaveLeft = tapTargetWidth / 2 - tapTargetWaveWidth / 2;\n        // Setting tap target\n        this.wrapper.style.top = isTop ? tapTargetTop + 'px' : '';\n        this.wrapper.style.right = isRight ? windowWidth - tapTargetLeft - tapTargetWidth - scrollBarWidth + 'px' : '';\n        this.wrapper.style.bottom = isBottom ? windowHeight - tapTargetTop - tapTargetHeight + 'px' : '';\n        this.wrapper.style.left = isLeft ? tapTargetLeft + 'px' : '';\n        this.wrapper.style.position = tapTargetPosition;\n        // Setting content\n        this.contentEl.style.width = tapTargetTextWidth + 'px';\n        this.contentEl.style.height = tapTargetTextHeight + 'px';\n        this.contentEl.style.top = tapTargetTextTop + 'px';\n        this.contentEl.style.right = tapTargetTextRight + 'px';\n        this.contentEl.style.bottom = tapTargetTextBottom + 'px';\n        this.contentEl.style.left = tapTargetTextLeft + 'px';\n        this.contentEl.style.padding = tapTargetTextPadding + 'px';\n        this.contentEl.style.verticalAlign = tapTargetTextAlign;\n        // Setting wave\n        this.waveEl.style.top = tapTargetWaveTop + 'px';\n        this.waveEl.style.left = tapTargetWaveLeft + 'px';\n        this.waveEl.style.width = tapTargetWaveWidth + 'px';\n        this.waveEl.style.height = tapTargetWaveHeight + 'px';\n    }\n}\nexports.TapTarget = TapTarget;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLGdCQUFnQixHQUFHLElBQUksQ0FBQztRQUNuRCxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsa0JBQWtCLEdBQUcsSUFBSSxDQUFDO1FBQ3ZELElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxtQkFBbUIsR0FBRyxJQUFJLENBQUM7UUFDekQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLGlCQUFpQixHQUFHLElBQUksQ0FBQztRQUNyRCxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsb0JBQW9CLEdBQUcsSUFBSSxDQUFDO1FBQzNELElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLGFBQWEsR0FBRyxrQkFBa0IsQ0FBQztRQUV4RCxlQUFlO1FBQ2YsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLGdCQUFnQixHQUFDLElBQUksQ0FBQztRQUM5QyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsaUJBQWlCLEdBQUMsSUFBSSxDQUFDO1FBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxrQkFBa0IsR0FBQyxJQUFJLENBQUM7UUFDbEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLG1CQUFtQixHQUFDLElBQUksQ0FBQztJQUN0RCxDQUFDO0NBK0JGO0FBM1BELDhCQTJQQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BtYXRlcmlhbGl6ZWNzcy9tYXRlcmlhbGl6ZS8uL3NyYy90YXBUYXJnZXQudHM/ZmIyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50LCBPcGVuYWJsZSB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRhcFRhcmdldE9wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgd2hlbiBUYXAgVGFyZ2V0IGlzIG9wZW5lZC5cbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKi9cbiAgb25PcGVuOiAob3JpZ2luOiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCB3aGVuIFRhcCBUYXJnZXQgaXMgY2xvc2VkLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBvbkNsb3NlOiAob3JpZ2luOiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcbn07XG5cbmxldCBfZGVmYXVsdHM6IFRhcFRhcmdldE9wdGlvbnMgPSB7XG4gIG9uT3BlbjogbnVsbCxcbiAgb25DbG9zZTogbnVsbFxufTtcblxuZXhwb3J0IGNsYXNzIFRhcFRhcmdldCBleHRlbmRzIENvbXBvbmVudDxUYXBUYXJnZXRPcHRpb25zPiBpbXBsZW1lbnRzIE9wZW5hYmxlIHtcbiAgLyoqXG4gICAqIElmIHRoZSB0YXAgdGFyZ2V0IGlzIG9wZW4uXG4gICAqL1xuICBpc09wZW46IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSB3cmFwcGVyOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBfb3JpZ2luOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBvcmlnaW5FbDogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgd2F2ZUVsOiBIVE1MRWxlbWVudCAmIEVsZW1lbnQgJiBOb2RlO1xuICBwcml2YXRlIGNvbnRlbnRFbDogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPFRhcFRhcmdldE9wdGlvbnM+KSB7XG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIFRhcFRhcmdldCk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5NX1RhcFRhcmdldCA9IHRoaXM7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi5UYXBUYXJnZXQuZGVmYXVsdHMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcblxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgLy8gc2V0dXBcbiAgICB0aGlzLl9vcmlnaW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtlbC5kYXRhc2V0LnRhcmdldH1gKTtcbiAgICB0aGlzLl9zZXR1cCgpO1xuICAgIHRoaXMuX2NhbGN1bGF0ZVBvc2l0aW9uaW5nKCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCk6IFRhcFRhcmdldE9wdGlvbnMge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgVGFwVGFyZ2V0LlxuICAgKiBAcGFyYW0gZWwgSFRNTCBlbGVtZW50LlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsOiBIVE1MRWxlbWVudCwgb3B0aW9ucz86IFBhcnRpYWw8VGFwVGFyZ2V0T3B0aW9ucz4pOiBUYXBUYXJnZXQ7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgVGFwVGFyZ2V0LlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWxzOiBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zPzogUGFydGlhbDxUYXBUYXJnZXRPcHRpb25zPik6IFRhcFRhcmdldFtdO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFRhcFRhcmdldC5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsczogSFRNTEVsZW1lbnQgfCBJbml0RWxlbWVudHM8TUVsZW1lbnQ+LCBvcHRpb25zOiBQYXJ0aWFsPFRhcFRhcmdldE9wdGlvbnM+ID0ge30pOiBUYXBUYXJnZXQgfCBUYXBUYXJnZXRbXSB7XG4gICAgcmV0dXJuIHN1cGVyLmluaXQoZWxzLCBvcHRpb25zLCBUYXBUYXJnZXQpO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKGVsOiBIVE1MRWxlbWVudCk6IFRhcFRhcmdldCB7XG4gICAgcmV0dXJuIChlbCBhcyBhbnkpLk1fVGFwVGFyZ2V0O1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgKHRoaXMuZWwgYXMgYW55KS5UYXBUYXJnZXQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfc2V0dXBFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUYXJnZXRDbGljayk7XG4gICAgdGhpcy5vcmlnaW5FbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9yaWdpbkNsaWNrKTtcbiAgICAvLyBSZXNpemVcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplKTtcbiAgfVxuXG4gIF9yZW1vdmVFdmVudEhhbmRsZXJzKCkge1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVUYXJnZXRDbGljayk7XG4gICAgdGhpcy5vcmlnaW5FbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU9yaWdpbkNsaWNrKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5faGFuZGxlVGhyb3R0bGVkUmVzaXplKTtcbiAgfVxuXG4gIF9oYW5kbGVUaHJvdHRsZWRSZXNpemU6ICgpID0+IHZvaWQgPSBVdGlscy50aHJvdHRsZShmdW5jdGlvbigpeyB0aGlzLl9oYW5kbGVSZXNpemUoKTsgfSwgMjAwKS5iaW5kKHRoaXMpO1xuXG4gIF9oYW5kbGVUYXJnZXRDbGljayA9ICgpID0+IHtcbiAgICB0aGlzLm9wZW4oKTtcbiAgfVxuXG4gIF9oYW5kbGVPcmlnaW5DbGljayA9ICgpID0+IHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cblxuICBfaGFuZGxlUmVzaXplID0gKCkgPT4ge1xuICAgIHRoaXMuX2NhbGN1bGF0ZVBvc2l0aW9uaW5nKCk7XG4gIH1cblxuICBfaGFuZGxlRG9jdW1lbnRDbGljayA9IChlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4ge1xuICAgIGlmICghKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KCcudGFwLXRhcmdldC13cmFwcGVyJykpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwKCkge1xuICAgIC8vIENyZWF0aW5nIHRhcCB0YXJnZXRcbiAgICB0aGlzLndyYXBwZXIgPSB0aGlzLmVsLnBhcmVudEVsZW1lbnQ7XG4gICAgdGhpcy53YXZlRWwgPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvcignLnRhcC10YXJnZXQtd2F2ZScpO1xuICAgIHRoaXMub3JpZ2luRWwgPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvcignLnRhcC10YXJnZXQtb3JpZ2luJyk7XG4gICAgdGhpcy5jb250ZW50RWwgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy50YXAtdGFyZ2V0LWNvbnRlbnQnKTtcbiAgICAvLyBDcmVhdGluZyB3cmFwcGVyXG4gICAgaWYgKCF0aGlzLndyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCcudGFwLXRhcmdldC13cmFwcGVyJykpIHtcbiAgICAgIHRoaXMud3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ3RhcC10YXJnZXQtd3JhcHBlcicpO1xuICAgICAgdGhpcy5lbC5iZWZvcmUodGhpcy53cmFwcGVyKTtcbiAgICAgIHRoaXMud3JhcHBlci5hcHBlbmQodGhpcy5lbCk7XG4gICAgfVxuICAgIC8vIENyZWF0aW5nIGNvbnRlbnRcbiAgICBpZiAoIXRoaXMuY29udGVudEVsKSB7XG4gICAgICB0aGlzLmNvbnRlbnRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGhpcy5jb250ZW50RWwuY2xhc3NMaXN0LmFkZCgndGFwLXRhcmdldC1jb250ZW50Jyk7XG4gICAgICB0aGlzLmVsLmFwcGVuZCh0aGlzLmNvbnRlbnRFbCk7XG4gICAgfVxuICAgIC8vIENyZWF0aW5nIGZvcmVncm91bmQgd2F2ZVxuICAgIGlmICghdGhpcy53YXZlRWwpIHtcbiAgICAgIHRoaXMud2F2ZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLndhdmVFbC5jbGFzc0xpc3QuYWRkKCd0YXAtdGFyZ2V0LXdhdmUnKTtcbiAgICAgIC8vIENyZWF0aW5nIG9yaWdpblxuICAgICAgaWYgKCF0aGlzLm9yaWdpbkVsKSB7XG4gICAgICAgIHRoaXMub3JpZ2luRWwgPSA8SFRNTEVsZW1lbnQ+dGhpcy5fb3JpZ2luLmNsb25lTm9kZSh0cnVlKTsgLy8gLmNsb25lKHRydWUsIHRydWUpO1xuICAgICAgICB0aGlzLm9yaWdpbkVsLmNsYXNzTGlzdC5hZGQoJ3RhcC10YXJnZXQtb3JpZ2luJyk7XG4gICAgICAgIHRoaXMub3JpZ2luRWwucmVtb3ZlQXR0cmlidXRlKCdpZCcpO1xuICAgICAgICB0aGlzLm9yaWdpbkVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgdGhpcy53YXZlRWwuYXBwZW5kKHRoaXMub3JpZ2luRWwpO1xuICAgICAgfVxuICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZCh0aGlzLndhdmVFbCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfb2Zmc2V0KGVsOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogYm94LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxuICAgICAgbGVmdDogYm94LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQgLSBkb2NFbGVtLmNsaWVudExlZnRcbiAgICB9O1xuICB9XG5cbiAgX2NhbGN1bGF0ZVBvc2l0aW9uaW5nKCkge1xuICAgIC8vIEVsZW1lbnQgb3IgcGFyZW50IGlzIGZpeGVkIHBvc2l0aW9uP1xuICAgIGxldCBpc0ZpeGVkID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9vcmlnaW4pLnBvc2l0aW9uID09PSAnZml4ZWQnO1xuICAgIGlmICghaXNGaXhlZCkge1xuXG4gICAgICBsZXQgY3VycmVudEVsZW06IGFueSA9IHRoaXMuX29yaWdpbjtcbiAgICAgIGNvbnN0IHBhcmVudHMgPSBbXTtcbiAgICAgIHdoaWxlICgoY3VycmVudEVsZW0gPSBjdXJyZW50RWxlbS5wYXJlbnROb2RlKSAmJiBjdXJyZW50RWxlbSAhPT0gZG9jdW1lbnQpXG4gICAgICAgIHBhcmVudHMucHVzaChjdXJyZW50RWxlbSk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpc0ZpeGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnRzW2ldKS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJztcbiAgICAgICAgaWYgKGlzRml4ZWQpIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBDYWxjdWxhdGluZyBvcmlnaW5cbiAgICBjb25zdCBvcmlnaW5XaWR0aCA9IHRoaXMuX29yaWdpbi5vZmZzZXRXaWR0aDtcbiAgICBjb25zdCBvcmlnaW5IZWlnaHQgPSB0aGlzLl9vcmlnaW4ub2Zmc2V0SGVpZ2h0O1xuICAgIGNvbnN0IG9yaWdpblRvcCA9IGlzRml4ZWQgPyB0aGlzLl9vZmZzZXQodGhpcy5fb3JpZ2luKS50b3AgLSBVdGlscy5nZXREb2N1bWVudFNjcm9sbFRvcCgpIDogdGhpcy5fb2Zmc2V0KHRoaXMuX29yaWdpbikudG9wO1xuICAgIGNvbnN0IG9yaWdpbkxlZnQgPSBpc0ZpeGVkID8gdGhpcy5fb2Zmc2V0KHRoaXMuX29yaWdpbikubGVmdCAtIFV0aWxzLmdldERvY3VtZW50U2Nyb2xsTGVmdCgpIDogdGhpcy5fb2Zmc2V0KHRoaXMuX29yaWdpbikubGVmdDtcblxuICAgIC8vIENhbGN1bGF0aW5nIHNjcmVlblxuICAgIGNvbnN0IHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGNvbnN0IHNjcm9sbEJhcldpZHRoID0gd2luZG93V2lkdGggLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgY29uc3QgY2VudGVyWCA9IHdpbmRvd1dpZHRoIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gd2luZG93SGVpZ2h0IC8gMjtcbiAgICBjb25zdCBpc0xlZnQgPSBvcmlnaW5MZWZ0IDw9IGNlbnRlclg7XG4gICAgY29uc3QgaXNSaWdodCA9IG9yaWdpbkxlZnQgPiBjZW50ZXJYO1xuICAgIGNvbnN0IGlzVG9wID0gb3JpZ2luVG9wIDw9IGNlbnRlclk7XG4gICAgY29uc3QgaXNCb3R0b20gPSBvcmlnaW5Ub3AgPiBjZW50ZXJZO1xuICAgIGNvbnN0IGlzQ2VudGVyWCA9IG9yaWdpbkxlZnQgPj0gd2luZG93V2lkdGggKiAwLjI1ICYmIG9yaWdpbkxlZnQgPD0gd2luZG93V2lkdGggKiAwLjc1O1xuXG4gICAgLy8gQ2FsY3VsYXRpbmcgdGFwIHRhcmdldFxuICAgIGNvbnN0IHRhcFRhcmdldFdpZHRoID0gdGhpcy5lbC5vZmZzZXRXaWR0aDtcbiAgICBjb25zdCB0YXBUYXJnZXRIZWlnaHQgPSB0aGlzLmVsLm9mZnNldEhlaWdodDtcbiAgICBjb25zdCB0YXBUYXJnZXRUb3AgPSBvcmlnaW5Ub3AgKyBvcmlnaW5IZWlnaHQgLyAyIC0gdGFwVGFyZ2V0SGVpZ2h0IC8gMjtcbiAgICBjb25zdCB0YXBUYXJnZXRMZWZ0ID0gb3JpZ2luTGVmdCArIG9yaWdpbldpZHRoIC8gMiAtIHRhcFRhcmdldFdpZHRoIC8gMjtcbiAgICBjb25zdCB0YXBUYXJnZXRQb3NpdGlvbiA9IGlzRml4ZWQgPyAnZml4ZWQnIDogJ2Fic29sdXRlJztcblxuICAgIC8vIENhbGN1bGF0aW5nIGNvbnRlbnRcbiAgICBjb25zdCB0YXBUYXJnZXRUZXh0V2lkdGggPSBpc0NlbnRlclggPyB0YXBUYXJnZXRXaWR0aCA6IHRhcFRhcmdldFdpZHRoIC8gMiArIG9yaWdpbldpZHRoO1xuICAgIGNvbnN0IHRhcFRhcmdldFRleHRIZWlnaHQgPSB0YXBUYXJnZXRIZWlnaHQgLyAyO1xuICAgIGNvbnN0IHRhcFRhcmdldFRleHRUb3AgPSBpc1RvcCA/IHRhcFRhcmdldEhlaWdodCAvIDIgOiAwO1xuICAgIGNvbnN0IHRhcFRhcmdldFRleHRCb3R0b20gPSAwO1xuICAgIGNvbnN0IHRhcFRhcmdldFRleHRMZWZ0ID0gaXNMZWZ0ICYmICFpc0NlbnRlclggPyB0YXBUYXJnZXRXaWR0aCAvIDIgLSBvcmlnaW5XaWR0aCA6IDA7XG4gICAgY29uc3QgdGFwVGFyZ2V0VGV4dFJpZ2h0ID0gMDtcbiAgICBjb25zdCB0YXBUYXJnZXRUZXh0UGFkZGluZyA9IG9yaWdpbldpZHRoO1xuICAgIGNvbnN0IHRhcFRhcmdldFRleHRBbGlnbiA9IGlzQm90dG9tID8gJ2JvdHRvbScgOiAndG9wJztcblxuICAgIC8vIENhbGN1bGF0aW5nIHdhdmVcbiAgICBjb25zdCB0YXBUYXJnZXRXYXZlV2lkdGggPSBvcmlnaW5XaWR0aCA+IG9yaWdpbkhlaWdodCA/IG9yaWdpbldpZHRoICogMiA6IG9yaWdpbldpZHRoICogMjtcbiAgICBjb25zdCB0YXBUYXJnZXRXYXZlSGVpZ2h0ID0gdGFwVGFyZ2V0V2F2ZVdpZHRoO1xuICAgIGNvbnN0IHRhcFRhcmdldFdhdmVUb3AgPSB0YXBUYXJnZXRIZWlnaHQgLyAyIC0gdGFwVGFyZ2V0V2F2ZUhlaWdodCAvIDI7XG4gICAgY29uc3QgdGFwVGFyZ2V0V2F2ZUxlZnQgPSB0YXBUYXJnZXRXaWR0aCAvIDIgLSB0YXBUYXJnZXRXYXZlV2lkdGggLyAyO1xuXG4gICAgLy8gU2V0dGluZyB0YXAgdGFyZ2V0XG4gICAgdGhpcy53cmFwcGVyLnN0eWxlLnRvcCA9IGlzVG9wID8gdGFwVGFyZ2V0VG9wICsgJ3B4JyA6ICcnO1xuICAgIHRoaXMud3JhcHBlci5zdHlsZS5yaWdodCA9IGlzUmlnaHQgPyB3aW5kb3dXaWR0aCAtIHRhcFRhcmdldExlZnQgLSB0YXBUYXJnZXRXaWR0aCAtIHNjcm9sbEJhcldpZHRoICsgJ3B4JyA6ICcnO1xuICAgIHRoaXMud3JhcHBlci5zdHlsZS5ib3R0b20gPSBpc0JvdHRvbSA/IHdpbmRvd0hlaWdodCAtIHRhcFRhcmdldFRvcCAtIHRhcFRhcmdldEhlaWdodCArICdweCcgOiAnJztcbiAgICB0aGlzLndyYXBwZXIuc3R5bGUubGVmdCA9IGlzTGVmdCA/IHRhcFRhcmdldExlZnQgKyAncHgnIDogJyc7XG4gICAgdGhpcy53cmFwcGVyLnN0eWxlLnBvc2l0aW9uID0gdGFwVGFyZ2V0UG9zaXRpb247XG5cbiAgICAvLyBTZXR0aW5nIGNvbnRlbnRcbiAgICB0aGlzLmNvbnRlbnRFbC5zdHlsZS53aWR0aCA9IHRhcFRhcmdldFRleHRXaWR0aCArICdweCc7XG4gICAgdGhpcy5jb250ZW50RWwuc3R5bGUuaGVpZ2h0ID0gdGFwVGFyZ2V0VGV4dEhlaWdodCArICdweCc7XG4gICAgdGhpcy5jb250ZW50RWwuc3R5bGUudG9wID0gdGFwVGFyZ2V0VGV4dFRvcCArICdweCc7XG4gICAgdGhpcy5jb250ZW50RWwuc3R5bGUucmlnaHQgPSB0YXBUYXJnZXRUZXh0UmlnaHQgKyAncHgnO1xuICAgIHRoaXMuY29udGVudEVsLnN0eWxlLmJvdHRvbSA9IHRhcFRhcmdldFRleHRCb3R0b20gKyAncHgnO1xuICAgIHRoaXMuY29udGVudEVsLnN0eWxlLmxlZnQgPSB0YXBUYXJnZXRUZXh0TGVmdCArICdweCc7XG4gICAgdGhpcy5jb250ZW50RWwuc3R5bGUucGFkZGluZyA9IHRhcFRhcmdldFRleHRQYWRkaW5nICsgJ3B4JztcbiAgICB0aGlzLmNvbnRlbnRFbC5zdHlsZS52ZXJ0aWNhbEFsaWduID0gdGFwVGFyZ2V0VGV4dEFsaWduO1xuXG4gICAgLy8gU2V0dGluZyB3YXZlXG4gICAgdGhpcy53YXZlRWwuc3R5bGUudG9wID0gdGFwVGFyZ2V0V2F2ZVRvcCsncHgnO1xuICAgIHRoaXMud2F2ZUVsLnN0eWxlLmxlZnQgPSB0YXBUYXJnZXRXYXZlTGVmdCsncHgnO1xuICAgIHRoaXMud2F2ZUVsLnN0eWxlLndpZHRoID0gdGFwVGFyZ2V0V2F2ZVdpZHRoKydweCc7XG4gICAgdGhpcy53YXZlRWwuc3R5bGUuaGVpZ2h0ID0gdGFwVGFyZ2V0V2F2ZUhlaWdodCsncHgnO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW4gVGFwIFRhcmdldC5cbiAgICovXG4gIG9wZW4gPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgLy8gb25PcGVuIGNhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25PcGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25PcGVuLmNhbGwodGhpcywgdGhpcy5fb3JpZ2luKTtcbiAgICB9XG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2ssIHRydWUpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2xvc2UgVGFwIFRhcmdldC5cbiAgICovXG4gIGNsb3NlID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy5pc09wZW4pIHJldHVybjtcbiAgICAvLyBvbkNsb3NlIGNhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25DbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vcHRpb25zLm9uQ2xvc2UuY2FsbCh0aGlzLCB0aGlzLl9vcmlnaW4pO1xuICAgIH1cbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2ssIHRydWUpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrKTtcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/tapTarget.ts\n");

/***/ }),

/***/ "./src/timepicker.ts":
/*!***************************!*\
  !*** ./src/timepicker.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Timepicker = void 0;\nconst modal_1 = __webpack_require__(/*! ./modal */ \"./src/modal.ts\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nlet _defaults = {\n    dialRadius: 135,\n    outerRadius: 105,\n    innerRadius: 70,\n    tickRadius: 20,\n    duration: 350,\n    container: null,\n    defaultTime: 'now',\n    fromNow: 0,\n    showClearBtn: false,\n    // internationalization\n    i18n: {\n        cancel: 'Cancel',\n        clear: 'Clear',\n        done: 'Ok'\n    },\n    autoClose: false,\n    twelveHour: true,\n    vibrate: true,\n    // Callbacks\n    onOpenStart: null,\n    onOpenEnd: null,\n    onCloseStart: null,\n    onCloseEnd: null,\n    onSelect: null\n};\nclass Timepicker extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Timepicker);\n        this._handleInputClick = () => {\n            this.open();\n        };\n        this._handleInputKeydown = (e) => {\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\n                e.preventDefault();\n                this.open();\n            }\n        };\n        this._handleTimeInputEnterKey = (e) => {\n            if (utils_1.Utils.keys.ENTER.includes(e.key)) {\n                e.preventDefault();\n                this._inputFromTextField();\n            }\n        };\n        this._handleClockClickStart = (e) => {\n            e.preventDefault();\n            let clockPlateBR = this.plate.getBoundingClientRect();\n            let offset = { x: clockPlateBR.left, y: clockPlateBR.top };\n            this.x0 = offset.x + this.options.dialRadius;\n            this.y0 = offset.y + this.options.dialRadius;\n            this.moved = false;\n            let clickPos = Timepicker._Pos(e);\n            this.dx = clickPos.x - this.x0;\n            this.dy = clickPos.y - this.y0;\n            // Set clock hands\n            this.setHand(this.dx, this.dy, false);\n            // Mousemove on document\n            document.addEventListener('mousemove', this._handleDocumentClickMove);\n            document.addEventListener('touchmove', this._handleDocumentClickMove);\n            // Mouseup on document\n            document.addEventListener('mouseup', this._handleDocumentClickEnd);\n            document.addEventListener('touchend', this._handleDocumentClickEnd);\n        };\n        this._handleDocumentClickMove = (e) => {\n            e.preventDefault();\n            let clickPos = Timepicker._Pos(e);\n            let x = clickPos.x - this.x0;\n            let y = clickPos.y - this.y0;\n            this.moved = true;\n            this.setHand(x, y, false);\n        };\n        this._handleDocumentClickEnd = (e) => {\n            e.preventDefault();\n            document.removeEventListener('mouseup', this._handleDocumentClickEnd);\n            document.removeEventListener('touchend', this._handleDocumentClickEnd);\n            let clickPos = Timepicker._Pos(e);\n            let x = clickPos.x - this.x0;\n            let y = clickPos.y - this.y0;\n            if (this.moved && x === this.dx && y === this.dy) {\n                this.setHand(x, y);\n            }\n            if (this.currentView === 'hours') {\n                this.showView('minutes', this.options.duration / 2);\n            }\n            else if (this.options.autoClose) {\n                this.minutesView.classList.add('timepicker-dial-out');\n                setTimeout(() => {\n                    this.done();\n                }, this.options.duration / 2);\n            }\n            if (typeof this.options.onSelect === 'function') {\n                this.options.onSelect.call(this, this.hours, this.minutes);\n            }\n            // Unbind mousemove event\n            document.removeEventListener('mousemove', this._handleDocumentClickMove);\n            document.removeEventListener('touchmove', this._handleDocumentClickMove);\n        };\n        this._handleAmPmClick = (e) => {\n            const btnClicked = e.target;\n            this.amOrPm = btnClicked.classList.contains('am-btn') ? 'AM' : 'PM';\n            this._updateAmPmView();\n        };\n        /**\n         * Show hours or minutes view on timepicker.\n         * @param view The name of the view you want to switch to, 'hours' or 'minutes'.\n         */\n        this.showView = (view, delay = null) => {\n            if (view === 'minutes' && getComputedStyle(this.hoursView).visibility === 'visible') {\n                // raiseCallback(this.options.beforeHourSelect);\n            }\n            let isHours = view === 'hours', nextView = isHours ? this.hoursView : this.minutesView, hideView = isHours ? this.minutesView : this.hoursView;\n            this.currentView = view;\n            if (isHours) {\n                this.inputHours.classList.add('text-primary');\n                this.inputMinutes.classList.remove('text-primary');\n            }\n            else {\n                this.inputHours.classList.remove('text-primary');\n                this.inputMinutes.classList.add('text-primary');\n            }\n            // Transition view\n            hideView.classList.add('timepicker-dial-out');\n            nextView.style.visibility = 'visible';\n            nextView.classList.remove('timepicker-dial-out');\n            // Reset clock hand\n            this.resetClock(delay);\n            // After transitions ended\n            clearTimeout(this.toggleViewTimer);\n            this.toggleViewTimer = setTimeout(() => {\n                hideView.style.visibility = 'hidden';\n            }, this.options.duration);\n        };\n        this._inputFromTextField = () => {\n            const isHours = this.currentView === 'hours';\n            if (isHours) {\n                const value = parseInt(this.inputHours.value);\n                if (value > 0 && value < 13) {\n                    this.drawClockFromTimeInput(value, isHours);\n                    this.showView('minutes', this.options.duration / 2);\n                    this.hours = value;\n                    this.inputMinutes.focus();\n                }\n                else {\n                    const hour = new Date().getHours();\n                    this.inputHours.value = (hour % 12).toString();\n                }\n            }\n            else {\n                const value = parseInt(this.inputMinutes.value);\n                if (value >= 0 && value < 60) {\n                    this.inputMinutes.value = Timepicker._addLeadingZero(value);\n                    this.drawClockFromTimeInput(value, isHours);\n                    this.minutes = value;\n                    this.modalEl.querySelector('.confirmation-btns :nth-child(2)').focus();\n                }\n                else {\n                    const minutes = new Date().getMinutes();\n                    this.inputMinutes.value = Timepicker._addLeadingZero(minutes);\n                }\n            }\n        };\n        /**\n         * Open timepicker.\n         */\n        this.open = () => {\n            if (this.isOpen)\n                return;\n            this.isOpen = true;\n            this._updateTimeFromInput();\n            this.showView('hours');\n            this.modal.open(undefined);\n        };\n        /**\n         * Close timepicker.\n         */\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            this.isOpen = false;\n            this.modal.close();\n        };\n        this.done = (e = null, clearValue = null) => {\n            // Set input value\n            let last = this.el.value;\n            let value = clearValue\n                ? ''\n                : Timepicker._addLeadingZero(this.hours) + ':' + Timepicker._addLeadingZero(this.minutes);\n            this.time = value;\n            if (!clearValue && this.options.twelveHour) {\n                value = `${value} ${this.amOrPm}`;\n            }\n            this.el.value = value;\n            // Trigger change event\n            if (value !== last) {\n                this.el.dispatchEvent(new Event('change'));\n            }\n            this.close();\n            this.el.focus();\n        };\n        this.clear = () => {\n            this.done(null, true);\n        };\n        this.el.M_Timepicker = this;\n        this.options = Object.assign(Object.assign({}, Timepicker.defaults), options);\n        this.id = utils_1.Utils.guid();\n        this._insertHTMLIntoDOM();\n        this._setupModal();\n        this._setupVariables();\n        this._setupEventHandlers();\n        this._clockSetup();\n        this._pickerSetup();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Timepicker.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Timepicker);\n    }\n    static _addLeadingZero(num) {\n        return (num < 10 ? '0' : '') + num;\n    }\n    static _createSVGEl(name) {\n        let svgNS = 'http://www.w3.org/2000/svg';\n        return document.createElementNS(svgNS, name);\n    }\n    static _Pos(e) {\n        if (e.type.startsWith(\"touch\") && e.targetTouches.length >= 1) {\n            return { x: e.targetTouches[0].clientX, y: e.targetTouches[0].clientY };\n        }\n        // mouse event\n        return { x: e.clientX, y: e.clientY };\n    }\n    static getInstance(el) {\n        return el.M_Timepicker;\n    }\n    destroy() {\n        this._removeEventHandlers();\n        this.modal.destroy();\n        this.modalEl.remove();\n        this.el.M_Timepicker = undefined;\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('click', this._handleInputClick);\n        this.el.addEventListener('keydown', this._handleInputKeydown);\n        this.plate.addEventListener('mousedown', this._handleClockClickStart);\n        this.plate.addEventListener('touchstart', this._handleClockClickStart);\n        this.digitalClock.addEventListener('keyup', this._inputFromTextField);\n        this.inputHours.addEventListener('click', () => this.showView('hours'));\n        this.inputMinutes.addEventListener('click', () => this.showView('minutes'));\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('click', this._handleInputClick);\n        this.el.removeEventListener('keydown', this._handleInputKeydown);\n    }\n    _insertHTMLIntoDOM() {\n        const template = document.createElement('template');\n        template.innerHTML = Timepicker._template.trim();\n        this.modalEl = template.content.firstChild;\n        this.modalEl.id = 'modal-' + this.id;\n        // Append popover to input by default\n        const optEl = this.options.container;\n        const containerEl = optEl instanceof HTMLElement ? optEl : document.querySelector(optEl);\n        if (this.options.container && !!containerEl) {\n            containerEl.append(this.modalEl);\n        }\n        else {\n            this.el.parentElement.appendChild(this.modalEl);\n        }\n    }\n    _setupModal() {\n        this.modal = modal_1.Modal.init(this.modalEl, {\n            onOpenStart: this.options.onOpenStart,\n            onOpenEnd: this.options.onOpenEnd,\n            onCloseStart: this.options.onCloseStart,\n            onCloseEnd: () => {\n                if (typeof this.options.onCloseEnd === 'function') {\n                    this.options.onCloseEnd.call(this);\n                }\n                this.isOpen = false;\n            }\n        });\n    }\n    _setupVariables() {\n        this.currentView = 'hours';\n        this.vibrate = navigator.vibrate\n            ? 'vibrate'\n            : navigator.webkitVibrate\n                ? 'webkitVibrate'\n                : null;\n        this._canvas = this.modalEl.querySelector('.timepicker-canvas');\n        this.plate = this.modalEl.querySelector('.timepicker-plate');\n        this.digitalClock = this.modalEl.querySelector('.timepicker-display-column');\n        this.hoursView = this.modalEl.querySelector('.timepicker-hours');\n        this.minutesView = this.modalEl.querySelector('.timepicker-minutes');\n        this.inputHours = this.modalEl.querySelector('.timepicker-input-hours');\n        this.inputMinutes = this.modalEl.querySelector('.timepicker-input-minutes');\n        this.spanAmPm = this.modalEl.querySelector('.timepicker-span-am-pm');\n        this.footer = this.modalEl.querySelector('.timepicker-footer');\n        this.amOrPm = 'PM';\n    }\n    _createButton(text, visibility) {\n        const button = document.createElement('button');\n        button.classList.add('btn-flat', 'waves-effect');\n        button.style.visibility = visibility;\n        button.type = 'button';\n        button.tabIndex = this.options.twelveHour ? 3 : 1;\n        button.innerText = text;\n        return button;\n    }\n    _pickerSetup() {\n        const clearButton = this._createButton(this.options.i18n.clear, this.options.showClearBtn ? '' : 'hidden');\n        clearButton.classList.add('timepicker-clear');\n        clearButton.addEventListener('click', this.clear);\n        this.footer.appendChild(clearButton);\n        const confirmationBtnsContainer = document.createElement('div');\n        confirmationBtnsContainer.classList.add('confirmation-btns');\n        this.footer.append(confirmationBtnsContainer);\n        const cancelButton = this._createButton(this.options.i18n.cancel, '');\n        cancelButton.classList.add('timepicker-close');\n        cancelButton.addEventListener('click', this.close);\n        confirmationBtnsContainer.appendChild(cancelButton);\n        const doneButton = this._createButton(this.options.i18n.done, '');\n        doneButton.classList.add('timepicker-close');\n        doneButton.addEventListener('click', this.done);\n        confirmationBtnsContainer.appendChild(doneButton);\n    }\n    _clockSetup() {\n        if (this.options.twelveHour) {\n            // AM Button\n            this._amBtn = document.createElement('div');\n            this._amBtn.classList.add('am-btn');\n            this._amBtn.innerText = 'AM';\n            this._amBtn.addEventListener('click', this._handleAmPmClick);\n            this.spanAmPm.appendChild(this._amBtn);\n            // PM Button\n            this._pmBtn = document.createElement('div');\n            this._pmBtn.classList.add('pm-btn');\n            this._pmBtn.innerText = 'PM';\n            this._pmBtn.addEventListener('click', this._handleAmPmClick);\n            this.spanAmPm.appendChild(this._pmBtn);\n        }\n        this._buildHoursView();\n        this._buildMinutesView();\n        this._buildSVGClock();\n    }\n    _buildSVGClock() {\n        // Draw clock hands and others\n        let dialRadius = this.options.dialRadius;\n        let tickRadius = this.options.tickRadius;\n        let diameter = dialRadius * 2;\n        let svg = Timepicker._createSVGEl('svg');\n        svg.setAttribute('class', 'timepicker-svg');\n        svg.setAttribute('width', diameter.toString());\n        svg.setAttribute('height', diameter.toString());\n        let g = Timepicker._createSVGEl('g');\n        g.setAttribute('transform', 'translate(' + dialRadius + ',' + dialRadius + ')');\n        let bearing = Timepicker._createSVGEl('circle');\n        bearing.setAttribute('class', 'timepicker-canvas-bearing');\n        bearing.setAttribute('cx', '0');\n        bearing.setAttribute('cy', '0');\n        bearing.setAttribute('r', '4');\n        let hand = Timepicker._createSVGEl('line');\n        hand.setAttribute('x1', '0');\n        hand.setAttribute('y1', '0');\n        let bg = Timepicker._createSVGEl('circle');\n        bg.setAttribute('class', 'timepicker-canvas-bg');\n        bg.setAttribute('r', tickRadius.toString());\n        g.appendChild(hand);\n        g.appendChild(bg);\n        g.appendChild(bearing);\n        svg.appendChild(g);\n        this._canvas.appendChild(svg);\n        this.hand = hand;\n        this.bg = bg;\n        this.bearing = bearing;\n        this.g = g;\n    }\n    _buildHoursView() {\n        const $tick = document.createElement('div');\n        $tick.classList.add('timepicker-tick');\n        // Hours view\n        if (this.options.twelveHour) {\n            for (let i = 1; i < 13; i += 1) {\n                const tick = $tick.cloneNode(true);\n                const radian = (i / 6) * Math.PI;\n                const radius = this.options.outerRadius;\n                tick.style.left = this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px';\n                tick.style.top = this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px';\n                tick.innerHTML = i === 0 ? '00' : i.toString();\n                this.hoursView.appendChild(tick);\n                // tick.on(mousedownEvent, mousedown);\n            }\n        }\n        else {\n            for (let i = 0; i < 24; i += 1) {\n                const tick = $tick.cloneNode(true);\n                const radian = (i / 6) * Math.PI;\n                const inner = i > 0 && i < 13;\n                const radius = inner ? this.options.innerRadius : this.options.outerRadius;\n                tick.style.left = this.options.dialRadius + Math.sin(radian) * radius - this.options.tickRadius + 'px';\n                tick.style.top = this.options.dialRadius - Math.cos(radian) * radius - this.options.tickRadius + 'px';\n                tick.innerHTML = i === 0 ? '00' : i.toString();\n                this.hoursView.appendChild(tick);\n                // tick.on(mousedownEvent, mousedown);\n            }\n        }\n    }\n    _buildMinutesView() {\n        const _tick = document.createElement('div');\n        _tick.classList.add('timepicker-tick');\n        // Minutes view\n        for (let i = 0; i < 60; i += 5) {\n            const tick = _tick.cloneNode(true);\n            const radian = (i / 30) * Math.PI;\n            tick.style.left =\n                this.options.dialRadius +\n                    Math.sin(radian) * this.options.outerRadius -\n                    this.options.tickRadius +\n                    'px';\n            tick.style.top =\n                this.options.dialRadius -\n                    Math.cos(radian) * this.options.outerRadius -\n                    this.options.tickRadius +\n                    'px';\n            tick.innerHTML = Timepicker._addLeadingZero(i);\n            this.minutesView.appendChild(tick);\n        }\n    }\n    _updateAmPmView() {\n        if (this.options.twelveHour) {\n            if (this.amOrPm === 'PM') {\n                this._amBtn.classList.remove('text-primary');\n                this._pmBtn.classList.add('text-primary');\n            }\n            else if (this.amOrPm === 'AM') {\n                this._amBtn.classList.add('text-primary');\n                this._pmBtn.classList.remove('text-primary');\n            }\n        }\n    }\n    _updateTimeFromInput() {\n        // Get the time\n        let value = ((this.el.value || this.options.defaultTime || '') + '').split(':');\n        if (this.options.twelveHour && !(typeof value[1] === 'undefined')) {\n            if (value[1].toUpperCase().indexOf('AM') > 0) {\n                this.amOrPm = 'AM';\n            }\n            else {\n                this.amOrPm = 'PM';\n            }\n            value[1] = value[1].replace('AM', '').replace('PM', '');\n        }\n        if (value[0] === 'now') {\n            let now = new Date(+new Date() + this.options.fromNow);\n            value = [now.getHours().toString(), now.getMinutes().toString()];\n            if (this.options.twelveHour) {\n                this.amOrPm = parseInt(value[0]) >= 12 && parseInt(value[0]) < 24 ? 'PM' : 'AM';\n            }\n        }\n        this.hours = +value[0] || 0;\n        this.minutes = +value[1] || 0;\n        this.inputHours.value = this.hours;\n        this.inputMinutes.value = Timepicker._addLeadingZero(this.minutes);\n        this._updateAmPmView();\n    }\n    resetClock(delay) {\n        var _a;\n        let view = this.currentView, value = this[view], isHours = view === 'hours', unit = Math.PI / (isHours ? 6 : 30), radian = value * unit, radius = isHours && value > 0 && value < 13 ? this.options.innerRadius : this.options.outerRadius, x = Math.sin(radian) * radius, y = -Math.cos(radian) * radius, self = this;\n        if (delay) {\n            (_a = this.canvas) === null || _a === void 0 ? void 0 : _a.classList.add('timepicker-canvas-out');\n            setTimeout(() => {\n                var _a;\n                (_a = self.canvas) === null || _a === void 0 ? void 0 : _a.classList.remove('timepicker-canvas-out');\n                self.setHand(x, y);\n            }, delay);\n        }\n        else {\n            this.setHand(x, y);\n        }\n    }\n    drawClockFromTimeInput(value, isHours) {\n        const unit = Math.PI / (isHours ? 6 : 30);\n        const radian = value * unit;\n        let radius;\n        if (this.options.twelveHour) {\n            radius = this.options.outerRadius;\n        }\n        let cx1 = Math.sin(radian) * (radius - this.options.tickRadius), cy1 = -Math.cos(radian) * (radius - this.options.tickRadius), cx2 = Math.sin(radian) * radius, cy2 = -Math.cos(radian) * radius;\n        this.hand.setAttribute('x2', cx1.toString());\n        this.hand.setAttribute('y2', cy1.toString());\n        this.bg.setAttribute('cx', cx2.toString());\n        this.bg.setAttribute('cy', cy2.toString());\n    }\n    setHand(x, y, roundBy5 = false) {\n        let radian = Math.atan2(x, -y), isHours = this.currentView === 'hours', unit = Math.PI / (isHours || roundBy5 ? 6 : 30), z = Math.sqrt(x * x + y * y), inner = isHours && z < (this.options.outerRadius + this.options.innerRadius) / 2, radius = inner ? this.options.innerRadius : this.options.outerRadius;\n        if (this.options.twelveHour) {\n            radius = this.options.outerRadius;\n        }\n        // Radian should in range [0, 2PI]\n        if (radian < 0) {\n            radian = Math.PI * 2 + radian;\n        }\n        // Get the round value\n        let value = Math.round(radian / unit);\n        // Get the round radian\n        radian = value * unit;\n        // Correct the hours or minutes\n        if (this.options.twelveHour) {\n            if (isHours) {\n                if (value === 0)\n                    value = 12;\n            }\n            else {\n                if (roundBy5)\n                    value *= 5;\n                if (value === 60)\n                    value = 0;\n            }\n        }\n        else {\n            if (isHours) {\n                if (value === 12) {\n                    value = 0;\n                }\n                value = inner ? (value === 0 ? 12 : value) : value === 0 ? 0 : value + 12;\n            }\n            else {\n                if (roundBy5) {\n                    value *= 5;\n                }\n                if (value === 60) {\n                    value = 0;\n                }\n            }\n        }\n        // Once hours or minutes changed, vibrate the device\n        if (this[this.currentView] !== value) {\n            if (this.vibrate && this.options.vibrate) {\n                // Do not vibrate too frequently\n                if (!this.vibrateTimer) {\n                    navigator[this.vibrate](10);\n                    this.vibrateTimer = setTimeout(() => {\n                        this.vibrateTimer = null;\n                    }, 100);\n                }\n            }\n        }\n        this[this.currentView] = value;\n        if (isHours) {\n            this.inputHours.value = value.toString();\n        }\n        else {\n            this.inputMinutes.value = Timepicker._addLeadingZero(value);\n        }\n        // Set clock hand and others' position\n        let cx1 = Math.sin(radian) * (radius - this.options.tickRadius), cy1 = -Math.cos(radian) * (radius - this.options.tickRadius), cx2 = Math.sin(radian) * radius, cy2 = -Math.cos(radian) * radius;\n        this.hand.setAttribute('x2', cx1.toString());\n        this.hand.setAttribute('y2', cy1.toString());\n        this.bg.setAttribute('cx', cx2.toString());\n        this.bg.setAttribute('cy', cy2.toString());\n    }\n}\nexports.Timepicker = Timepicker;\n(() => {\n    Timepicker._template = `\n      <div class=\"modal timepicker-modal\">\n        <div class=\"modal-content timepicker-container\">\n          <div class=\"timepicker-digital-display\">\n            <div class=\"timepicker-text-container\">\n              <div class=\"timepicker-display-column\">\n                <input type=\"text\" maxlength=\"2\" autofocus class=\"timepicker-input-hours text-primary\" />\n                :\n                <input type=\"text\" maxlength=\"2\" class=\"timepicker-input-minutes\" />\n              </div>\n              <div class=\"timepicker-display-column timepicker-display-am-pm\">\n                <div class=\"timepicker-span-am-pm\"></div>\n              </div>\n            </div>\n          </div>\n          <div class=\"timepicker-analog-display\">\n            <div class=\"timepicker-plate\">\n              <div class=\"timepicker-canvas\"></div>\n              <div class=\"timepicker-dial timepicker-hours\"></div>\n              <div class=\"timepicker-dial timepicker-minutes timepicker-dial-out\"></div>\n            </div>\n            <div class=\"timepicker-footer\"></div>\n          </div>\n        </div>\n      </div`;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QzFDO2FBQ0k7WUFDSCxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzdEO1FBRUQsc0NBQXNDO1FBQ3RDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFDN0QsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUM1RCxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLEVBQy9CLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsTUFBTSxDQUFDO1FBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUM3QyxDQUFDO0NBd0VGO0FBNXJCRCxnQ0E0ckJDO0FBM0JDO0lBQ0UsVUFBVSxDQUFDLFNBQVMsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBd0JmLENBQUM7QUFDWCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL3RpbWVwaWNrZXIudHM/NDBjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RhbCB9IGZyb20gXCIuL21vZGFsXCI7XG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50LCBJMThuT3B0aW9ucyB9IGZyb20gXCIuL2NvbXBvbmVudFwiO1xuXG5leHBvcnQgdHlwZSBWaWV3cyA9IFwiaG91cnNcIiB8IFwibWludXRlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVwaWNrZXJPcHRpb25zIGV4dGVuZHMgQmFzZU9wdGlvbnMge1xuICAvKipcbiAgICogRGlhbCByYWRpdXMuXG4gICAqIEBkZWZhdWx0IDEzNVxuICAgKi9cbiAgZGlhbFJhZGl1czogbnVtYmVyO1xuICAvKipcbiAgICogT3V0ZXIgcmFkaXVzLlxuICAgKiBAZGVmYXVsdCAxMDVcbiAgICovXG4gIG91dGVyUmFkaXVzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBJbm5lciByYWRpdXMuXG4gICAqIEBkZWZhdWx0IDcwXG4gICAqL1xuICBpbm5lclJhZGl1czogbnVtYmVyO1xuICAvKipcbiAgICogVGljayByYWRpdXMuXG4gICAqIEBkZWZhdWx0IDIwXG4gICAqL1xuICB0aWNrUmFkaXVzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgdHJhbnNpdGlvbiBmcm9tL3RvIHRoZSBob3Vycy9taW51dGVzIHZpZXcuXG4gICAqIEBkZWZhdWx0IDM1MFxuICAgKi9cbiAgZHVyYXRpb246IG51bWJlcjtcbiAgLyoqXG4gICAqIFNwZWNpZnkgYSBET00gZWxlbWVudCBPUiBzZWxlY3RvciBmb3IgYSBET00gZWxlbWVudCB0byByZW5kZXJcbiAgICogdGhlIHRpbWUgcGlja2VyIGluLCBieSBkZWZhdWx0IGl0IHdpbGwgYmUgcGxhY2VkIGJlZm9yZSB0aGUgaW5wdXQuXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBzdHJpbmcgfCBudWxsO1xuICAvKipcbiAgICogU2hvdyB0aGUgY2xlYXIgYnV0dG9uIGluIHRoZSBUaW1lcGlja2VyLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgc2hvd0NsZWFyQnRuOiBib29sZWFuO1xuICAvKipcbiAgICogRGVmYXVsdCB0aW1lIHRvIHNldCBvbiB0aGUgdGltZXBpY2tlciAnbm93JyBvciAnMTM6MTQnLlxuICAgKiBAZGVmYXVsdCAnbm93JztcbiAgICovXG4gIGRlZmF1bHRUaW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBNaWxsaXNlY29uZCBvZmZzZXQgZnJvbSB0aGUgZGVmYXVsdFRpbWUuXG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIGZyb21Ob3c6IG51bWJlcjtcbiAgLyoqXG4gICAqIEludGVybmF0aW9uYWxpemF0aW9uIG9wdGlvbnMuXG4gICAqL1xuICBpMThuOiBQYXJ0aWFsPEkxOG5PcHRpb25zPjtcbiAgLyoqXG4gICAqIEF1dG9tYXRpY2FsbHkgY2xvc2UgcGlja2VyIHdoZW4gbWludXRlIGlzIHNlbGVjdGVkLlxuICAgKiBAZGVmYXVsdCBmYWxzZTtcbiAgICovXG4gIGF1dG9DbG9zZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFVzZSAxMiBob3VyIEFNL1BNIGNsb2NrIGluc3RlYWQgb2YgMjQgaG91ciBjbG9jay5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgdHdlbHZlSG91cjogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFZpYnJhdGUgZGV2aWNlIHdoZW4gZHJhZ2dpbmcgY2xvY2sgaGFuZC5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgdmlicmF0ZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBiZWZvcmUgbW9kYWwgaXMgb3BlbmVkLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBvbk9wZW5TdGFydDogKGVsOiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBhZnRlciBtb2RhbCBpcyBvcGVuZWQuXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIG9uT3BlbkVuZDogKGVsOiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBiZWZvcmUgbW9kYWwgaXMgY2xvc2VkLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBvbkNsb3NlU3RhcnQ6IChlbDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgbW9kYWwgaXMgY2xvc2VkLlxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqL1xuICBvbkNsb3NlRW5kOiAoZWw6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xuICAvKipcbiAgICogQ2FsbGJhY2sgZnVuY3Rpb24gd2hlbiBhIHRpbWUgaXMgc2VsZWN0ZWQuXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIG9uU2VsZWN0OiAoaG91cjogbnVtYmVyLCBtaW51dGU6IG51bWJlcikgPT4gdm9pZDtcbn1cblxubGV0IF9kZWZhdWx0czogVGltZXBpY2tlck9wdGlvbnMgPSB7XG4gIGRpYWxSYWRpdXM6IDEzNSxcbiAgb3V0ZXJSYWRpdXM6IDEwNSxcbiAgaW5uZXJSYWRpdXM6IDcwLFxuICB0aWNrUmFkaXVzOiAyMCxcbiAgZHVyYXRpb246IDM1MCxcbiAgY29udGFpbmVyOiBudWxsLFxuICBkZWZhdWx0VGltZTogJ25vdycsIC8vIGRlZmF1bHQgdGltZSwgJ25vdycgb3IgJzEzOjE0JyBlLmcuXG4gIGZyb21Ob3c6IDAsIC8vIE1pbGxpc2Vjb25kIG9mZnNldCBmcm9tIHRoZSBkZWZhdWx0VGltZVxuICBzaG93Q2xlYXJCdG46IGZhbHNlLFxuICAvLyBpbnRlcm5hdGlvbmFsaXphdGlvblxuICBpMThuOiB7XG4gICAgY2FuY2VsOiAnQ2FuY2VsJyxcbiAgICBjbGVhcjogJ0NsZWFyJyxcbiAgICBkb25lOiAnT2snXG4gIH0sXG4gIGF1dG9DbG9zZTogZmFsc2UsIC8vIGF1dG8gY2xvc2Ugd2hlbiBtaW51dGUgaXMgc2VsZWN0ZWRcbiAgdHdlbHZlSG91cjogdHJ1ZSwgLy8gY2hhbmdlIHRvIDEyIGhvdXIgQU0vUE0gY2xvY2sgZnJvbSAyNCBob3VyXG4gIHZpYnJhdGU6IHRydWUsIC8vIHZpYnJhdGUgdGhlIGRldmljZSB3aGVuIGRyYWdnaW5nIGNsb2NrIGhhbmRcbiAgLy8gQ2FsbGJhY2tzXG4gIG9uT3BlblN0YXJ0OiBudWxsLFxuICBvbk9wZW5FbmQ6IG51bGwsXG4gIG9uQ2xvc2VTdGFydDogbnVsbCxcbiAgb25DbG9zZUVuZDogbnVsbCxcbiAgb25TZWxlY3Q6IG51bGxcbn07XG5cbnR5cGUgUG9pbnQgPSB7XG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyXG59O1xuXG5leHBvcnQgY2xhc3MgVGltZXBpY2tlciBleHRlbmRzIENvbXBvbmVudDxUaW1lcGlja2VyT3B0aW9ucz4ge1xuICBkZWNsYXJlIGVsOiBIVE1MSW5wdXRFbGVtZW50O1xuICBpZDogc3RyaW5nO1xuICBtb2RhbDogTW9kYWw7XG4gIG1vZGFsRWw6IEhUTUxFbGVtZW50O1xuICBwbGF0ZTogYW55O1xuICBkaWdpdGFsQ2xvY2s6IGFueTtcbiAgaW5wdXRIb3VyczogSFRNTElucHV0RWxlbWVudDtcbiAgaW5wdXRNaW51dGVzOiBIVE1MSW5wdXRFbGVtZW50O1xuICB4MDogbnVtYmVyO1xuICB5MDogbnVtYmVyO1xuICBtb3ZlZDogYm9vbGVhbjtcbiAgZHg6IG51bWJlcjtcbiAgZHk6IG51bWJlcjtcbiAgLyoqXG4gICAqIEN1cnJlbnQgdmlldyBvbiB0aGUgdGltZXBpY2tlci5cbiAgICogQGRlZmF1bHQgJ2hvdXJzJ1xuICAgKi9cbiAgY3VycmVudFZpZXc6IFZpZXdzO1xuICBoYW5kOiBhbnk7XG4gIG1pbnV0ZXNWaWV3OiBIVE1MRWxlbWVudDtcbiAgaG91cnM6IGFueTtcbiAgbWludXRlczogYW55O1xuICAvKiogVGhlIHNlbGVjdGVkIHRpbWUuICovXG4gIHRpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIElmIHRoZSB0aW1lIGlzIEFNIG9yIFBNIG9uIHR3ZWx2ZS1ob3VyIGNsb2NrLlxuICAgKiBAZGVmYXVsdCAnUE0nXG4gICAqL1xuICBhbU9yUG06IFwiQU1cIiB8IFwiUE1cIjtcbiAgc3RhdGljIF90ZW1wbGF0ZTogYW55O1xuICAvKiogSWYgdGhlIHBpY2tlciBpcyBvcGVuLiAqL1xuICBpc09wZW46IGJvb2xlYW47XG4gIC8qKiBWaWJyYXRlIGRldmljZSB3aGVuIGRyYWdnaW5nIGNsb2NrIGhhbmQuICovXG4gIHZpYnJhdGU6IFwidmlicmF0ZVwiIHwgXCJ3ZWJraXRWaWJyYXRlXCIgfCBudWxsO1xuICBfY2FudmFzOiBIVE1MRWxlbWVudDtcbiAgaG91cnNWaWV3OiBhbnk7XG4gIHNwYW5BbVBtOiBIVE1MU3BhbkVsZW1lbnQ7XG4gIGZvb3RlcjogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgX2FtQnRuOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBfcG1CdG46IEhUTUxFbGVtZW50O1xuICBiZzogRWxlbWVudDtcbiAgYmVhcmluZzogRWxlbWVudDtcbiAgZzogRWxlbWVudDtcbiAgdG9nZ2xlVmlld1RpbWVyOiBzdHJpbmcgfCBudW1iZXIgfCBOb2RlSlMuVGltZW91dDtcbiAgY2FudmFzOiBhbnk7XG4gIHZpYnJhdGVUaW1lcjogYW55O1xuXG4gIGNvbnN0cnVjdG9yKGVsOiBIVE1MSW5wdXRFbGVtZW50LCBvcHRpb25zOiBQYXJ0aWFsPFRpbWVwaWNrZXJPcHRpb25zPikge1xuICAgIHN1cGVyKGVsLCBvcHRpb25zLCBUaW1lcGlja2VyKTtcbiAgICAodGhpcy5lbCBhcyBhbnkpLk1fVGltZXBpY2tlciA9IHRoaXM7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi5UaW1lcGlja2VyLmRlZmF1bHRzLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG5cbiAgICB0aGlzLmlkID0gVXRpbHMuZ3VpZCgpO1xuICAgIHRoaXMuX2luc2VydEhUTUxJbnRvRE9NKCk7XG4gICAgdGhpcy5fc2V0dXBNb2RhbCgpO1xuICAgIHRoaXMuX3NldHVwVmFyaWFibGVzKCk7XG4gICAgdGhpcy5fc2V0dXBFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5fY2xvY2tTZXR1cCgpO1xuICAgIHRoaXMuX3BpY2tlclNldHVwKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCk6IFRpbWVwaWNrZXJPcHRpb25zIHtcbiAgICByZXR1cm4gX2RlZmF1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlIG9mIFRpbWVwaWNrZXIuXG4gICAqIEBwYXJhbSBlbCBIVE1MIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWw6IEhUTUxJbnB1dEVsZW1lbnQsIG9wdGlvbnM/OiBQYXJ0aWFsPFRpbWVwaWNrZXJPcHRpb25zPik6IFRpbWVwaWNrZXI7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgVGltZXBpY2tlci5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPEhUTUxJbnB1dEVsZW1lbnQgfCBNRWxlbWVudD4sIG9wdGlvbnM/OiBQYXJ0aWFsPFRpbWVwaWNrZXJPcHRpb25zPik6IFRpbWVwaWNrZXJbXTtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGluc3RhbmNlcyBvZiBUaW1lcGlja2VyLlxuICAgKiBAcGFyYW0gZWxzIEhUTUwgZWxlbWVudHMuXG4gICAqIEBwYXJhbSBvcHRpb25zIENvbXBvbmVudCBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGluaXQoZWxzOiBIVE1MSW5wdXRFbGVtZW50IHwgSW5pdEVsZW1lbnRzPEhUTUxJbnB1dEVsZW1lbnQgfCBNRWxlbWVudD4sIG9wdGlvbnM6IFBhcnRpYWw8VGltZXBpY2tlck9wdGlvbnM+ID0ge30pOiBUaW1lcGlja2VyIHwgVGltZXBpY2tlcltdIHtcbiAgICByZXR1cm4gc3VwZXIuaW5pdChlbHMsIG9wdGlvbnMsIFRpbWVwaWNrZXIpO1xuICB9XG5cbiAgc3RhdGljIF9hZGRMZWFkaW5nWmVybyhudW06IG51bWJlcikge1xuICAgIHJldHVybiAobnVtIDwgMTAgPyAnMCcgOiAnJykgKyBudW07XG4gIH1cblxuICBzdGF0aWMgX2NyZWF0ZVNWR0VsKG5hbWU6IHN0cmluZykge1xuICAgIGxldCBzdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgbmFtZSk7XG4gIH1cblxuICBzdGF0aWMgX1BvcyhlOiBUb3VjaEV2ZW50IHwgTW91c2VFdmVudCk6IFBvaW50IHtcbiAgICBpZiAoZS50eXBlLnN0YXJ0c1dpdGgoXCJ0b3VjaFwiKSAmJiAoZSBhcyBUb3VjaEV2ZW50KS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICByZXR1cm4geyB4OiAoZSBhcyBUb3VjaEV2ZW50KS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFgsIHk6IChlIGFzIFRvdWNoRXZlbnQpLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WSB9O1xuICAgIH1cbiAgICAvLyBtb3VzZSBldmVudFxuICAgIHJldHVybiB7IHg6IChlIGFzIE1vdXNlRXZlbnQpLmNsaWVudFgsIHk6IChlIGFzIE1vdXNlRXZlbnQpLmNsaWVudFkgfTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBUaW1lcGlja2VyIHtcbiAgICByZXR1cm4gKGVsIGFzIGFueSkuTV9UaW1lcGlja2VyO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5tb2RhbC5kZXN0cm95KCk7XG4gICAgdGhpcy5tb2RhbEVsLnJlbW92ZSgpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9UaW1lcGlja2VyID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGljayk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlSW5wdXRLZXlkb3duKTtcbiAgICB0aGlzLnBsYXRlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZUNsb2NrQ2xpY2tTdGFydCk7XG4gICAgdGhpcy5wbGF0ZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlQ2xvY2tDbGlja1N0YXJ0KTtcbiAgICB0aGlzLmRpZ2l0YWxDbG9jay5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2lucHV0RnJvbVRleHRGaWVsZCk7XG4gICAgdGhpcy5pbnB1dEhvdXJzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zaG93VmlldygnaG91cnMnKSk7XG4gICAgdGhpcy5pbnB1dE1pbnV0ZXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnNob3dWaWV3KCdtaW51dGVzJykpO1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUlucHV0Q2xpY2spO1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUlucHV0S2V5ZG93bik7XG4gIH1cblxuICBfaGFuZGxlSW5wdXRDbGljayA9ICgpID0+IHtcbiAgICB0aGlzLm9wZW4oKTtcbiAgfVxuXG4gIF9oYW5kbGVJbnB1dEtleWRvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChVdGlscy5rZXlzLkVOVEVSLmluY2x1ZGVzKGUua2V5KSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVRpbWVJbnB1dEVudGVyS2V5ID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBpZiAoVXRpbHMua2V5cy5FTlRFUi5pbmNsdWRlcyhlLmtleSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2lucHV0RnJvbVRleHRGaWVsZCgpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVDbG9ja0NsaWNrU3RhcnQgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBsZXQgY2xvY2tQbGF0ZUJSID0gdGhpcy5wbGF0ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgb2Zmc2V0ID0geyB4OiBjbG9ja1BsYXRlQlIubGVmdCwgeTogY2xvY2tQbGF0ZUJSLnRvcCB9O1xuXG4gICAgdGhpcy54MCA9IG9mZnNldC54ICsgdGhpcy5vcHRpb25zLmRpYWxSYWRpdXM7XG4gICAgdGhpcy55MCA9IG9mZnNldC55ICsgdGhpcy5vcHRpb25zLmRpYWxSYWRpdXM7XG4gICAgdGhpcy5tb3ZlZCA9IGZhbHNlO1xuICAgIGxldCBjbGlja1BvcyA9IFRpbWVwaWNrZXIuX1BvcyhlKTtcbiAgICB0aGlzLmR4ID0gY2xpY2tQb3MueCAtIHRoaXMueDA7XG4gICAgdGhpcy5keSA9IGNsaWNrUG9zLnkgLSB0aGlzLnkwO1xuXG4gICAgLy8gU2V0IGNsb2NrIGhhbmRzXG4gICAgdGhpcy5zZXRIYW5kKHRoaXMuZHgsIHRoaXMuZHksIGZhbHNlKTtcbiAgICAvLyBNb3VzZW1vdmUgb24gZG9jdW1lbnRcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrTW92ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja01vdmUpO1xuICAgIC8vIE1vdXNldXAgb24gZG9jdW1lbnRcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0VuZCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrRW5kKTtcbiAgfVxuXG4gIF9oYW5kbGVEb2N1bWVudENsaWNrTW92ZSA9IChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGxldCBjbGlja1BvcyA9IFRpbWVwaWNrZXIuX1BvcyhlKTtcbiAgICBsZXQgeCA9IGNsaWNrUG9zLnggLSB0aGlzLngwO1xuICAgIGxldCB5ID0gY2xpY2tQb3MueSAtIHRoaXMueTA7XG4gICAgdGhpcy5tb3ZlZCA9IHRydWU7XG4gICAgdGhpcy5zZXRIYW5kKHgsIHksIGZhbHNlKTtcbiAgfVxuXG4gIF9oYW5kbGVEb2N1bWVudENsaWNrRW5kID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZURvY3VtZW50Q2xpY2tFbmQpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja0VuZCk7XG4gICAgbGV0IGNsaWNrUG9zID0gVGltZXBpY2tlci5fUG9zKGUpO1xuICAgIGxldCB4ID0gY2xpY2tQb3MueCAtIHRoaXMueDA7XG4gICAgbGV0IHkgPSBjbGlja1Bvcy55IC0gdGhpcy55MDtcbiAgICBpZiAodGhpcy5tb3ZlZCAmJiB4ID09PSB0aGlzLmR4ICYmIHkgPT09IHRoaXMuZHkpIHtcbiAgICAgIHRoaXMuc2V0SGFuZCh4LCB5KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY3VycmVudFZpZXcgPT09ICdob3VycycpIHtcbiAgICAgIHRoaXMuc2hvd1ZpZXcoJ21pbnV0ZXMnLCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gLyAyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLmF1dG9DbG9zZSkge1xuICAgICAgdGhpcy5taW51dGVzVmlldy5jbGFzc0xpc3QuYWRkKCd0aW1lcGlja2VyLWRpYWwtb3V0Jyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5kb25lKCk7XG4gICAgICB9LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gLyAyKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMub25TZWxlY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5vblNlbGVjdC5jYWxsKHRoaXMsIHRoaXMuaG91cnMsIHRoaXMubWludXRlcyk7XG4gICAgfVxuICAgIC8vIFVuYmluZCBtb3VzZW1vdmUgZXZlbnRcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVEb2N1bWVudENsaWNrTW92ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlRG9jdW1lbnRDbGlja01vdmUpO1xuICB9XG5cbiAgX2luc2VydEhUTUxJbnRvRE9NKCkge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBUaW1lcGlja2VyLl90ZW1wbGF0ZS50cmltKCk7XG4gICAgdGhpcy5tb2RhbEVsID0gPEhUTUxFbGVtZW50PnRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICB0aGlzLm1vZGFsRWwuaWQgPSAnbW9kYWwtJyArIHRoaXMuaWQ7XG5cbiAgICAvLyBBcHBlbmQgcG9wb3ZlciB0byBpbnB1dCBieSBkZWZhdWx0XG4gICAgY29uc3Qgb3B0RWwgPSB0aGlzLm9wdGlvbnMuY29udGFpbmVyO1xuICAgIGNvbnN0IGNvbnRhaW5lckVsID0gb3B0RWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IG9wdEVsIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRFbCk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRhaW5lciAmJiAhIWNvbnRhaW5lckVsKSB7XG4gICAgICBjb250YWluZXJFbC5hcHBlbmQodGhpcy5tb2RhbEVsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmVsLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5tb2RhbEVsKTtcbiAgICB9XG4gIH1cblxuICBfc2V0dXBNb2RhbCgpIHtcbiAgICB0aGlzLm1vZGFsID0gTW9kYWwuaW5pdCh0aGlzLm1vZGFsRWwsIHtcbiAgICAgIG9uT3BlblN0YXJ0OiB0aGlzLm9wdGlvbnMub25PcGVuU3RhcnQsXG4gICAgICBvbk9wZW5FbmQ6IHRoaXMub3B0aW9ucy5vbk9wZW5FbmQsXG4gICAgICBvbkNsb3NlU3RhcnQ6IHRoaXMub3B0aW9ucy5vbkNsb3NlU3RhcnQsXG4gICAgICBvbkNsb3NlRW5kOiAoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm9uQ2xvc2VFbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMub25DbG9zZUVuZC5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfc2V0dXBWYXJpYWJsZXMoKSB7XG4gICAgdGhpcy5jdXJyZW50VmlldyA9ICdob3Vycyc7XG4gICAgdGhpcy52aWJyYXRlID0gbmF2aWdhdG9yLnZpYnJhdGVcbiAgICAgID8gJ3ZpYnJhdGUnXG4gICAgICA6IChuYXZpZ2F0b3IgYXMgYW55KS53ZWJraXRWaWJyYXRlXG4gICAgICA/ICd3ZWJraXRWaWJyYXRlJ1xuICAgICAgOiBudWxsO1xuICAgIHRoaXMuX2NhbnZhcyA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1jYW52YXMnKTtcbiAgICB0aGlzLnBsYXRlID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLXBsYXRlJyk7XG4gICAgdGhpcy5kaWdpdGFsQ2xvY2sgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItZGlzcGxheS1jb2x1bW4nKTtcbiAgICB0aGlzLmhvdXJzVmlldyA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1ob3VycycpO1xuICAgIHRoaXMubWludXRlc1ZpZXcgPSB0aGlzLm1vZGFsRWwucXVlcnlTZWxlY3RvcignLnRpbWVwaWNrZXItbWludXRlcycpO1xuICAgIHRoaXMuaW5wdXRIb3VycyA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1pbnB1dC1ob3VycycpO1xuICAgIHRoaXMuaW5wdXRNaW51dGVzID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLWlucHV0LW1pbnV0ZXMnKTtcbiAgICB0aGlzLnNwYW5BbVBtID0gdGhpcy5tb2RhbEVsLnF1ZXJ5U2VsZWN0b3IoJy50aW1lcGlja2VyLXNwYW4tYW0tcG0nKTtcbiAgICB0aGlzLmZvb3RlciA9IHRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcudGltZXBpY2tlci1mb290ZXInKTtcbiAgICB0aGlzLmFtT3JQbSA9ICdQTSc7XG4gIH1cblxuICBwcml2YXRlIF9jcmVhdGVCdXR0b24odGV4dDogc3RyaW5nLCB2aXNpYmlsaXR5OiBzdHJpbmcpOiBIVE1MQnV0dG9uRWxlbWVudCB7XG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J0bi1mbGF0JywgJ3dhdmVzLWVmZmVjdCcpO1xuICAgIGJ1dHRvbi5zdHlsZS52aXNpYmlsaXR5ID0gdmlzaWJpbGl0eTtcbiAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgIGJ1dHRvbi50YWJJbmRleCA9IHRoaXMub3B0aW9ucy50d2VsdmVIb3VyID8gMyA6IDE7XG4gICAgYnV0dG9uLmlubmVyVGV4dCA9IHRleHQ7XG4gICAgcmV0dXJuIGJ1dHRvbjtcbiAgfVxuXG4gIF9waWNrZXJTZXR1cCgpIHtcbiAgICBjb25zdCBjbGVhckJ1dHRvbiA9IHRoaXMuX2NyZWF0ZUJ1dHRvbih0aGlzLm9wdGlvbnMuaTE4bi5jbGVhciwgdGhpcy5vcHRpb25zLnNob3dDbGVhckJ0biA/ICcnIDogJ2hpZGRlbicpO1xuICAgIGNsZWFyQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItY2xlYXInKTtcbiAgICBjbGVhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xlYXIpO1xuICAgIHRoaXMuZm9vdGVyLmFwcGVuZENoaWxkKGNsZWFyQnV0dG9uKTtcblxuICAgIGNvbnN0IGNvbmZpcm1hdGlvbkJ0bnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25maXJtYXRpb25CdG5zQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NvbmZpcm1hdGlvbi1idG5zJyk7XG4gICAgdGhpcy5mb290ZXIuYXBwZW5kKGNvbmZpcm1hdGlvbkJ0bnNDb250YWluZXIpO1xuXG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0gdGhpcy5fY3JlYXRlQnV0dG9uKHRoaXMub3B0aW9ucy5pMThuLmNhbmNlbCwgJycpO1xuICAgIGNhbmNlbEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0aW1lcGlja2VyLWNsb3NlJyk7XG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZSk7XG4gICAgY29uZmlybWF0aW9uQnRuc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjYW5jZWxCdXR0b24pO1xuXG4gICAgY29uc3QgZG9uZUJ1dHRvbiA9IHRoaXMuX2NyZWF0ZUJ1dHRvbih0aGlzLm9wdGlvbnMuaTE4bi5kb25lLCAnJyk7XG4gICAgZG9uZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0aW1lcGlja2VyLWNsb3NlJyk7XG4gICAgZG9uZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZG9uZSk7XG4gICAgY29uZmlybWF0aW9uQnRuc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkb25lQnV0dG9uKTtcbiAgfVxuXG4gIF9jbG9ja1NldHVwKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xuICAgICAgLy8gQU0gQnV0dG9uXG4gICAgICB0aGlzLl9hbUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGhpcy5fYW1CdG4uY2xhc3NMaXN0LmFkZCgnYW0tYnRuJyk7XG4gICAgICB0aGlzLl9hbUJ0bi5pbm5lclRleHQgPSAnQU0nO1xuICAgICAgdGhpcy5fYW1CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVBbVBtQ2xpY2spO1xuICAgICAgdGhpcy5zcGFuQW1QbS5hcHBlbmRDaGlsZCh0aGlzLl9hbUJ0bik7XG4gICAgICAvLyBQTSBCdXR0b25cbiAgICAgIHRoaXMuX3BtQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLl9wbUJ0bi5jbGFzc0xpc3QuYWRkKCdwbS1idG4nKTtcbiAgICAgIHRoaXMuX3BtQnRuLmlubmVyVGV4dCA9ICdQTSc7XG4gICAgICB0aGlzLl9wbUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUFtUG1DbGljayk7XG4gICAgICB0aGlzLnNwYW5BbVBtLmFwcGVuZENoaWxkKHRoaXMuX3BtQnRuKTtcbiAgICB9XG4gICAgdGhpcy5fYnVpbGRIb3Vyc1ZpZXcoKTtcbiAgICB0aGlzLl9idWlsZE1pbnV0ZXNWaWV3KCk7XG4gICAgdGhpcy5fYnVpbGRTVkdDbG9jaygpO1xuICB9XG5cbiAgX2J1aWxkU1ZHQ2xvY2soKSB7XG4gICAgLy8gRHJhdyBjbG9jayBoYW5kcyBhbmQgb3RoZXJzXG4gICAgbGV0IGRpYWxSYWRpdXMgPSB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cztcbiAgICBsZXQgdGlja1JhZGl1cyA9IHRoaXMub3B0aW9ucy50aWNrUmFkaXVzO1xuICAgIGxldCBkaWFtZXRlciA9IGRpYWxSYWRpdXMgKiAyO1xuICAgIGxldCBzdmcgPSBUaW1lcGlja2VyLl9jcmVhdGVTVkdFbCgnc3ZnJyk7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndGltZXBpY2tlci1zdmcnKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGRpYW1ldGVyLnRvU3RyaW5nKCkpO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGRpYW1ldGVyLnRvU3RyaW5nKCkpO1xuICAgIGxldCBnID0gVGltZXBpY2tlci5fY3JlYXRlU1ZHRWwoJ2cnKTtcbiAgICBnLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgZGlhbFJhZGl1cyArICcsJyArIGRpYWxSYWRpdXMgKyAnKScpO1xuICAgIGxldCBiZWFyaW5nID0gVGltZXBpY2tlci5fY3JlYXRlU1ZHRWwoJ2NpcmNsZScpO1xuICAgIGJlYXJpbmcuc2V0QXR0cmlidXRlKCdjbGFzcycsICd0aW1lcGlja2VyLWNhbnZhcy1iZWFyaW5nJyk7XG4gICAgYmVhcmluZy5zZXRBdHRyaWJ1dGUoJ2N4JywgJzAnKTtcbiAgICBiZWFyaW5nLnNldEF0dHJpYnV0ZSgnY3knLCAnMCcpO1xuICAgIGJlYXJpbmcuc2V0QXR0cmlidXRlKCdyJywgJzQnKTtcbiAgICBsZXQgaGFuZCA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdsaW5lJyk7XG4gICAgaGFuZC5zZXRBdHRyaWJ1dGUoJ3gxJywgJzAnKTtcbiAgICBoYW5kLnNldEF0dHJpYnV0ZSgneTEnLCAnMCcpO1xuICAgIGxldCBiZyA9IFRpbWVwaWNrZXIuX2NyZWF0ZVNWR0VsKCdjaXJjbGUnKTtcbiAgICBiZy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RpbWVwaWNrZXItY2FudmFzLWJnJyk7XG4gICAgYmcuc2V0QXR0cmlidXRlKCdyJywgdGlja1JhZGl1cy50b1N0cmluZygpKTtcbiAgICBnLmFwcGVuZENoaWxkKGhhbmQpO1xuICAgIGcuYXBwZW5kQ2hpbGQoYmcpO1xuICAgIGcuYXBwZW5kQ2hpbGQoYmVhcmluZyk7XG4gICAgc3ZnLmFwcGVuZENoaWxkKGcpO1xuICAgIHRoaXMuX2NhbnZhcy5hcHBlbmRDaGlsZChzdmcpO1xuICAgIHRoaXMuaGFuZCA9IGhhbmQ7XG4gICAgdGhpcy5iZyA9IGJnO1xuICAgIHRoaXMuYmVhcmluZyA9IGJlYXJpbmc7XG4gICAgdGhpcy5nID0gZztcbiAgfVxuXG4gIF9idWlsZEhvdXJzVmlldygpIHtcbiAgICBjb25zdCAkdGljayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICR0aWNrLmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItdGljaycpO1xuICAgIC8vIEhvdXJzIHZpZXdcbiAgICBpZiAodGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIpIHtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTM7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCB0aWNrID0gPEhUTUxFbGVtZW50PiR0aWNrLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgY29uc3QgcmFkaWFuID0gKGkgLyA2KSAqIE1hdGguUEk7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMub3B0aW9ucy5vdXRlclJhZGl1cztcbiAgICAgICAgdGljay5zdHlsZS5sZWZ0ID0gdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgKyBNYXRoLnNpbihyYWRpYW4pICogcmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMgKyAncHgnO1xuICAgICAgICB0aWNrLnN0eWxlLnRvcCA9IHRoaXMub3B0aW9ucy5kaWFsUmFkaXVzIC0gTWF0aC5jb3MocmFkaWFuKSAqIHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICsgJ3B4JztcbiAgICAgICAgdGljay5pbm5lckhUTUwgPSBpID09PSAwID8gJzAwJyA6IGkudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5ob3Vyc1ZpZXcuYXBwZW5kQ2hpbGQodGljayk7XG4gICAgICAgIC8vIHRpY2sub24obW91c2Vkb3duRXZlbnQsIG1vdXNlZG93bik7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyNDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IHRpY2sgPSA8SFRNTEVsZW1lbnQ+JHRpY2suY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICBjb25zdCByYWRpYW4gPSAoaSAvIDYpICogTWF0aC5QSTtcbiAgICAgICAgY29uc3QgaW5uZXIgPSBpID4gMCAmJiBpIDwgMTM7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IGlubmVyID8gdGhpcy5vcHRpb25zLmlubmVyUmFkaXVzIDogdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzO1xuICAgICAgICB0aWNrLnN0eWxlLmxlZnQgPSB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cyArIE1hdGguc2luKHJhZGlhbikgKiByYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArICdweCc7XG4gICAgICAgIHRpY2suc3R5bGUudG9wID0gdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgLSBNYXRoLmNvcyhyYWRpYW4pICogcmFkaXVzIC0gdGhpcy5vcHRpb25zLnRpY2tSYWRpdXMgKyAncHgnO1xuICAgICAgICB0aWNrLmlubmVySFRNTCA9IGkgPT09IDAgPyAnMDAnIDogaS50b1N0cmluZygpO1xuICAgICAgICB0aGlzLmhvdXJzVmlldy5hcHBlbmRDaGlsZCh0aWNrKTtcbiAgICAgICAgLy8gdGljay5vbihtb3VzZWRvd25FdmVudCwgbW91c2Vkb3duKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfYnVpbGRNaW51dGVzVmlldygpIHtcbiAgICBjb25zdCBfdGljayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIF90aWNrLmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItdGljaycpO1xuICAgIC8vIE1pbnV0ZXMgdmlld1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjA7IGkgKz0gNSkge1xuICAgICAgY29uc3QgdGljayA9IDxIVE1MRWxlbWVudD5fdGljay5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBjb25zdCByYWRpYW4gPSAoaSAvIDMwKSAqIE1hdGguUEk7XG4gICAgICB0aWNrLnN0eWxlLmxlZnQgPVxuICAgICAgICB0aGlzLm9wdGlvbnMuZGlhbFJhZGl1cyArXG4gICAgICAgIE1hdGguc2luKHJhZGlhbikgKiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMgLVxuICAgICAgICB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyArXG4gICAgICAgICdweCc7XG4gICAgICB0aWNrLnN0eWxlLnRvcCA9XG4gICAgICAgICAgdGhpcy5vcHRpb25zLmRpYWxSYWRpdXMgLVxuICAgICAgICAgIE1hdGguY29zKHJhZGlhbikgKiB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMgLVxuICAgICAgICAgIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzICtcbiAgICAgICAgICAncHgnO1xuICAgICAgdGljay5pbm5lckhUTUwgPSBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyhpKTtcbiAgICAgIHRoaXMubWludXRlc1ZpZXcuYXBwZW5kQ2hpbGQodGljayk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUFtUG1DbGljayA9IChlKSA9PiB7XG4gICAgY29uc3QgYnRuQ2xpY2tlZCA9IDxIVE1MRWxlbWVudD5lLnRhcmdldDtcbiAgICB0aGlzLmFtT3JQbSA9IGJ0bkNsaWNrZWQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbS1idG4nKSA/ICdBTScgOiAnUE0nO1xuICAgIHRoaXMuX3VwZGF0ZUFtUG1WaWV3KCk7XG4gIH1cblxuICBfdXBkYXRlQW1QbVZpZXcoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICBpZiAodGhpcy5hbU9yUG0gPT09ICdQTScpIHtcbiAgICAgICAgdGhpcy5fYW1CdG4uY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1wcmltYXJ5Jyk7XG4gICAgICAgIHRoaXMuX3BtQnRuLmNsYXNzTGlzdC5hZGQoJ3RleHQtcHJpbWFyeScpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5hbU9yUG0gPT09ICdBTScpIHtcbiAgICAgICAgdGhpcy5fYW1CdG4uY2xhc3NMaXN0LmFkZCgndGV4dC1wcmltYXJ5Jyk7XG4gICAgICAgIHRoaXMuX3BtQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtcHJpbWFyeScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF91cGRhdGVUaW1lRnJvbUlucHV0KCkge1xuICAgIC8vIEdldCB0aGUgdGltZVxuICAgIGxldCB2YWx1ZSA9ICgodGhpcy5lbC52YWx1ZSB8fCB0aGlzLm9wdGlvbnMuZGVmYXVsdFRpbWUgfHwgJycpICsgJycpLnNwbGl0KCc6Jyk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyICYmICEodHlwZW9mIHZhbHVlWzFdID09PSAndW5kZWZpbmVkJykpIHtcbiAgICAgIGlmICh2YWx1ZVsxXS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ0FNJykgPiAwKSB7XG4gICAgICAgIHRoaXMuYW1PclBtID0gJ0FNJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYW1PclBtID0gJ1BNJztcbiAgICAgIH1cbiAgICAgIHZhbHVlWzFdID0gdmFsdWVbMV0ucmVwbGFjZSgnQU0nLCAnJykucmVwbGFjZSgnUE0nLCAnJyk7XG4gICAgfVxuICAgIGlmICh2YWx1ZVswXSA9PT0gJ25vdycpIHtcbiAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgrbmV3IERhdGUoKSArIHRoaXMub3B0aW9ucy5mcm9tTm93KTtcbiAgICAgIHZhbHVlID0gW25vdy5nZXRIb3VycygpLnRvU3RyaW5nKCksIG5vdy5nZXRNaW51dGVzKCkudG9TdHJpbmcoKV07XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnR3ZWx2ZUhvdXIpIHtcbiAgICAgICAgdGhpcy5hbU9yUG0gPSBwYXJzZUludCh2YWx1ZVswXSkgPj0gMTIgJiYgcGFyc2VJbnQodmFsdWVbMF0pIDwgMjQgPyAnUE0nIDogJ0FNJztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5ob3VycyA9ICt2YWx1ZVswXSB8fCAwO1xuICAgIHRoaXMubWludXRlcyA9ICt2YWx1ZVsxXSB8fCAwO1xuICAgIHRoaXMuaW5wdXRIb3Vycy52YWx1ZSA9IHRoaXMuaG91cnM7XG4gICAgdGhpcy5pbnB1dE1pbnV0ZXMudmFsdWUgPSBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyh0aGlzLm1pbnV0ZXMpO1xuXG4gICAgdGhpcy5fdXBkYXRlQW1QbVZpZXcoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGhvdXJzIG9yIG1pbnV0ZXMgdmlldyBvbiB0aW1lcGlja2VyLlxuICAgKiBAcGFyYW0gdmlldyBUaGUgbmFtZSBvZiB0aGUgdmlldyB5b3Ugd2FudCB0byBzd2l0Y2ggdG8sICdob3Vycycgb3IgJ21pbnV0ZXMnLlxuICAgKi9cbiAgc2hvd1ZpZXcgPSAodmlldzogVmlld3MsIGRlbGF5OiBudW1iZXIgPSBudWxsKSA9PiB7XG4gICAgaWYgKHZpZXcgPT09ICdtaW51dGVzJyAmJiBnZXRDb21wdXRlZFN0eWxlKHRoaXMuaG91cnNWaWV3KS52aXNpYmlsaXR5ID09PSAndmlzaWJsZScpIHtcbiAgICAgIC8vIHJhaXNlQ2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZUhvdXJTZWxlY3QpO1xuICAgIH1cbiAgICBsZXQgaXNIb3VycyA9IHZpZXcgPT09ICdob3VycycsXG4gICAgICBuZXh0VmlldyA9IGlzSG91cnMgPyB0aGlzLmhvdXJzVmlldyA6IHRoaXMubWludXRlc1ZpZXcsXG4gICAgICBoaWRlVmlldyA9IGlzSG91cnMgPyB0aGlzLm1pbnV0ZXNWaWV3IDogdGhpcy5ob3Vyc1ZpZXc7XG4gICAgdGhpcy5jdXJyZW50VmlldyA9IHZpZXc7XG5cbiAgICBpZiAoaXNIb3Vycykge1xuICAgICAgdGhpcy5pbnB1dEhvdXJzLmNsYXNzTGlzdC5hZGQoJ3RleHQtcHJpbWFyeScpO1xuICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1wcmltYXJ5Jyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5pbnB1dEhvdXJzLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtcHJpbWFyeScpO1xuICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMuY2xhc3NMaXN0LmFkZCgndGV4dC1wcmltYXJ5Jyk7XG4gICAgfVxuXG4gICAgLy8gVHJhbnNpdGlvbiB2aWV3XG4gICAgaGlkZVZpZXcuY2xhc3NMaXN0LmFkZCgndGltZXBpY2tlci1kaWFsLW91dCcpO1xuXG4gICAgbmV4dFZpZXcuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICBuZXh0Vmlldy5jbGFzc0xpc3QucmVtb3ZlKCd0aW1lcGlja2VyLWRpYWwtb3V0Jyk7XG5cbiAgICAvLyBSZXNldCBjbG9jayBoYW5kXG4gICAgdGhpcy5yZXNldENsb2NrKGRlbGF5KTtcbiAgICAvLyBBZnRlciB0cmFuc2l0aW9ucyBlbmRlZFxuICAgIGNsZWFyVGltZW91dCh0aGlzLnRvZ2dsZVZpZXdUaW1lcik7XG4gICAgdGhpcy50b2dnbGVWaWV3VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGhpZGVWaWV3LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICB9LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xuICB9XG5cbiAgcmVzZXRDbG9jayhkZWxheSkge1xuICAgIGxldCB2aWV3ID0gdGhpcy5jdXJyZW50VmlldyxcbiAgICAgIHZhbHVlID0gdGhpc1t2aWV3XSxcbiAgICAgIGlzSG91cnMgPSB2aWV3ID09PSAnaG91cnMnLFxuICAgICAgdW5pdCA9IE1hdGguUEkgLyAoaXNIb3VycyA/IDYgOiAzMCksXG4gICAgICByYWRpYW4gPSB2YWx1ZSAqIHVuaXQsXG4gICAgICByYWRpdXMgPVxuICAgICAgICBpc0hvdXJzICYmIHZhbHVlID4gMCAmJiB2YWx1ZSA8IDEzID8gdGhpcy5vcHRpb25zLmlubmVyUmFkaXVzIDogdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzLFxuICAgICAgeCA9IE1hdGguc2luKHJhZGlhbikgKiByYWRpdXMsXG4gICAgICB5ID0gLU1hdGguY29zKHJhZGlhbikgKiByYWRpdXMsXG4gICAgICBzZWxmID0gdGhpcztcblxuICAgIGlmIChkZWxheSkge1xuICAgICAgdGhpcy5jYW52YXM/LmNsYXNzTGlzdC5hZGQoJ3RpbWVwaWNrZXItY2FudmFzLW91dCcpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNlbGYuY2FudmFzPy5jbGFzc0xpc3QucmVtb3ZlKCd0aW1lcGlja2VyLWNhbnZhcy1vdXQnKTtcbiAgICAgICAgc2VsZi5zZXRIYW5kKHgsIHkpO1xuICAgICAgfSwgZGVsYXkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc2V0SGFuZCh4LCB5KTtcbiAgICB9XG4gIH1cblxuICBfaW5wdXRGcm9tVGV4dEZpZWxkID0gKCkgPT4ge1xuICAgIGNvbnN0IGlzSG91cnMgPSB0aGlzLmN1cnJlbnRWaWV3ID09PSAnaG91cnMnO1xuICAgIGlmIChpc0hvdXJzKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KHRoaXMuaW5wdXRIb3Vycy52YWx1ZSk7XG4gICAgICBpZiAodmFsdWUgPiAwICYmIHZhbHVlIDwgMTMpIHtcbiAgICAgICAgdGhpcy5kcmF3Q2xvY2tGcm9tVGltZUlucHV0KHZhbHVlLCBpc0hvdXJzKTtcbiAgICAgICAgdGhpcy5zaG93VmlldygnbWludXRlcycsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAvIDIpO1xuICAgICAgICB0aGlzLmhvdXJzID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaW5wdXRNaW51dGVzLmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaG91ciA9IG5ldyBEYXRlKCkuZ2V0SG91cnMoKTtcbiAgICAgICAgdGhpcy5pbnB1dEhvdXJzLnZhbHVlID0gKGhvdXIgJSAxMikudG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KHRoaXMuaW5wdXRNaW51dGVzLnZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA+PSAwICYmIHZhbHVlIDwgNjApIHtcbiAgICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMudmFsdWUgPSBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyh2YWx1ZSk7XG4gICAgICAgIHRoaXMuZHJhd0Nsb2NrRnJvbVRpbWVJbnB1dCh2YWx1ZSwgaXNIb3Vycyk7XG4gICAgICAgIHRoaXMubWludXRlcyA9IHZhbHVlO1xuICAgICAgICAoPEhUTUxFbGVtZW50PnRoaXMubW9kYWxFbC5xdWVyeVNlbGVjdG9yKCcuY29uZmlybWF0aW9uLWJ0bnMgOm50aC1jaGlsZCgyKScpKS5mb2N1cygpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBuZXcgRGF0ZSgpLmdldE1pbnV0ZXMoKTtcbiAgICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMudmFsdWUgPSBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyhtaW51dGVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkcmF3Q2xvY2tGcm9tVGltZUlucHV0KHZhbHVlLCBpc0hvdXJzKSB7XG4gICAgY29uc3QgdW5pdCA9IE1hdGguUEkgLyAoaXNIb3VycyA/IDYgOiAzMCk7XG4gICAgY29uc3QgcmFkaWFuID0gdmFsdWUgKiB1bml0O1xuICAgIGxldCByYWRpdXM7XG4gICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICByYWRpdXMgPSB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXM7XG4gICAgfVxuICAgIGxldCBjeDEgPSBNYXRoLnNpbihyYWRpYW4pICogKHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzKSxcbiAgICAgIGN5MSA9IC1NYXRoLmNvcyhyYWRpYW4pICogKHJhZGl1cyAtIHRoaXMub3B0aW9ucy50aWNrUmFkaXVzKSxcbiAgICAgIGN4MiA9IE1hdGguc2luKHJhZGlhbikgKiByYWRpdXMsXG4gICAgICBjeTIgPSAtTWF0aC5jb3MocmFkaWFuKSAqIHJhZGl1cztcbiAgICB0aGlzLmhhbmQuc2V0QXR0cmlidXRlKCd4MicsIGN4MS50b1N0cmluZygpKTtcbiAgICB0aGlzLmhhbmQuc2V0QXR0cmlidXRlKCd5MicsIGN5MS50b1N0cmluZygpKTtcbiAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZSgnY3gnLCBjeDIudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGUoJ2N5JywgY3kyLnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgc2V0SGFuZCh4LCB5LCByb3VuZEJ5NTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgbGV0IHJhZGlhbiA9IE1hdGguYXRhbjIoeCwgLXkpLFxuICAgICAgaXNIb3VycyA9IHRoaXMuY3VycmVudFZpZXcgPT09ICdob3VycycsXG4gICAgICB1bml0ID0gTWF0aC5QSSAvIChpc0hvdXJzIHx8IHJvdW5kQnk1ID8gNiA6IDMwKSxcbiAgICAgIHogPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSksXG4gICAgICBpbm5lciA9IGlzSG91cnMgJiYgeiA8ICh0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXMgKyB0aGlzLm9wdGlvbnMuaW5uZXJSYWRpdXMpIC8gMixcbiAgICAgIHJhZGl1cyA9IGlubmVyID8gdGhpcy5vcHRpb25zLmlubmVyUmFkaXVzIDogdGhpcy5vcHRpb25zLm91dGVyUmFkaXVzO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICByYWRpdXMgPSB0aGlzLm9wdGlvbnMub3V0ZXJSYWRpdXM7XG4gICAgfVxuXG4gICAgLy8gUmFkaWFuIHNob3VsZCBpbiByYW5nZSBbMCwgMlBJXVxuICAgIGlmIChyYWRpYW4gPCAwKSB7XG4gICAgICByYWRpYW4gPSBNYXRoLlBJICogMiArIHJhZGlhbjtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIHJvdW5kIHZhbHVlXG4gICAgbGV0IHZhbHVlID0gTWF0aC5yb3VuZChyYWRpYW4gLyB1bml0KTtcblxuICAgIC8vIEdldCB0aGUgcm91bmQgcmFkaWFuXG4gICAgcmFkaWFuID0gdmFsdWUgKiB1bml0O1xuXG4gICAgLy8gQ29ycmVjdCB0aGUgaG91cnMgb3IgbWludXRlc1xuICAgIGlmICh0aGlzLm9wdGlvbnMudHdlbHZlSG91cikge1xuICAgICAgaWYgKGlzSG91cnMpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSAwKSB2YWx1ZSA9IDEyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJvdW5kQnk1KSB2YWx1ZSAqPSA1O1xuICAgICAgICBpZiAodmFsdWUgPT09IDYwKSB2YWx1ZSA9IDA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc0hvdXJzKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gMTIpIHtcbiAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSBpbm5lciA/ICh2YWx1ZSA9PT0gMCA/IDEyIDogdmFsdWUpIDogdmFsdWUgPT09IDAgPyAwIDogdmFsdWUgKyAxMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChyb3VuZEJ5NSkge1xuICAgICAgICAgIHZhbHVlICo9IDU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09PSA2MCkge1xuICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9uY2UgaG91cnMgb3IgbWludXRlcyBjaGFuZ2VkLCB2aWJyYXRlIHRoZSBkZXZpY2VcbiAgICBpZiAodGhpc1t0aGlzLmN1cnJlbnRWaWV3XSAhPT0gdmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLnZpYnJhdGUgJiYgdGhpcy5vcHRpb25zLnZpYnJhdGUpIHtcbiAgICAgICAgLy8gRG8gbm90IHZpYnJhdGUgdG9vIGZyZXF1ZW50bHlcbiAgICAgICAgaWYgKCF0aGlzLnZpYnJhdGVUaW1lcikge1xuICAgICAgICAgIG5hdmlnYXRvclt0aGlzLnZpYnJhdGVdKDEwKTtcbiAgICAgICAgICB0aGlzLnZpYnJhdGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWJyYXRlVGltZXIgPSBudWxsO1xuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzW3RoaXMuY3VycmVudFZpZXddID0gdmFsdWU7XG4gICAgaWYgKGlzSG91cnMpIHtcbiAgICAgIHRoaXMuaW5wdXRIb3Vycy52YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5pbnB1dE1pbnV0ZXMudmFsdWUgPSBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gU2V0IGNsb2NrIGhhbmQgYW5kIG90aGVycycgcG9zaXRpb25cbiAgICBsZXQgY3gxID0gTWF0aC5zaW4ocmFkaWFuKSAqIChyYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyksXG4gICAgICBjeTEgPSAtTWF0aC5jb3MocmFkaWFuKSAqIChyYWRpdXMgLSB0aGlzLm9wdGlvbnMudGlja1JhZGl1cyksXG4gICAgICBjeDIgPSBNYXRoLnNpbihyYWRpYW4pICogcmFkaXVzLFxuICAgICAgY3kyID0gLU1hdGguY29zKHJhZGlhbikgKiByYWRpdXM7XG4gICAgdGhpcy5oYW5kLnNldEF0dHJpYnV0ZSgneDInLCBjeDEudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5oYW5kLnNldEF0dHJpYnV0ZSgneTInLCBjeTEudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGUoJ2N4JywgY3gyLnRvU3RyaW5nKCkpO1xuICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCdjeScsIGN5Mi50b1N0cmluZygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVuIHRpbWVwaWNrZXIuXG4gICAqL1xuICBvcGVuID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICB0aGlzLl91cGRhdGVUaW1lRnJvbUlucHV0KCk7XG4gICAgdGhpcy5zaG93VmlldygnaG91cnMnKTtcbiAgICB0aGlzLm1vZGFsLm9wZW4odW5kZWZpbmVkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSB0aW1lcGlja2VyLlxuICAgKi9cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLmlzT3BlbikgcmV0dXJuO1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5tb2RhbC5jbG9zZSgpO1xuICB9XG5cbiAgZG9uZSA9IChlID0gbnVsbCwgY2xlYXJWYWx1ZSA9IG51bGwpID0+IHtcbiAgICAvLyBTZXQgaW5wdXQgdmFsdWVcbiAgICBsZXQgbGFzdCA9IHRoaXMuZWwudmFsdWU7XG4gICAgbGV0IHZhbHVlID0gY2xlYXJWYWx1ZVxuICAgICAgPyAnJ1xuICAgICAgOiBUaW1lcGlja2VyLl9hZGRMZWFkaW5nWmVybyh0aGlzLmhvdXJzKSArICc6JyArIFRpbWVwaWNrZXIuX2FkZExlYWRpbmdaZXJvKHRoaXMubWludXRlcyk7XG4gICAgdGhpcy50aW1lID0gdmFsdWU7XG4gICAgaWYgKCFjbGVhclZhbHVlICYmIHRoaXMub3B0aW9ucy50d2VsdmVIb3VyKSB7XG4gICAgICB2YWx1ZSA9IGAke3ZhbHVlfSAke3RoaXMuYW1PclBtfWA7XG4gICAgfVxuICAgIHRoaXMuZWwudmFsdWUgPSB2YWx1ZTtcbiAgICAvLyBUcmlnZ2VyIGNoYW5nZSBldmVudFxuICAgIGlmICh2YWx1ZSAhPT0gbGFzdCkge1xuICAgICAgdGhpcy5lbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJykpO1xuICAgIH1cbiAgICB0aGlzLmNsb3NlKCk7XG4gICAgdGhpcy5lbC5mb2N1cygpO1xuICB9XG5cbiAgY2xlYXIgPSAoKSA9PiB7XG4gICAgdGhpcy5kb25lKG51bGwsIHRydWUpO1xuICB9XG5cbiAgc3RhdGljIHtcbiAgICBUaW1lcGlja2VyLl90ZW1wbGF0ZSA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbCB0aW1lcGlja2VyLW1vZGFsXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50IHRpbWVwaWNrZXItY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItZGlnaXRhbC1kaXNwbGF5XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci10ZXh0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaXNwbGF5LWNvbHVtblwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG1heGxlbmd0aD1cIjJcIiBhdXRvZm9jdXMgY2xhc3M9XCJ0aW1lcGlja2VyLWlucHV0LWhvdXJzIHRleHQtcHJpbWFyeVwiIC8+XG4gICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG1heGxlbmd0aD1cIjJcIiBjbGFzcz1cInRpbWVwaWNrZXItaW5wdXQtbWludXRlc1wiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaXNwbGF5LWNvbHVtbiB0aW1lcGlja2VyLWRpc3BsYXktYW0tcG1cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1zcGFuLWFtLXBtXCI+PC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItYW5hbG9nLWRpc3BsYXlcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLXBsYXRlXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lcGlja2VyLWNhbnZhc1wiPjwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1kaWFsIHRpbWVwaWNrZXItaG91cnNcIj48L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVwaWNrZXItZGlhbCB0aW1lcGlja2VyLW1pbnV0ZXMgdGltZXBpY2tlci1kaWFsLW91dFwiPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGltZXBpY2tlci1mb290ZXJcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2RpdmA7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/timepicker.ts\n");

/***/ }),

/***/ "./src/toasts.ts":
/*!***********************!*\
  !*** ./src/toasts.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Toast = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nlet _defaults = {\n    text: '',\n    displayLength: 4000,\n    inDuration: 300,\n    outDuration: 375,\n    classes: '',\n    completeCallback: null,\n    activationPercent: 0.8\n};\nclass Toast {\n    constructor(options) {\n        this.options = Object.assign(Object.assign({}, Toast.defaults), options);\n        this.message = this.options.text;\n        this.panning = false;\n        this.timeRemaining = this.options.displayLength;\n        if (Toast._toasts.length === 0) {\n            Toast._createContainer();\n        }\n        // Create new toast\n        Toast._toasts.push(this);\n        let toastElement = this._createToast();\n        toastElement.M_Toast = this;\n        this.el = toastElement;\n        this._animateIn();\n        this._setTimer();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    static getInstance(el) {\n        return el.M_Toast;\n    }\n    static _createContainer() {\n        const container = document.createElement('div');\n        container.setAttribute('id', 'toast-container');\n        // Add event handler\n        container.addEventListener('touchstart', Toast._onDragStart);\n        container.addEventListener('touchmove', Toast._onDragMove);\n        container.addEventListener('touchend', Toast._onDragEnd);\n        container.addEventListener('mousedown', Toast._onDragStart);\n        document.addEventListener('mousemove', Toast._onDragMove);\n        document.addEventListener('mouseup', Toast._onDragEnd);\n        document.body.appendChild(container);\n        Toast._container = container;\n    }\n    static _removeContainer() {\n        document.removeEventListener('mousemove', Toast._onDragMove);\n        document.removeEventListener('mouseup', Toast._onDragEnd);\n        Toast._container.remove();\n        Toast._container = null;\n    }\n    static _onDragStart(e) {\n        if (e.target && e.target.closest('.toast')) {\n            const toastElem = e.target.closest('.toast');\n            const toast = toastElem.M_Toast;\n            toast.panning = true;\n            Toast._draggedToast = toast;\n            toast.el.classList.add('panning');\n            toast.el.style.transition = '';\n            toast.startingXPos = Toast._xPos(e);\n            toast.time = Date.now();\n            toast.xPos = Toast._xPos(e);\n        }\n    }\n    static _onDragMove(e) {\n        if (!!Toast._draggedToast) {\n            e.preventDefault();\n            const toast = Toast._draggedToast;\n            toast.deltaX = Math.abs(toast.xPos - Toast._xPos(e));\n            toast.xPos = Toast._xPos(e);\n            toast.velocityX = toast.deltaX / (Date.now() - toast.time);\n            toast.time = Date.now();\n            const totalDeltaX = toast.xPos - toast.startingXPos;\n            const activationDistance = toast.el.offsetWidth * toast.options.activationPercent;\n            toast.el.style.transform = `translateX(${totalDeltaX}px)`;\n            toast.el.style.opacity = (1 - Math.abs(totalDeltaX / activationDistance)).toString();\n        }\n    }\n    static _onDragEnd() {\n        if (!!Toast._draggedToast) {\n            let toast = Toast._draggedToast;\n            toast.panning = false;\n            toast.el.classList.remove('panning');\n            let totalDeltaX = toast.xPos - toast.startingXPos;\n            let activationDistance = toast.el.offsetWidth * toast.options.activationPercent;\n            let shouldBeDismissed = Math.abs(totalDeltaX) > activationDistance || toast.velocityX > 1;\n            // Remove toast\n            if (shouldBeDismissed) {\n                toast.wasSwiped = true;\n                toast.dismiss();\n                // Animate toast back to original position\n            }\n            else {\n                toast.el.style.transition = 'transform .2s, opacity .2s';\n                toast.el.style.transform = '';\n                toast.el.style.opacity = '';\n            }\n            Toast._draggedToast = null;\n        }\n    }\n    static _xPos(e) {\n        if (e.type.startsWith(\"touch\") && e.targetTouches.length >= 1) {\n            return e.targetTouches[0].clientX;\n        }\n        // mouse event\n        return e.clientX;\n    }\n    /**\n     * dismiss all toasts.\n     */\n    static dismissAll() {\n        for (let toastIndex in Toast._toasts) {\n            Toast._toasts[toastIndex].dismiss();\n        }\n    }\n    _createToast() {\n        const toast = document.createElement('div');\n        toast.classList.add('toast');\n        toast.setAttribute('role', 'alert');\n        toast.setAttribute('aria-live', 'assertive');\n        toast.setAttribute('aria-atomic', 'true');\n        // Add custom classes onto toast\n        if (this.options.classes.length > 0) {\n            toast.classList.add(...this.options.classes.split(' '));\n        }\n        // Set text content\n        else\n            toast.innerText = this.message;\n        // Append toast\n        Toast._container.appendChild(toast);\n        return toast;\n    }\n    _animateIn() {\n        // Animate toast in\n        (0, animejs_1.default)({\n            targets: this.el,\n            top: 0,\n            opacity: 1,\n            duration: this.options.inDuration,\n            easing: 'easeOutCubic'\n        });\n    }\n    /**\n     * Create setInterval which automatically removes toast when timeRemaining >= 0\n     * has been reached.\n     */\n    _setTimer() {\n        if (this.timeRemaining !== Infinity) {\n            this.counterInterval = setInterval(() => {\n                // If toast is not being dragged, decrease its time remaining\n                if (!this.panning) {\n                    this.timeRemaining -= 20;\n                }\n                // Animate toast out\n                if (this.timeRemaining <= 0) {\n                    this.dismiss();\n                }\n            }, 20);\n        }\n    }\n    /**\n     * Dismiss toast with animation.\n     */\n    dismiss() {\n        window.clearInterval(this.counterInterval);\n        let activationDistance = this.el.offsetWidth * this.options.activationPercent;\n        if (this.wasSwiped) {\n            this.el.style.transition = 'transform .05s, opacity .05s';\n            this.el.style.transform = `translateX(${activationDistance}px)`;\n            this.el.style.opacity = '0';\n        }\n        (0, animejs_1.default)({\n            targets: this.el,\n            opacity: 0,\n            marginTop: -40,\n            duration: this.options.outDuration,\n            easing: 'easeOutExpo',\n            complete: () => {\n                // Call the optional callback\n                if (typeof this.options.completeCallback === 'function') {\n                    this.options.completeCallback();\n                }\n                // Remove toast from DOM\n                this.el.remove();\n                Toast._toasts.splice(Toast._toasts.indexOf(this), 1);\n                if (Toast._toasts.length === 0) {\n                    Toast._removeContainer();\n                }\n            }\n        });\n    }\n}\nexports.Toast = Toast;\n(() => {\n    Toast._toasts = [];\n    Toast._container = null;\n    Toast._draggedToast = null;\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2pCLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNyRCxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtvQkFDOUIsS0FBSyxDQUFDLGdCQUFnQixFQUFFLENBQUM7aUJBQzFCO1lBQ0gsQ0FBQztTQUNGLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FPRjtBQTVPRCxzQkE0T0M7QUFMQztJQUNFLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO0lBQ25CLEtBQUssQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0lBQ3hCLEtBQUssQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO0FBQzdCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvdG9hc3RzLnRzP2Y5NmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFuaW0gZnJvbSBcImFuaW1lanNcIjtcblxuaW1wb3J0IHsgQmFzZU9wdGlvbnMgfSBmcm9tIFwiLi9jb21wb25lbnRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBUb2FzdE9wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgVG9hc3QuXG4gICAqIEBkZWZhdWx0IFwiXCJcbiAgICovXG4gIHRleHQ6IHN0cmluZztcbiAgLyoqXG4gICAqIExlbmd0aCBpbiBtcyB0aGUgVG9hc3Qgc3RheXMgYmVmb3JlIGRpc21pc3NhbC5cbiAgICogQGRlZmF1bHQgNDAwMFxuICAgKi9cbiAgZGlzcGxheUxlbmd0aDogbnVtYmVyO1xuICAvKipcbiAgICogVHJhbnNpdGlvbiBpbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMuXG4gICAqIEBkZWZhdWx0IDMwMFxuICAgKi9cbiAgaW5EdXJhdGlvbjogbnVtYmVyO1xuICAvKipcbiAgICogVHJhbnNpdGlvbiBvdXQgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAZGVmYXVsdCAzNzVcbiAgICovXG4gIG91dER1cmF0aW9uOiBudW1iZXI7XG4gIC8qKlxuICAgKiBDbGFzc2VzIHRvIGJlIGFkZGVkIHRvIHRoZSB0b2FzdCBlbGVtZW50LlxuICAgKiBAZGVmYXVsdCBcIlwiXG4gICAqL1xuICBjbGFzc2VzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgd2hlbiB0b2FzdCBpcyBkaXNtaXNzZWQuXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICovXG4gIGNvbXBsZXRlQ2FsbGJhY2s6ICgpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBUaGUgcGVyY2VudGFnZSBvZiB0aGUgdG9hc3QncyB3aWR0aCBpdCB0YWtlcyBmb3JhIGRyYWdcbiAgICogdG8gZGlzbWlzcyBhIFRvYXN0LlxuICAgKiBAZGVmYXVsdCAwLjhcbiAgICovXG4gIGFjdGl2YXRpb25QZXJjZW50OiBudW1iZXI7XG59XG5cbmxldCBfZGVmYXVsdHM6IFRvYXN0T3B0aW9ucyA9IHtcbiAgdGV4dDogJycsXG4gIGRpc3BsYXlMZW5ndGg6IDQwMDAsXG4gIGluRHVyYXRpb246IDMwMCxcbiAgb3V0RHVyYXRpb246IDM3NSxcbiAgY2xhc3NlczogJycsXG4gIGNvbXBsZXRlQ2FsbGJhY2s6IG51bGwsXG4gIGFjdGl2YXRpb25QZXJjZW50OiAwLjhcbn07XG5cbmV4cG9ydCBjbGFzcyBUb2FzdCB7XG4gIC8qKiBUaGUgdG9hc3QgZWxlbWVudC4gKi9cbiAgZWw6IEhUTUxEaXZFbGVtZW50O1xuICAvKipcbiAgICogVGhlIHJlbWFpbmluZyBhbW91bnQgb2YgdGltZSBpbiBtcyB0aGF0IHRoZSB0b2FzdFxuICAgKiB3aWxsIHN0YXkgYmVmb3JlIGRpc21pc3NhbC5cbiAgICovXG4gIHRpbWVSZW1haW5pbmc6IG51bWJlcjtcbiAgLyoqXG4gICAqIERlc2NyaWJlcyB0aGUgY3VycmVudCBwYW4gc3RhdGUgb2YgdGhlIFRvYXN0LlxuICAgKi9cbiAgcGFubmluZzogYm9vbGVhbjtcbiAgb3B0aW9uczogVG9hc3RPcHRpb25zO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGNvdW50ZXJJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQ7XG4gIHdhc1N3aXBlZDogYm9vbGVhbjtcbiAgc3RhcnRpbmdYUG9zOiBudW1iZXI7XG4gIHhQb3M6IG51bWJlcjtcbiAgdGltZTogbnVtYmVyO1xuICBkZWx0YVg6IG51bWJlcjtcbiAgdmVsb2NpdHlYOiBudW1iZXI7XG5cbiAgc3RhdGljIF90b2FzdHM6IFRvYXN0W107XG4gIHN0YXRpYyBfY29udGFpbmVyOiBhbnk7XG4gIHN0YXRpYyBfZHJhZ2dlZFRvYXN0OiBUb2FzdDtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBQYXJ0aWFsPFRvYXN0T3B0aW9ucz4pIHtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi5Ub2FzdC5kZWZhdWx0cyxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuICAgIHRoaXMubWVzc2FnZSA9IHRoaXMub3B0aW9ucy50ZXh0O1xuICAgIHRoaXMucGFubmluZyA9IGZhbHNlO1xuICAgIHRoaXMudGltZVJlbWFpbmluZyA9IHRoaXMub3B0aW9ucy5kaXNwbGF5TGVuZ3RoO1xuICAgIGlmIChUb2FzdC5fdG9hc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgVG9hc3QuX2NyZWF0ZUNvbnRhaW5lcigpO1xuICAgIH1cbiAgICAvLyBDcmVhdGUgbmV3IHRvYXN0XG4gICAgVG9hc3QuX3RvYXN0cy5wdXNoKHRoaXMpO1xuICAgIGxldCB0b2FzdEVsZW1lbnQgPSB0aGlzLl9jcmVhdGVUb2FzdCgpO1xuICAgICh0b2FzdEVsZW1lbnQgYXMgYW55KS5NX1RvYXN0ID0gdGhpcztcbiAgICB0aGlzLmVsID0gdG9hc3RFbGVtZW50O1xuICAgIHRoaXMuX2FuaW1hdGVJbigpO1xuICAgIHRoaXMuX3NldFRpbWVyKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRzKCk6IFRvYXN0T3B0aW9ucyB7XG4gICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgfVxuXG4gIHN0YXRpYyBnZXRJbnN0YW5jZShlbDogSFRNTEVsZW1lbnQpOiBUb2FzdCB7XG4gICAgcmV0dXJuIChlbCBhcyBhbnkpLk1fVG9hc3Q7XG4gIH1cblxuICBzdGF0aWMgX2NyZWF0ZUNvbnRhaW5lcigpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICd0b2FzdC1jb250YWluZXInKTtcbiAgICAvLyBBZGQgZXZlbnQgaGFuZGxlclxuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgVG9hc3QuX29uRHJhZ1N0YXJ0KTtcbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgVG9hc3QuX29uRHJhZ01vdmUpO1xuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIFRvYXN0Ll9vbkRyYWdFbmQpO1xuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBUb2FzdC5fb25EcmFnU3RhcnQpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIFRvYXN0Ll9vbkRyYWdNb3ZlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgVG9hc3QuX29uRHJhZ0VuZCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIFRvYXN0Ll9jb250YWluZXIgPSBjb250YWluZXI7XG4gIH1cblxuICBzdGF0aWMgX3JlbW92ZUNvbnRhaW5lcigpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBUb2FzdC5fb25EcmFnTW92ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIFRvYXN0Ll9vbkRyYWdFbmQpO1xuICAgIFRvYXN0Ll9jb250YWluZXIucmVtb3ZlKCk7XG4gICAgVG9hc3QuX2NvbnRhaW5lciA9IG51bGw7XG4gIH1cblxuICBzdGF0aWMgX29uRHJhZ1N0YXJ0KGU6IFRvdWNoRXZlbnQgfCBNb3VzZUV2ZW50KSB7XG4gICAgaWYgKGUudGFyZ2V0ICYmICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJy50b2FzdCcpKSB7XG4gICAgICBjb25zdCB0b2FzdEVsZW0gPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcudG9hc3QnKTtcbiAgICAgIGNvbnN0IHRvYXN0OiBUb2FzdCA9ICh0b2FzdEVsZW0gYXMgYW55KS5NX1RvYXN0O1xuICAgICAgdG9hc3QucGFubmluZyA9IHRydWU7XG4gICAgICBUb2FzdC5fZHJhZ2dlZFRvYXN0ID0gdG9hc3Q7XG4gICAgICB0b2FzdC5lbC5jbGFzc0xpc3QuYWRkKCdwYW5uaW5nJyk7XG4gICAgICB0b2FzdC5lbC5zdHlsZS50cmFuc2l0aW9uID0gJyc7XG4gICAgICB0b2FzdC5zdGFydGluZ1hQb3MgPSBUb2FzdC5feFBvcyhlKTtcbiAgICAgIHRvYXN0LnRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgdG9hc3QueFBvcyA9IFRvYXN0Ll94UG9zKGUpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfb25EcmFnTW92ZShlOiBUb3VjaEV2ZW50IHwgTW91c2VFdmVudCkge1xuICAgIGlmICghIVRvYXN0Ll9kcmFnZ2VkVG9hc3QpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHRvYXN0ID0gVG9hc3QuX2RyYWdnZWRUb2FzdDtcbiAgICAgIHRvYXN0LmRlbHRhWCA9IE1hdGguYWJzKHRvYXN0LnhQb3MgLSBUb2FzdC5feFBvcyhlKSk7XG4gICAgICB0b2FzdC54UG9zID0gVG9hc3QuX3hQb3MoZSk7XG4gICAgICB0b2FzdC52ZWxvY2l0eVggPSB0b2FzdC5kZWx0YVggLyAoRGF0ZS5ub3coKSAtIHRvYXN0LnRpbWUpO1xuICAgICAgdG9hc3QudGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgIGNvbnN0IHRvdGFsRGVsdGFYID0gdG9hc3QueFBvcyAtIHRvYXN0LnN0YXJ0aW5nWFBvcztcbiAgICAgIGNvbnN0IGFjdGl2YXRpb25EaXN0YW5jZSA9IHRvYXN0LmVsLm9mZnNldFdpZHRoICogdG9hc3Qub3B0aW9ucy5hY3RpdmF0aW9uUGVyY2VudDtcbiAgICAgIHRvYXN0LmVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dG90YWxEZWx0YVh9cHgpYDtcbiAgICAgIHRvYXN0LmVsLnN0eWxlLm9wYWNpdHkgPSAoMSAtIE1hdGguYWJzKHRvdGFsRGVsdGFYIC8gYWN0aXZhdGlvbkRpc3RhbmNlKSkudG9TdHJpbmcoKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX29uRHJhZ0VuZCgpIHtcbiAgICBpZiAoISFUb2FzdC5fZHJhZ2dlZFRvYXN0KSB7XG4gICAgICBsZXQgdG9hc3QgPSBUb2FzdC5fZHJhZ2dlZFRvYXN0O1xuICAgICAgdG9hc3QucGFubmluZyA9IGZhbHNlO1xuICAgICAgdG9hc3QuZWwuY2xhc3NMaXN0LnJlbW92ZSgncGFubmluZycpO1xuXG4gICAgICBsZXQgdG90YWxEZWx0YVggPSB0b2FzdC54UG9zIC0gdG9hc3Quc3RhcnRpbmdYUG9zO1xuICAgICAgbGV0IGFjdGl2YXRpb25EaXN0YW5jZSA9IHRvYXN0LmVsLm9mZnNldFdpZHRoICogdG9hc3Qub3B0aW9ucy5hY3RpdmF0aW9uUGVyY2VudDtcbiAgICAgIGxldCBzaG91bGRCZURpc21pc3NlZCA9IE1hdGguYWJzKHRvdGFsRGVsdGFYKSA+IGFjdGl2YXRpb25EaXN0YW5jZSB8fCB0b2FzdC52ZWxvY2l0eVggPiAxO1xuXG4gICAgICAvLyBSZW1vdmUgdG9hc3RcbiAgICAgIGlmIChzaG91bGRCZURpc21pc3NlZCkge1xuICAgICAgICB0b2FzdC53YXNTd2lwZWQgPSB0cnVlO1xuICAgICAgICB0b2FzdC5kaXNtaXNzKCk7XG4gICAgICAgIC8vIEFuaW1hdGUgdG9hc3QgYmFjayB0byBvcmlnaW5hbCBwb3NpdGlvblxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRvYXN0LmVsLnN0eWxlLnRyYW5zaXRpb24gPSAndHJhbnNmb3JtIC4ycywgb3BhY2l0eSAuMnMnO1xuICAgICAgICB0b2FzdC5lbC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgICAgdG9hc3QuZWwuc3R5bGUub3BhY2l0eSA9ICcnO1xuICAgICAgfVxuICAgICAgVG9hc3QuX2RyYWdnZWRUb2FzdCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF94UG9zKGU6IFRvdWNoRXZlbnQgfCBNb3VzZUV2ZW50KSB7XG4gICAgaWYgKGUudHlwZS5zdGFydHNXaXRoKFwidG91Y2hcIikgJiYgKGUgYXMgVG91Y2hFdmVudCkudGFyZ2V0VG91Y2hlcy5sZW5ndGggPj0gMSkge1xuICAgICAgcmV0dXJuIChlIGFzIFRvdWNoRXZlbnQpLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICB9XG4gICAgLy8gbW91c2UgZXZlbnRcbiAgICByZXR1cm4gKGUgYXMgTW91c2VFdmVudCkuY2xpZW50WDtcbiAgfVxuXG4gIC8qKlxuICAgKiBkaXNtaXNzIGFsbCB0b2FzdHMuXG4gICAqL1xuICBzdGF0aWMgZGlzbWlzc0FsbCgpIHtcbiAgICBmb3IgKGxldCB0b2FzdEluZGV4IGluIFRvYXN0Ll90b2FzdHMpIHtcbiAgICAgIFRvYXN0Ll90b2FzdHNbdG9hc3RJbmRleF0uZGlzbWlzcygpO1xuICAgIH1cbiAgfVxuXG4gIF9jcmVhdGVUb2FzdCgpIHtcbiAgICBjb25zdCB0b2FzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRvYXN0LmNsYXNzTGlzdC5hZGQoJ3RvYXN0Jyk7XG4gICAgdG9hc3Quc2V0QXR0cmlidXRlKCdyb2xlJywgJ2FsZXJ0Jyk7XG4gICAgdG9hc3Quc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gICAgdG9hc3Quc2V0QXR0cmlidXRlKCdhcmlhLWF0b21pYycsICd0cnVlJyk7XG5cbiAgICAvLyBBZGQgY3VzdG9tIGNsYXNzZXMgb250byB0b2FzdFxuICAgIGlmICh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgICB0b2FzdC5jbGFzc0xpc3QuYWRkKC4uLnRoaXMub3B0aW9ucy5jbGFzc2VzLnNwbGl0KCcgJykpO1xuICAgIH1cblxuICAgIC8vIFNldCB0ZXh0IGNvbnRlbnRcbiAgICBlbHNlIHRvYXN0LmlubmVyVGV4dCA9IHRoaXMubWVzc2FnZTtcblxuICAgIC8vIEFwcGVuZCB0b2FzdFxuICAgIFRvYXN0Ll9jb250YWluZXIuYXBwZW5kQ2hpbGQodG9hc3QpO1xuICAgIHJldHVybiB0b2FzdDtcbiAgfVxuXG4gIF9hbmltYXRlSW4oKSB7XG4gICAgLy8gQW5pbWF0ZSB0b2FzdCBpblxuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogdGhpcy5lbCxcbiAgICAgIHRvcDogMCxcbiAgICAgIG9wYWNpdHk6IDEsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLmluRHVyYXRpb24sXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0Q3ViaWMnXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHNldEludGVydmFsIHdoaWNoIGF1dG9tYXRpY2FsbHkgcmVtb3ZlcyB0b2FzdCB3aGVuIHRpbWVSZW1haW5pbmcgPj0gMFxuICAgKiBoYXMgYmVlbiByZWFjaGVkLlxuICAgKi9cbiAgX3NldFRpbWVyKCkge1xuICAgIGlmICh0aGlzLnRpbWVSZW1haW5pbmcgIT09IEluZmluaXR5KSB7XG4gICAgICB0aGlzLmNvdW50ZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgLy8gSWYgdG9hc3QgaXMgbm90IGJlaW5nIGRyYWdnZWQsIGRlY3JlYXNlIGl0cyB0aW1lIHJlbWFpbmluZ1xuICAgICAgICBpZiAoIXRoaXMucGFubmluZykge1xuICAgICAgICAgIHRoaXMudGltZVJlbWFpbmluZyAtPSAyMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBBbmltYXRlIHRvYXN0IG91dFxuICAgICAgICBpZiAodGhpcy50aW1lUmVtYWluaW5nIDw9IDApIHtcbiAgICAgICAgICB0aGlzLmRpc21pc3MoKTtcbiAgICAgICAgfVxuICAgICAgfSwgMjApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNtaXNzIHRvYXN0IHdpdGggYW5pbWF0aW9uLlxuICAgKi9cbiAgZGlzbWlzcygpIHtcbiAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmNvdW50ZXJJbnRlcnZhbCk7XG4gICAgbGV0IGFjdGl2YXRpb25EaXN0YW5jZSA9IHRoaXMuZWwub2Zmc2V0V2lkdGggKiB0aGlzLm9wdGlvbnMuYWN0aXZhdGlvblBlcmNlbnQ7XG5cbiAgICBpZiAodGhpcy53YXNTd2lwZWQpIHtcbiAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gLjA1cywgb3BhY2l0eSAuMDVzJztcbiAgICAgIHRoaXMuZWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHthY3RpdmF0aW9uRGlzdGFuY2V9cHgpYDtcbiAgICAgIHRoaXMuZWwuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICB9XG5cbiAgICBhbmltKHtcbiAgICAgIHRhcmdldHM6IHRoaXMuZWwsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgbWFyZ2luVG9wOiAtNDAsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dEV4cG8nLFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgLy8gQ2FsbCB0aGUgb3B0aW9uYWwgY2FsbGJhY2tcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuY29tcGxldGVDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5jb21wbGV0ZUNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlIHRvYXN0IGZyb20gRE9NXG4gICAgICAgIHRoaXMuZWwucmVtb3ZlKCk7XG4gICAgICAgIFRvYXN0Ll90b2FzdHMuc3BsaWNlKFRvYXN0Ll90b2FzdHMuaW5kZXhPZih0aGlzKSwgMSk7XG4gICAgICAgIGlmIChUb2FzdC5fdG9hc3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIFRvYXN0Ll9yZW1vdmVDb250YWluZXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIHtcbiAgICBUb2FzdC5fdG9hc3RzID0gW107XG4gICAgVG9hc3QuX2NvbnRhaW5lciA9IG51bGw7XG4gICAgVG9hc3QuX2RyYWdnZWRUb2FzdCA9IG51bGw7XG4gIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/toasts.ts\n");

/***/ }),

/***/ "./src/tooltip.ts":
/*!************************!*\
  !*** ./src/tooltip.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Tooltip = void 0;\nconst animejs_1 = __importDefault(__webpack_require__(/*! animejs */ \"./node_modules/animejs/lib/anime.es.js\"));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nconst component_1 = __webpack_require__(/*! ./component */ \"./src/component.ts\");\nconst _defaults = {\n    exitDelay: 200,\n    enterDelay: 0,\n    text: '',\n    margin: 5,\n    inDuration: 250,\n    outDuration: 200,\n    position: 'bottom',\n    transitionMovement: 10,\n    opacity: 1\n};\nclass Tooltip extends component_1.Component {\n    constructor(el, options) {\n        super(el, options, Tooltip);\n        /**\n         * Show tooltip.\n         */\n        this.open = (isManual) => {\n            if (this.isOpen)\n                return;\n            isManual = isManual === undefined ? true : undefined; // Default value true\n            this.isOpen = true;\n            // Update tooltip content with HTML attribute options\n            this.options = Object.assign(Object.assign({}, this.options), this._getAttributeOptions());\n            this._updateTooltipContent();\n            this._setEnterDelayTimeout(isManual);\n        };\n        /**\n         * Hide tooltip.\n         */\n        this.close = () => {\n            if (!this.isOpen)\n                return;\n            this.isHovered = false;\n            this.isFocused = false;\n            this.isOpen = false;\n            this._setExitDelayTimeout();\n        };\n        this._handleMouseEnter = () => {\n            this.isHovered = true;\n            this.isFocused = false; // Allows close of tooltip when opened by focus.\n            this.open(false);\n        };\n        this._handleMouseLeave = () => {\n            this.isHovered = false;\n            this.isFocused = false; // Allows close of tooltip when opened by focus.\n            this.close();\n        };\n        this._handleFocus = () => {\n            if (utils_1.Utils.tabPressed) {\n                this.isFocused = true;\n                this.open(false);\n            }\n        };\n        this._handleBlur = () => {\n            this.isFocused = false;\n            this.close();\n        };\n        this.el.M_Tooltip = this;\n        this.options = Object.assign(Object.assign({}, Tooltip.defaults), options);\n        this.isOpen = false;\n        this.isHovered = false;\n        this.isFocused = false;\n        this._appendTooltipEl();\n        this._setupEventHandlers();\n    }\n    static get defaults() {\n        return _defaults;\n    }\n    /**\n     * Initializes instances of Tooltip.\n     * @param els HTML elements.\n     * @param options Component options.\n     */\n    static init(els, options = {}) {\n        return super.init(els, options, Tooltip);\n    }\n    static getInstance(el) {\n        return el.M_Tooltip;\n    }\n    destroy() {\n        this.tooltipEl.remove();\n        this._removeEventHandlers();\n        this.el.M_Tooltip = undefined;\n    }\n    _appendTooltipEl() {\n        this.tooltipEl = document.createElement('div');\n        this.tooltipEl.classList.add('material-tooltip');\n        const tooltipContentEl = document.createElement('div');\n        tooltipContentEl.classList.add('tooltip-content');\n        this._setTooltipContent(tooltipContentEl);\n        this.tooltipEl.appendChild(tooltipContentEl);\n        document.body.appendChild(this.tooltipEl);\n    }\n    _setTooltipContent(tooltipContentEl) {\n        tooltipContentEl.innerText = this.options.text;\n    }\n    _updateTooltipContent() {\n        this._setTooltipContent(this.tooltipEl.querySelector('.tooltip-content'));\n    }\n    _setupEventHandlers() {\n        this.el.addEventListener('mouseenter', this._handleMouseEnter);\n        this.el.addEventListener('mouseleave', this._handleMouseLeave);\n        this.el.addEventListener('focus', this._handleFocus, true);\n        this.el.addEventListener('blur', this._handleBlur, true);\n    }\n    _removeEventHandlers() {\n        this.el.removeEventListener('mouseenter', this._handleMouseEnter);\n        this.el.removeEventListener('mouseleave', this._handleMouseLeave);\n        this.el.removeEventListener('focus', this._handleFocus, true);\n        this.el.removeEventListener('blur', this._handleBlur, true);\n    }\n    _setExitDelayTimeout() {\n        clearTimeout(this._exitDelayTimeout);\n        this._exitDelayTimeout = setTimeout(() => {\n            if (this.isHovered || this.isFocused)\n                return;\n            this._animateOut();\n        }, this.options.exitDelay);\n    }\n    _setEnterDelayTimeout(isManual) {\n        clearTimeout(this._enterDelayTimeout);\n        this._enterDelayTimeout = setTimeout(() => {\n            if (!this.isHovered && !this.isFocused && !isManual)\n                return;\n            this._animateIn();\n        }, this.options.enterDelay);\n    }\n    _positionTooltip() {\n        const tooltip = this.tooltipEl;\n        const origin = this.el, originHeight = origin.offsetHeight, originWidth = origin.offsetWidth, tooltipHeight = tooltip.offsetHeight, tooltipWidth = tooltip.offsetWidth, margin = this.options.margin;\n        (this.xMovement = 0), (this.yMovement = 0);\n        let targetTop = origin.getBoundingClientRect().top + utils_1.Utils.getDocumentScrollTop();\n        let targetLeft = origin.getBoundingClientRect().left + utils_1.Utils.getDocumentScrollLeft();\n        if (this.options.position === 'top') {\n            targetTop += -tooltipHeight - margin;\n            targetLeft += originWidth / 2 - tooltipWidth / 2;\n            this.yMovement = -this.options.transitionMovement;\n        }\n        else if (this.options.position === 'right') {\n            targetTop += originHeight / 2 - tooltipHeight / 2;\n            targetLeft += originWidth + margin;\n            this.xMovement = this.options.transitionMovement;\n        }\n        else if (this.options.position === 'left') {\n            targetTop += originHeight / 2 - tooltipHeight / 2;\n            targetLeft += -tooltipWidth - margin;\n            this.xMovement = -this.options.transitionMovement;\n        }\n        else {\n            targetTop += originHeight + margin;\n            targetLeft += originWidth / 2 - tooltipWidth / 2;\n            this.yMovement = this.options.transitionMovement;\n        }\n        const newCoordinates = this._repositionWithinScreen(targetLeft, targetTop, tooltipWidth, tooltipHeight);\n        tooltip.style.top = newCoordinates.y + 'px';\n        tooltip.style.left = newCoordinates.x + 'px';\n    }\n    _repositionWithinScreen(x, y, width, height) {\n        const scrollLeft = utils_1.Utils.getDocumentScrollLeft();\n        const scrollTop = utils_1.Utils.getDocumentScrollTop();\n        let newX = x - scrollLeft;\n        let newY = y - scrollTop;\n        const bounding = {\n            left: newX,\n            top: newY,\n            width: width,\n            height: height\n        };\n        const offset = this.options.margin + this.options.transitionMovement;\n        const edges = utils_1.Utils.checkWithinContainer(document.body, bounding, offset);\n        if (edges.left) {\n            newX = offset;\n        }\n        else if (edges.right) {\n            newX -= newX + width - window.innerWidth;\n        }\n        if (edges.top) {\n            newY = offset;\n        }\n        else if (edges.bottom) {\n            newY -= newY + height - window.innerHeight;\n        }\n        return {\n            x: newX + scrollLeft,\n            y: newY + scrollTop\n        };\n    }\n    _animateIn() {\n        this._positionTooltip();\n        this.tooltipEl.style.visibility = 'visible';\n        animejs_1.default.remove(this.tooltipEl);\n        (0, animejs_1.default)({\n            targets: this.tooltipEl,\n            opacity: this.options.opacity || 1,\n            translateX: this.xMovement,\n            translateY: this.yMovement,\n            duration: this.options.inDuration,\n            easing: 'easeOutCubic'\n        });\n    }\n    _animateOut() {\n        animejs_1.default.remove(this.tooltipEl);\n        (0, animejs_1.default)({\n            targets: this.tooltipEl,\n            opacity: 0,\n            translateX: 0,\n            translateY: 0,\n            duration: this.options.outDuration,\n            easing: 'easeOutCubic'\n        });\n    }\n    _getAttributeOptions() {\n        const attributeOptions = {};\n        const tooltipTextOption = this.el.getAttribute('data-tooltip');\n        const positionOption = this.el.getAttribute('data-position');\n        if (tooltipTextOption) {\n            attributeOptions.text = tooltipTextOption;\n        }\n        if (positionOption) {\n            attributeOptions.position = positionOption;\n        }\n        return attributeOptions;\n    }\n}\nexports.Tooltip = Tooltip;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQ2xDLE1BQU0sRUFBRSxjQUFjO1NBQ3ZCLENBQUMsQ0FBQztJQUNMLENBQUM7SUEwQkQsb0JBQW9CO1FBQ2xCLE1BQU0sZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO1FBQzVCLE1BQU0saUJBQWlCLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDL0QsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDN0QsSUFBSSxpQkFBaUIsRUFBRTtZQUNwQixnQkFBd0IsQ0FBQyxJQUFJLEdBQUcsaUJBQWlCLENBQUM7U0FDcEQ7UUFDRCxJQUFJLGNBQWMsRUFBRTtZQUNqQixnQkFBd0IsQ0FBQyxRQUFRLEdBQUcsY0FBYyxDQUFDO1NBQ3JEO1FBQ0QsT0FBTyxnQkFBZ0IsQ0FBQztJQUMxQixDQUFDO0NBQ0Y7QUF0UkQsMEJBc1JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1hdGVyaWFsaXplY3NzL21hdGVyaWFsaXplLy4vc3JjL3Rvb2x0aXAudHM/Y2M5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYW5pbSBmcm9tIFwiYW5pbWVqc1wiO1xuXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBCb3VuZGluZyB9IGZyb20gXCIuL2JvdW5kaW5nXCI7XG5pbXBvcnQgeyBDb21wb25lbnQsIEJhc2VPcHRpb25zLCBJbml0RWxlbWVudHMsIE1FbGVtZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9vbHRpcE9wdGlvbnMgZXh0ZW5kcyBCYXNlT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBEZWxheSB0aW1lIGJlZm9yZSB0b29sdGlwIGRpc2FwcGVhcnMuXG4gICAqIEBkZWZhdWx0IDIwMFxuICAgKi9cbiAgZXhpdERlbGF5OiBudW1iZXI7XG4gIC8qKlxuICAgKiBEZWxheSB0aW1lIGJlZm9yZSB0b29sdGlwIGFwcGVhcnMuXG4gICAqIEBkZWZhdWx0IDBcbiAgICovXG4gIGVudGVyRGVsYXk6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRleHQgc3RyaW5nIGZvciB0aGUgdG9vbHRpcC5cbiAgICogQGRlZmF1bHQgXCJcIlxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuICAvKipcbiAgICogU2V0IGRpc3RhbmNlIHRvb2x0aXAgYXBwZWFycyBhd2F5IGZyb20gaXRzIGFjdGl2YXRvclxuICAgKiBleGNsdWRpbmcgdHJhbnNpdGlvbk1vdmVtZW50LlxuICAgKiBAZGVmYXVsdCA1XG4gICAqL1xuICBtYXJnaW46IG51bWJlcjtcbiAgLyoqXG4gICAqIEVudGVyIHRyYW5zaXRpb24gZHVyYXRpb24uXG4gICAqIEBkZWZhdWx0IDMwMFxuICAgKi9cbiAgaW5EdXJhdGlvbjogbnVtYmVyO1xuICAvKipcbiAgICogT3BhY2l0eSBvZiB0aGUgdG9vbHRpcC5cbiAgICogQGRlZmF1bHQgMVxuICAgKi9cbiAgb3BhY2l0eTogbnVtYmVyO1xuICAvKipcbiAgICogRXhpdCB0cmFuc2l0aW9uIGR1cmF0aW9uLlxuICAgKiBAZGVmYXVsdCAyNTBcbiAgICovXG4gIG91dER1cmF0aW9uOiBudW1iZXI7XG4gIC8qKlxuICAgKiBTZXQgdGhlIGRpcmVjdGlvbiBvZiB0aGUgdG9vbHRpcC5cbiAgICogQGRlZmF1bHQgJ2JvdHRvbSdcbiAgICovXG4gIHBvc2l0aW9uOiAndG9wJyB8ICdyaWdodCcgfCAnYm90dG9tJyB8ICdsZWZ0JztcbiAgLyoqXG4gICAqIEFtb3VudCBpbiBweCB0aGF0IHRoZSB0b29sdGlwIG1vdmVzIGR1cmluZyBpdHMgdHJhbnNpdGlvbi5cbiAgICogQGRlZmF1bHQgMTBcbiAgICovXG4gIHRyYW5zaXRpb25Nb3ZlbWVudDogbnVtYmVyO1xufVxuXG5jb25zdCBfZGVmYXVsdHM6IFRvb2x0aXBPcHRpb25zID0ge1xuICBleGl0RGVsYXk6IDIwMCxcbiAgZW50ZXJEZWxheTogMCxcbiAgdGV4dDogJycsXG4gIG1hcmdpbjogNSxcbiAgaW5EdXJhdGlvbjogMjUwLFxuICBvdXREdXJhdGlvbjogMjAwLFxuICBwb3NpdGlvbjogJ2JvdHRvbScsXG4gIHRyYW5zaXRpb25Nb3ZlbWVudDogMTAsXG4gIG9wYWNpdHk6IDFcbn07XG5cbmV4cG9ydCBjbGFzcyBUb29sdGlwIGV4dGVuZHMgQ29tcG9uZW50PFRvb2x0aXBPcHRpb25zPiB7XG4gIC8qKlxuICAgKiBJZiB0b29sdGlwIGlzIG9wZW4uXG4gICAqL1xuICBpc09wZW46IGJvb2xlYW47XG4gIC8qKlxuICAgKiBJZiB0b29sdGlwIGlzIGhvdmVyZWQuXG4gICAqL1xuICBpc0hvdmVyZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBJZiB0b29sdGlwIGlzIGZvY3VzZWQuXG4gICAqL1xuICBpc0ZvY3VzZWQ6IGJvb2xlYW47XG4gIHRvb2x0aXBFbDogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgX2V4aXREZWxheVRpbWVvdXQ6IHN0cmluZyB8IG51bWJlciB8IE5vZGVKUy5UaW1lb3V0O1xuICBwcml2YXRlIF9lbnRlckRlbGF5VGltZW91dDogc3RyaW5nIHwgbnVtYmVyIHwgTm9kZUpTLlRpbWVvdXQ7XG4gIHhNb3ZlbWVudDogbnVtYmVyO1xuICB5TW92ZW1lbnQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IFBhcnRpYWw8VG9vbHRpcE9wdGlvbnM+KSB7XG4gICAgc3VwZXIoZWwsIG9wdGlvbnMsIFRvb2x0aXApO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9Ub29sdGlwID0gdGhpcztcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLlRvb2x0aXAuZGVmYXVsdHMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuaXNIb3ZlcmVkID0gZmFsc2U7XG4gICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9hcHBlbmRUb29sdGlwRWwoKTtcbiAgICB0aGlzLl9zZXR1cEV2ZW50SGFuZGxlcnMoKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKTogVG9vbHRpcE9wdGlvbnMge1xuICAgIHJldHVybiBfZGVmYXVsdHM7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2YgVG9vbHRpcC5cbiAgICogQHBhcmFtIGVsIEhUTUwgZWxlbWVudC5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbDogSFRNTEVsZW1lbnQsIG9wdGlvbnM/OiBQYXJ0aWFsPFRvb2x0aXBPcHRpb25zPik6IFRvb2x0aXA7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgVG9vbHRpcC5cbiAgICogQHBhcmFtIGVscyBIVE1MIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBDb21wb25lbnQgb3B0aW9ucy5cbiAgICovXG4gIHN0YXRpYyBpbml0KGVsczogSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9ucz86IFBhcnRpYWw8VG9vbHRpcE9wdGlvbnM+KTogVG9vbHRpcFtdO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaW5zdGFuY2VzIG9mIFRvb2x0aXAuXG4gICAqIEBwYXJhbSBlbHMgSFRNTCBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgQ29tcG9uZW50IG9wdGlvbnMuXG4gICAqL1xuICBzdGF0aWMgaW5pdChlbHM6IEhUTUxFbGVtZW50IHwgSW5pdEVsZW1lbnRzPE1FbGVtZW50Piwgb3B0aW9uczogUGFydGlhbDxUb29sdGlwT3B0aW9ucz4gPSB7fSk6IFRvb2x0aXAgfCBUb29sdGlwW10ge1xuICAgIHJldHVybiBzdXBlci5pbml0KGVscywgb3B0aW9ucywgVG9vbHRpcCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWw6IEhUTUxFbGVtZW50KTogVG9vbHRpcCB7XG4gICAgcmV0dXJuIChlbCBhcyBhbnkpLk1fVG9vbHRpcDtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy50b29sdGlwRWwucmVtb3ZlKCk7XG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVycygpO1xuICAgICh0aGlzLmVsIGFzIGFueSkuTV9Ub29sdGlwID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX2FwcGVuZFRvb2x0aXBFbCgpIHtcbiAgICB0aGlzLnRvb2x0aXBFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMudG9vbHRpcEVsLmNsYXNzTGlzdC5hZGQoJ21hdGVyaWFsLXRvb2x0aXAnKTtcblxuICAgIGNvbnN0IHRvb2x0aXBDb250ZW50RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0b29sdGlwQ29udGVudEVsLmNsYXNzTGlzdC5hZGQoJ3Rvb2x0aXAtY29udGVudCcpO1xuICAgIHRoaXMuX3NldFRvb2x0aXBDb250ZW50KHRvb2x0aXBDb250ZW50RWwpO1xuICAgIHRoaXMudG9vbHRpcEVsLmFwcGVuZENoaWxkKHRvb2x0aXBDb250ZW50RWwpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwRWwpO1xuICB9XG5cbiAgX3NldFRvb2x0aXBDb250ZW50KHRvb2x0aXBDb250ZW50RWw6IEhUTUxFbGVtZW50KSB7XG4gICAgdG9vbHRpcENvbnRlbnRFbC5pbm5lclRleHQgPSB0aGlzLm9wdGlvbnMudGV4dDtcbiAgfVxuXG4gIF91cGRhdGVUb29sdGlwQ29udGVudCgpIHtcbiAgICB0aGlzLl9zZXRUb29sdGlwQ29udGVudCh0aGlzLnRvb2x0aXBFbC5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcC1jb250ZW50JykpO1xuICB9XG5cbiAgX3NldHVwRXZlbnRIYW5kbGVycygpIHtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLl9oYW5kbGVNb3VzZUVudGVyKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlRm9jdXMsIHRydWUpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUJsdXIsIHRydWUpO1xuICB9XG5cbiAgX3JlbW92ZUV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5faGFuZGxlTW91c2VFbnRlcik7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5faGFuZGxlTW91c2VMZWF2ZSk7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUZvY3VzLCB0cnVlKTtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9oYW5kbGVCbHVyLCB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHRvb2x0aXAuXG4gICAqL1xuICBvcGVuID0gKGlzTWFudWFsOiBib29sZWFuKSA9PiB7XG4gICAgaWYgKHRoaXMuaXNPcGVuKSByZXR1cm47XG4gICAgaXNNYW51YWwgPSBpc01hbnVhbCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHVuZGVmaW5lZDsgLy8gRGVmYXVsdCB2YWx1ZSB0cnVlXG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgIC8vIFVwZGF0ZSB0b29sdGlwIGNvbnRlbnQgd2l0aCBIVE1MIGF0dHJpYnV0ZSBvcHRpb25zXG4gICAgdGhpcy5vcHRpb25zID0gey4uLnRoaXMub3B0aW9ucywgLi4udGhpcy5fZ2V0QXR0cmlidXRlT3B0aW9ucygpfTtcbiAgICB0aGlzLl91cGRhdGVUb29sdGlwQ29udGVudCgpO1xuICAgIHRoaXMuX3NldEVudGVyRGVsYXlUaW1lb3V0KGlzTWFudWFsKTtcbiAgfVxuICBcbiAgLyoqXG4gICAqIEhpZGUgdG9vbHRpcC5cbiAgICovXG4gIGNsb3NlID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy5pc09wZW4pIHJldHVybjtcbiAgICB0aGlzLmlzSG92ZXJlZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLl9zZXRFeGl0RGVsYXlUaW1lb3V0KCk7XG4gIH1cblxuICBfc2V0RXhpdERlbGF5VGltZW91dCgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fZXhpdERlbGF5VGltZW91dCk7XG4gICAgdGhpcy5fZXhpdERlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNIb3ZlcmVkIHx8IHRoaXMuaXNGb2N1c2VkKSByZXR1cm47XG4gICAgICB0aGlzLl9hbmltYXRlT3V0KCk7XG4gICAgfSwgdGhpcy5vcHRpb25zLmV4aXREZWxheSk7XG4gIH1cblxuICBfc2V0RW50ZXJEZWxheVRpbWVvdXQoaXNNYW51YWwpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fZW50ZXJEZWxheVRpbWVvdXQpO1xuICAgIHRoaXMuX2VudGVyRGVsYXlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuaXNIb3ZlcmVkICYmICF0aGlzLmlzRm9jdXNlZCAmJiAhaXNNYW51YWwpIHJldHVybjtcbiAgICAgIHRoaXMuX2FuaW1hdGVJbigpO1xuICAgIH0sIHRoaXMub3B0aW9ucy5lbnRlckRlbGF5KTtcbiAgfVxuXG4gIF9wb3NpdGlvblRvb2x0aXAoKSB7XG4gICAgY29uc3QgdG9vbHRpcDogSFRNTEVsZW1lbnQgPSB0aGlzLnRvb2x0aXBFbDtcbiAgICBjb25zdCBvcmlnaW4gPSAodGhpcy5lbCBhcyBIVE1MRWxlbWVudCksXG4gICAgICBvcmlnaW5IZWlnaHQgPSBvcmlnaW4ub2Zmc2V0SGVpZ2h0LFxuICAgICAgb3JpZ2luV2lkdGggPSBvcmlnaW4ub2Zmc2V0V2lkdGgsXG4gICAgICB0b29sdGlwSGVpZ2h0ID0gdG9vbHRpcC5vZmZzZXRIZWlnaHQsXG4gICAgICB0b29sdGlwV2lkdGggPSB0b29sdGlwLm9mZnNldFdpZHRoLFxuICAgICAgbWFyZ2luID0gdGhpcy5vcHRpb25zLm1hcmdpbjtcblxuICAgICh0aGlzLnhNb3ZlbWVudCA9IDApLCAodGhpcy55TW92ZW1lbnQgPSAwKTtcblxuICAgIGxldCB0YXJnZXRUb3AgPSBvcmlnaW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgVXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKTtcbiAgICBsZXQgdGFyZ2V0TGVmdCA9IG9yaWdpbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgVXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxMZWZ0KCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgIHRhcmdldFRvcCArPSAtdG9vbHRpcEhlaWdodCAtIG1hcmdpbjtcbiAgICAgIHRhcmdldExlZnQgKz0gb3JpZ2luV2lkdGggLyAyIC0gdG9vbHRpcFdpZHRoIC8gMjtcbiAgICAgIHRoaXMueU1vdmVtZW50ID0gLXRoaXMub3B0aW9ucy50cmFuc2l0aW9uTW92ZW1lbnQ7XG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMucG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgIHRhcmdldFRvcCArPSBvcmlnaW5IZWlnaHQgLyAyIC0gdG9vbHRpcEhlaWdodCAvIDI7XG4gICAgICB0YXJnZXRMZWZ0ICs9IG9yaWdpbldpZHRoICsgbWFyZ2luO1xuICAgICAgdGhpcy54TW92ZW1lbnQgPSB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbk1vdmVtZW50O1xuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnBvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgIHRhcmdldFRvcCArPSBvcmlnaW5IZWlnaHQgLyAyIC0gdG9vbHRpcEhlaWdodCAvIDI7XG4gICAgICB0YXJnZXRMZWZ0ICs9IC10b29sdGlwV2lkdGggLSBtYXJnaW47XG4gICAgICB0aGlzLnhNb3ZlbWVudCA9IC10aGlzLm9wdGlvbnMudHJhbnNpdGlvbk1vdmVtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRUb3AgKz0gb3JpZ2luSGVpZ2h0ICsgbWFyZ2luO1xuICAgICAgdGFyZ2V0TGVmdCArPSBvcmlnaW5XaWR0aCAvIDIgLSB0b29sdGlwV2lkdGggLyAyO1xuICAgICAgdGhpcy55TW92ZW1lbnQgPSB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbk1vdmVtZW50O1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0Nvb3JkaW5hdGVzID0gdGhpcy5fcmVwb3NpdGlvbldpdGhpblNjcmVlbihcbiAgICAgIHRhcmdldExlZnQsXG4gICAgICB0YXJnZXRUb3AsXG4gICAgICB0b29sdGlwV2lkdGgsXG4gICAgICB0b29sdGlwSGVpZ2h0XG4gICAgKTtcblxuICAgIHRvb2x0aXAuc3R5bGUudG9wID0gbmV3Q29vcmRpbmF0ZXMueSsncHgnO1xuICAgIHRvb2x0aXAuc3R5bGUubGVmdCA9IG5ld0Nvb3JkaW5hdGVzLngrJ3B4JztcbiAgfVxuXG4gIF9yZXBvc2l0aW9uV2l0aGluU2NyZWVuKHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIGNvbnN0IHNjcm9sbExlZnQgPSBVdGlscy5nZXREb2N1bWVudFNjcm9sbExlZnQoKTtcbiAgICBjb25zdCBzY3JvbGxUb3AgPSBVdGlscy5nZXREb2N1bWVudFNjcm9sbFRvcCgpO1xuICAgIGxldCBuZXdYID0geCAtIHNjcm9sbExlZnQ7XG4gICAgbGV0IG5ld1kgPSB5IC0gc2Nyb2xsVG9wO1xuXG4gICAgY29uc3QgYm91bmRpbmc6IEJvdW5kaW5nID0ge1xuICAgICAgbGVmdDogbmV3WCxcbiAgICAgIHRvcDogbmV3WSxcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgfTtcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLm9wdGlvbnMubWFyZ2luICsgdGhpcy5vcHRpb25zLnRyYW5zaXRpb25Nb3ZlbWVudDtcbiAgICBjb25zdCBlZGdlcyA9IFV0aWxzLmNoZWNrV2l0aGluQ29udGFpbmVyKGRvY3VtZW50LmJvZHksIGJvdW5kaW5nLCBvZmZzZXQpO1xuXG4gICAgaWYgKGVkZ2VzLmxlZnQpIHtcbiAgICAgIG5ld1ggPSBvZmZzZXQ7XG4gICAgfSBlbHNlIGlmIChlZGdlcy5yaWdodCkge1xuICAgICAgbmV3WCAtPSBuZXdYICsgd2lkdGggLSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB9XG4gICAgaWYgKGVkZ2VzLnRvcCkge1xuICAgICAgbmV3WSA9IG9mZnNldDtcbiAgICB9IGVsc2UgaWYgKGVkZ2VzLmJvdHRvbSkge1xuICAgICAgbmV3WSAtPSBuZXdZICsgaGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgeDogbmV3WCArIHNjcm9sbExlZnQsXG4gICAgICB5OiBuZXdZICsgc2Nyb2xsVG9wXG4gICAgfTtcbiAgfVxuXG4gIF9hbmltYXRlSW4oKSB7XG4gICAgdGhpcy5fcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgdGhpcy50b29sdGlwRWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICBhbmltLnJlbW92ZSh0aGlzLnRvb2x0aXBFbCk7XG4gICAgYW5pbSh7XG4gICAgICB0YXJnZXRzOiB0aGlzLnRvb2x0aXBFbCxcbiAgICAgIG9wYWNpdHk6IHRoaXMub3B0aW9ucy5vcGFjaXR5IHx8IDEsXG4gICAgICB0cmFuc2xhdGVYOiB0aGlzLnhNb3ZlbWVudCxcbiAgICAgIHRyYW5zbGF0ZVk6IHRoaXMueU1vdmVtZW50LFxuICAgICAgZHVyYXRpb246IHRoaXMub3B0aW9ucy5pbkR1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dEN1YmljJ1xuICAgIH0pO1xuICB9XG5cbiAgX2FuaW1hdGVPdXQoKSB7XG4gICAgYW5pbS5yZW1vdmUodGhpcy50b29sdGlwRWwpO1xuICAgIGFuaW0oe1xuICAgICAgdGFyZ2V0czogdGhpcy50b29sdGlwRWwsXG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgdHJhbnNsYXRlWDogMCxcbiAgICAgIHRyYW5zbGF0ZVk6IDAsXG4gICAgICBkdXJhdGlvbjogdGhpcy5vcHRpb25zLm91dER1cmF0aW9uLFxuICAgICAgZWFzaW5nOiAnZWFzZU91dEN1YmljJ1xuICAgIH0pO1xuICB9XG5cbiAgX2hhbmRsZU1vdXNlRW50ZXIgPSAoKSA9PiB7XG4gICAgdGhpcy5pc0hvdmVyZWQgPSB0cnVlO1xuICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7IC8vIEFsbG93cyBjbG9zZSBvZiB0b29sdGlwIHdoZW4gb3BlbmVkIGJ5IGZvY3VzLlxuICAgIHRoaXMub3BlbihmYWxzZSk7XG4gIH1cblxuICBfaGFuZGxlTW91c2VMZWF2ZSA9ICgpID0+IHtcbiAgICB0aGlzLmlzSG92ZXJlZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7IC8vIEFsbG93cyBjbG9zZSBvZiB0b29sdGlwIHdoZW4gb3BlbmVkIGJ5IGZvY3VzLlxuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIF9oYW5kbGVGb2N1cyA9ICgpID0+IHtcbiAgICBpZiAoVXRpbHMudGFiUHJlc3NlZCkge1xuICAgICAgdGhpcy5pc0ZvY3VzZWQgPSB0cnVlO1xuICAgICAgdGhpcy5vcGVuKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlQmx1ciA9ICgpID0+IHtcbiAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIF9nZXRBdHRyaWJ1dGVPcHRpb25zKCkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZU9wdGlvbnMgPSB7fTtcbiAgICBjb25zdCB0b29sdGlwVGV4dE9wdGlvbiA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXAnKTtcbiAgICBjb25zdCBwb3NpdGlvbk9wdGlvbiA9IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBvc2l0aW9uJyk7XG4gICAgaWYgKHRvb2x0aXBUZXh0T3B0aW9uKSB7XG4gICAgICAoYXR0cmlidXRlT3B0aW9ucyBhcyBhbnkpLnRleHQgPSB0b29sdGlwVGV4dE9wdGlvbjtcbiAgICB9XG4gICAgaWYgKHBvc2l0aW9uT3B0aW9uKSB7XG4gICAgICAoYXR0cmlidXRlT3B0aW9ucyBhcyBhbnkpLnBvc2l0aW9uID0gcG9zaXRpb25PcHRpb247XG4gICAgfVxuICAgIHJldHVybiBhdHRyaWJ1dGVPcHRpb25zO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/tooltip.ts\n");

/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Utils = void 0;\n/**\n * Class with utilitary functions for global usage.\n */\nclass Utils {\n    /**\n     * Detects when a key is pressed.\n     * @param e Event instance.\n     */\n    static docHandleKeydown(e) {\n        Utils.keyDown = true;\n        if ([...Utils.keys.TAB, ...Utils.keys.ARROW_DOWN, ...Utils.keys.ARROW_UP].includes(e.key)) {\n            Utils.tabPressed = true;\n        }\n    }\n    /**\n     * Detects when a key is released.\n     * @param e Event instance.\n     */\n    static docHandleKeyup(e) {\n        Utils.keyDown = false;\n        if ([...Utils.keys.TAB, ...Utils.keys.ARROW_DOWN, ...Utils.keys.ARROW_UP].includes(e.key)) {\n            Utils.tabPressed = false;\n        }\n    }\n    /**\n     * Detects when document is focused.\n     * @param e Event instance.\n     */\n    static docHandleFocus(e) {\n        if (Utils.keyDown) {\n            document.body.classList.add('keyboard-focused');\n        }\n    }\n    /**\n     * Detects when document is not focused.\n     * @param e Event instance.\n     */\n    static docHandleBlur(e) {\n        document.body.classList.remove('keyboard-focused');\n    }\n    /**\n     * Generates a unique string identifier.\n     */\n    static guid() {\n        const s4 = () => {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        };\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n    }\n    /**\n     * Checks for exceeded edges\n     * @param container Container element.\n     * @param bounding Bounding rect.\n     * @param offset Element offset.\n     */\n    static checkWithinContainer(container, bounding, offset) {\n        let edges = {\n            top: false,\n            right: false,\n            bottom: false,\n            left: false\n        };\n        let containerRect = container.getBoundingClientRect();\n        // If body element is smaller than viewport, use viewport height instead.\n        let containerBottom = container === document.body\n            ? Math.max(containerRect.bottom, window.innerHeight)\n            : containerRect.bottom;\n        let scrollLeft = container.scrollLeft;\n        let scrollTop = container.scrollTop;\n        let scrolledX = bounding.left - scrollLeft;\n        let scrolledY = bounding.top - scrollTop;\n        // Check for container and viewport for each edge\n        if (scrolledX < containerRect.left + offset || scrolledX < offset) {\n            edges.left = true;\n        }\n        if (scrolledX + bounding.width > containerRect.right - offset ||\n            scrolledX + bounding.width > window.innerWidth - offset) {\n            edges.right = true;\n        }\n        if (scrolledY < containerRect.top + offset || scrolledY < offset) {\n            edges.top = true;\n        }\n        if (scrolledY + bounding.height > containerBottom - offset ||\n            scrolledY + bounding.height > window.innerHeight - offset) {\n            edges.bottom = true;\n        }\n        return edges;\n    }\n    /**\n     * Checks if element can be aligned in multiple directions.\n     * @param el Element to be inspected.\n     * @param container Container element.\n     * @param bounding Bounding rect.\n     * @param offset Element offset.\n     */\n    static checkPossibleAlignments(el, container, bounding, offset) {\n        let canAlign = {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true,\n            spaceOnTop: null,\n            spaceOnRight: null,\n            spaceOnBottom: null,\n            spaceOnLeft: null\n        };\n        let containerAllowsOverflow = getComputedStyle(container).overflow === 'visible';\n        let containerRect = container.getBoundingClientRect();\n        let containerHeight = Math.min(containerRect.height, window.innerHeight);\n        let containerWidth = Math.min(containerRect.width, window.innerWidth);\n        let elOffsetRect = el.getBoundingClientRect();\n        let scrollLeft = container.scrollLeft;\n        let scrollTop = container.scrollTop;\n        let scrolledX = bounding.left - scrollLeft;\n        let scrolledYTopEdge = bounding.top - scrollTop;\n        let scrolledYBottomEdge = bounding.top + elOffsetRect.height - scrollTop;\n        // Check for container and viewport for left\n        canAlign.spaceOnRight = !containerAllowsOverflow\n            ? containerWidth - (scrolledX + bounding.width)\n            : window.innerWidth - (elOffsetRect.left + bounding.width);\n        if (canAlign.spaceOnRight < 0) {\n            canAlign.left = false;\n        }\n        // Check for container and viewport for Right\n        canAlign.spaceOnLeft = !containerAllowsOverflow\n            ? scrolledX - bounding.width + elOffsetRect.width\n            : elOffsetRect.right - bounding.width;\n        if (canAlign.spaceOnLeft < 0) {\n            canAlign.right = false;\n        }\n        // Check for container and viewport for Top\n        canAlign.spaceOnBottom = !containerAllowsOverflow\n            ? containerHeight - (scrolledYTopEdge + bounding.height + offset)\n            : window.innerHeight - (elOffsetRect.top + bounding.height + offset);\n        if (canAlign.spaceOnBottom < 0) {\n            canAlign.top = false;\n        }\n        // Check for container and viewport for Bottom\n        canAlign.spaceOnTop = !containerAllowsOverflow\n            ? scrolledYBottomEdge - (bounding.height - offset)\n            : elOffsetRect.bottom - (bounding.height + offset);\n        if (canAlign.spaceOnTop < 0) {\n            canAlign.bottom = false;\n        }\n        return canAlign;\n    }\n    /**\n     * Retrieves target element id from trigger.\n     * @param trigger Trigger element.\n     */\n    static getIdFromTrigger(trigger) {\n        let id = trigger.dataset.target;\n        if (!id) {\n            id = trigger.getAttribute('href');\n            return id ? id.slice(1) : '';\n        }\n        return id;\n    }\n    /**\n     * Retrieves document scroll postion from top.\n     */\n    static getDocumentScrollTop() {\n        return window.scrollY || document.documentElement.scrollTop || document.body.scrollTop || 0;\n    }\n    ;\n    /**\n     * Retrieves document scroll postion from left.\n     */\n    static getDocumentScrollLeft() {\n        return window.scrollX || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n    }\n    /**\n     * Fires the given function after a certain ammount of time.\n     * @param func Function to be fired.\n     * @param wait Wait time.\n     * @param options Additional options.\n     */\n    static throttle(func, wait, options = null) {\n        let context, args, result;\n        let timeout = null;\n        let previous = 0;\n        options || (options = {});\n        let later = function () {\n            previous = options.leading === false ? 0 : new Date().getTime();\n            timeout = null;\n            result = func.apply(context, args);\n            context = args = null;\n        };\n        return function () {\n            let now = new Date().getTime();\n            if (!previous && options.leading === false)\n                previous = now;\n            let remaining = wait - (now - previous);\n            context = this;\n            args = arguments;\n            if (remaining <= 0) {\n                clearTimeout(timeout);\n                timeout = null;\n                previous = now;\n                result = func.apply(context, args);\n                context = args = null;\n            }\n            else if (!timeout && options.trailing !== false) {\n                timeout = setTimeout(later, remaining);\n            }\n            return result;\n        };\n    }\n}\nexports.Utils = Utils;\n/** Specifies wether tab is pressed or not. */\nUtils.tabPressed = false;\n/** Specifies wether there is a key pressed. */\nUtils.keyDown = false;\n/**\n * Key maps.\n */\nUtils.keys = {\n    TAB: ['Tab'],\n    ENTER: ['Enter'],\n    ESC: ['Escape', 'Esc'],\n    BACKSPACE: ['Backspace'],\n    ARROW_UP: ['ArrowUp', 'Up'],\n    ARROW_DOWN: ['ArrowDown', 'Down'],\n    ARROW_LEFT: ['ArrowLeft', 'Left'],\n    ARROW_RIGHT: ['ArrowRight', 'Right'],\n    DELETE: ['Delete', 'Del'],\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7O0FBR0E7O0dBRUc7QUFDSCxNQUFhLEtBQUs7SUFxQmhCOzs7T0FHRztJQUNILE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFnQjtRQUN0QyxLQUFLLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ3pGLEtBQUssQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQztJQUVEOzs7T0FHRztJQUNILE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBZ0I7UUFDcEMsS0FBSyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDdEIsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUN6RixLQUFLLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztTQUMxQjtJQUNILENBQUM7SUFFRDs7O09BR0c7SUFDSCxNQUFNLENBQUMsY0FBYyxDQUFDLENBQWE7UUFDakMsSUFBSSxLQUFLLENBQUMsT0FBTyxFQUFFO1lBQ2pCLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1NBQ2pEO0lBQ0gsQ0FBQztJQUVEOzs7T0FHRztJQUNILE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBYTtRQUNoQyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRUQ7O09BRUc7SUFDSCxNQUFNLENBQUMsSUFBSTtRQUNULE1BQU0sRUFBRSxHQUFHLEdBQVcsRUFBRTtZQUN0QixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDO2lCQUM3QyxRQUFRLENBQUMsRUFBRSxDQUFDO2lCQUNaLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQixDQUFDO1FBQ0QsT0FBTyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUM7SUFDdkYsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0gsTUFBTSxDQUFDLG9CQUFvQixDQUFDLFNBQXNCLEVBQUUsUUFBa0IsRUFBRSxNQUFjO1FBQ3BGLElBQUksS0FBSyxHQUFHO1lBQ1YsR0FBRyxFQUFFLEtBQUs7WUFDVixLQUFLLEVBQUUsS0FBSztZQUNaLE1BQU0sRUFBRSxLQUFLO1lBQ2IsSUFBSSxFQUFFLEtBQUs7U0FDWixDQUFDO1FBRUYsSUFBSSxhQUFhLEdBQUcsU0FBUyxDQUFDLHFCQUFxQixFQUFFLENBQUM7UUFDdEQseUVBQXlFO1FBQ3pFLElBQUksZUFBZSxHQUNqQixTQUFTLEtBQUssUUFBUSxDQUFDLElBQUk7WUFDekIsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsV0FBVyxDQUFDO1lBQ3BELENBQUMsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDO1FBRTNCLElBQUksVUFBVSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUM7UUFDdEMsSUFBSSxTQUFTLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQztRQUVwQyxJQUFJLFNBQVMsR0FBRyxRQUFRLENBQUMsSUFBSSxHQUFHLFVBQVUsQ0FBQztRQUMzQyxJQUFJLFNBQVMsR0FBRyxRQUFRLENBQUMsR0FBRyxHQUFHLFNBQVMsQ0FBQztRQUV6QyxpREFBaUQ7UUFDakQsSUFBSSxTQUFTLEdBQUcsYUFBYSxDQUFDLElBQUksR0FBRyxNQUFNLElBQUksU0FBUyxHQUFHLE1BQU0sRUFBRTtZQUNqRSxLQUFLLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUNuQjtRQUVELElBQ0UsU0FBUyxHQUFHLFFBQVEsQ0FBQyxLQUFLLEdBQUcsYUFBYSxDQUFDLEtBQUssR0FBRyxNQUFNO1lBQ3pELFNBQVMsR0FBRyxRQUFRLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxVQUFVLEdBQUcsTUFBTSxFQUN2RDtZQUNBLEtBQUssQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1NBQ3BCO1FBRUQsSUFBSSxTQUFTLEdBQUcsYUFBYSxDQUFDLEdBQUcsR0FBRyxNQUFNLElBQUksU0FBUyxHQUFHLE1BQU0sRUFBRTtZQUNoRSxLQUFLLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQztTQUNsQjtRQUVELElBQ0UsU0FBUyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEdBQUcsZUFBZSxHQUFHLE1BQU07WUFDdEQsU0FBUyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsR0FBRyxNQUFNLEVBQ3pEO1lBQ0EsS0FBSyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FDckI7UUFFRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSCxNQUFNLENBQUMsdUJBQXVCLENBQUMsRUFBZSxFQUFFLFNBQXNCLEVBQUUsUUFBa0IsRUFBRSxNQUFjO1FBQ3hHLElBQUksUUFBUSxHQVNSO1lBQ0YsR0FBRyxFQUFFLElBQUk7WUFDVCxLQUFLLEVBQUUsSUFBSTtZQUNYLE1BQU0sRUFBRSxJQUFJO1lBQ1osSUFBSSxFQUFFLElBQUk7WUFDVixVQUFVLEVBQUUsSUFBSTtZQUNoQixZQUFZLEVBQUUsSUFBSTtZQUNsQixhQUFhLEVBQUUsSUFBSTtZQUNuQixXQUFXLEVBQUUsSUFBSTtTQUNsQixDQUFDO1FBRUYsSUFBSSx1QkFBdUIsR0FBRyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxRQUFRLEtBQUssU0FBUyxDQUFDO1FBQ2pGLElBQUksYUFBYSxHQUFHLFNBQVMsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQ3RELElBQUksZUFBZSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDekUsSUFBSSxjQUFjLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN0RSxJQUFJLFlBQVksR0FBRyxFQUFFLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUU5QyxJQUFJLFVBQVUsR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDO1FBQ3RDLElBQUksU0FBUyxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUM7UUFFcEMsSUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLElBQUksR0FBRyxVQUFVLENBQUM7UUFDM0MsSUFBSSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsR0FBRyxHQUFHLFNBQVMsQ0FBQztRQUNoRCxJQUFJLG1CQUFtQixHQUFHLFFBQVEsQ0FBQyxHQUFHLEdBQUcsWUFBWSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7UUFFekUsNENBQTRDO1FBQzVDLFFBQVEsQ0FBQyxZQUFZLEdBQUcsQ0FBQyx1QkFBdUI7WUFDOUMsQ0FBQyxDQUFDLGNBQWMsR0FBRyxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDO1lBQy9DLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDN0QsSUFBSSxRQUFRLENBQUMsWUFBWSxHQUFHLENBQUMsRUFBRTtZQUM3QixRQUFRLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztTQUN2QjtRQUVELDZDQUE2QztRQUM3QyxRQUFRLENBQUMsV0FBVyxHQUFHLENBQUMsdUJBQXVCO1lBQzdDLENBQUMsQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDLEtBQUssR0FBRyxZQUFZLENBQUMsS0FBSztZQUNqRCxDQUFDLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDO1FBQ3hDLElBQUksUUFBUSxDQUFDLFdBQVcsR0FBRyxDQUFDLEVBQUU7WUFDNUIsUUFBUSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7U0FDeEI7UUFFRCwyQ0FBMkM7UUFDM0MsUUFBUSxDQUFDLGFBQWEsR0FBRyxDQUFDLHVCQUF1QjtZQUMvQyxDQUFDLENBQUMsZUFBZSxHQUFHLENBQUMsZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7WUFDakUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsQ0FBQyxZQUFZLENBQUMsR0FBRyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLENBQUM7UUFDdkUsSUFBSSxRQUFRLENBQUMsYUFBYSxHQUFHLENBQUMsRUFBRTtZQUM5QixRQUFRLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQztTQUN0QjtRQUVELDhDQUE4QztRQUM5QyxRQUFRLENBQUMsVUFBVSxHQUFHLENBQUMsdUJBQXVCO1lBQzVDLENBQUMsQ0FBQyxtQkFBbUIsR0FBRyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1lBQ2xELENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsQ0FBQztRQUNyRCxJQUFJLFFBQVEsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxFQUFFO1lBQzNCLFFBQVEsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1NBQ3pCO1FBRUQsT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQztJQUVEOzs7T0FHRztJQUNILE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFvQjtRQUMxQyxJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUNoQyxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ1AsRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbEMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztTQUM5QjtRQUNELE9BQU8sRUFBRSxDQUFDO0lBQ1osQ0FBQztJQUVEOztPQUVHO0lBQ0gsTUFBTSxDQUFDLG9CQUFvQjtRQUN6QixPQUFPLE1BQU0sQ0FBQyxPQUFPLElBQUksUUFBUSxDQUFDLGVBQWUsQ0FBQyxTQUFTLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxDQUFDO0lBQzlGLENBQUM7SUFBQSxDQUFDO0lBRUY7O09BRUc7SUFDSCxNQUFNLENBQUMscUJBQXFCO1FBQzFCLE9BQU8sTUFBTSxDQUFDLE9BQU8sSUFBSSxRQUFRLENBQUMsZUFBZSxDQUFDLFVBQVUsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsSUFBSSxDQUFDLENBQUM7SUFDaEcsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0ksTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFjLEVBQUUsSUFBWSxFQUFFLFVBQXVELElBQUk7UUFDOUcsSUFBSSxPQUFlLEVBQUUsSUFBZ0IsRUFBRSxNQUFXLENBQUM7UUFDbkQsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ25CLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNqQixPQUFPLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDMUIsSUFBSSxLQUFLLEdBQUc7WUFDVixRQUFRLEdBQUcsT0FBTyxDQUFDLE9BQU8sS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNoRSxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2YsTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ25DLE9BQU8sR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLENBQUMsQ0FBQztRQUNGLE9BQU87WUFDTCxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQy9CLElBQUksQ0FBQyxRQUFRLElBQUksT0FBTyxDQUFDLE9BQU8sS0FBSyxLQUFLO2dCQUFFLFFBQVEsR0FBRyxHQUFHLENBQUM7WUFDM0QsSUFBSSxTQUFTLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxHQUFHLFFBQVEsQ0FBQyxDQUFDO1lBQ3hDLE9BQU8sR0FBRyxJQUFJLENBQUM7WUFDZixJQUFJLEdBQUcsU0FBUyxDQUFDO1lBQ2pCLElBQUksU0FBUyxJQUFJLENBQUMsRUFBRTtnQkFDbEIsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUN0QixPQUFPLEdBQUcsSUFBSSxDQUFDO2dCQUNmLFFBQVEsR0FBRyxHQUFHLENBQUM7Z0JBQ2YsTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUNuQyxPQUFPLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQzthQUN2QjtpQkFBTSxJQUFJLENBQUMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxRQUFRLEtBQUssS0FBSyxFQUFFO2dCQUNqRCxPQUFPLEdBQUcsVUFBVSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQzthQUN4QztZQUNELE9BQU8sTUFBTSxDQUFDO1FBQ2hCLENBQUMsQ0FBQztJQUNKLENBQUM7O0FBdlFILHNCQXdRQztBQXZRQyw4Q0FBOEM7QUFDdkMsZ0JBQVUsR0FBWSxLQUFLLENBQUM7QUFDbkMsK0NBQStDO0FBQ3hDLGFBQU8sR0FBWSxLQUFLLENBQUM7QUFFaEM7O0dBRUc7QUFDSSxVQUFJLEdBQUc7SUFDWixHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7SUFDWixLQUFLLEVBQUUsQ0FBQyxPQUFPLENBQUM7SUFDaEIsR0FBRyxFQUFFLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQztJQUN0QixTQUFTLEVBQUUsQ0FBQyxXQUFXLENBQUM7SUFDeEIsUUFBUSxFQUFFLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQztJQUMzQixVQUFVLEVBQUUsQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDO0lBQ2pDLFVBQVUsRUFBRSxDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUM7SUFDakMsV0FBVyxFQUFFLENBQUMsWUFBWSxFQUFFLE9BQU8sQ0FBQztJQUNwQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDO0NBQzFCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvdXRpbHMudHM/N2RkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZGdlcyB9IGZyb20gJy4vZWRnZXMnO1xuaW1wb3J0IHsgQm91bmRpbmcgfSBmcm9tICcuL2JvdW5kaW5nJztcblxuLyoqXG4gKiBDbGFzcyB3aXRoIHV0aWxpdGFyeSBmdW5jdGlvbnMgZm9yIGdsb2JhbCB1c2FnZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFV0aWxzIHtcbiAgLyoqIFNwZWNpZmllcyB3ZXRoZXIgdGFiIGlzIHByZXNzZWQgb3Igbm90LiAqL1xuICBzdGF0aWMgdGFiUHJlc3NlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAvKiogU3BlY2lmaWVzIHdldGhlciB0aGVyZSBpcyBhIGtleSBwcmVzc2VkLiAqL1xuICBzdGF0aWMga2V5RG93bjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBLZXkgbWFwcy5cbiAgICovXG4gIHN0YXRpYyBrZXlzID0ge1xuICAgIFRBQjogWydUYWInXSxcbiAgICBFTlRFUjogWydFbnRlciddLFxuICAgIEVTQzogWydFc2NhcGUnLCAnRXNjJ10sXG4gICAgQkFDS1NQQUNFOiBbJ0JhY2tzcGFjZSddLFxuICAgIEFSUk9XX1VQOiBbJ0Fycm93VXAnLCAnVXAnXSxcbiAgICBBUlJPV19ET1dOOiBbJ0Fycm93RG93bicsICdEb3duJ10sXG4gICAgQVJST1dfTEVGVDogWydBcnJvd0xlZnQnLCAnTGVmdCddLFxuICAgIEFSUk9XX1JJR0hUOiBbJ0Fycm93UmlnaHQnLCAnUmlnaHQnXSxcbiAgICBERUxFVEU6IFsnRGVsZXRlJywgJ0RlbCddLFxuICB9O1xuXG4gIC8qKlxuICAgKiBEZXRlY3RzIHdoZW4gYSBrZXkgaXMgcHJlc3NlZC5cbiAgICogQHBhcmFtIGUgRXZlbnQgaW5zdGFuY2UuXG4gICAqL1xuICBzdGF0aWMgZG9jSGFuZGxlS2V5ZG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgVXRpbHMua2V5RG93biA9IHRydWU7XG4gICAgaWYgKFsuLi5VdGlscy5rZXlzLlRBQiwgLi4uVXRpbHMua2V5cy5BUlJPV19ET1dOLCAuLi5VdGlscy5rZXlzLkFSUk9XX1VQXS5pbmNsdWRlcyhlLmtleSkpIHtcbiAgICAgIFV0aWxzLnRhYlByZXNzZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlY3RzIHdoZW4gYSBrZXkgaXMgcmVsZWFzZWQuXG4gICAqIEBwYXJhbSBlIEV2ZW50IGluc3RhbmNlLlxuICAgKi9cbiAgc3RhdGljIGRvY0hhbmRsZUtleXVwKGU6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBVdGlscy5rZXlEb3duID0gZmFsc2U7XG4gICAgaWYgKFsuLi5VdGlscy5rZXlzLlRBQiwgLi4uVXRpbHMua2V5cy5BUlJPV19ET1dOLCAuLi5VdGlscy5rZXlzLkFSUk9XX1VQXS5pbmNsdWRlcyhlLmtleSkpIHtcbiAgICAgIFV0aWxzLnRhYlByZXNzZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGV0ZWN0cyB3aGVuIGRvY3VtZW50IGlzIGZvY3VzZWQuXG4gICAqIEBwYXJhbSBlIEV2ZW50IGluc3RhbmNlLlxuICAgKi9cbiAgc3RhdGljIGRvY0hhbmRsZUZvY3VzKGU6IEZvY3VzRXZlbnQpIHtcbiAgICBpZiAoVXRpbHMua2V5RG93bikge1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdrZXlib2FyZC1mb2N1c2VkJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdHMgd2hlbiBkb2N1bWVudCBpcyBub3QgZm9jdXNlZC5cbiAgICogQHBhcmFtIGUgRXZlbnQgaW5zdGFuY2UuXG4gICAqL1xuICBzdGF0aWMgZG9jSGFuZGxlQmx1cihlOiBGb2N1c0V2ZW50KSB7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdrZXlib2FyZC1mb2N1c2VkJyk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgdW5pcXVlIHN0cmluZyBpZGVudGlmaWVyLlxuICAgKi9cbiAgc3RhdGljIGd1aWQoKTogc3RyaW5nIHtcbiAgICBjb25zdCBzNCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApXG4gICAgICAgIC50b1N0cmluZygxNilcbiAgICAgICAgLnN1YnN0cmluZygxKTtcbiAgICB9XG4gICAgcmV0dXJuIHM0KCkgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArIHM0KCkgKyBzNCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBmb3IgZXhjZWVkZWQgZWRnZXNcbiAgICogQHBhcmFtIGNvbnRhaW5lciBDb250YWluZXIgZWxlbWVudC5cbiAgICogQHBhcmFtIGJvdW5kaW5nIEJvdW5kaW5nIHJlY3QuXG4gICAqIEBwYXJhbSBvZmZzZXQgRWxlbWVudCBvZmZzZXQuXG4gICAqL1xuICBzdGF0aWMgY2hlY2tXaXRoaW5Db250YWluZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgYm91bmRpbmc6IEJvdW5kaW5nLCBvZmZzZXQ6IG51bWJlcik6IEVkZ2VzIHtcbiAgICBsZXQgZWRnZXMgPSB7XG4gICAgICB0b3A6IGZhbHNlLFxuICAgICAgcmlnaHQ6IGZhbHNlLFxuICAgICAgYm90dG9tOiBmYWxzZSxcbiAgICAgIGxlZnQ6IGZhbHNlXG4gICAgfTtcblxuICAgIGxldCBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIC8vIElmIGJvZHkgZWxlbWVudCBpcyBzbWFsbGVyIHRoYW4gdmlld3BvcnQsIHVzZSB2aWV3cG9ydCBoZWlnaHQgaW5zdGVhZC5cbiAgICBsZXQgY29udGFpbmVyQm90dG9tID1cbiAgICAgIGNvbnRhaW5lciA9PT0gZG9jdW1lbnQuYm9keVxuICAgICAgICA/IE1hdGgubWF4KGNvbnRhaW5lclJlY3QuYm90dG9tLCB3aW5kb3cuaW5uZXJIZWlnaHQpXG4gICAgICAgIDogY29udGFpbmVyUmVjdC5ib3R0b207XG5cbiAgICBsZXQgc2Nyb2xsTGVmdCA9IGNvbnRhaW5lci5zY3JvbGxMZWZ0O1xuICAgIGxldCBzY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsVG9wO1xuXG4gICAgbGV0IHNjcm9sbGVkWCA9IGJvdW5kaW5nLmxlZnQgLSBzY3JvbGxMZWZ0O1xuICAgIGxldCBzY3JvbGxlZFkgPSBib3VuZGluZy50b3AgLSBzY3JvbGxUb3A7XG5cbiAgICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgZWFjaCBlZGdlXG4gICAgaWYgKHNjcm9sbGVkWCA8IGNvbnRhaW5lclJlY3QubGVmdCArIG9mZnNldCB8fCBzY3JvbGxlZFggPCBvZmZzZXQpIHtcbiAgICAgIGVkZ2VzLmxlZnQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHNjcm9sbGVkWCArIGJvdW5kaW5nLndpZHRoID4gY29udGFpbmVyUmVjdC5yaWdodCAtIG9mZnNldCB8fFxuICAgICAgc2Nyb2xsZWRYICsgYm91bmRpbmcud2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCAtIG9mZnNldFxuICAgICkge1xuICAgICAgZWRnZXMucmlnaHQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChzY3JvbGxlZFkgPCBjb250YWluZXJSZWN0LnRvcCArIG9mZnNldCB8fCBzY3JvbGxlZFkgPCBvZmZzZXQpIHtcbiAgICAgIGVkZ2VzLnRvcCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgc2Nyb2xsZWRZICsgYm91bmRpbmcuaGVpZ2h0ID4gY29udGFpbmVyQm90dG9tIC0gb2Zmc2V0IHx8XG4gICAgICBzY3JvbGxlZFkgKyBib3VuZGluZy5oZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQgLSBvZmZzZXRcbiAgICApIHtcbiAgICAgIGVkZ2VzLmJvdHRvbSA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVkZ2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBlbGVtZW50IGNhbiBiZSBhbGlnbmVkIGluIG11bHRpcGxlIGRpcmVjdGlvbnMuXG4gICAqIEBwYXJhbSBlbCBFbGVtZW50IHRvIGJlIGluc3BlY3RlZC5cbiAgICogQHBhcmFtIGNvbnRhaW5lciBDb250YWluZXIgZWxlbWVudC5cbiAgICogQHBhcmFtIGJvdW5kaW5nIEJvdW5kaW5nIHJlY3QuXG4gICAqIEBwYXJhbSBvZmZzZXQgRWxlbWVudCBvZmZzZXQuXG4gICAqL1xuICBzdGF0aWMgY2hlY2tQb3NzaWJsZUFsaWdubWVudHMoZWw6IEhUTUxFbGVtZW50LCBjb250YWluZXI6IEhUTUxFbGVtZW50LCBib3VuZGluZzogQm91bmRpbmcsIG9mZnNldDogbnVtYmVyKSB7XG4gICAgbGV0IGNhbkFsaWduOiB7XG4gICAgICB0b3A6IGJvb2xlYW4sXG4gICAgICByaWdodDogYm9vbGVhbixcbiAgICAgIGJvdHRvbTogYm9vbGVhbixcbiAgICAgIGxlZnQ6IGJvb2xlYW4sXG4gICAgICBzcGFjZU9uVG9wOiBudW1iZXIsXG4gICAgICBzcGFjZU9uUmlnaHQ6IG51bWJlcixcbiAgICAgIHNwYWNlT25Cb3R0b206IG51bWJlclxuICAgICAgc3BhY2VPbkxlZnQ6IG51bWJlclxuICAgIH0gPSB7XG4gICAgICB0b3A6IHRydWUsXG4gICAgICByaWdodDogdHJ1ZSxcbiAgICAgIGJvdHRvbTogdHJ1ZSxcbiAgICAgIGxlZnQ6IHRydWUsXG4gICAgICBzcGFjZU9uVG9wOiBudWxsLFxuICAgICAgc3BhY2VPblJpZ2h0OiBudWxsLFxuICAgICAgc3BhY2VPbkJvdHRvbTogbnVsbCxcbiAgICAgIHNwYWNlT25MZWZ0OiBudWxsXG4gICAgfTtcblxuICAgIGxldCBjb250YWluZXJBbGxvd3NPdmVyZmxvdyA9IGdldENvbXB1dGVkU3R5bGUoY29udGFpbmVyKS5vdmVyZmxvdyA9PT0gJ3Zpc2libGUnO1xuICAgIGxldCBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBjb250YWluZXJIZWlnaHQgPSBNYXRoLm1pbihjb250YWluZXJSZWN0LmhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBsZXQgY29udGFpbmVyV2lkdGggPSBNYXRoLm1pbihjb250YWluZXJSZWN0LndpZHRoLCB3aW5kb3cuaW5uZXJXaWR0aCk7XG4gICAgbGV0IGVsT2Zmc2V0UmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgbGV0IHNjcm9sbExlZnQgPSBjb250YWluZXIuc2Nyb2xsTGVmdDtcbiAgICBsZXQgc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcDtcblxuICAgIGxldCBzY3JvbGxlZFggPSBib3VuZGluZy5sZWZ0IC0gc2Nyb2xsTGVmdDtcbiAgICBsZXQgc2Nyb2xsZWRZVG9wRWRnZSA9IGJvdW5kaW5nLnRvcCAtIHNjcm9sbFRvcDtcbiAgICBsZXQgc2Nyb2xsZWRZQm90dG9tRWRnZSA9IGJvdW5kaW5nLnRvcCArIGVsT2Zmc2V0UmVjdC5oZWlnaHQgLSBzY3JvbGxUb3A7XG5cbiAgICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgbGVmdFxuICAgIGNhbkFsaWduLnNwYWNlT25SaWdodCA9ICFjb250YWluZXJBbGxvd3NPdmVyZmxvd1xuICAgICAgPyBjb250YWluZXJXaWR0aCAtIChzY3JvbGxlZFggKyBib3VuZGluZy53aWR0aClcbiAgICAgIDogd2luZG93LmlubmVyV2lkdGggLSAoZWxPZmZzZXRSZWN0LmxlZnQgKyBib3VuZGluZy53aWR0aCk7XG4gICAgaWYgKGNhbkFsaWduLnNwYWNlT25SaWdodCA8IDApIHtcbiAgICAgIGNhbkFsaWduLmxlZnQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgUmlnaHRcbiAgICBjYW5BbGlnbi5zcGFjZU9uTGVmdCA9ICFjb250YWluZXJBbGxvd3NPdmVyZmxvd1xuICAgICAgPyBzY3JvbGxlZFggLSBib3VuZGluZy53aWR0aCArIGVsT2Zmc2V0UmVjdC53aWR0aFxuICAgICAgOiBlbE9mZnNldFJlY3QucmlnaHQgLSBib3VuZGluZy53aWR0aDtcbiAgICBpZiAoY2FuQWxpZ24uc3BhY2VPbkxlZnQgPCAwKSB7XG4gICAgICBjYW5BbGlnbi5yaWdodCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBjb250YWluZXIgYW5kIHZpZXdwb3J0IGZvciBUb3BcbiAgICBjYW5BbGlnbi5zcGFjZU9uQm90dG9tID0gIWNvbnRhaW5lckFsbG93c092ZXJmbG93XG4gICAgICA/IGNvbnRhaW5lckhlaWdodCAtIChzY3JvbGxlZFlUb3BFZGdlICsgYm91bmRpbmcuaGVpZ2h0ICsgb2Zmc2V0KVxuICAgICAgOiB3aW5kb3cuaW5uZXJIZWlnaHQgLSAoZWxPZmZzZXRSZWN0LnRvcCArIGJvdW5kaW5nLmhlaWdodCArIG9mZnNldCk7XG4gICAgaWYgKGNhbkFsaWduLnNwYWNlT25Cb3R0b20gPCAwKSB7XG4gICAgICBjYW5BbGlnbi50b3AgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgY29udGFpbmVyIGFuZCB2aWV3cG9ydCBmb3IgQm90dG9tXG4gICAgY2FuQWxpZ24uc3BhY2VPblRvcCA9ICFjb250YWluZXJBbGxvd3NPdmVyZmxvd1xuICAgICAgPyBzY3JvbGxlZFlCb3R0b21FZGdlIC0gKGJvdW5kaW5nLmhlaWdodCAtIG9mZnNldClcbiAgICAgIDogZWxPZmZzZXRSZWN0LmJvdHRvbSAtIChib3VuZGluZy5oZWlnaHQgKyBvZmZzZXQpO1xuICAgIGlmIChjYW5BbGlnbi5zcGFjZU9uVG9wIDwgMCkge1xuICAgICAgY2FuQWxpZ24uYm90dG9tID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbkFsaWduO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0YXJnZXQgZWxlbWVudCBpZCBmcm9tIHRyaWdnZXIuXG4gICAqIEBwYXJhbSB0cmlnZ2VyIFRyaWdnZXIgZWxlbWVudC5cbiAgICovXG4gIHN0YXRpYyBnZXRJZEZyb21UcmlnZ2VyKHRyaWdnZXI6IEhUTUxFbGVtZW50KTogc3RyaW5nIHtcbiAgICBsZXQgaWQgPSB0cmlnZ2VyLmRhdGFzZXQudGFyZ2V0O1xuICAgIGlmICghaWQpIHtcbiAgICAgIGlkID0gdHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICAgIHJldHVybiBpZCA/IGlkLnNsaWNlKDEpIDogJyc7XG4gICAgfVxuICAgIHJldHVybiBpZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgZG9jdW1lbnQgc2Nyb2xsIHBvc3Rpb24gZnJvbSB0b3AuXG4gICAqL1xuICBzdGF0aWMgZ2V0RG9jdW1lbnRTY3JvbGxUb3AoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gd2luZG93LnNjcm9sbFkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgZG9jdW1lbnQgc2Nyb2xsIHBvc3Rpb24gZnJvbSBsZWZ0LlxuICAgKi9cbiAgc3RhdGljIGdldERvY3VtZW50U2Nyb2xsTGVmdCgpOiBudW1iZXIge1xuICAgIHJldHVybiB3aW5kb3cuc2Nyb2xsWCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgfHwgMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyB0aGUgZ2l2ZW4gZnVuY3Rpb24gYWZ0ZXIgYSBjZXJ0YWluIGFtbW91bnQgb2YgdGltZS5cbiAgICogQHBhcmFtIGZ1bmMgRnVuY3Rpb24gdG8gYmUgZmlyZWQuXG4gICAqIEBwYXJhbSB3YWl0IFdhaXQgdGltZS5cbiAgICogQHBhcmFtIG9wdGlvbnMgQWRkaXRpb25hbCBvcHRpb25zLlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyB0aHJvdHRsZShmdW5jOiBGdW5jdGlvbiwgd2FpdDogbnVtYmVyLCBvcHRpb25zOiBQYXJ0aWFsPHtsZWFkaW5nOmJvb2xlYW4sdHJhaWxpbmc6Ym9vbGVhbn0+ID0gbnVsbCkge1xuICAgIGxldCBjb250ZXh0OiBvYmplY3QsIGFyZ3M6IElBcmd1bWVudHMsIHJlc3VsdDogYW55O1xuICAgIGxldCB0aW1lb3V0ID0gbnVsbDtcbiAgICBsZXQgcHJldmlvdXMgPSAwO1xuICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgbGV0IGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBwcmV2aW91cyA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgICAgbGV0IHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCByZW1haW5pbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils.ts\n");

/***/ }),

/***/ "./src/waves.ts":
/*!**********************!*\
  !*** ./src/waves.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Waves = void 0;\nclass Waves {\n    static _offset(el) {\n        const box = el.getBoundingClientRect();\n        const docElem = document.documentElement;\n        return {\n            top: box.top + window.pageYOffset - docElem.clientTop,\n            left: box.left + window.pageXOffset - docElem.clientLeft\n        };\n    }\n    // https://phoenix-dx.com/css-techniques-for-material-ripple-effect/\n    static renderWaveEffect(targetElement, position = null, color = null) {\n        const isCentered = position === null;\n        const duration = 500;\n        let animationFrame, animationStart;\n        const animationStep = function (timestamp) {\n            if (!animationStart) {\n                animationStart = timestamp;\n            }\n            const frame = timestamp - animationStart;\n            if (frame < duration) {\n                const easing = (frame / duration) * (2 - (frame / duration));\n                const circle = isCentered ? 'circle at 50% 50%' : `circle at ${position.x}px ${position.y}px`;\n                const waveColor = `rgba(${(color === null || color === void 0 ? void 0 : color.r) || 0}, ${(color === null || color === void 0 ? void 0 : color.g) || 0}, ${(color === null || color === void 0 ? void 0 : color.b) || 0}, ${0.3 * (1 - easing)})`;\n                const stop = 90 * easing + \"%\";\n                targetElement.style.backgroundImage = \"radial-gradient(\" + circle + \", \" + waveColor + \" \" + stop + \", transparent \" + stop + \")\";\n                animationFrame = window.requestAnimationFrame(animationStep);\n            }\n            else {\n                targetElement.style.backgroundImage = 'none';\n                window.cancelAnimationFrame(animationFrame);\n            }\n        };\n        animationFrame = window.requestAnimationFrame(animationStep);\n    }\n    static Init() {\n        document.addEventListener(\"DOMContentLoaded\", () => {\n            document.body.addEventListener('click', e => {\n                const trigger = e.target;\n                const el = trigger.closest('.waves-effect');\n                if (el && el.contains(trigger)) {\n                    const isCircular = el.classList.contains('waves-circle');\n                    const x = e.pageX - Waves._offset(el).left;\n                    const y = e.pageY - Waves._offset(el).top;\n                    let color = null;\n                    if (el.classList.contains('waves-light'))\n                        color = { r: 255, g: 255, b: 255 };\n                    Waves.renderWaveEffect(el, isCircular ? null : { x, y }, color);\n                }\n            });\n        });\n    }\n}\nexports.Waves = Waves;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO2dCQUN6RCxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFO29CQUM5QixNQUFNLFVBQVUsR0FBRyxFQUFFLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztvQkFDekQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQztvQkFDM0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQztvQkFFMUMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDO29CQUNqQixJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQzt3QkFDdEMsS0FBSyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUMsR0FBRyxFQUFFLENBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQztvQkFFaEMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7aUJBQy9EO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUVMLENBQUM7Q0FDRjtBQTFERCxzQkEwREMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbWF0ZXJpYWxpemVjc3MvbWF0ZXJpYWxpemUvLi9zcmMvd2F2ZXMudHM/MjFiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIFJHQkNvbG9yID0ge1xuICByOiBudW1iZXIsXG4gIGc6IG51bWJlcixcbiAgYjogbnVtYmVyLFxufVxuXG50eXBlIFBvc2l0aW9uID0ge1xuICB4OiBudW1iZXIsXG4gIHk6IG51bWJlcixcbn1cblxuZXhwb3J0IGNsYXNzIFdhdmVzIHtcblxuICBwcml2YXRlIHN0YXRpYyBfb2Zmc2V0KGVsOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogYm94LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxuICAgICAgbGVmdDogYm94LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQgLSBkb2NFbGVtLmNsaWVudExlZnRcbiAgICB9O1xuICB9XG5cbiAgLy8gaHR0cHM6Ly9waG9lbml4LWR4LmNvbS9jc3MtdGVjaG5pcXVlcy1mb3ItbWF0ZXJpYWwtcmlwcGxlLWVmZmVjdC9cblxuICBwdWJsaWMgc3RhdGljIHJlbmRlcldhdmVFZmZlY3QodGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQsIHBvc2l0aW9uOiBQb3NpdGlvbnxudWxsID0gbnVsbCwgY29sb3I6IFJHQkNvbG9yfG51bGwgPSBudWxsKTogdm9pZCB7XG4gICAgY29uc3QgaXNDZW50ZXJlZCA9IHBvc2l0aW9uID09PSBudWxsO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gNTAwO1xuICAgIGxldCBhbmltYXRpb25GcmFtZTogbnVtYmVyLCBhbmltYXRpb25TdGFydDogbnVtYmVyO1xuICAgIGNvbnN0IGFuaW1hdGlvblN0ZXAgPSBmdW5jdGlvbih0aW1lc3RhbXA6IG51bWJlcikge1xuICAgICAgaWYgKCFhbmltYXRpb25TdGFydCkge1xuICAgICAgICBhbmltYXRpb25TdGFydCA9IHRpbWVzdGFtcDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZyYW1lID0gdGltZXN0YW1wIC0gYW5pbWF0aW9uU3RhcnQ7XG4gICAgICBpZiAoZnJhbWUgPCBkdXJhdGlvbikge1xuICAgICAgICBjb25zdCBlYXNpbmcgPSAoZnJhbWUvZHVyYXRpb24pICogKDIgLSAoZnJhbWUvZHVyYXRpb24pKTtcbiAgICAgICAgY29uc3QgY2lyY2xlID0gaXNDZW50ZXJlZCA/ICdjaXJjbGUgYXQgNTAlIDUwJScgOiBgY2lyY2xlIGF0ICR7cG9zaXRpb24ueH1weCAke3Bvc2l0aW9uLnl9cHhgO1xuICAgICAgICBjb25zdCB3YXZlQ29sb3IgPSBgcmdiYSgke2NvbG9yPy5yIHx8IDB9LCAke2NvbG9yPy5nIHx8IDB9LCAke2NvbG9yPy5iIHx8IDB9LCAkeyAwLjMgKiAoMS1lYXNpbmcpIH0pYDtcbiAgICAgICAgY29uc3Qgc3RvcCA9IDkwICogZWFzaW5nICsgXCIlXCI7XG4gICAgICAgIHRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJyYWRpYWwtZ3JhZGllbnQoXCIrY2lyY2xlK1wiLCBcIit3YXZlQ29sb3IrXCIgXCIrc3RvcCtcIiwgdHJhbnNwYXJlbnQgXCIrc3RvcCtcIilcIjtcbiAgICAgICAgYW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblN0ZXApO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ25vbmUnO1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgYW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblN0ZXApO1xuICB9XG5cbiAgc3RhdGljIEluaXQoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICBjb25zdCB0cmlnZ2VyID0gPEhUTUxFbGVtZW50PmUudGFyZ2V0O1xuICAgICAgICBjb25zdCBlbCA9IDxIVE1MRWxlbWVudD50cmlnZ2VyLmNsb3Nlc3QoJy53YXZlcy1lZmZlY3QnKTtcbiAgICAgICAgaWYgKGVsICYmIGVsLmNvbnRhaW5zKHRyaWdnZXIpKSB7XG4gICAgICAgICAgY29uc3QgaXNDaXJjdWxhciA9IGVsLmNsYXNzTGlzdC5jb250YWlucygnd2F2ZXMtY2lyY2xlJyk7XG4gICAgICAgICAgY29uc3QgeCA9IGUucGFnZVggLSBXYXZlcy5fb2Zmc2V0KGVsKS5sZWZ0O1xuICAgICAgICAgIGNvbnN0IHkgPSBlLnBhZ2VZIC0gV2F2ZXMuX29mZnNldChlbCkudG9wO1xuXG4gICAgICAgICAgbGV0IGNvbG9yID0gbnVsbDtcbiAgICAgICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd3YXZlcy1saWdodCcpKVxuICAgICAgICAgICAgY29sb3IgPSB7cjoyNTUsIGc6MjU1LCBiOjI1NX07XG5cbiAgICAgICAgICBXYXZlcy5yZW5kZXJXYXZlRWZmZWN0KGVsLCBpc0NpcmN1bGFyID8gbnVsbCA6IHt4LCB5fSwgY29sb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICB9XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/waves.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/global.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});